/* eslint-disable no-unused-vars, @typescript-eslint/no-unused-vars */

// import { Image, Layout } from 'antd';
// Resources
import { Button, Space } from 'antd';

import { DevHeader } from './DevHeader';
import { useTitle } from 'react-use';
import { CSSProperties, useState } from 'react';
import { useQuery } from 'react-query';
import { doc, updateDoc } from 'firebase/firestore';
import { firestore } from 'services/firebase';

function Playground() {
  useTitle('Playground | Dev | Tarde Divertida');

  const styles: CSSProperties = {
    // display: 'grid',
    // gridTemplateColumns: 'repeat(5, 1fr)',

    // gap: '1rem',
    display: 'flex',
    flexWrap: 'wrap',
  };
  const stylesLi: CSSProperties = {
    border: '1px solid black',
    margin: '4px',
    padding: '8px',
    // width: '132px',
    // display: 'flex',
    // flexDirection: 'column',
    background: 'white',
    // alignItems: 'center',
    // justifyContent: 'space-between',
  };

  const [lines, setLines] = useState<any>([]);

  const query = useQuery({
    queryKey: 'parsed-users',
    queryFn: async () => {
      const response = await fetch(`${process.env.PUBLIC_URL}/back-up/users-parsed.json`);
      return response.json();
    },
    // select: returnAppropriatedData,
    onSuccess: async (data) => {
      console.log(data);
      const saves = USER_UIDS.map((uid) => {
        if (data[uid]) {
          const u = data[uid];
          if (ADMIN.includes(uid)) {
            u.isAdmin = true;
          }
          return updateDoc(doc(firestore, 'users', uid), u);
        }
        return null;
      }).filter(Boolean);

      await Promise.all(saves);
    },
    enabled: false,
  });

  return (
    <div>
      <DevHeader title="Playground" />

      <Space wrap className="gallery">
        <Button onClick={() => query.refetch()}>RUN</Button>
      </Space>

      <Space wrap>
        {query.isLoading && 'Loading...'}
        {query.isSuccess && 'Done'}
      </Space>
    </div>
  );
}

export default Playground;

const USER_UIDS = [
  'zrh9vmR2IMeHBQ51PPnQdKT1wm92', // jacky
  'rxxb9ECf0mSVPNsn2BVMI96t7l32', // yves
  'QrfLz312uQe5oPKrqD6eZWQE0Vx1', // stephanie
  'BPTELIfGeLXlbo7HSx3loQQyOLs2', // maris
  'O2IQmn3jNFdncjjoy5SEdr8AcYK2', // drica
  '5CA5JhNK7dTWFJPgArU1iUdzTK53', // flavia
  'fhm9QYDULqawdXTaijUHyYn8Yvu1', // paul
  'pK3OYEK720h9e6z8FVcZhIGfLCF3', // kavis
  'X020emJnxANDYqFS0bBaLwUDGoY2', // perry
];

const ADMIN = [
  'rxxb9ECf0mSVPNsn2BVMI96t7l32', // yves
  'pK3OYEK720h9e6z8FVcZhIGfLCF3', // kavis
];

const GLOBAL_USED_GAME_IDS = {
  AQUM: 1656277587137,
  ASET: 1664135371628,
  ACME: 1633295977363,
  ARCL: 1647205069753,
  AXLC: 1623617593614,
  AUGW: 1658095082323,
  AAKI: 1659908288921,
  AUTB: 1649358283979,
  ANLU: 1639770823599,
  ASRH: 1644523232894,
  AEOD: 1636753882882,
  AVOH: 1643313445796,
  AHSY: 1636924368666,
  AKTE: 1642976854986,
  ADAI: 1655497923580,
  AADK: 1620597672902,
  AWPW: 1647635432479,
  AMQE: 1647127961834,
  AQSP: 1635446370299,
  ARXV: 1651441030356,
  AUIB: 1621723929140,
  ATYH: 1644102303041,
  ABYT: 1626032241056,
  ABPC: 1621799623049,
  ANPP: 1647543929236,
  AOBG: 1661723035479,
  AOAN: 1654461751431,
  AQMX: 1648751977438,
  AJKD: 1655499000056,
  AOQD: 1658086748542,
  AKNU: 1620601042105,
  ABVY: 1652649436331,
  ABFI: 1628889999244,
  AWUI: 1635111481189,
  APHC: 1641161813442,
  AZTS: 1628282888667,
  AJYE: 1638740765256,
  AZVE: 1628880982253,
  AAHS: 1655499000056,
  ACBH: 1644102303041,
  ACNM: 1628889999244,
  ADEP: 1655497923580,
  ADJR: 1628880982253,
  AEEM: 1647543929236,
  AENX: 1648751977438,
  AHEF: 1643313445796,
  AHJN: 1628282888667,
  AHNB: 1673645565817,
  AHSU: 1647635432479,
  AHUR: 1673646714906,
  AIRY: 1680287882725,
  AJQF: 1635446370299,
  AKPK: 1644523232894,
  AKTT: 1636753882882,
  ALGG: 1649358283979,
  ALZR: 1639770823599,
  ANAL: 1647205069753,
  ANHP: 1654461751431,
  AOHI: 1661723035479,
  AOLK: 1676839015158,
  AOLO: 1638740765256,
  AOMT: 1682710624328,
  AOVW: 1633295977363,
  APNC: 1665948034925,
  APNT: 1651441030356,
  APVE: 1621799623049,
  AQUR: 1681680953843,
  ARIK: 1635111481189,
  ARJU: 1658095082323,
  ARPL: 1670186523939,
  ARRG: 1679863465722,
  ARZT: 1659908288921,
  ASJO: 1656277587137,
  ASJZ: 1647127961834,
  ASKF: 1652649436331,
  ASNU: 1676839711070,
  ATMJ: 1626032241056,
  ATTR: 1658086748542,
  AUBR: 1641161813442,
  AWYG: 1620095831619,
  AXAN: 1621723929140,
  AXBK: 1642976854986,
  AXLS: 1620092740139,
  AXQH: 1620597672902,
  AXTW: 1620094651722,
  AYLN: 1636924368666,
  AYRU: 1664135371628,
  AZBY: 1623617593614,
  AZDS: 1620601042105,
  COIM: 1676845309916,
  CPZK: 1676848055533,
  CRYJ: 1676252789916,
  CTGF: 1677440531068,
  CVZR: 1680458852925,
  CXHL: 1679868759030,
  CXIN: 1677443657053,
  CZFH: 1676250147007,
  CZOU: 1680461231689,
  CZUI: 1676842643692,
  CJLF: 1644108977487,
  CWLO: 1631912011234,
  CGQH: 1631475624884,
  CXYB: 1641158636327,
  CVOV: 1661715735468,
  CBHA: 1644108977487,
  CIYE: 1631912011234,
  CNUG: 1631475624884,
  CTSK: 1661715735468,
  CVFI: 1681676795156,
  CWWG: 1641158636327,
  HFRO: 1664146137882,
  HFHS: 1649019749981,
  HHTQ: 1652651366390,
  HMID: 1647203166253,
  HPDN: 1641164084477,
  HPUM: 1654460238592,
  HVXW: 1641166377576,
  HENT: 1647124299282,
  HBNK: 1661726890744,
  HINL: 1662938447982,
  HTZQ: 1664144314535,
  HYRY: 1641163075353,
  HNTL: 1649019749981,
  HOES: 1671998087484,
  HPIR: 1641163075353,
  HPQA: 1641164084477,
  HRSY: 1673822189362,
  HRZJ: 1664146137882,
  HSHT: 1647124299282,
  HTDH: 1641166377576,
  HTRO: 1661726890744,
  HUHC: 1652651366390,
  HUQP: 1682286552465,
  HVAQ: 1662938447982,
  HWFF: 1664144314535,
  HXET: 1647203166253,
  HZRQ: 1654460238592,
  XDWA: 1641160514376,
  XDXC: 1640561370156,
  XMBX: 1644104968792,
  XQOE: 1645392628385,
  XUDN: 1642197338797,
  XZZZ: 1651439115639,
  XWSG: 1659909950050,
  XGAG: 1644104968792,
  XJEP: 1642197338797,
  XOQC: 1681628385670,
  XOVZ: 1670183368332,
  XQNO: 1640561370156,
  XRLI: 1651439115639,
  XTGZ: 1667771522186,
  XUKK: 1681679958245,
  XVNC: 1641160514376,
  XVWV: 1645392628385,
  XXCO: 1665956389224,
  XXGG: 1676838302745,
  XXSB: 1659909950050,
  DEJQ: 1652476472203,
  DMFW: 1627851162347,
  DEKQ: 1653592646285,
  DKNT: 1656615852307,
  DSIH: 1628888100804,
  DBBY: 1628888100804,
  DBUJ: 1652476472203,
  DEEI: 1653592646285,
  DGPR: 1656615852307,
  DKAQ: 1681507013921,
  DZQY: 1627851162347,
  ENTJ: 1621806170322,
  EPAY: 1621806170322,
  GLKZ: 1653166197912,
  GBBN: 1660337768686,
  GJKS: 1661720002484,
  GOIC: 1660512745437,
  GRMC: 1654458706662,
  GUTL: 1653164271950,
  GTKC: 1662940550903,
  GJYY: 1660336606108,
  GYSL: 1658090782668,
  GPJN: 1653162434157,
  GACM: 1679084988223,
  GBHP: 1680899423063,
  GCSH: 1668109649770,
  GDPF: 1680900609311,
  GESL: 1679086313019,
  GGWM: 1660336606108,
  GHEP: 1660337768686,
  GJCX: 1678581823792,
  GOSO: 1670184726338,
  GPFE: 1661720002484,
  GRZU: 1654458706662,
  GSMX: 1660512745437,
  GTSM: 1662940550903,
  GVCJ: 1653164271950,
  GWON: 1658090782668,
  GWPV: 1653162434157,
  GXWE: 1679866694304,
  GZRI: 1653166197912,
  LTQY: 1645390017087,
  LKLH: 1656273167835,
  LFXA: 1645390778990,
  LRNU: 1660847677279,
  LINQ: 1659639015820,
  LUAS: 1651433587932,
  LGET: 1652643788435,
  LQWH: 1658087862886,
  LEPQ: 1660847677279,
  LLRB: 1659639015820,
  LQBG: 1645390778990,
  LSPK: 1658087862886,
  LSZP: 1645390017087,
  LUWS: 1651433587932,
  LVGO: 1652643788435,
  LYPH: 1656273167835,
  ZUOF: 1675025890627,
  ZVZO: 1671394801796,
  MDRB: 1660849301402,
  MFPT: 1663967390458,
  MFAC: 1633294503700,
  MEBV: 1651171891928,
  MIHU: 1652647945569,
  MULZ: 1658092856430,
  MOYA: 1649022083027,
  MWOY: 1663965794577,
  MKMV: 1656276199227,
  MXGC: 1654801097455,
  MSTR: 1635109936426,
  MUXN: 1650567506167,
  MPAS: 1635109936426,
  MHRE: 1650760117280,
  MLEO: 1651435187510,
  MGGM: 1630099300297,
  MBNT: 1654801097455,
  MDAE: 1660849301402,
  MDDE: 1663967390458,
  MDJI: 1679079106985,
  MFJA: 1682714423618,
  MHXJ: 1672948696349,
  MJKF: 1650760117280,
  MKGV: 1650567506167,
  MKPG: 1630099300297,
  MLBI: 1651171891928,
  MMBY: 1663965794577,
  MMSM: 1678583797847,
  MNAJ: 1681678169487,
  MNPW: 1658092856430,
  MQGA: 1651435187510,
  MSAF: 1671398693708,
  MVUV: 1656276199227,
  MWSR: 1633294503700,
  MYYN: 1649022083027,
  MZLT: 1652647945569,
  NBCD: 1651440012894,
  NGBK: 1664136293287,
  NDXO: 1664137568496,
  NJVK: 1656274404322,
  NJVF: 1648845616862,
  NRDT: 1645415852931,
  NTKY: 1649015087769,
  NUPJ: 1647126376207,
  NSMJ: 1658088976074,
  NUVM: 1652645318734,
  NVOL: 1652644548576,
  NVIT: 1647206894178,
  NWBR: 1650757689080,
  NNXZ: 1648846538801,
  NBVF: 1650757689080,
  NEAO: 1648845616862,
  NMNQ: 1648846538801,
  NNFE: 1664136293287,
  NNZL: 1664137568496,
  NPFL: 1656274404322,
  NQVN: 1647206894178,
  NRSP: 1651440012894,
  NRTX: 1665952339130,
  NTSN: 1658088976074,
  NTWC: 1647126376207,
  NWWC: 1649015087769,
  NXPC: 1645415852931,
  NXPU: 1652644548576,
  NYRH: 1652645318734,
  OBKZ: 1646431994604,
  OFLZ: 1664477092623,
  OKZZ: 1646336600499,
  OIOS: 1650762839729,
  ONBO: 1646942710551,
  OQJI: 1665176235290,
  ODAR: 1646337631288,
  OTPM: 1651777123710,
  OQXA: 1636926886223,
  OUBA: 1638743860291,
  OUSS: 1646430706792,
  OIXO: 1646429270591,
  OAQJ: 1665176235290,
  OBSU: 1664477092623,
  OCCM: 1646429270591,
  OCDX: 1650762839729,
  OCIA: 1646942710551,
  OCQX: 1646431994604,
  ODVK: 1651777123710,
  OEXH: 1646337631288,
  OGCB: 1670018133249,
  OHHX: 1646430706792,
  OKLR: 1646336600499,
  OMJE: 1681497536681,
  OQNE: 1636926886223,
  OQZK: 1638743860291,
  PFAF: 1629663937778,
  PONC: 1631300184999,
  PTTG: 1636745734113,
  PZOR: 1645127695086,
  PBMK: 1666290839989,
  PFNV: 1636745734113,
  PHDY: 1645127695086,
  PKVZ: 1631300184999,
  PPRM: 1629663937778,
  IALD: 1665351434310,
  IAPI: 1665346089617,
  IURM: 1665349342812,
  IFLX: 1675462487374,
  IFOT: 1666991730719,
  IGSY: 1667595149395,
  IIDT: 1671227223065,
  IMBH: 1678579891147,
  INEW: 1665346089617,
  INIR: 1681682524464,
  IONJ: 1665349342812,
  IPOK: 1665950975210,
  IRTS: 1674436154797,
  ISQY: 1675030058798,
  ITIM: 1673830098101,
  IWED: 1671397138579,
  IWOJ: 1676835799078,
  IWTX: 1682711206350,
  IXRM: 1667770306834,
  IXYJ: 1665351434310,
  IYBF: 1665859663149,
  QCCH: 1678577609142,
  QDGN: 1678477303223,
  QDKS: 1677879852571,
  QEPX: 1680893114405,
  QFRA: 1676577616766,
  QHOL: 1676066572452,
  QMAE: 1676064645320,
  QNIS: 1675024453409,
  QOCX: 1674953752854,
  QUIF: 1674952332718,
  QVVN: 1675031613691,
  QXDL: 1676837335723,
  QXMS: 1679862062153,
  RHDD: 1649962822185,
  RRNP: 1662058446126,
  RIJU: 1661718288823,
  RVKH: 1665174601948,
  RNOH: 1640557695497,
  RYKN: 1642802080690,
  RSJX: 1642975240642,
  RBCY: 1642802080690,
  RCNT: 1662058446126,
  RIRI: 1649962822185,
  RKEI: 1665174601948,
  RNDS: 1661718288823,
  RNLQ: 1665954187501,
  RTDY: 1640557695497,
  RVQD: 1642975240642,
  SFZP: 1631582538753,
  SAXI: 1649017679759,
  SCAJ: 1633292123301,
  SGZW: 1633288974214,
  SUGK: 1635115732483,
  SWVR: 1631583607909,
  SOPS: 1631583607909,
  SPUJ: 1631582538753,
  SUPV: 1635115732483,
  SWCU: 1649017679759,
  SYGP: 1633292123301,
  SYLH: 1633288974214,
  WAWS: 1664572540135,
  WGQH: 1660510350050,
  WOSO: 1661714022903,
  WOWP: 1663267635642,
  WRKW: 1661722276167,
  WDHJ: 1664141064543,
  WADZ: 1670529260119,
  WAPS: 1671148465380,
  WELX: 1664572540135,
  WJIU: 1663267635642,
  WONP: 1660510350050,
  WQHC: 1664141064543,
  WQSG: 1661722276167,
  WTXP: 1661714022903,
  TOGT: 1679859709549,
  TZVO: 1679865194853,
  TIRT: 1659905165318,
  TDOG: 1642972865698,
  TFJQ: 1664142670732,
  TLWQ: 1636928299285,
  TJWP: 1661716798911,
  TMEK: 1647208779516,
  TMGR: 1654463117262,
  TNRQ: 1650056276879,
  TOKJ: 1650054293630,
  TOLL: 1645394616881,
  TQUX: 1659906319329,
  TYNF: 1657485992559,
  TOFY: 1657487477378,
  TAEP: 1670016221497,
  TKNM: 1671737574942,
  TLBU: 1650056276879,
  TLBV: 1650054293630,
  TOMF: 1675026643590,
  TPHQ: 1636928299285,
  TPTE: 1659906319329,
  TPXU: 1647208779516,
  TQIW: 1657485992559,
  TQNH: 1657487477378,
  TREN: 1654463117262,
  TRYW: 1671392002532,
  TUUG: 1675027288500,
  TVIP: 1661716798911,
  TVRU: 1667772575845,
  TVXR: 1642972865698,
  TXAU: 1664142670732,
  TYKB: 1659905165318,
  TYQS: 1665959165668,
  TZDY: 1645394616881,
  UBQA: 1643917371112,
  UHHL: 1652986393739,
  UDVL: 1644111325531,
  UJLQ: 1638739203280,
  UFHG: 1623614544403,
  UGMA: 1659903135743,
  UIDB: 1621803346451,
  UZIX: 1651436766200,
  UVEA: 1645732823721,
  UKIT: 1632517729173,
  UPQR: 1652646928852,
  UVGT: 1650765639722,
  UJDF: 1626037390548,
  UBTJ: 1644111325531,
  UCVM: 1652986393739,
  UCYA: 1643917371112,
  UGOT: 1632517729173,
  UIYV: 1645732823721,
  ULKW: 1674157105407,
  UMWU: 1650765639722,
  UQYZ: 1638739203280,
  UXDR: 1652646928852,
  UYDZ: 1659903135743,
  UYGN: 1651436766200,
  UYIG: 1681674642218,
  UZKM: 1621803346451,
  UZMV: 1626037390548,
  UZSS: 1623614544403,
  VQKH: 1682285075345,
  VRPX: 1673824757721,
  VSLH: 1673826532174,
  VVMD: 1674432664792,
  VWLO: 1675022279889,
  VZLP: 1674433994034,
};

function groupKeysByValue(obj: Record<string, number>): Array<string[]> {
  const valueToKeysMap: Record<number, string[]> = {};

  // Map each value to its corresponding keys
  for (const key in obj) {
    const value = obj[key];
    if (valueToKeysMap[value]) {
      valueToKeysMap[value].push(key);
    } else {
      valueToKeysMap[value] = [key];
    }
  }

  // Return the keys grouped by their value
  return Object.values(valueToKeysMap).filter((keys) => keys.length > 1);
}

console.log(groupKeysByValue(GLOBAL_USED_GAME_IDS));
