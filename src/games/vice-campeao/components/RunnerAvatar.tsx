import clsx from 'clsx';
// Utils
import { getAvatarColorById } from 'utils/helpers';
// Images
import avatars from 'assets/images/avatars.svg?url';

type RunnerAvatarProps = {
  avatarId: string;
  name?: string;
  animate?: boolean;
  className?: string;
  width?: number;
} & React.SVGProps<SVGSVGElement>;

export const RunnerAvatar = ({
  avatarId,
  name,
  animate = false,
  className = '',
  width = 48,
  ...props
}: RunnerAvatarProps) => {
  const color = getAvatarColorById(avatarId ?? '0');
  return (
    <svg
      viewBox="0 0 100 200"
      className={clsx('runner-avatar', animate && 'runner-avatar--animated', className)}
      style={{
        animationDuration: `${500 + (Math.random() + Number(1)) * 53}ms`,
        width: `${width}px`,
      }}
      {...props}
    >
      {/* pin */}
      <path
        fill={color}
        d="M75 25a25 25 0 00-50 0 24.89 24.89 0 005.67 15.85 26.4 26.4 0 002.53 2.65L50 61.12l16.78-17.59a26.4 26.4 0 002.53-2.65A24.89 24.89 0 0075 25z"
      ></path>

      {/* content */}
      <svg viewBox="0 0 512 512">
        <path
          fill="#ffb1a0"
          d="M451.4 196.3h-74.7l-35-60.4-2.2 2.5 2.7 16.5-26.7 40.9-2.5 9 20.9 36a29.7 29.7 0 0 0 25.7 14.8h91.8a29.7 29.7 0 0 0 0-59.3z"
        />
        <path
          fill="#ffcebe"
          d="m335 323-22-11-7 2.4-31.8 39v5.7l-34.6 39.5 3.1 7 38.8 30h4.7l58-66.5a29.7 29.7 0 0 0-9.1-46.2z"
        />
        <path
          fill="#ffb1a0"
          d="m173.6 375.9-2.4-6.8-32.7-32.5-8.3-1.2-59.9 63.2 1.8 6.8 37.4 34h3.8z"
        />
        <path
          fill={color}
          d="m215 326.2-20.5-9.7-10-15.8 2.8-22.3V275l-57 60.3 43.3 40.5 43-45.4z"
        />
        <path
          fill={color}
          d="m239.6 398.6-29.5 33.8a29.7 29.7 0 0 0 2.3 41.4l25 23a29.6 29.6 0 0 0 42-2 29.7 29.7 0 0 0-2-41.9l-3.5-3.3 12.3-14zm-169.3 0-31.2 33a29.7 29.7 0 0 0 .4 41.2l22.7 23a29.6 29.6 0 0 0 42 0 29.7 29.7 0 0 0 .2-41.9l-2.4-2.4 11.3-12z"
        />
        <path
          fill={color}
          d="m255 283.3-4-6.1-44.2-20.6H201l-14.7 20a29.7 29.7 0 0 0 10.7 44.2l77.3 38.3 38.8-47z"
        />
        <path
          fill={color}
          d="m315.7 178.4-45.5-9.6-5.5 1.3-63.8 86.5 54.1 26.7 84.5-114.5z"
        />
        <path
          fill="#ffcebe"
          d="M413 14.7h-13.5L378.9 40v33l7.3 25.7 26.8 9.2a53.7 53.7 0 0 0 0-93z"
        />
        <path
          fill="#ffb1a0"
          d="M386.2 61.2A53.7 53.7 0 0 1 413 14.7a53.7 53.7 0 1 0 0 93 53.7 53.7 0 0 1-26.8-46.5z"
        />
        <path
          fill="#ffcebe"
          d="m322.2 121.6-106-22.4a29.7 29.7 0 0 0-30.1 11.6l-13.9 19-2.2 10.9 4.2 15.3 13.8 14 16 1.3h7.5l7.5-4.6 3.8-5.3 87 18.4a29.7 29.7 0 0 0 12.4-58.1z"
        />
        <path
          fill="#ffb1a0"
          d="M203.3 168.8a30.7 30.7 0 0 1-27.9-43.3l-51.7 71.3a29.7 29.7 0 1 0 48 34.8l50.2-69.1a31 31 0 0 1-18.6 6.3z"
        />
        <path d="M386.2 122.5a61.3 61.3 0 1 0-.1-122.6 61.3 61.3 0 0 0 .1 122.6zm0-107.5a46.3 46.3 0 1 1-.1 92.6 46.3 46.3 0 0 1 .1-92.6zM57 501a37.2 37.2 0 0 0 55.3-49.5l24.4-25.7a7.5 7.5 0 1 0-10.9-10.4L113.1 429l-32.2-30.6 49.7-52.4 32.4 30.3-13.1 13.8a7.5 7.5 0 1 0 10.9 10.3l57.4-60.6 44 21.8-57.7 66a37.4 37.4 0 0 0 2.9 51.9l25 22.8a37.2 37.2 0 0 0 52-53.1l65.6-75a37.4 37.4 0 0 0-11.6-57.9l-22-10.9-50-24.7 45.9-62.2 15.1 26.2a37.3 37.3 0 0 0 32.2 18.5h26.6a7.5 7.5 0 1 0 0-15h-26.6c-7.9 0-15.2-4.2-19.2-11l-18.4-32c25.4-34.5 26-34.7 28.2-39.8l20 34.6a7.5 7.5 0 0 0 6.5 3.8h74.7a22.2 22.2 0 0 1 0 44.3h-30.2a7.5 7.5 0 1 0 0 15h30.2a37.2 37.2 0 0 0 0-74.3h-70.3l-33-57a37 37 0 0 0-24.4-17.5L217.8 91.9a37.2 37.2 0 0 0-37.8 14.5l-62.3 86a37.2 37.2 0 1 0 60.1 43.6l48.3-66.4 25.7 5.5-56.9 77-13.3 18.2-148 156a37 37 0 0 0 .7 51.8zm216.9-11.2c-8.3 9-22.3 9.7-31.4 1.4l-25-22.9c-8.8-8-9.6-22-1.7-31l24.8-28.4 34.8 27.6-7.1 8.2c-2.7 3-2.4 7.7.6 10.5l3.6 3.2c9 8.4 9.6 22.4 1.4 31.4zM315 321.4l16.8 8.3a22.2 22.2 0 0 1 6.9 34.4l-53.4 61.1-34.8-27.6c39.8-45.5 19.1-21.2 64.5-76.2zM224.4 154c-2.9-.7-5.9.5-7.6 2.9l-51 70.3a22.3 22.3 0 0 1-18 9.2c1 0-6.3.6-13-4.3a22.2 22.2 0 0 1-5-31l62.4-85.9a22.2 22.2 0 0 1 22.5-8.6l106 22.3a22.2 22.2 0 0 1 17.4 24.5v.1a22.2 22.2 0 0 1-26.6 18.8zm43.5 24.5 40.5 8.5c2.5.5 5.1.8 7.8.8l-63.5 86-40.4-20zm-74.5 101 9.9-13.4 98 48.4-29 35.2-72-35.6c-10.7-5.3-17.7-19.9-7-34.5zm-19.9 21.1c2 11.3 9.2 21.5 20.1 27l10.6 5.2-30.9 32.5L141 335zm-129 136 26.1-27.4 32.2 30.5-6.2 6.6a7.6 7.6 0 0 0 0 10.5c2.7 2.6 9 7.9 9 18.1a22.2 22.2 0 0 1-38 15.5l-22.7-22.8a22 22 0 0 1-.3-31z" />
      </svg>

      {/* game avatar */}
      <foreignObject
        x="25"
        y="0"
        width="50"
        height="50"
        style={{ borderRadius: '50%' }}
      >
        <svg viewBox="0 0 100 100">
          <use href={`${avatars}#avatar-${avatarId}`}></use>
        </svg>
      </foreignObject>
    </svg>
  );
};
