"use strict";(self.webpackChunktardedivertida=self.webpackChunktardedivertida||[]).push([[442],{2442:function(e,s,t){t.r(s),t.d(s,{default:function(){return z}});var n=t(6591),r=t(5149),o=t(9475),i=t(9439),a=t(2791),c=t(827),l=t(1413),h=t(5928);var u="WITNESSING",d="ANNOUNCEMENT",m="SKETCHING",v="FINISHING",j=120,x={MEMORY:20,ANNOUNCEMENT:5,SKETCH:j,EXTRA:5,TOTAL:150,MEMORY_MARK:130,ANNOUNCEMENT_MARK:125,SKETCH_MARK:5},p=t(722),f=t(1238),g=t(184);var T=function(e){var s=e.isUserTheWitness;return(0,g.jsx)(o.Cl,{title:s?(0,g.jsx)(o.vN,{pt:"Descreva!",en:"Describe!"}):(0,g.jsx)(o.vN,{pt:"Hora de desenhar!",en:"Time to draw!"}),unskippable:!0,duration:5,type:s?"timer":"sketch",onClose:function(){}})};var E=function(e){var s=e.isUserTheWitness,t=e.remainingTime,n=e.lines,r=e.setLines;return s?(0,g.jsxs)("div",{className:"r-view",children:[(0,g.jsx)(o.Dx,{children:(0,g.jsx)(o.vN,{pt:"Pronto!",en:"Done! "})}),(0,g.jsx)(o.HM,{steps:x.EXTRA,value:t,total:x.EXTRA,strokeColor:"red"}),(0,g.jsx)(o.vr,{contained:!0,children:(0,g.jsx)(o.vN,{pt:"Boca fechada! Aguarde os jogadores darem os \xfaltimos retoques.",en:"Shut up! Wait for the other players to finish their drawings."})})]}):(0,g.jsxs)("div",{className:"r-view",children:[(0,g.jsx)(o.Dx,{children:(0,g.jsx)(o.vN,{pt:"Termine!",en:"Finish it!"})}),(0,g.jsx)(o.vr,{contained:!0,children:(0,g.jsx)(o.vN,{pt:"\xdaltimos segundos para os retoques finais",en:"A few seconds more to finish"})}),(0,g.jsx)(o.HM,{steps:x.EXTRA,value:t,total:x.EXTRA,strokeColor:"red"}),(0,g.jsx)(o.RI,{lines:n,setLines:r,showControls:!0,strokeWidth:"small"})]})},M=t(4925),k=t(8182),N=t(3099),A=t(7309),y=t(9784),R=t(5127),b=["currentMonster","showControls"];var S=function(e){var s=e.currentMonster,t=e.showControls,n=void 0===t||t,r=(0,M.Z)(e,b),h=(0,c.j1)("monsterOrientation"),u=(0,i.Z)(h,2),d=u[0],m=u[1],v=(0,c.m3)(5,16,120,360);(0,a.useEffect)((function(){"horizontal"===s.orientation&&m(s.orientation)}),[]);var j="r-monster-card";return(0,g.jsxs)(N.Z,(0,l.Z)((0,l.Z)({direction:"vertical",align:"center"},r),{},{children:[(0,g.jsx)(o.fe,{imageId:s.id,cardWidth:v,className:(0,k.Z)(j,"".concat(j,"vertical"===d?"--vertical":"--horizontal"))}),n&&(0,g.jsxs)(A.Z,{onClick:function(){m("vertical"===d?"horizontal":"vertical")},children:["vertical"===d?(0,g.jsx)(y.Z,{}):(0,g.jsx)(R.Z,{}),(0,g.jsx)(o.vN,{pt:"Girar",en:"Rotate"})]})]}))};var w=function(e){var s=e.isUserTheWitness,t=e.remainingSketchingTime,n=e.lines,r=e.setLines;return s?(0,g.jsxs)("div",{className:"r-view",children:[(0,g.jsx)(o.Dx,{children:(0,g.jsx)(o.vN,{pt:"Descreva o monstro!",en:"Describe the monstro!"})}),(0,g.jsx)(o.HM,{steps:x.SKETCH,value:t,total:x.SKETCH}),(0,g.jsx)(S,{currentMonster:{id:"md-bs-000",orientation:"vertical"},showControls:!1}),(0,g.jsx)(o.vr,{contained:!0,children:(0,g.jsx)(o.vN,{pt:"Tente dar o maior n\xfamero de detalhes poss\xedvel. Os jogadores podem te fazer perguntas.",en:"Try to give the largest number of details. Player may ask you questions too."})})]}):(0,g.jsxs)("div",{className:"r-view",children:[(0,g.jsx)(o.Dx,{children:(0,g.jsx)(o.vN,{pt:"Desenhe!",en:"Sketch it!"})}),(0,g.jsx)(o.vr,{contained:!0,children:t>0?(0,g.jsx)(o.vN,{pt:"Voc\xea pode tamb\xe9m fazer perguntas \xe0 testemunha.",en:"You may also ask the witness questions"}):(0,g.jsx)(o.vN,{pt:"\xdaltimos segundos para os retoques finais",en:"A few seconds more to finish"})}),(0,g.jsx)(o.HM,{steps:x.SKETCH,value:t,total:x.SKETCH}),(0,g.jsx)(o.RI,{lines:n,setLines:r,showControls:!0,strokeWidth:"small"})]})};var O=function(e){var s=e.isUserTheWitness,t=e.currentMonster,n=e.remainingWitnessingTime,r=e.lines,i=e.setLines;return s?(0,g.jsxs)("div",{className:"r-view",children:[(0,g.jsx)(o.Dx,{children:(0,g.jsx)(o.vN,{pt:"Memorize!",en:"Memorize!"})}),(0,g.jsx)(o.HM,{steps:x.MEMORY,value:n,total:x.MEMORY}),(0,g.jsx)(S,{currentMonster:t})]}):(0,g.jsxs)("div",{className:"r-view",children:[(0,g.jsx)(o.Dx,{children:(0,g.jsx)(o.vN,{pt:"Aguarde...",en:"Please wait..."})}),(0,g.jsx)(o.vr,{contained:!0,children:(0,g.jsx)(o.vN,{pt:"A testemunha est\xe1 tendo um flashback do monstro.",en:"The witness is having a flashback of the monster event now."})}),(0,g.jsx)(o.HM,{steps:x.MEMORY,value:n,total:x.MEMORY}),(0,g.jsx)(o.RI,{lines:r,setLines:i,showControls:!0,strokeWidth:"small"})]})};var C=function(e){var s=e.isUserTheWitness,t=e.currentMonster,n=e.onSubmitSketch,r=e.onSubmitOrientation,l=(0,c.j1)("monsterOrientation"),h=(0,i.Z)(l,1)[0],j=(0,a.useState)(u),M=(0,i.Z)(j,2),k=M[0],N=M[1],A=(0,a.useState)([]),y=(0,i.Z)(A,2),R=y[0],b=y[1],S=(0,p.useTimer)({expiryTimestamp:(0,f.rv)(x.TOTAL),autoStart:!0,onExpire:function(){s&&"horizontal"===h&&r({orientation:h}),n({sketch:JSON.stringify(R)})}}),C=60*S.minutes+S.seconds;return(0,a.useEffect)((function(){C===x.MEMORY_MARK?N(d):C===x.ANNOUNCEMENT_MARK?N(m):C===x.SKETCH_MARK&&N(v)}),[C]),(0,g.jsxs)(o.r_,{cases:[k===u,k===d,k===m,k===v],children:[(0,g.jsx)(O,{isUserTheWitness:s,currentMonster:t,remainingWitnessingTime:C-x.MEMORY_MARK,lines:R,setLines:b}),(0,g.jsx)(T,{isUserTheWitness:s}),(0,g.jsx)(w,{isUserTheWitness:s,remainingSketchingTime:C-x.SKETCH_MARK,lines:R,setLines:b}),(0,g.jsx)(E,{isUserTheWitness:s,remainingTime:C,lines:R,setLines:b})]})};var F=function(e){var s,t,n=e.players,u=e.state,d=e.info,m=(0,c.ZK)().translate,v=(0,c.bC)(n,u),j=(0,a.useState)(0),p=(0,i.Z)(j,2),f=p[0],T=p[1],E=(0,c.RQ)("witnessId",u,n),M=(0,i.Z)(E,2),k=M[0],N=M[1],A=function(e){var s=(0,c.ZK)().translate,t=(0,c.Cq)({apiFunction:h.SA.submitAction,actionName:"submit-sketch",onBeforeCall:function(){return e(3)},onError:function(){return e(1)},successMessage:s("Acabou o tempo! Desenho enviado com sucesso","Time's up! Sketch submitted successfully"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar enviar o desenho","Oops, the application failed to send your sketch")});return function(e){t((0,l.Z)({action:"SUBMIT_SKETCH"},e))}}(T),y=function(e){var s=(0,c.Cq)({apiFunction:h.SA.submitAction,actionName:"submit-sketch",onBeforeCall:function(){return e(3)}});return function(e){s((0,l.Z)({action:"SUBMIT_ORIENTATION"},e))}}(T);return(0,g.jsx)(o.JK,{info:d,phase:null===u||void 0===u?void 0:u.phase,allowedPhase:r.R.RETRATO_FALADO.COMPOSITE_SKETCH,children:(0,g.jsxs)(o.pD,{step:f,conditions:[!v,!v,!v],players:n,children:[(0,g.jsx)(o.YE,{round:null===u||void 0===u?void 0:u.round,onPressButton:function(){return T(1)},buttonText:" ",time:7,unskippable:!0,circleColor:"green",children:(0,g.jsx)(o.vr,{contained:!0,children:(0,g.jsx)(o.vN,{pt:(0,g.jsxs)(g.Fragment,{children:["Um meliante monstruoso est\xe1 a solta!",(0,g.jsx)("br",{}),"A testemunha ",(0,g.jsx)(o.gj,{player:k})," tentar\xe1 relembrar o incidente!"]}),en:(0,g.jsxs)(g.Fragment,{children:["A monstrous miscreant is on the loose!",(0,g.jsx)("br",{}),"The witness ",(0,g.jsx)(o.gj,{player:k})," must recall all of its features!"]})})})}),(0,g.jsx)(o.Cl,{type:"monster",title:m("Memorize! Descreva! Desenhe!","Memorize! Describe! Sketch!"),onClose:function(){return T(2)},currentRound:null===u||void 0===u||null===(s=u.round)||void 0===s?void 0:s.current,duration:(null===u||void 0===u||null===(t=u.round)||void 0===t?void 0:t.current)<2?20:5,unskippable:!0,children:(0,g.jsx)(o.vr,{children:N?(0,g.jsx)(o.vN,{pt:(0,g.jsxs)(g.Fragment,{children:["Voc\xea ter\xe1 ",x.MEMORY," segundos para memorizar as caracter\xedsticas do monstro.",(0,g.jsx)("br",{}),"Assim que esse tempo acabar, voc\xea ter\xe1 ",x.SKETCH/60," minutos para descrev\xea-lo para os outros jogadores.",(0,g.jsx)("br",{}),"Boa sorte!"]}),en:(0,g.jsxs)(g.Fragment,{children:["You'll have ",x.MEMORY," seconds to memorize the monster's features.",(0,g.jsx)("br",{}),"When the time is up, you will have ",x.SKETCH/60," minutes to describe it to the other players.",(0,g.jsx)("br",{}),"Good luck!"]})}):(0,g.jsx)(o.vN,{pt:(0,g.jsxs)(g.Fragment,{children:["A testemunha ",(0,g.jsx)(o.gj,{player:k})," ter\xe1 ",x.MEMORY," segundos para memorizar as caracter\xedsticas do monstro.",(0,g.jsx)("br",{}),"Assim que esse tempo acabar, voc\xea ter\xe1 ",x.SKETCH/60," minutos para desenh\xe1-lo enquanto a testemunha o descreve.",(0,g.jsx)("br",{}),"Boa sorte!"]}),en:(0,g.jsxs)(g.Fragment,{children:["The witness ",(0,g.jsx)(o.gj,{player:k})," will have ",x.MEMORY," seconds to memorize the monster's features.",(0,g.jsx)("br",{}),"When the time is up, you will have ",x.SKETCH/60," minutes to draw the monster while the witness describes it.",(0,g.jsx)("br",{}),"Good luck!"]})})})}),(0,g.jsx)(C,{isUserTheWitness:N,currentMonster:u.currentMonster,onSubmitSketch:A,onSubmitOrientation:y})]})})};var D=function(e){var s=e.isUserTheWitness,t=e.currentMonster,n=e.sketches,r=e.onSubmitVote,l=e.user,h=e.players,u=(0,c.m3)(Math.min(Object.keys(h).length,6),16,150,500),d=(0,c.j1)("canvasSize"),m=(0,i.Z)(d,2),v=m[0],j=m[1];return(0,a.useEffect)((function(){v||j(50*Math.floor(u/50))}),[v,u]),(0,g.jsxs)("div",{children:[(0,g.jsx)(o.Dx,{children:(0,g.jsx)(o.vN,{pt:"Vote!",en:"Vote!"})}),(0,g.jsx)(o.vr,{contained:!0,children:s?(0,g.jsx)(o.vN,{pt:(0,g.jsxs)(g.Fragment,{children:["Voc\xea s\xf3 ganha ponto se voc\xea escolher o desenho mais votado.",(0,g.jsx)("br",{}),"Caso voc\xea n\xe3o escolha o mais votado, o jogador que voc\xea escolher ganha 1 ponto."]}),en:(0,g.jsxs)(g.Fragment,{children:["You only score if you choose the best sketch (the one with the most votes).",(0,g.jsx)("br",{}),"If you didn't pick the one, the player you chose gets 1 point."]})}):(0,g.jsx)(o.vN,{pt:(0,g.jsxs)(g.Fragment,{children:["Vote no desenho que mais se aproxima do monstro.",(0,g.jsx)("br",{}),"Voc\xea n\xe3o pode votar em si mesmo.",(0,g.jsx)("br",{}),"O desenho (ou desenhos) mais votado receber\xe1 1 ponto!"]}),en:(0,g.jsxs)(g.Fragment,{children:["Vote for the sketch that best represents the monster.",(0,g.jsx)("br",{}),"You cannot vote for yourself.",(0,g.jsx)("br",{}),"The sketch (or sketches) with the most votes gets 1 point."]})})}),(0,g.jsx)(o.r6,{}),(0,g.jsx)(o.qO,{children:n.map((function(e){var s=h[e.playerId];return(0,g.jsxs)(N.Z,{direction:"vertical",align:"center",children:[(0,g.jsx)(o.QF,{size:v||u,drawing:e.sketch,className:"r-sketch"},"sketch-".concat(e.playerId)),(0,g.jsxs)(A.Z,{type:"primary",onClick:function(){return r({vote:s.id})},disabled:e.playerId===l.id,children:[(0,g.jsx)(o.qE,{id:s.avatarId,size:"small"})," ",s.name]})]},"sketch-for-player-".concat(e.playerId))}))}),(0,g.jsx)(o.qO,{children:(0,g.jsx)(S,{currentMonster:t})})]})};var V=function(e){var s,t=e.players,n=e.state,u=e.info,d=(0,c.ZK)().translate,m=(0,c.aF)(t),v=(0,c.bC)(t,n),j=(0,a.useState)(0),x=(0,i.Z)(j,2),p=x[0],f=x[1],T=(0,c.RQ)("witnessId",n,t),E=(0,i.Z)(T,2)[1],M=function(e){var s=(0,c.ZK)().translate,t=(0,c.Cq)({apiFunction:h.SA.submitAction,actionName:"submit-vote",onBeforeCall:function(){return e(2)},onError:function(){return e(1)},successMessage:s("Voto enviado com sucesso","Vote submitted successfully"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar enviar seu voto","Oops, the application failed to send your vote")});return function(e){t((0,l.Z)({action:"SUBMIT_VOTE"},e))}}(f);return(0,g.jsx)(o.JK,{info:u,phase:null===n||void 0===n?void 0:n.phase,allowedPhase:r.R.RETRATO_FALADO.EVALUATION,children:(0,g.jsxs)(o.pD,{step:p,conditions:[!v,!v,!v],players:t,children:[(0,g.jsx)(o.Cl,{type:"choice",title:d("Vote!","Vote!"),onClose:function(){return f(1)},currentRound:null===n||void 0===n||null===(s=n.round)||void 0===s?void 0:s.current,children:(0,g.jsx)(o.vr,{children:(0,g.jsx)(o.vN,{pt:(0,g.jsx)(g.Fragment,{children:"Vote no desenho que voc\xea acha que mais parece com o mostro meliante."}),en:(0,g.jsx)(g.Fragment,{children:"Vote for the sketch that best represents the monster."})})})}),(0,g.jsx)(D,{isUserTheWitness:E,currentMonster:n.currentMonster,sketches:n.sketches,onSubmitVote:M,user:m,players:t})]})})};var I=function(e){var s=e.sketches,t=e.players,n=e.canvasSize,r=e.canvasWidth;return(0,g.jsx)(g.Fragment,{children:s.map((function(e){var s=t[e.playerId];return(0,g.jsxs)(N.Z,{direction:"vertical",align:"center",className:"r-monster-sketch",children:[(0,g.jsx)(o.QF,{size:n||r,drawing:e.sketch,className:"r-sketch"},"sketch-".concat(e.playerId)),(0,g.jsxs)("div",{children:[(0,g.jsx)(o.qE,{id:s.avatarId,size:"small"})," ",s.name]})]},"monster-sketch-item-".concat(e.playerId))}))})};var K=function(e){var s=e.sketches,t=e.players,n=e.currentMonster,r=e.setStep,a=e.mostVotes,l=e.witnessVote,h=e.witness,u=(0,c.m3)(Math.min(Object.keys(t).length,6),16,150,500),d=(0,c.j1)("canvasSize"),m=(0,i.Z)(d,1)[0],v=s.reduce((function(e,s){return a.includes(s.playerId)?e.mostVotedSketches.push(s):e.otherSketches.push(s),e}),{mostVotedSketches:[],otherSketches:[]}),j=v.mostVotedSketches,x=v.otherSketches;return(0,g.jsxs)(o.h8,{fullWidth:!0,children:[(0,g.jsx)(o.Dx,{children:a.length>1?(0,g.jsx)(o.vN,{pt:"Os monstros mais votados foram...",en:"The monsters who got the most votes were..."}):(0,g.jsx)(o.vN,{pt:"O mostro mais votado foi...",en:"The monster who got the most votes was..."})}),(0,g.jsx)(o.vr,{contained:!0,children:a.length>1?(0,g.jsx)(o.vN,{pt:"Esses jogadores ganharam 3 pontos cada.",en:"These players get 3 points each."}):(0,g.jsx)(o.vN,{pt:"Esse jogador ganha 3 pontos.",en:"This player gets 3 points."})}),(0,g.jsxs)("div",{className:"r-monster-list",children:[(0,g.jsx)(S,{currentMonster:n,style:{width:"".concat(1.5*u,"px")}}),(0,g.jsx)(I,{sketches:j,players:t,canvasSize:m,canvasWidth:u})]}),(0,g.jsx)(o.vr,{contained:!0,children:a.includes(l)?(0,g.jsx)(o.vN,{pt:(0,g.jsxs)(g.Fragment,{children:["A testemunha ",(0,g.jsx)(o.gj,{player:h})," votou no mais votado, logo, \xe9 uma testemunha confi\xe1vel e ganha 3 pontos tamb\xe9m."]}),en:(0,g.jsxs)(g.Fragment,{children:["The witness ",(0,g.jsx)(o.gj,{player:h})," voted with the group which means s(he) is a credible witness and gets 3 points as well."]})}):(0,g.jsx)(o.vN,{pt:(0,g.jsxs)(g.Fragment,{children:["A testemunha achou que o desenho de ",(0,g.jsx)(o.gj,{player:t[l]})," foi o melhor, esse jogador ganha 1 ponto."]}),en:(0,g.jsxs)(g.Fragment,{children:["The witness thought that ",(0,g.jsx)(o.gj,{player:t[l]}),"'s sketch was the best, so s(he) gets 1 point."]})})}),(0,g.jsx)(o.hn,{label:"Ranking",duration:30,onExpire:function(){return r(2)},onClick:function(){return r(2)}}),(0,g.jsx)(o.Dx,{level:3,className:"r-other-sketches-title",children:(0,g.jsx)(o.vN,{pt:"Outros desenhos",en:"Other sketches"})}),(0,g.jsx)(o.qO,{children:(0,g.jsx)(I,{sketches:x,players:t,canvasSize:m/1.5,canvasWidth:u/1.5})})]})},Z=t(4729);var U=function(e){var s=e.ranking,t=e.players,n=e.round;return(0,g.jsxs)(o.h8,{fullWidth:!0,children:[(0,g.jsx)(o.Dx,{children:"Ranking"}),(0,g.jsx)(o.vr,{contained:!0,children:(0,g.jsx)(o.vN,{pt:"Distribui\xe7\xe3o de pontos: Mais votado | Votou com o grupo | Votado pela testemunha",en:"Points Distribution: Most votes | Voted with the group | Voted by the witness"})}),(0,g.jsx)(o.lo,{ranking:s,players:t}),(0,g.jsx)(Z.wU,{round:n})]})};var L=function(e){var s,t=e.players,n=e.state,l=e.info,h=(0,c.ZK)().translate,u=(0,c.aF)(t),d=(0,c.bC)(t,n),m=(0,a.useState)(0),v=(0,i.Z)(m,2),j=v[0],x=v[1],p=(0,c.RQ)("witnessId",n,t),f=(0,i.Z)(p,1)[0];return(0,g.jsx)(o.JK,{info:l,phase:null===n||void 0===n?void 0:n.phase,allowedPhase:r.R.RETRATO_FALADO.REVEAL,children:(0,g.jsxs)(o.pD,{step:j,conditions:[!d,!d,!d],players:t,children:[(0,g.jsx)(o.Cl,{type:"quality-seal",title:h("Resultado","Results"),onClose:function(){return x(1)},currentRound:null===n||void 0===n||null===(s=n.round)||void 0===s?void 0:s.current,duration:5,children:(0,g.jsx)(o.vr,{children:(0,g.jsx)(o.vN,{pt:(0,g.jsx)(g.Fragment,{children:"E o mais votado \xe9..."}),en:(0,g.jsx)(g.Fragment,{children:"And the one who got the most votes is..."})})})}),(0,g.jsx)(K,{witness:f,currentMonster:n.currentMonster,sketches:n.sketches,mostVotes:n.mostVotes,witnessVote:n.witnessVote,user:u,players:t,setStep:x}),(0,g.jsx)(U,{ranking:n.ranking,players:t,round:n.round})]})})};var W=function(e){var s=e.state,t=e.info,n=e.players,r=(0,c.m3)(6,16,150,500);return(0,g.jsx)(o.Ss,{info:t,state:s,announcementIcon:"trophy",children:(0,g.jsxs)("div",{children:[(0,g.jsx)(o.Dx,{level:2,children:(0,g.jsx)(o.vN,{pt:"Desenhos",en:"Sketches"})}),(0,g.jsx)("div",{className:"r-gallery",children:(0,g.jsx)(I,{sketches:s.gallery,players:n,canvasSize:r,canvasWidth:r})})]})})};var z=function(e){var s=e.gameId;return(0,g.jsx)(o.z_,{gameId:s,gameCollection:n.H$.RETRATO_FALADO,getActiveComponent:function(e){switch(e){case r.R.DEFAULT.LOBBY:return o.Uc;case r.R.DEFAULT.RULES:return o.hj;case r.R.DEFAULT.SETUP:return o.Z8;case r.R.RETRATO_FALADO.COMPOSITE_SKETCH:return F;case r.R.RETRATO_FALADO.EVALUATION:return V;case r.R.RETRATO_FALADO.REVEAL:return L;case r.R.DEFAULT.GAME_OVER:return W;default:return o.SR}}})}}}]);
//# sourceMappingURL=442.fece0226.chunk.js.map