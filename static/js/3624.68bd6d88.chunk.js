"use strict";(self.webpackChunktardedivertida=self.webpackChunktardedivertida||[]).push([[3624],{19263:function(n,e,r){r.d(e,{l:function(){return j},N:function(){return N}});var a=r(18489),i=r(31303),o=r(50678),s=r(28182),t=r(72791),d=r(763),c=r(20263),l=r(61431),u=r(21290),p=r(95090),v=r(52030),m=r(82741),g=r(3311),x=r(80184);function h(n){var e=n.gainedPoint,r=n.order,a=n.description,i=e>0,o=e<0;return(0,x.jsx)("li",{className:(0,s.Z)("ranking-board__gained-point",i&&"ranking-board__gained-point--plus",o&&"ranking-board__gained-point--minus","ranking-board__gained-point--".concat(r)),children:(0,x.jsxs)(l.Z,{title:null!==a&&void 0!==a?a:(0,x.jsx)(m.vN,{pt:"Pontos ganhos",en:"Gained Points"}),color:i?"gold":o?"red":"gray",children:[i?"+":"",e]})})}function _(n){var e=n.gainedPoints,r=n.playerId,a=n.gainedPointsDescriptions,i=void 0===a?[]:a,o=Array.isArray(e)?e:[e];return(0,x.jsx)("ul",{className:"ranking-board__cell-gained-points",children:o.map((function(n,e){return(0,x.jsx)(h,{gainedPoint:n,order:e,description:i[e]},"gained-point-".concat(r,"-").concat(e))}))})}function j(n){var e=n.players,r=n.ranking,s=n.gainedPointsDescriptions,h=n.hideGainedPoints,j=void 0!==h&&h,k=n.delay,f=void 0===k?0:k,b=(0,t.useState)(0),y=(0,o.Z)(b,2),N=y[0],P=y[1],Z=(0,t.useState)([]),w=(0,o.Z)(Z,2),S=w[0],I=w[1],B=(0,t.useState)(0),C=(0,o.Z)(B,2),D=C[0],M=C[1],R=(0,v.B)("ranking-row-0"),E=(0,o.Z)(R,2)[1],A=(0,t.useMemo)((function(){return Math.max.apply(Math,(0,i.Z)(r.map((function(n){return n.newScore}))))}),[r]),G=(0,p.a)({duration:5+f,autoStart:!0,onExpire:function(){M(1),P(3)}}).seconds;return(0,c.Z)((function(){var n={},e=0,i=0,o=(0,d.orderBy)(r,["newScore","name"],["desc","asc"]).reduce((function(r,a,o){return r[a.playerId]=o,(0===i||a.newScore<i)&&(i=a.newScore,e+=1),n[a.playerId]=[0,e],r}),{}),s=(0,d.orderBy)(r,["previousScore","name"],["desc","asc"]);e=0,i=0;var t=s.map((function(r,s){var t=(0,a.Z)({},r);return t.order=[s,o[t.playerId]],t.position=n[t.playerId],(0===i||r.previousScore<i)&&(i=r.previousScore,e+=1),t.position[0]=e,t}));I(t)})),(0,t.useEffect)((function(){G===4+f?P(1):G===2+f&&P(2)}),[G,f]),(0,x.jsx)("div",{className:"ranking-board",style:{height:"".concat((Math.max(60,E)+8)*S.length,"px")},children:S.map((function(n,r){var a,i,o=n.playerId,t=n.newScore,d=n.previousScore,c=n.gainedPoints,p=n.order,v=n.position,h=(Math.max(60,E)+8)*(null!==(a=p[D])&&void 0!==a?a:0);return(0,x.jsxs)("div",{className:"ranking-board__row ranking-board__row--".concat(r),id:"ranking-row-".concat(r),style:{top:"".concat(h,"px")},children:[(0,x.jsx)("div",{className:"ranking-board__cell-crown",children:t>0&&A===t&&N>=3&&(0,x.jsx)(u.Z,{className:"ranking-board__crown-icon"})}),(0,x.jsxs)("div",{className:"ranking-board__cell-position",children:["#",null!==(i=v[D])&&void 0!==i?i:""]}),(0,x.jsxs)("div",{className:"ranking-board__cell-player",children:[(0,x.jsx)("div",{className:"ranking-board__avatar",children:(0,x.jsx)(g.qE,{id:e[o].avatarId})}),(0,x.jsx)("div",{className:"ranking-board__name",children:e[o].name})]}),(0,x.jsx)(l.Z,{title:(0,x.jsx)(m.vN,{pt:"Pontos Anteriores",en:"Previous Points"}),color:"gray",children:(0,x.jsx)("div",{className:"ranking-board__cell-points",children:d})}),!j&&N>=1&&void 0!==c&&(0,x.jsx)(_,{gainedPoints:c,playerId:o,gainedPointsDescriptions:s}),N>=2&&(0,x.jsx)(l.Z,{title:"Total",color:"gold",children:(0,x.jsx)("span",{className:"ranking-board__cell-points-total",children:t})})]},"ranking-".concat(o))}))})}var k=r(52234),f=r(64823),b=r(25234),y=r(40931);function N(n){var e=n.players,r=n.ranking,a=n.gainedPointsDescriptions,i=n.children,o=n.title,s=n.subtitle;return(0,f.R)(),(0,x.jsxs)(b.h,{children:[(0,x.jsx)(y.Dx,{children:null!==o&&void 0!==o?o:"Ranking"}),s,(0,x.jsx)(j,{players:e,ranking:r,gainedPointsDescriptions:a}),(0,x.jsxs)(y.vr,{className:"step-ranking-wrapper-gained-points-instruction",children:[(0,x.jsx)(k.Z,{}),(0,x.jsx)(m.vN,{pt:"Passe o mouse em cada um dos pontos para saber como eles foram distribu\xeddos",en:"Hover over the scores to learn how they were granted"}),(0,x.jsx)(k.Z,{})]}),i]})}},30398:function(n,e,r){r.d(e,{Y:function(){return v}});var a=r(28182),i=r(87309);r(72791);var o=r.p+"static/media/round-title-en.2ad07e1f265a85634ad7940a33f96552.svg";var s=r.p+"static/media/round-title-pt.2e3f9c1deb85d58d118aa6e3dfa7af23.svg",t=r(81238),d=r(20670),c=r(64823),l=r(82741),u=r(49274),p=r(80184);function v(n){var e,r,v=n.round,m=n.onPressButton,g=n.buttonText,x=n.time,h=void 0===x?0:x,_=n.className,j=n.children,k=n.unskippable,f=void 0!==k&&k,b=n.circleColor;(0,c.R)();var y=(0,d.Z)().translate,N=b?{borderColor:b}:{};return(0,p.jsx)("div",{className:(0,a.Z)("round-announcement",_),children:(0,p.jsxs)("div",{className:"round-announcement__main",children:[(0,p.jsx)("div",{className:"round-announcement__title",children:(0,p.jsx)("img",{src:y(s,o),alt:y("Rodada","Round")})}),(0,p.jsxs)("div",{className:(0,a.Z)("round-announcement__round-wrapper",(0,t.hL)("zoomIn")),children:[(0,p.jsx)("div",{className:"round-announcement__circle",style:N}),(0,p.jsx)("div",{className:"round-announcement__circle-2",style:N}),(0,p.jsx)("div",{className:"round-announcement__number",children:null!==(e=null!==(r=null===v||void 0===v?void 0:v.current)&&void 0!==r?r:v)&&void 0!==e?e:0})]}),j,Boolean(m)&&!Boolean(h)&&(0,p.jsx)(i.Z,{type:"primary",onClick:m,className:"round-announcement__go-button",children:g}),Boolean(m)&&Boolean(h)&&(0,p.jsx)(u.hn,{type:"primary",onClick:m,onExpire:m,duration:h,disabled:f,children:(0,p.jsx)(l.vN,{pt:"Prosseguir",en:"Continue",custom:g})})]})})}}}]);
//# sourceMappingURL=3624.68bd6d88.chunk.js.map