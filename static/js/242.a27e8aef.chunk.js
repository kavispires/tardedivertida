"use strict";(self.webpackChunktardedivertida=self.webpackChunktardedivertida||[]).push([[242],{8332:function(e,r,a){a.r(r),a.d(r,{default:function(){return M}});var s=a(6591),n=a(5149),t=a(9475),o=a(9439),c=a(2791),i=a(827),u=a(1413),l=a(5928);function d(e){var r=(0,i.ZK)().translate,a=(0,i.Cq)({apiFunction:l.K3.submitAction,actionName:"submit-votes",onBeforeCall:function(){return e(2)},onError:function(){return e(0)},successMessage:r("Votos submetidos com sucesso","Votes submitted successfully"),errorMessage:r("Vixi, o aplicativo encontrou um erro ao tentar enviar seus votos","Oops, the application found an error while trying to submit your votes")});return function(e){a((0,u.Z)({action:"SUBMIT_VOTING"},e))}}var m=a(7309),h=a(1238),v=a(9228),p=a(6005),x=a(2234),j=function(e,r,a){return e>1||r.dreamer===a||r.nightmares.includes(a)},f=a(184);function b(){return(0,f.jsxs)(m.Z,{disabled:!0,className:"s-dream-board-entry-nightmare",children:[(0,f.jsx)(x.Z,{}),(0,f.jsx)(t.vN,{pt:"Pesadelo",en:"Nightmare"}),(0,f.jsx)(x.Z,{})]})}var g=a(8182);function y(e){var r=e.cardId,a=e.cardWidth,s=e.isDream,n=void 0!==s&&s,o=e.isNightmare,c=void 0!==o&&o,i=e.flipped,u=void 0!==i&&i,l=e.hideBlurButton,d=void 0!==l&&l,m="s-dream-board-card";return u?(0,f.jsx)(t.kM,{className:m,cardWidth:a}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(t.fe,{imageId:r,cardWidth:a,className:(0,g.Z)(m,n&&"".concat(m,"--dream"),c&&"".concat(m,"--nightmare"))}),!d&&(0,f.jsx)(t.i9,{cardId:r})]})}function C(e){var r=e.cardId,a=e.clue,s=e.previousClues,n=e.onClueChange,t=(0,i.ZK)().translate,o="".concat(t("Sonho","Dream"));return(0,f.jsx)(v.Z,{trigger:"click",title:o,content:(0,f.jsx)(S,{cardId:r,clue:a,previousClues:s,onClueChange:n}),children:(0,f.jsx)(m.Z,{block:!0,className:"s-dream-board-entry-dream",children:a||(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(x.Z,{}),o,(0,f.jsx)(x.Z,{})]})})})}function S(e){var r=e.cardId,a=e.clue,s=e.previousClues,n=e.onClueChange;return(0,f.jsxs)("div",{className:"s-dream-clue-popover",children:[(0,f.jsx)(p.Z,{defaultValue:a,onChange:n,"data-card":r}),Boolean(s.length)&&(0,f.jsxs)("div",{className:"s-dream-clue-popover__previous-clues",children:[(0,f.jsx)(t.vN,{pt:"Dicas anteriores",en:"Previous Clues"}),(0,f.jsx)("ol",{children:s.map((function(e,a){return(0,f.jsx)("li",{className:"s-dream-clue-popover__previous-clue",children:e},"pClue-".concat(r,"-").concat(a))}))})]})]})}function N(e){var r=e.table,a=e.user,s=e.localClues,n=e.setLocalClues,t=e.currentRound,o=(0,i.m3)(r.length/2,40),c=function(e){var r=e.target,a=r.value,s=r.dataset;n((function(e){var r=(0,u.Z)({},null!==e&&void 0!==e?e:{});return r[s.card]=a,r}))};return(0,f.jsx)("ul",{className:"s-dream-board",children:r.map((function(e){var r,n=Boolean(a.dreams[e.cardId]),i=a.nightmares.includes(e.cardId);return(0,f.jsxs)("li",{className:"s-dream-board-entry",style:{maxWidth:"".concat(o+20,"px")},children:[(0,f.jsx)(y,{cardId:e.cardId,cardWidth:o,flipped:!j(t,e,a.id),isDream:n,isNightmare:i}),i&&(0,f.jsx)(b,{}),n&&(0,f.jsx)(C,{cardId:e.cardId,clue:null!==(r=null===s||void 0===s?void 0:s[e.cardId])&&void 0!==r?r:"",previousClues:a.dreams[e.cardId],onClueChange:c})]},"board-".concat(e.cardId))}))})}var I=["\xe1gua","bola","calder\xe3o do huck","dedo","esmalte","fat\xeddico","ganhar","heredit\xe1rio","simp\xe1tico","abismo","rola","a branca de neve","oops i did it again","pesquisa","saborosa","amargo"];function O(e){var r=e.players,a=e.theme,s=e.user,n=e.table,u=e.onSubmitDreams,l=e.dreamsCount,d=e.currentRound,v=(0,i.r$)().isLoading,p=(0,i.ZK)().translate,x=(0,c.useState)({}),j=(0,o.Z)(x,2),b=j[0],g=j[1],y=(0,c.useState)(!1),C=(0,o.Z)(y,2),S=C[0],O=C[1];(0,c.useEffect)((function(){O(Object.keys(b).length===l&&Object.values(b).every((function(e){return Boolean(e.trim())})))}),[b,l]),(0,i.MJ)((function(){var e=(0,h.TV)(I);g(Object.keys(s.dreams).reduce((function(r,a,s){return r[a]=e[s],r}),{}))}),[]);return(0,f.jsxs)(t.h8,{fullWidth:!0,className:"s-tell-dream-step",children:[(0,f.jsx)(t.Dx,{children:(0,f.jsx)(t.Zb,{header:p("Tema","Theme"),className:"s-theme-card",randomColor:!0,footer:a.description,footerClassName:"s-theme-card__description",children:a.text})}),(0,f.jsx)(t.vr,{contained:!0,children:(0,f.jsx)(t.vN,{pt:"Clique nos bot\xf5es amarelos para escrever sua(s) dica(s). Quando terminar, aperte Enviar",en:"Click the yellow buttons to write your clue(s).When you're done, press Submit"})}),(0,f.jsx)(t.qO,{children:(0,f.jsx)(m.Z,{type:"primary",disabled:v||!S,onClick:function(){u({dreams:b})},children:(0,f.jsx)(t.vN,{pt:"Enviar",en:"Submit"})})}),(0,f.jsx)(N,{user:s,table:n,localClues:b,setLocalClues:g,currentRound:d}),(0,f.jsx)(t.qQ,{players:r})]})}function Z(){return(0,f.jsxs)(m.Z,{disabled:!0,className:"s-dream-board-entry-dream",children:[(0,f.jsx)(x.Z,{}),(0,f.jsx)(t.vN,{pt:"Sonho",en:"Dream"}),(0,f.jsx)(x.Z,{})]})}function E(e){var r=e.table,a=e.user,s=e.className,n=(0,i.m3)(r.length/2,40);return(0,f.jsx)("ul",{className:(0,g.Z)("s-dream-board",s),children:r.map((function(e){var r=Boolean(a.dreams[e.cardId]),s=a.nightmares.includes(e.cardId);return(0,f.jsxs)("li",{className:"s-dream-board-entry",style:{maxWidth:"".concat(n+20,"px")},children:[(0,f.jsx)(y,{cardId:e.cardId,cardWidth:n,isDream:r,isNightmare:s}),s&&(0,f.jsx)(b,{}),r&&(0,f.jsx)(Z,{})]},"board-".concat(e.cardId))}))})}var R=function(e){var r,a=e.state,s=e.players,d=e.info,m=(0,i.ZK)().translate,h=(0,i.aF)(s),v=(0,i.bC)(s,a),p=(0,c.useState)(0),x=(0,o.Z)(p,2),j=x[0],b=x[1],g=function(e){var r=(0,i.ZK)().translate,a=(0,i.Cq)({apiFunction:l.K3.submitAction,actionName:"submit-dreams",onBeforeCall:function(){return e(3)},onError:function(){return e(0)},successMessage:r("Sonhos submetidos com sucesso","Dreams submitted successfully"),errorMessage:r("Vixi, o aplicativo encontrou um erro ao tentar enviar seus sonhos","Oops, the application found an error while trying to submit your dreams")});return function(e){a((0,u.Z)({action:"SUBMIT_DREAMS"},e))}}(b);return(0,f.jsx)(t.JK,{info:d,phase:null===a||void 0===a?void 0:a.phase,allowedPhase:n.R.SONHOS_PESADELOS.TELL_DREAM,children:(0,f.jsxs)(t.pD,{step:j,conditions:[!v],players:s,waitingRoomContent:(0,f.jsx)(E,{user:h,table:a.table}),children:[(0,f.jsx)(t.YE,{round:a.round,buttonText:"",onPressButton:function(){return b(1)},time:5,children:(0,f.jsx)(t.vr,{contained:!0,children:(0,f.jsx)(t.vN,{pt:"Somos paranormais tentando adivinhar os sonhos dos outros...",en:"We're psychics trying to guess each others dreams..."})})}),(0,f.jsxs)(t.Cl,{type:"dream",title:m("Conte-nos sobre seu sonho","Tell us about your dream..."),onClose:function(){return b(2)},currentRound:null===a||void 0===a||null===(r=a.round)||void 0===r?void 0:r.current,children:[(0,f.jsx)(t.vr,{children:(0,f.jsx)(t.vN,{pt:(0,f.jsxs)(f.Fragment,{children:["Escreva uma dica para cada um dos seus sonhos (cartas com bordas amarelas).",(0,f.jsx)("br",{}),"Preste aten\xe7\xe3o em seus pesadelos (cartas com bordas pretas), se algu\xe9m achar que alguma de suas dicas \xe9 relacionada a um pesadelo, voc\xea n\xe3o pode ganhar nessa rodada.",(0,f.jsx)("br",{}),"Voc\xea tem ",a.dreamsCount," sonho(s) e ",a.nightmaresCount," pesadelo(s)."]}),en:(0,f.jsxs)(f.Fragment,{children:["Write a clue for each of your dreams (yellow bordered cards.",(0,f.jsx)("br",{}),"Pay attention to your nightmares (black bordered cards). If a player thinks any of your clues is related to a nightmare, you can not win this round.",(0,f.jsx)("br",{}),"You have ",a.dreamsCount," dream(s) e ",a.nightmaresCount," nightmare(s)."]})})}),(0,f.jsx)(t.L9,{hand:a.table.map((function(e){return e.cardId}))})]}),(0,f.jsx)(O,{players:s,theme:a.theme,user:h,table:a.table,onSubmitDreams:g,dreamsCount:a.dreamsCount,currentRound:a.round.current})]})})};function D(e){var r=e.clue,a=e.footer,s=e.header,n=void 0===s?"X":s,o=e.previousClues,c=void 0===o?["bola"]:o;return(0,f.jsxs)(t.Zb,{color:(0,h.Ot)(n),header:n,size:"medium",footer:a,className:"s-clue-card",footerClassName:"s-clue-card__footer",children:[r,(0,f.jsx)("ul",{children:c.map((function(e){return(0,f.jsx)("li",{className:"s-clue-card__previous--clue",children:e})}))})]})}function A(e){var r=e.clues,a=e.activeItem,n=e.onActivateItem,t=e.votes,o=e.players,c=e.currentRound,i="a-evaluation-all-cards__li-card-button";return(0,f.jsx)("ul",{className:"a-evaluation-all-cards",children:r.map((function(e,r){var u=e.cardId,l=e.clue,d=e.playerId,m=s.Z$[r],v=(0,h.O1)(["clue",u,m]),p=a===v,x=Object.keys(t).includes(v);return(0,f.jsx)("li",{role:"button",className:(0,g.Z)(i,p&&"".concat(i,"--active"),x&&"".concat(i,"--used")),onClick:function(){return n(v)},children:(0,f.jsx)(D,{clue:l[0],header:m,footer:o[d].name,previousClues:c>3?[l.slice(1)]:[]})},v)}))})}function w(e){var r=e.onActivateItem,a=e.cardEntryId;return(0,f.jsxs)(m.Z,{ghost:!0,block:!0,size:"small",onClick:function(){return r(a)},children:[(0,f.jsx)(x.Z,{}),(0,f.jsx)(t.vN,{pt:"Selecionar",en:"Select"}),(0,f.jsx)(x.Z,{})]})}function _(e){var r=e.table,a=e.user,s=e.activeItem,n=e.onActivateItem,o=e.votes,c=(0,i.m3)(r.length/2,40),u="a-evaluation-all-drawings__li-drawing-button";return(0,f.jsx)("ul",{className:"s-dream-board",children:r.map((function(e){var r=Boolean(a.dreams[e.cardId]),i=a.nightmares.includes(e.cardId),l=(0,h.O1)(["card",e.cardId]),d=s===l,m=function(e,r){return Object.keys(e).find((function(a){return e[a]===r}))}(o,l);return(0,f.jsxs)("li",{className:(0,g.Z)("s-dream-board-entry",u,d&&"".concat(u,"--active")),style:{maxWidth:"".concat(c+20,"px")},children:[m&&(0,f.jsx)(t.Vy,{label:m.charAt(m.length-1)}),(0,f.jsx)(y,{cardId:e.cardId,cardWidth:c,isDream:r,isNightmare:i}),r?(0,f.jsx)(Z,{}):(0,f.jsx)(w,{cardEntryId:l,onActivateItem:n})]},"board-".concat(e.cardId))}))})}function L(e){var r=e.players,a=e.user,n=e.table,o=e.onSubmitVotes,l=e.clues,d=e.currentRound,v=(0,i.r$)().isLoading,p=(0,i.ZK)().translate,x=(0,i.Bx)("clue",!1,l.length),j=x.votes,b=x.setVotes,g=x.activeItem,y=x.activateItem,C=x.isVotingComplete;(0,c.useEffect)((function(){var e=l.reduce((function(e,r,n){if(r.playerId===a.id){var t=(0,h.O1)(["clue",r.cardId,s.Z$[n]]),o=(0,h.O1)(["card",r.cardId]);e[t]=o}return e}),{});e&&b((function(r){return(0,u.Z)((0,u.Z)({},r),e)}))}),[]),(0,i.MJ)((function(){var e=n.filter((function(e){return e.dreamer&&e.dreamer!==a.id})).map((function(e){return(0,h.O1)(["card",e.cardId])})),r=(0,h.TV)(l.map((function(e,r){return(0,h.O1)(["clue",e.cardId,s.Z$[r]])})).filter((function(e){return!Object.keys(j).includes(e)}))).reduce((function(r,a,s){return r[a]=e[s],r}),{});r&&b((function(e){return(0,u.Z)((0,u.Z)({},e),r)}))}),[]);return(0,f.jsxs)(t.h8,{fullWidth:!0,className:"s-tell-dream-step",children:[(0,f.jsx)(t.Dx,{children:p("Adivinha\xe7\xe3o","Match the Pairs")}),(0,f.jsx)(t.vr,{contained:!0,children:(0,f.jsx)(t.vN,{pt:"Clique em uma carta e ent\xe3o uma bot\xe3o da imagem correspondente ou vice e versa. Aperte enviar quando terminar te combinar todas as dicas.",en:"Click on a clue then on an image button or vice versa. When you're done matching all clues, press Submit."})}),(0,f.jsx)(t.qO,{children:(0,f.jsx)(m.Z,{type:"primary",disabled:v||!C,onClick:function(){o({votes:j})},children:(0,f.jsx)(t.vN,{pt:"Enviar",en:"Submit"})})}),(0,f.jsx)(A,{clues:l,activeItem:g,onActivateItem:y,votes:j,players:r,currentRound:d}),(0,f.jsx)(_,{user:a,table:n,activeItem:g,onActivateItem:y,votes:j}),(0,f.jsx)(t.qQ,{players:r})]})}var k=function(e){var r,a,s=e.state,u=e.players,l=e.info,m=(0,i.ZK)().translate,h=(0,i.aF)(u),v=(0,i.bC)(u,s),p=(0,c.useState)(0),x=(0,o.Z)(p,2),j=x[0],b=x[1],g=d(b);return(0,f.jsx)(t.JK,{info:l,phase:null===s||void 0===s?void 0:s.phase,allowedPhase:n.R.SONHOS_PESADELOS.MATCH,children:(0,f.jsxs)(t.pD,{step:j,conditions:[!v],players:u,waitingRoomContent:(0,f.jsx)(E,{user:h,table:s.table}),children:[(0,f.jsx)(t.Cl,{type:"evaluate",title:m("Selecione os pares","Match the dreams"),onClose:function(){return b(1)},currentRound:null===s||void 0===s||null===(r=s.round)||void 0===r?void 0:r.current,children:(0,f.jsx)(t.vr,{children:(0,f.jsx)(t.vN,{pt:(0,f.jsxs)(f.Fragment,{children:["Selecione os pares de dica e carta.",(0,f.jsx)("br",{}),"Se voc\xea acertas todas, voc\xea ganha o jogo.",(0,f.jsx)("br",{}),"Dica: Seus pesadelos podem ser o sonho de outra pessoa."]}),en:(0,f.jsxs)(f.Fragment,{children:["Match the pairs of cards and clues.",(0,f.jsx)("br",{}),"If you match all of them correctly, you win the game.",(0,f.jsx)("br",{}),"Hint: Your nightmares may be the dream of another player."]})})})}),(0,f.jsx)(L,{players:u,user:h,table:s.table,onSubmitVotes:g,dreamsCount:s.dreamsCount,clues:s.clues,currentRound:null===s||void 0===s||null===(a=s.round)||void 0===a?void 0:a.current})]})})},T=a(785);function F(e){var r,a=e.results,n=e.user,c=e.clues,u=e.table,l=e.round,d=(0,i.ZK)().translate,m=a[n.id],h=Object.entries(null!==(r=null===n||void 0===n?void 0:n.votes)&&void 0!==r?r:{}).reduce((function(e,r){var a=(0,o.Z)(r,2),t=a[0],i=a[1].split(s.UD)[1];if(Boolean(n.dreams[i]))return e;var u=t.split(s.UD)[2];return e.push({cardId:i,clue:c[s.Z$.indexOf(u)].clue}),e}),[]);return(0,f.jsxs)(t.h8,{fullWidth:!0,className:"s-results-step",children:[(0,f.jsx)(t.Dx,{children:d("Resultado","Results")}),(0,f.jsxs)(t.vr,{contained:!0,children:[(0,f.jsx)("div",{className:"s-result-correct",children:m.correct}),(0,f.jsx)("div",{children:(0,f.jsx)(t.vN,{pt:"pares corretos",en:"correct pairs"})}),(0,f.jsx)("ul",{className:"s-results-current-votes",children:h.map((function(e){return(0,f.jsxs)("li",{className:"s-results-current-vote",children:[(0,f.jsx)(y,{cardId:e.cardId,cardWidth:80,hideBlurButton:!0}),(0,f.jsx)("ul",{className:"s-results-clues",children:e.clue.map((function(e,r){return(0,f.jsxs)(f.Fragment,{children:[1===r&&(0,f.jsx)("li",{className:"s-results-clues-label",children:(0,f.jsx)(t.vN,{pt:"Dicas no mesmo grupo:",en:"Clues on the same group:"})},"label-".concat(r)),(0,f.jsx)("li",{className:"s-results-clues-item",children:e},e)]})}))})]},"current-votes-".concat(e.cardId))}))}),Boolean(m.nightmareHits.length)&&(0,f.jsx)(T.Z,{type:"warning",showIcon:!0,message:d("Seus pesadelos foram selecionados ".concat(m.nightmareHits.length," veze(s) por um ou mais jogadores achando que eles eram seus sonhos. Voc\xea n\xe3o pode ganhar nessa rodada quando isso acontece."),"You dreams were selected ".concat(m.nightmareHits.length," time(s) by one or more players thinking they match one of your clues. You can't win this round when this happens."))})]}),(0,f.jsx)(E,{table:u,user:n,className:"s-dream-board-results"}),(0,f.jsx)(t.wU,{round:l})]})}var P=function(e){var r,a=e.state,s=e.players,u=e.info,l=(0,i.ZK)().translate,d=(0,i.aF)(s),m=(0,i.bC)(s,a),h=(0,c.useState)(0),v=(0,o.Z)(h,2),p=v[0],x=v[1];return(0,f.jsx)(t.JK,{info:u,phase:null===a||void 0===a?void 0:a.phase,allowedPhase:n.R.SONHOS_PESADELOS.RESOLUTION,children:(0,f.jsxs)(t.pD,{step:p,conditions:[!m],players:s,waitingRoomContent:(0,f.jsx)(E,{user:d,table:a.table}),children:[(0,f.jsx)(t.Cl,{type:"countdown",title:l("Resultado","Results"),onClose:function(){return x(1)},currentRound:null===a||void 0===a||null===(r=a.round)||void 0===r?void 0:r.current,children:(0,f.jsx)(t.vr,{children:(0,f.jsx)(t.vN,{pt:(0,f.jsxs)(f.Fragment,{children:["E a\xed, como voc\xea se saiu?",(0,f.jsx)("br",{}),"Voc\xea ganha o jogo se tiver acertado todos os pares...",(0,f.jsx)("br",{}),"E se ningu\xe9m achou que alguma de seus pesadelos eram relacionados com sua dica."]}),en:(0,f.jsxs)(f.Fragment,{children:["So how did you do?",(0,f.jsx)("br",{}),"You win the game if you have found the most pairs...",(0,f.jsx)("br",{}),"And nobody thought one of your nightmares were related to one of your clues."]})})})}),(0,f.jsx)(F,{user:d,results:a.results,clues:a.clues,table:a.table,round:a.round})]})})};var B=function(e){var r=e.state,a=e.info;return(0,f.jsx)(t.Ss,{info:a,state:r,announcementIcon:"trophy"})};var H=function(e){var r,a,s=e.state,u=e.players,l=e.info,m=(0,i.ZK)().translate,h=(0,i.aF)(u),v=(0,i.bC)(u,s),p=(0,c.useState)(0),x=(0,o.Z)(p,2),j=x[0],b=x[1],g=d(b);return(0,f.jsx)(t.JK,{info:l,phase:null===s||void 0===s?void 0:s.phase,allowedPhase:n.R.SONHOS_PESADELOS.LAST_CHANCE,className:"s-phase",children:(0,f.jsxs)(t.pD,{step:j,conditions:[!v],players:u,waitingRoomContent:(0,f.jsx)(E,{user:h,table:s.table}),children:[(0,f.jsx)(t.YE,{round:s.round,buttonText:"",onPressButton:function(){return b(1)},time:5,children:(0,f.jsx)(t.vr,{contained:!0,children:(0,f.jsx)(t.vN,{pt:"E n\xe3o era pra ter somente 5 rodadas?",en:"Weren't we supposed to have only 5 rounds?"})})}),(0,f.jsx)(t.Cl,{type:"knowledge",title:m("\xdaltima Chance!","Last Chance"),onClose:function(){return b(2)},currentRound:null===s||void 0===s||null===(r=s.round)||void 0===r?void 0:r.current,children:(0,f.jsx)(t.vr,{children:(0,f.jsx)(t.vN,{pt:(0,f.jsxs)(f.Fragment,{children:["J\xe1 que ningu\xe9m ganhou at\xe9 agora, voc\xea tem uma \xfaltima chance de marcar os pares corretos.",(0,f.jsx)("br",{}),"Dessa vez, quem acertar o maior n\xfamero de pares ganha."]}),en:(0,f.jsxs)(f.Fragment,{children:["Since nobody won so far, you have a last chance to match the pairs correctly.",(0,f.jsx)("br",{}),"This time, whoever gets the most matches win."]})})})}),(0,f.jsx)(L,{players:u,user:h,table:s.table,onSubmitVotes:g,dreamsCount:s.dreamsCount,clues:s.clues,currentRound:null===s||void 0===s||null===(a=s.round)||void 0===a?void 0:a.current})]})})};var M=function(e){var r=e.gameId;return(0,f.jsx)(t.z_,{gameId:r,gameCollection:s.H$.SONHOS_PESADELOS,getActiveComponent:function(e){switch(e){case n.R.DEFAULT.LOBBY:return t.Uc;case n.R.DEFAULT.RULES:return t.hj;case n.R.DEFAULT.SETUP:return t.Z8;case n.R.SONHOS_PESADELOS.TELL_DREAM:return R;case n.R.SONHOS_PESADELOS.MATCH:return k;case n.R.SONHOS_PESADELOS.RESOLUTION:return P;case n.R.SONHOS_PESADELOS.LAST_CHANCE:return H;case n.R.DEFAULT.GAME_OVER:return B;default:return t.SR}}})}}}]);
//# sourceMappingURL=242.a27e8aef.chunk.js.map