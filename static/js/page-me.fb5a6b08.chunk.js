"use strict";(self.webpackChunktardedivertida=self.webpackChunktardedivertida||[]).push([[2367],{18259:function(e,r,n){n.d(r,{c:function(){return y}});var s=n(33032),a=n(50678),t=n(84322),i=n.n(t),o=n(72791),u=n(91933),l=n(44744),c=n(7085),d=n(33424),m=n(2964),p=n(87309),f=n(46988),x=n(44086),h=n(20670),g=n(36436),j=n(82741),v=n(40931),Z=n(80184);function y(e){var r=e.onSuccess,n=l.Z.useForm(),t=(0,a.Z)(n,1)[0],f=(0,h.Z)().translate,v=(0,o.useState)(!1),y=(0,a.Z)(v,2),b=y[0],C=y[1],N=(0,u.useQuery)({queryKey:"sign-in",queryFn:function(){var e=(0,s.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.zB)(t.getFieldValue("username"),t.getFieldValue("password"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),enabled:!1,onSuccess:function(){r()}}),q=N.isLoading,S=N.refetch,F=N.isError;return(0,Z.jsxs)("div",{className:"sign-in",children:[(0,Z.jsx)("div",{className:"sign-in__logo",children:(0,Z.jsx)(c.Z,{src:g.Z,preview:!1})}),(0,Z.jsxs)(l.Z,{name:"login",form:t,labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},initialValues:{remember:!0},onFinish:function(){S()},autoComplete:"off",children:[(0,Z.jsx)(l.Z.Item,{label:(0,Z.jsx)(j.vN,{pt:"E-mail",en:"E-mail"}),name:"username",rules:[{required:!0,message:f("e-mail \xe9 um campo obrigat\xf3rio","e-mail is required")}],children:(0,Z.jsx)(d.Z,{})}),(0,Z.jsx)(l.Z.Item,{label:(0,Z.jsx)(j.vN,{pt:"Senha",en:"Password"}),name:"password",rules:[{required:!0,message:f("e-mail \xe9 um campo obrigat\xf3rio","e-mail is required")}],help:f("M\xednimo 6 caracteres","Minimum of 6 characters"),children:(0,Z.jsx)(d.Z.Password,{})}),F&&(0,Z.jsx)(l.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,Z.jsx)(m.Z,{description:(0,Z.jsx)(j.vN,{pt:"Algo deu errado, tente novamente",en:"Something went wrong. Please try again"}),type:"error",showIcon:!0,className:"sign-in__error-alert"})}),(0,Z.jsxs)(l.Z.Item,{wrapperCol:{offset:8,span:16},children:[(0,Z.jsx)(p.ZP,{type:"primary",htmlType:"submit",disabled:q,children:(0,Z.jsx)(j.vN,{pt:"Entrar",en:"Submit"})}),(0,Z.jsx)(p.ZP,{type:"link",onClick:function(){return C((function(e){return!e}))},children:(0,Z.jsx)(j.vN,{pt:"Esqueci minha senha",en:"Forgot my password"})})]})]}),b&&(0,Z.jsx)(m.Z,{type:"info",message:(0,Z.jsx)(w,{email:t.getFieldValue("username"),onSuccess:function(){return C(!1)}})})]})}function w(e){var r=e.email,n=e.onSuccess,t=l.Z.useForm(),o=(0,a.Z)(t,1)[0],c=(0,h.Z)().translate,g=(0,u.useQuery)({queryKey:"forgot-password",queryFn:function(){var e=(0,s.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.c0)(o.getFieldValue("username"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),enabled:!1,onSuccess:function(){n(),f.ZP.success(c("Verifique seu e-mail enviado para redefinir a sua senha","Verify your email to reset your password"))}}),y=g.isLoading,w=g.refetch,b=g.isError;return(0,Z.jsxs)(l.Z,{name:"forgot-password",form:o,labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},initialValues:{username:r,remember:!0},onFinish:function(){w()},autoComplete:"off",children:[(0,Z.jsx)(l.Z.Item,{children:(0,Z.jsx)(v.Dx,{level:4,size:"xx-small",children:(0,Z.jsx)(j.vN,{pt:"Redefinir a senha",en:"Password Reset"})})}),(0,Z.jsx)(l.Z.Item,{label:(0,Z.jsx)(j.vN,{pt:"E-mail",en:"E-mail"}),name:"username",rules:[{required:!0,message:c("e-mail \xe9 um campo obrigat\xf3rio","e-mail is required")}],children:(0,Z.jsx)(d.Z,{})}),b&&(0,Z.jsx)(l.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,Z.jsx)(m.Z,{description:(0,Z.jsx)(j.vN,{pt:"Algo deu errado, provavelmente este e-mail n\xe3o existe no banco de dados da Tarde Divertida",en:"Something went wrong. Please try again"}),type:"error",showIcon:!0,className:"sign-in__error-alert"})}),(0,Z.jsx)(l.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,Z.jsx)(p.ZP,{type:"primary",htmlType:"submit",disabled:y,children:(0,Z.jsx)(j.vN,{pt:"Enviar",en:"Submit"})})})]})}},98641:function(e,r,n){n.r(r),n.d(r,{default:function(){return x}});var s=n(50678),a=n(66509),t=n(1918),i=n(58288),o=n(76591),u=n(18259),l=n(82741),c=n(80184);function d(e){var r=e.isAuthenticated;return(0,c.jsx)(i.Z,{open:!r,title:(0,c.jsx)(l.vN,{pt:"Logar",en:"LogIn"}),cancelText:(0,c.jsx)(l.vN,{pt:"Cancelar",en:"Cancel"}),onCancel:o.dG,okButtonProps:{style:{display:"none"}},cancelButtonProps:{style:{display:"none"}},closable:!1,children:(0,c.jsx)(u.c,{onSuccess:o.dG})})}var m=n(49771),p=(n(76738),n(72791)),f=n(3224);var x=function(){(0,a.Z)("Me - Tarde Divertida");var e=(0,t.O)(),r=e.isAuthenticated,n=e.currentUser,i=(0,f.j1)("language"),o=(0,s.Z)(i,2)[1];return(0,p.useEffect)((function(){n.language&&o(n.language)}),[n.language,o]),(0,c.jsx)(m.O,{user:n,additionalContent:(0,c.jsx)(d,{isAuthenticated:r})})}}}]);
//# sourceMappingURL=page-me.fb5a6b08.chunk.js.map