{"version":3,"file":"static/js/labirinto-secreto.ab397c15.chunk.js","mappings":"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","sources":["components/cards/ItemCard.tsx","components/cards/Card.tsx","components/mouse/MouseFollowingContent.tsx","components/slide-show/SlideShowControls.tsx","components/phases/PhaseWait.tsx","games/labirinto-secreto/utils/constants.ts","games/labirinto-secreto/components/TreeImage.tsx","games/labirinto-secreto/components/PlayerSelection.tsx","games/labirinto-secreto/utils/helpers.ts","games/labirinto-secreto/utils/mocks.ts","games/labirinto-secreto/components/ForestTree.tsx","games/labirinto-secreto/components/Forest.tsx","hooks/useScreenSize.ts","games/labirinto-secreto/components/Highlights.tsx","games/labirinto-secreto/components/MapBuilder.tsx","games/labirinto-secreto/StepBuildMap.tsx","games/labirinto-secreto/StepBuildWait.tsx","games/labirinto-secreto/PhaseMapBuilding.tsx","games/labirinto-secreto/utils/api-requests.ts","games/labirinto-secreto/components/MapEntry.tsx","games/labirinto-secreto/components/PlayerMap.tsx","games/labirinto-secreto/components/ClickableForest.tsx","games/labirinto-secreto/StepFollowPath.tsx","games/labirinto-secreto/StepPathWaiting.tsx","games/labirinto-secreto/PhasePathFollowing.tsx","games/labirinto-secreto/StepRanking.tsx","games/labirinto-secreto/components/ResultsSummary.tsx","games/labirinto-secreto/StepGallery.tsx","games/labirinto-secreto/PhaseResults.tsx","games/labirinto-secreto/utils/achievements.ts","games/labirinto-secreto/PhaseGameOver.tsx","games/labirinto-secreto/SessionLabirintoSecreto.tsx","hooks/useSlideShow.ts","icons/AnimatedProcessingIcon.tsx","icons/FlagIcon.tsx","icons/LocationIcon.tsx","../node_modules/@ant-design/icons-svg/es/asn/CaretUpOutlined.js","../node_modules/@ant-design/icons/es/icons/CaretUpOutlined.js"],"sourcesContent":["import clsx from 'clsx';\n// Components\nimport { DualTranslate } from 'components/language';\nimport { Sprite } from 'components/sprites';\n// Sass\nimport './ItemCard.scss';\n\nexport type ItemCardProps = {\n  /**\n   * The id of the item\n   */\n  id: string;\n  /**\n   * The width of the item\n   */\n  width?: number;\n  /**\n   * Optional class name\n   */\n  className?: string;\n  /**\n   * Replacement title, usually the name of the item\n   */\n  title?: string;\n  /**\n   * Optional text to display\n   */\n  text?: DualLanguageValue;\n  /**\n   * Optional padding\n   */\n  padding?: number;\n};\n\nconst BASE = 64;\n\n/**\n * Retrieves the source and item ID based on a given string.\n *\n * @param str - The input string.\n * @returns An array containing the source and item ID.\n */\nexport const getSource = (str: string) => {\n  const match = str.match(/\\d+/);\n  const numId = match ? Number.parseInt(match[0], 10) : 0;\n  const itemId = `item-${numId}`;\n  const sourceId = Math.ceil(numId / BASE) * BASE;\n  const source = `items-${sourceId}`;\n  return [source, itemId];\n};\n\n/**\n * An item card component.\n */\nexport function ItemCard({ id, width = 75, className, title, text, padding }: ItemCardProps) {\n  const [source, itemId] = getSource(id);\n\n  const height = text ? 'auto' : `${width}px`;\n  const divPadding = padding === 0 ? { padding: 0 } : {};\n\n  return (\n    <div className={clsx('item-card', className)} style={{ width: `${width}px`, height, ...divPadding }}>\n      <Sprite source={source} id={itemId} width={width} title={title} padding={padding} />\n      {!!text && (\n        <span className=\"item-card__text\">\n          <DualTranslate>{text}</DualTranslate>\n        </span>\n      )}\n    </div>\n  );\n}\n","import clsx from 'clsx';\nimport type { ReactNode } from 'react';\n// Utils\nimport { getColorFromLetter } from 'utils/helpers';\n// Sass\nimport './Card.scss';\n\ntype CardProps = {\n  /**\n   * The content of the component\n   */\n  children: ReactNode;\n  header?: string;\n  footer?: string;\n  color?: string;\n  size?: 'small' | 'medium' | 'large';\n  randomColor?: boolean;\n  /**\n   * Optional custom class name\n   */\n  className?: string;\n  headerClassName?: string;\n  footerClassName?: string;\n  hideHeader?: boolean;\n};\nexport const Card = ({\n  children,\n  header = 'Carta',\n  footer,\n  color = 'none',\n  size = 'medium',\n  randomColor = false,\n  className = '',\n  headerClassName = '',\n  footerClassName = '',\n  hideHeader = false,\n}: CardProps) => {\n  const baseClass = 'card';\n\n  const bgColor = randomColor\n    ? getColorFromLetter(\n        typeof children === 'string'\n          ? children[0].toUpperCase()\n          : header !== 'Carta'\n            ? header[0].toUpperCase()\n            : 'X',\n      )\n    : color;\n\n  return (\n    <div className={clsx(baseClass, `${baseClass}--${size}`, className)}>\n      {!hideHeader && (\n        <span\n          className={clsx(`${baseClass}__header`, `color-background--${bgColor}`, headerClassName)}\n          style={color.startsWith('#') ? { backgroundColor: color } : {}}\n        >\n          {header}\n        </span>\n      )}\n      <span className={`${baseClass}__text`}>{children}</span>\n      {footer && <span className={clsx(`${baseClass}__footer`, footerClassName)}>{footer}</span>}\n    </div>\n  );\n};\n","import clsx from 'clsx';\nimport { type ReactNode, useEffect, useRef } from 'react';\n// Utils\nimport { getAnimationClass } from 'utils/helpers';\n// Sass\nimport './MouseFollowingContent.scss';\n\ntype MouseTrackedContentProps = {\n  /**\n   * The content to be rendered.\n   */\n  children: ReactNode;\n  /**\n   * Optional class name to be added to the `<div>` element.\n   */\n  className?: string;\n  /**\n   * Whether the content should be rendered or not.\n   */\n  active?: boolean;\n  /**\n   * Styles the wrapper div with a `contained` class.\n   */\n  contained?: boolean;\n};\n\n/**\n * A React component that renders a `<div>` element that follows the mouse cursor within the browser window.\n */\nexport function MouseFollowingContent({\n  children,\n  className = '',\n  contained = false,\n  active,\n}: MouseTrackedContentProps) {\n  if (!active) {\n    return <></>;\n  }\n\n  return (\n    <MouseFollowingContentInternal className={className} contained={contained}>\n      {children}\n    </MouseFollowingContentInternal>\n  );\n}\n\nfunction MouseFollowingContentInternal({\n  children,\n  contained,\n  className = '',\n}: Partial<MouseTrackedContentProps>) {\n  const divRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const handleMouseMove = (e: MouseEvent) => {\n      if (divRef.current) {\n        divRef.current.style.left = `${e.clientX + 16}px`;\n        divRef.current.style.top = `${e.clientY + 16}px`;\n      }\n    };\n\n    document.addEventListener('mousemove', handleMouseMove);\n\n    return () => {\n      document.removeEventListener('mousemove', handleMouseMove);\n    };\n  }, []);\n\n  return (\n    <div\n      ref={divRef}\n      className={clsx(\n        'mouse-following-content',\n        contained && 'mouse-following-content--contained',\n        getAnimationClass('bounceIn'),\n        className,\n      )}\n    >\n      {children}\n    </div>\n  );\n}\n","import { useEffect, useMemo } from 'react';\n// Ant Design Resources\nimport {\n  PauseOutlined,\n  PlayCircleOutlined,\n  StepBackwardOutlined,\n  StepForwardOutlined,\n  TrophyOutlined,\n} from '@ant-design/icons';\nimport { Button, type ButtonProps, Space } from 'antd';\n// Hooks\nimport { useCountdown } from 'hooks/useCountdown';\nimport type { SlideShowConfig } from 'hooks/useSlideShow';\n// Utils\nimport { getAnimationClass } from 'utils/helpers';\n// Components\nimport { Translate } from 'components/language';\n\ntype SlideShowControlsProps = {\n  /**\n   * Slide show configuration provided by useSlideShow\n   */\n  config: SlideShowConfig;\n  /**\n   * The color of the progress bar (default: gray)\n   */\n  barColor: string;\n  /**\n   * Prop indicating if the controls should be disabled\n   */\n  disableControls?: boolean;\n  /**\n   * Next Button props (See Ranking Button)\n   */\n  nextButtonProps?: ButtonProps;\n};\n\nexport function SlideShowControls({\n  config,\n  disableControls,\n  barColor = 'gray',\n  nextButtonProps,\n}: SlideShowControlsProps) {\n  const slideDuration = config.slideDuration ?? 10;\n  const totalDuration = slideDuration * config.length;\n  const { timeLeft, isRunning, pause, resume } = useCountdown({\n    duration: totalDuration,\n    autoStart: true,\n    onExpire: () => config.onExpire(),\n  });\n  const disableControlsFlag = disableControls ?? config.isFirstGalleryRunThrough;\n\n  // Automatically go to the next window every {windowDuration} seconds\n  // biome-ignore lint/correctness/useExhaustiveDependencies: isRunning shouldn't retrigger the effect\n  useEffect(() => {\n    const expectedSlideIndex = Math.max(\n      0,\n      Math.min(config.length - 1, Math.floor((totalDuration - timeLeft) / slideDuration)),\n    );\n    if (isRunning && timeLeft < totalDuration && timeLeft > 0 && expectedSlideIndex !== config.slideIndex) {\n      config.setSlideIndex(expectedSlideIndex);\n    }\n    return () => {};\n  }, [timeLeft, config, slideDuration, totalDuration]);\n\n  const goToPreviousSlide = () => {\n    pause();\n    config.setSlideIndex((s: number) => Math.max(s - 1, 0));\n  };\n\n  const goToNextSlide = () => {\n    pause();\n    config.setSlideIndex((s: number) => Math.min(s + 1, config.length - 1));\n  };\n\n  const slots = useMemo(() => {\n    return Array(config.length)\n      .fill('')\n      .map((e, i) => {\n        return (\n          <div\n            key={`control-timer-bar-${e + i}`}\n            className=\"slide-show__controls-timer-bar-node\"\n            style={{ width: `${99 / config.length}%` }}\n          >\n            {e}\n          </div>\n        );\n      });\n  }, [config.length]);\n\n  return (\n    <div className=\"slide-show__controls\">\n      <div className=\"slide-show__controls-timer-bar\">\n        <div className=\"slide-show__controls-timer-bar-base\">{slots}</div>\n        <span\n          className=\"slide-show__controls-timer-bar-pill\"\n          style={{\n            width: `${calculateProgress(totalDuration, timeLeft)}%`,\n            backgroundColor: barColor,\n          }}\n        ></span>\n      </div>\n\n      <Space style={{ opacity: disableControlsFlag ? 0 : 100 }} className={getAnimationClass('fadeIn')}>\n        <Button\n          size=\"large\"\n          icon={<StepBackwardOutlined />}\n          onClick={goToPreviousSlide}\n          disabled={disableControlsFlag || config.slideIndex === 0}\n        >\n          <Translate pt=\"Anterior\" en=\"Previous\" />\n        </Button>\n        <Button\n          size=\"large\"\n          icon={isRunning ? <PauseOutlined /> : <PlayCircleOutlined />}\n          onClick={isRunning ? pause : resume}\n        />\n        <Button\n          size=\"large\"\n          onClick={goToNextSlide}\n          disabled={disableControlsFlag || config.slideIndex === config.length - 1}\n        >\n          <Translate pt=\"Próximo\" en=\"Next\" /> <StepForwardOutlined />\n        </Button>\n        <Button\n          {...nextButtonProps}\n          size=\"large\"\n          onClick={() => config.onExpire()}\n          icon={nextButtonProps?.icon ?? <TrophyOutlined />}\n          disabled={disableControlsFlag}\n        >\n          {nextButtonProps?.children ?? <Translate pt=\"Ver Ranking\" en=\"See Ranking\" />}\n        </Button>\n      </Space>\n    </div>\n  );\n}\n\nfunction calculateProgress(totalDuration: number, timeLeft: number): number {\n  if (totalDuration === 0) return 100; // Handle case to avoid division by zero\n  return (1 - timeLeft / totalDuration) * 100;\n}\n","// Types\nimport type { GameState } from 'types/game';\nimport type { GameInfo } from 'types/game-info';\n// Utils\nimport { PHASES } from 'utils/phases';\n// Icons\nimport { AnimatedProcessingIcon } from 'icons/AnimatedProcessingIcon';\n// Components\nimport { Translate } from 'components/language';\nimport { Instruction, Title } from 'components/text';\n// Internal\nimport { PhaseContainer } from './PhaseContainer';\n\ntype PhaseWaitProps = {\n  info: GameInfo;\n  state: GameState;\n};\n\nexport function PhaseWait({ state }: PhaseWaitProps) {\n  return (\n    <PhaseContainer phase={state?.phase} allowedPhase={PHASES.DEFAULT.WAIT} className=\"setup\">\n      <div className=\"phase-announcement\">\n        <Title>\n          <Translate pt=\"Processando...\" en=\"Processing...\" />\n        </Title>\n\n        <AnimatedProcessingIcon className=\"phase-announcement__icon\" />\n\n        <Instruction>\n          <Translate pt=\"Aguarde um momento\" en=\"Just a moment\" />\n        </Instruction>\n      </div>\n    </PhaseContainer>\n  );\n}\n","// Internal\nimport type { Direction } from './types';\n\nexport const LABIRINTO_SECRETO_ACTIONS = {\n  SUBMIT_MAP: 'SUBMIT_MAP',\n  SUBMIT_PATH: 'SUBMIT_PATH',\n} as const;\n\nexport const FOREST_WIDTH = 7;\nexport const FOREST_HEIGHT = 5;\n\nexport const DIRECTIONS: Record<string, Direction> = {\n  UP: 'UP',\n  RIGHT: 'RIGHT',\n  DOWN: 'DOWN',\n  LEFT: 'LEFT',\n  UP_LEFT: 'UP_LEFT',\n  UP_RIGHT: 'UP_RIGHT',\n  DOWN_LEFT: 'DOWN_LEFT',\n  DOWN_RIGHT: 'DOWN_RIGHT',\n};\n\nexport const SLIDE_DURATION = 15;\n","import clsx from 'clsx';\n// Ant Design Resources\nimport { Tooltip } from 'antd';\n// Components\nimport { getSource } from 'components/cards/ItemCard';\nimport { TreeCard } from 'components/cards/TreeCard';\nimport { Sprite } from 'components/sprites';\n\ntype TreeImageProps = {\n  id: string | number;\n  text: string;\n  width?: number;\n  className?: string;\n};\n\nexport function TreeImage({ id, text, width = 100, className }: TreeImageProps) {\n  if (typeof id === 'string') {\n    const [source, itemId] = getSource(id);\n\n    return (\n      <div className={clsx('tree-card', className)} style={{ width: `${width}px` }}>\n        <Sprite source={source} id={itemId} width={width} title={text} />\n        <Tooltip title={text}>\n          <div className=\"tree-card__text\">{text}</div>\n        </Tooltip>\n      </div>\n    );\n  }\n\n  return <TreeCard id={String(id)} text={text} width={width} className={className} />;\n}\n","// Icons\nimport { NoIcon } from 'icons/NoIcon';\n// Components\nimport { IconAvatar } from 'components/avatars';\nimport { SpaceContainer } from 'components/layout/SpaceContainer';\n// Internal\nimport type { ExtendedTextCard, MapSegment, Tree } from '../utils/types';\nimport { TreeImage } from './TreeImage';\n\ntype PlayerSelectionMapProps = {\n  forest: Tree[];\n  map?: MapSegment[];\n  newMap?: (ExtendedTextCard | null)[];\n};\n\nexport function PlayerSelectionMap({ forest, map, newMap }: PlayerSelectionMapProps) {\n  if (!newMap || !map) {\n    return <></>;\n  }\n\n  const userMap: MapSegment[] = (map ?? []).filter((segment: MapSegment) => !segment.passed);\n\n  return (\n    <SpaceContainer wrap>\n      {userMap.map((segment, index) => {\n        const { treeId, passed } = segment;\n        const tree = forest[treeId];\n        const mapLocation = newMap?.[index];\n        return (\n          <div key={treeId} className=\"map-builder__segment\">\n            {!!mapLocation && (\n              <div className=\"map-builder__card map-builder__card--new\">\n                {mapLocation.text}\n                {mapLocation?.negate && (\n                  <IconAvatar icon={<NoIcon />} size=\"small\" className=\"map-builder__card-no\" />\n                )}\n              </div>\n            )}\n            {segment.clues.map((clue) => {\n              return (\n                <div className=\"map-builder__card\" key={`card-${segment.index}-${clue.id}`}>\n                  {clue.text}\n                  {clue?.negate && (\n                    <IconAvatar icon={<NoIcon />} size=\"small\" className=\"map-builder__card-no\" />\n                  )}\n                </div>\n              );\n            })}\n\n            <TreeImage id={tree.treeType} text={passed ? '' : tree.card.text} />\n          </div>\n        );\n      })}\n    </SpaceContainer>\n  );\n}\n","// Types\nimport type { GamePlayer, GamePlayers } from 'types/player';\n// Internal\nimport type { Direction, MapSegment, PlayerMapping, Point, TreeId } from './types';\nimport { DIRECTIONS, FOREST_HEIGHT, FOREST_WIDTH } from './constants';\n\n/**\n * Check if a point is on the edge of the forest\n * @param point - point to check\n * @returns - true if point is on the edge\n */\nexport const checkEdge = (point: Point): boolean => {\n  const [x, y] = point;\n  if (x === 0 || x === FOREST_WIDTH - 1 || y === 0 || y === FOREST_HEIGHT - 1) {\n    return true;\n  }\n  return false;\n};\n\n/**\n * Get the index of a point in the forest\n * @param point - point to get index of\n * @returns - index of point\n */\nexport const getIndex = (point: Point): number => {\n  const [x, y] = point;\n  return x + y * FOREST_WIDTH;\n};\n\n/**\n * Get the point of an index in the forest\n * @param index\n * @returns\n */\nexport const getPoint = (index: number): Point => {\n  const x = index % FOREST_WIDTH;\n  const y = Math.floor(index / FOREST_WIDTH);\n  return [x, y];\n};\n\nexport const getOriginDirection = (index: TreeId): Direction | null => {\n  const point = getPoint(index);\n  const [x, y] = point;\n  if (x === 0) return DIRECTIONS.LEFT;\n  if (x === FOREST_WIDTH - 1) return DIRECTIONS.RIGHT;\n  if (y === 0) return DIRECTIONS.UP;\n  if (y === FOREST_HEIGHT - 1) return DIRECTIONS.DOWN;\n  return null;\n};\n\nexport const getDirection = (from: TreeId, to: TreeId): Direction => {\n  const [fromX, fromY] = getPoint(from);\n  const [toX, toY] = getPoint(to);\n  const result = toX - fromX + (toY - fromY) * FOREST_WIDTH;\n  if (result === 1) return DIRECTIONS.RIGHT;\n  if (result === -1) return DIRECTIONS.LEFT;\n  if (result === FOREST_WIDTH) return DIRECTIONS.DOWN;\n  if (result === -FOREST_WIDTH) return DIRECTIONS.UP;\n  if (result === FOREST_WIDTH + 1) return DIRECTIONS.DOWN_RIGHT;\n  if (result === FOREST_WIDTH - 1) return DIRECTIONS.DOWN_LEFT;\n  if (result === -FOREST_WIDTH + 1) return DIRECTIONS.UP_RIGHT;\n  if (result === -FOREST_WIDTH - 1) return DIRECTIONS.UP_LEFT;\n  return DIRECTIONS.UP;\n};\n\n/**\n * Get the available segments from a tree\n * @param origin - the origin tree Id\n * @param usedIndexes any other tree Ids that are already used\n * @returns - the available tree Ids\n */\nexport const getAvailableSegments = (origin: TreeId, usedIndexes: TreeId[]): TreeId[] => {\n  const [x, y] = getPoint(origin);\n  const available: Point[] = [];\n  // Top\n  const top: Point = [x, y - 1];\n  const topIndex = getIndex(top);\n  if (top[1] >= 0 && !usedIndexes.includes(topIndex)) {\n    available.push(top);\n  }\n  // Right\n  const right: Point = [x + 1, y];\n  const rightIndex = getIndex(right);\n  if (right[0] < FOREST_WIDTH && !usedIndexes.includes(rightIndex)) {\n    available.push(right);\n  }\n  // Down\n  const down: Point = [x, y + 1];\n  const downIndex = getIndex(down);\n  if (down[1] < FOREST_HEIGHT && !usedIndexes.includes(downIndex)) {\n    available.push(down);\n  }\n  // Left\n  const left: Point = [x - 1, y];\n  const leftIndex = getIndex(left);\n  if (left[0] >= 0 && !usedIndexes.includes(leftIndex)) {\n    available.push(left);\n  }\n  // Top-Left\n  const topLeft: Point = [x - 1, y - 1];\n  const topLeftIndex = getIndex(topLeft);\n  if (topLeft[0] >= 0 && topLeft[1] >= 0 && !usedIndexes.includes(topLeftIndex)) {\n    available.push(topLeft);\n  }\n  // Top-Right\n  const topRight: Point = [x + 1, y - 1];\n  const topRightIndex = getIndex(topRight);\n  if (topRight[0] < FOREST_WIDTH && topRight[1] >= 0 && !usedIndexes.includes(topRightIndex)) {\n    available.push(topRight);\n  }\n  // Down-Left\n  const downLeft: Point = [x - 1, y + 1];\n  const downLeftIndex = getIndex(downLeft);\n  if (downLeft[0] >= 0 && downLeft[1] < FOREST_HEIGHT && !usedIndexes.includes(downLeftIndex)) {\n    available.push(downLeft);\n  }\n  // Down-Right\n  const downRight: Point = [x + 1, y + 1];\n  const downRightIndex = getIndex(downRight);\n  if (downRight[0] < FOREST_WIDTH && downRight[1] < FOREST_HEIGHT && !usedIndexes.includes(downRightIndex)) {\n    available.push(downRight);\n  }\n  return available.map((point) => getIndex(point));\n};\n\n/**\n * Get the possible tree Ids for the next segment\n * @param fullMap - the full map of segments\n * @param currentSegment - the current segment\n */\nexport const getPossibleTreeIds = (fullMap: MapSegment[], currentSegment?: MapSegment): TreeId[] => {\n  if (!currentSegment) return [];\n\n  const usedTrees = fullMap.filter((segment) => segment.passed).map((segment) => segment.treeId);\n\n  return getAvailableSegments(currentSegment.previousTree ?? currentSegment.treeId, usedTrees).filter(\n    (treeId) => treeId !== currentSegment.treeId,\n  );\n};\n\n/**\n * Build dictionary of treeIds to playerIds showing players that have passed through a tree\n * @param players\n * @param activePlayer\n * @returns\n */\nexport const buildPlayerMapping = (players: GamePlayers, activePlayer: GamePlayer): PlayerMapping => {\n  // Segments that are active for the current player's map\n  const currentMap = activePlayer.map as MapSegment[];\n  const activeSegments = currentMap.filter((segment) => segment.active);\n\n  const playerMapping: PlayerMapping = {};\n\n  if (activeSegments[0].index > 0) {\n    const startingSegment = currentMap[activeSegments[0].index - 1];\n    playerMapping[startingSegment.treeId] = Object.keys(players).filter(\n      (playerId) => playerId !== activePlayer.id,\n    );\n  }\n\n  Object.values(players).forEach((player) => {\n    const historyEntry = player.history[activePlayer.id];\n    if (historyEntry) {\n      activeSegments.forEach((segment, index, arr) => {\n        const treeIds: TreeId[] = historyEntry[segment.index];\n\n        if (treeIds) {\n          // The last segment should display every player that has passed through it\n          if (index === arr.length - 1) {\n            treeIds.forEach((treeId) => {\n              if (playerMapping[treeId] === undefined) {\n                playerMapping[treeId] = [];\n              }\n              playerMapping[treeId].push(player.id);\n            });\n          } else {\n            // Any other segment, only show the latest try\n            const lastTreeId = treeIds?.[treeIds.length - 1];\n            if (playerMapping[lastTreeId] === undefined) {\n              playerMapping[lastTreeId] = [];\n            }\n            playerMapping[lastTreeId].push(player.id);\n          }\n        }\n      });\n    }\n  });\n\n  return playerMapping;\n};\n\n/**\n * Build dictionary of treeIds to playerIds showing what trees the user has tried in the latest segment\n * @param players\n * @param activePlayer\n * @returns\n */\nexport const buildUserMappingForLatestTree = (\n  user: GamePlayer,\n  currentMap: MapSegment[],\n  activePlayerId: PlayerId,\n): PlayerMapping => {\n  // Segments that are active for the current player's map\n\n  const activeSegment = currentMap[0];\n\n  const playerMapping: PlayerMapping = {};\n\n  const historyEntry = user.history[activePlayerId];\n  if (historyEntry) {\n    const treeIds: TreeId[] = historyEntry[activeSegment.index];\n\n    if (treeIds) {\n      treeIds.forEach((treeId) => {\n        if (playerMapping[treeId] === undefined) {\n          playerMapping[treeId] = [];\n        }\n        playerMapping[treeId].push(user.id);\n      });\n    }\n  }\n\n  return playerMapping;\n};\n\n/**\n * Build dictionary of treeIds to playerIds showing where players made a mistake\n * @param players\n * @param activePlayer\n * @returns\n */\nexport const buildPlayerMappingForLatestTree = (\n  players: GamePlayers,\n  activePlayer: GamePlayer,\n): PlayerMapping => {\n  // Segments that are active for the current player's map\n  const currentMap = (activePlayer.map ?? []) as MapSegment[];\n  const activeSegments = currentMap.filter((segment) => !segment.passed);\n\n  const playerMapping: PlayerMapping = {};\n\n  Object.values(players).forEach((player) => {\n    const historyEntry = player.history[activePlayer.id];\n    if (historyEntry) {\n      activeSegments.forEach((segment, index, arr) => {\n        const treeIds: TreeId[] = historyEntry[segment.index];\n\n        if (treeIds) {\n          // The last segment should display every player that has passed through it\n          if (index === arr.length - 1) {\n            treeIds.forEach((treeId) => {\n              if (playerMapping[treeId] === undefined) {\n                playerMapping[treeId] = [];\n              }\n              playerMapping[treeId].push(player.id);\n            });\n          } else {\n            // Any other segment, only show the latest try\n            const lastTreeId = treeIds?.[treeIds.length - 1];\n            if (playerMapping[lastTreeId] === undefined) {\n              playerMapping[lastTreeId] = [];\n            }\n            playerMapping[lastTreeId].push(player.id);\n          }\n        }\n      });\n    }\n  });\n\n  return playerMapping;\n};\n","import { sampleSize, union } from 'lodash';\n// Utils\nimport { getRandomItem } from 'utils/helpers';\n// Internal\nimport type { ExtendedTextCard, MapSegment, TreeId } from './types';\nimport { getAvailableSegments } from './helpers';\n\nexport const mockNewMap = (hand: ExtendedTextCard): ExtendedTextCard[] => {\n  return sampleSize<ExtendedTextCard>(hand, 3).map((card) => ({\n    ...card,\n    negate: Math.random() > 0.75,\n  }));\n};\n\nexport const mockFollowedPath = (\n  fullMap: MapSegment[],\n  currentMap: MapSegment[],\n  increaseChances = false,\n  previousMistakes: TreeId[] = [],\n) => {\n  const usedTrees = union(\n    fullMap.filter((segment: MapSegment) => segment.passed).map((segment: MapSegment) => segment.treeId),\n    previousMistakes,\n  );\n\n  return currentMap.map((segment) => {\n    const possibilities = getAvailableSegments(usedTrees[usedTrees.length - 1], usedTrees);\n    const correctTreeId = segment.treeId;\n    const choice = increaseChances\n      ? getRandomItem([...possibilities, correctTreeId])\n      : getRandomItem(possibilities);\n    usedTrees.push(choice);\n    return choice;\n  });\n};\n","import clsx from 'clsx';\n// Utils\nimport { getAnimationClass } from 'utils/helpers';\n// Icons\nimport { ArrowIcon } from 'icons/ArrowIcon';\nimport { CompassIcon } from 'icons/CompassIcon';\nimport { FinishLineIcon } from 'icons/FinishLineIcon';\nimport { FlagIcon } from 'icons/FlagIcon';\n// Components\nimport { IconAvatar } from 'components/avatars';\n// Internal\nimport type { MapSegment, Tree, TreeId } from '../utils/types';\nimport { getOriginDirection } from '../utils/helpers';\nimport { TreeImage } from './TreeImage';\n\ntype ForestTreeProps = {\n  segment: MapSegment;\n  tree: Tree;\n  startingTeeId?: TreeId;\n  finalTreeId?: TreeId;\n  currentTreeId?: TreeId;\n  showPath?: boolean;\n  showArrow?: boolean;\n  className?: string;\n  hidePassedTreeNames?: boolean;\n  width?: number;\n};\n\nexport function ForestTree({\n  segment,\n  tree,\n  startingTeeId,\n  finalTreeId,\n  currentTreeId,\n  showPath = false,\n  showArrow = false,\n  className = '',\n  hidePassedTreeNames = false,\n  width = 75,\n}: ForestTreeProps) {\n  const isSegment = Boolean(segment);\n  const isStartingPoint = startingTeeId === tree.id;\n  const originDirection = getOriginDirection(tree.id);\n  const isFinalPoint = finalTreeId === tree.id;\n  const isCurrentTree = currentTreeId === tree.id;\n  const isPassed = (segment?.passed && !isCurrentTree) ?? false;\n\n  return (\n    <div\n      className={clsx(\n        'forest__tree',\n        isStartingPoint && `forest__tree--${originDirection}`,\n        isFinalPoint && showPath && 'forest__tree--goal',\n        isSegment && showPath && 'forest__tree--segment',\n        isPassed && 'forest__tree--passed',\n        isCurrentTree && 'forest__tree--current',\n        className,\n      )}\n    >\n      <TreeImage\n        id={tree.treeType}\n        text={segment?.passed && hidePassedTreeNames ? '' : tree.card.text}\n        width={width}\n      />\n      {showPath && isFinalPoint && (\n        <IconAvatar\n          icon={<FinishLineIcon />}\n          size=\"large\"\n          className={`forest__end forest__end--${segment.direction}`}\n        />\n      )}\n\n      {isCurrentTree && (\n        <div className=\"forest__compass\">\n          <IconAvatar\n            icon={<CompassIcon />}\n            size=\"large\"\n            className={clsx('forest__compass-icon', getAnimationClass('pulse', { infinite: true }))}\n          />\n        </div>\n      )}\n      {isStartingPoint && (\n        <IconAvatar\n          icon={<FlagIcon />}\n          size=\"large\"\n          className={`forest__start forest__start--${originDirection}`}\n        />\n      )}\n      {(showArrow || showPath || isPassed) && !isFinalPoint && isSegment && segment.direction && (\n        <>\n          <span\n            className={clsx(\n              `forest__arrow-line forest__arrow-line--${segment.direction}`,\n              isSegment && showPath && 'forest__tree--segment',\n              isPassed && 'forest__tree--passed',\n              isCurrentTree && 'forest__tree--current',\n            )}\n          />\n          <IconAvatar\n            icon={<ArrowIcon />}\n            size=\"large\"\n            className={`forest__arrow forest__arrow--${segment.direction}`}\n          />\n        </>\n      )}\n    </div>\n  );\n}\n","import clsx from 'clsx';\nimport { findLast } from 'lodash';\nimport { TransformComponent, TransformWrapper } from 'react-zoom-pan-pinch';\nimport { Fragment } from 'react/jsx-runtime';\n// Ant Design Resources\nimport { FullscreenExitOutlined, ZoomInOutlined, ZoomOutOutlined } from '@ant-design/icons';\nimport { Button, Flex } from 'antd';\n// Types\nimport type { GamePlayer, GamePlayers } from 'types/player';\n// Hooks\nimport { useCardWidth } from 'hooks/useCardWidth';\nimport { useLanguage } from 'hooks/useLanguage';\nimport { useScreenSize } from 'hooks/useScreenSize';\n// Utils\nimport { PLACEHOLDER_PLAYER } from 'utils/constants';\n// Icons\nimport { AnimatedProcessingIcon } from 'icons/AnimatedProcessingIcon';\nimport { ArrowIcon } from 'icons/ArrowIcon';\n// Components\nimport { IconAvatar } from 'components/avatars';\nimport { AvatarGroup } from 'components/avatars/AvatarGroup';\nimport { SpaceContainer } from 'components/layout/SpaceContainer';\nimport { ViewIf } from 'components/views';\n// Internal\nimport type { MapSegment, PlayerMapping, Tree, TreeId } from '../utils/types';\nimport { getDirection } from '../utils/helpers';\nimport { ForestTree } from './ForestTree';\n\ntype ForestProps = {\n  forest: Tree[];\n  map?: MapSegment[];\n  showPath?: boolean;\n  actions?: {\n    selection: TreeId[];\n    clickableTrees: TreeId[];\n    onSelectTree: (treeId: TreeId) => void;\n    activeTree: TreeId | null;\n    disabled: boolean;\n  };\n  players?: GamePlayers;\n  size?: 'small' | 'large';\n  hidePassedTreeNames?: boolean;\n  user?: GamePlayer;\n  forestBorderColor?: string;\n  playerMapping?: PlayerMapping;\n};\n\nexport function Forest({\n  forest,\n  map = [],\n  showPath,\n  actions,\n  players,\n  size = 'large',\n  hidePassedTreeNames = false,\n  user = PLACEHOLDER_PLAYER,\n  forestBorderColor = 'transparent',\n  playerMapping,\n}: ForestProps) {\n  const [screenWidth] = useScreenSize();\n  const treeWidth = useCardWidth(7, { gap: 16, minWidth: 60, maxWidth: 100 });\n\n  if (!forest || !map || map.length === 0 || !screenWidth) {\n    return (\n      <SpaceContainer vertical>\n        <IconAvatar icon={<AnimatedProcessingIcon />} size=\"large\" />\n      </SpaceContainer>\n    );\n  }\n\n  const startingTeeId = map?.[0]?.treeId;\n  const treeMap = map.reduce((acc: Record<TreeId, MapSegment>, segment) => {\n    acc[segment.treeId] = segment;\n    return acc;\n  }, {});\n  const currentTreeId = findLast(map, (segment) => segment.passed)?.treeId ?? startingTeeId;\n  const finalTreeId = map[map.length - 1]?.treeId;\n\n  const forestFullWidth = 150 * 7 + 72;\n  const isSmall = size === 'small';\n  const proportion = isSmall ? 0.5 : 0.9;\n  const initialScale = Math.min(forestFullWidth, screenWidth * proportion) / forestFullWidth;\n\n  return (\n    <div className=\"forest-container-area\">\n      <TransformWrapper\n        initialScale={initialScale}\n        minScale={0.5}\n        maxScale={4}\n        wheel={{ step: 0.05, disabled: true }}\n        centerOnInit\n      >\n        {({ zoomIn, zoomOut, resetTransform }) => (\n          <Fragment>\n            <ForestControls\n              position=\"top\"\n              zoomIn={zoomIn}\n              zoomOut={zoomOut}\n              resetTransform={resetTransform}\n            />\n            <ForestControls\n              position=\"bottom\"\n              zoomIn={zoomIn}\n              zoomOut={zoomOut}\n              resetTransform={resetTransform}\n            />\n\n            <TransformComponent\n              wrapperClass={clsx('forest-container', size === 'small' && 'forest-container--small')}\n            >\n              <div className=\"forest\" style={{ borderColor: forestBorderColor }}>\n                {forest.map((tree) => {\n                  const segment = treeMap?.[tree.id];\n\n                  if (actions) {\n                    const { selection = [], clickableTrees, onSelectTree, activeTree, disabled } = actions;\n                    const isPathForward = clickableTrees.includes(tree.id);\n                    const isClickable = isPathForward || selection.includes(tree.id);\n\n                    if (isClickable) {\n                      const isSelected = selection.includes(tree.id);\n                      const isActive = activeTree === tree.id;\n                      const selectionIndex = selection.indexOf(tree.id);\n\n                      return (\n                        <div\n                          key={`tree-${tree.id}`}\n                          className={clsx(\n                            'forest__tree-container forest__tree-button',\n                            isPathForward && disabled && 'forest__tree-button--disabled',\n                          )}\n                          onClick={() => {\n                            if ((isClickable && !disabled) || (isClickable && disabled && !isPathForward)) {\n                              onSelectTree(tree.id);\n                            }\n                          }}\n                        >\n                          <ForestTree\n                            segment={segment}\n                            tree={tree}\n                            startingTeeId={startingTeeId}\n                            finalTreeId={finalTreeId}\n                            currentTreeId={currentTreeId}\n                            showPath={showPath}\n                            className={clsx(\n                              isPathForward && !disabled && 'forest__tree--clickable',\n                              isSelected && 'forest__tree--selected',\n                              isActive && 'forest__tree--active',\n                            )}\n                            width={treeWidth}\n                          />\n                          {isSelected && currentTreeId !== tree.id && (\n                            <>\n                              <span\n                                className={clsx(\n                                  `forest__arrow-from-line forest__arrow-from-line--${getDirection(\n                                    selection[selectionIndex - 1],\n                                    tree.id,\n                                  )}`,\n                                  isSelected && 'forest__tree--selected',\n                                  isActive && 'forest__tree--active',\n                                )}\n                              />\n                              <IconAvatar\n                                icon={<ArrowIcon />}\n                                size=\"large\"\n                                className={clsx(\n                                  `forest__arrow-to forest__arrow-to--${getDirection(\n                                    selection[selectionIndex - 1],\n                                    tree.id,\n                                  )}`,\n                                )}\n                              />\n                            </>\n                          )}\n\n                          {isPathForward && !disabled && (\n                            <IconAvatar\n                              icon={<ArrowIcon />}\n                              size=\"large\"\n                              className={clsx(\n                                `forest__arrow-to forest__arrow-to--${getDirection(\n                                  selection[selection.length - 1] ?? activeTree,\n                                  tree.id,\n                                )}`,\n                              )}\n                            />\n                          )}\n\n                          <ViewIf condition={!!players && !!playerMapping?.[tree.id]}>\n                            <div className=\"forest__players\">\n                              {!!players && (\n                                <PlayerPositions\n                                  players={players}\n                                  playerIds={playerMapping?.[tree.id] ?? []}\n                                  user={user}\n                                />\n                              )}\n                            </div>\n                          </ViewIf>\n                        </div>\n                      );\n                    }\n                  }\n\n                  return (\n                    <div key={`tree-${tree.id}`} className=\"forest__tree-container\">\n                      <ForestTree\n                        segment={segment}\n                        tree={tree}\n                        startingTeeId={startingTeeId}\n                        finalTreeId={finalTreeId}\n                        currentTreeId={currentTreeId}\n                        showPath={showPath}\n                        hidePassedTreeNames={hidePassedTreeNames}\n                        width={treeWidth}\n                      />\n\n                      <ViewIf condition={!!players && !!playerMapping?.[tree.id]}>\n                        <div className=\"forest__players\">\n                          {!!players && (\n                            <PlayerPositions\n                              players={players}\n                              playerIds={playerMapping?.[tree.id] ?? []}\n                              user={user}\n                            />\n                          )}\n                        </div>\n                      </ViewIf>\n                    </div>\n                  );\n                })}\n              </div>\n            </TransformComponent>\n          </Fragment>\n        )}\n      </TransformWrapper>\n    </div>\n  );\n}\n\ntype PlayerPositionsProps = {\n  players: GamePlayers;\n  playerIds: PlayerId[];\n  user?: GamePlayer;\n};\n\nfunction PlayerPositions({ players, playerIds, user }: PlayerPositionsProps) {\n  const { translate } = useLanguage();\n  const list = playerIds.map((playerId) => players[playerId]);\n  return (\n    <AvatarGroup\n      list={list}\n      user={user}\n      tooltipPrefix={translate('Último lugar visitado por: ', 'Last visited place by: ')}\n    />\n  );\n}\n\ntype ForestControlsProps = {\n  position: 'top' | 'bottom';\n  zoomIn: (step: number) => void;\n  zoomOut: (step: number) => void;\n  resetTransform: () => void;\n};\n\nfunction ForestControls({ zoomIn, zoomOut, resetTransform, position }: ForestControlsProps) {\n  return (\n    <Flex\n      className={clsx('forest-container-controls', `forest-container-controls--${position}`)}\n      justify=\"center\"\n    >\n      <Flex>\n        <Button onClick={() => zoomIn(0.1)} size=\"small\">\n          <ZoomInOutlined />\n        </Button>\n        <Button onClick={() => zoomOut(0.1)} size=\"small\">\n          <ZoomOutOutlined />\n        </Button>\n        <Button onClick={() => resetTransform()} size=\"small\">\n          <FullscreenExitOutlined />\n        </Button>\n      </Flex>\n    </Flex>\n  );\n}\n","import { useEffect, useState } from 'react';\nimport { useWindowSize } from 'react-use';\n\n/**\n * Get the width of the TD content (div with id 'screen')\n */\nexport function useScreenSize() {\n  const windowSizes = useWindowSize({ initialWidth: 300, initialHeight: 300 });\n  const [sizes, setScreenSize] = useState(windowSizes);\n\n  useEffect(() => {\n    const element = document.getElementById('screen');\n    if (element) {\n      setScreenSize({\n        width: Math.min(element.clientWidth, windowSizes.width),\n        height: Math.min(element.clientHeight, windowSizes.height),\n      });\n    }\n  }, [windowSizes.width, windowSizes.height]);\n\n  return [sizes.width, sizes.height];\n}\n","// Icons\nimport { CompassIcon } from 'icons/CompassIcon';\nimport { MapIcon } from 'icons/MapIcon';\nimport { TreeIcon } from 'icons/TreeIcon';\n// Components\nimport { type HighlightProps, MetricHighlight } from 'components/metrics/MetricHighlight';\n\nexport function CompassHighlight({ children }: HighlightProps) {\n  return <MetricHighlight icon={<CompassIcon />}>{children}</MetricHighlight>;\n}\n\nexport function MapHighlight({ children }: HighlightProps) {\n  return <MetricHighlight icon={<MapIcon />}>{children}</MetricHighlight>;\n}\n\nexport function TreeHighlight({ children }: HighlightProps) {\n  return <MetricHighlight icon={<TreeIcon />}>{children}</MetricHighlight>;\n}\n","import { useState } from 'react';\n// Ant Design Resources\nimport { Button, Space, Tooltip } from 'antd';\n// Types\nimport type { GamePlayer } from 'types/player';\n// Hooks\nimport { useLoading } from 'hooks/useLoading';\n// Utils\nimport { getAnimationClass } from 'utils/helpers';\n// Icons\nimport { LocationIcon } from 'icons/LocationIcon';\nimport { NoIcon } from 'icons/NoIcon';\n// Components\nimport { IconAvatar } from 'components/avatars';\nimport { TransparentButton } from 'components/buttons';\nimport { Card } from 'components/cards';\nimport { Translate } from 'components/language';\nimport { Container } from 'components/layout/Container';\nimport { SpaceContainer } from 'components/layout/SpaceContainer';\nimport { TextHighlight } from 'components/text';\n// Internal\nimport type { ExtendedTextCard, MapSegment, OnSubmitMapFunction, Tree } from '../utils/types';\nimport { getPossibleTreeIds } from '../utils/helpers';\nimport { TreeImage } from './TreeImage';\n\ntype MapBuilderProps = {\n  forest: Tree[];\n  user: GamePlayer;\n  onSubmitMap: OnSubmitMapFunction;\n};\n\nexport function MapBuilder({ user, forest, onSubmitMap }: MapBuilderProps) {\n  const { isLoading } = useLoading();\n  const userMap = user?.map ?? [];\n  const map: MapSegment[] = userMap.filter((segment: MapSegment) => !segment.passed);\n  const previousSelections = map.map((segment) => segment.clues);\n  const [selections, setSelections] = useState<(ExtendedTextCard | null)[]>(map.map((_) => null));\n  const [currentIndex, setIndex] = useState(0);\n  const [skippedIndexes, setSkippedIndexes] = useState<number[]>([]);\n\n  const onSetCard = (card: ExtendedTextCard) => {\n    setSelections((prev) => {\n      const copy = [...prev];\n      copy[currentIndex] = { ...card };\n      return copy;\n    });\n    setIndex((prev) => prev + 1);\n  };\n\n  const onSkipTree = (index: number) => {\n    setSelections((prev) => {\n      const copy = [...prev];\n      copy[currentIndex] = null;\n      return copy;\n    });\n    setSkippedIndexes((prev) => [...prev, index]);\n    setIndex((prev) => prev + 1);\n  };\n\n  const onUnsetCard = (index: number) => {\n    setSelections((prev) => {\n      const copy = [...prev].map((card, idx) => {\n        if (idx < index) return card;\n\n        return null;\n      });\n      return copy;\n    });\n    setSkippedIndexes((prev) => prev.filter((v) => v !== index));\n    setIndex(index);\n  };\n\n  const onNegateCard = (index: number) => {\n    setSelections((prev) => {\n      const copy = [...(prev ?? [])];\n      if (copy[index]) {\n        // biome-ignore lint/style/noNonNullAssertion: idk what's up with the compiler\n        copy[index]!.negate = !copy[index]?.negate;\n      }\n      return copy;\n    });\n  };\n\n  const usedCards = selections.map((card) => card?.id).filter(Boolean);\n\n  const possibleTreeIds = getPossibleTreeIds(userMap, map?.[currentIndex]);\n\n  return (\n    <>\n      <SpaceContainer className=\"map-builder\" wrap>\n        {map.map((segment, index) => {\n          if (segment.passed) {\n            return <></>;\n          }\n\n          const tree = forest[segment.treeId];\n\n          if (!tree) {\n            return <></>;\n          }\n\n          return (\n            <div className=\"map-builder__segment\" key={`map-segment-${segment.index}`}>\n              {currentIndex === index && (\n                <div className=\"map-builder__caret\">\n                  <IconAvatar\n                    icon={<LocationIcon />}\n                    className={getAnimationClass('bounce', {\n                      speed: 'slow',\n                      infinite: true,\n                    })}\n                    size=\"small\"\n                  />\n                </div>\n              )}\n\n              {Boolean(selections[index]) && (\n                <Tooltip\n                  title={\n                    <Translate\n                      pt={`Clique para negar: Não-${selections?.[index]?.text}`}\n                      en={`Click to negate: Non-${selections?.[index]?.text}`}\n                    />\n                  }\n                >\n                  <TransparentButton\n                    onClick={() => onNegateCard(index)}\n                    disabled={!selections?.[index]}\n                    className=\"map-builder__card map-builder__card--new\"\n                  >\n                    {selections?.[index]?.negate && (\n                      <IconAvatar icon={<NoIcon />} size=\"small\" className=\"map-builder__card-no\" />\n                    )}\n                    {selections?.[index]?.text}\n                  </TransparentButton>\n                </Tooltip>\n              )}\n\n              {(previousSelections?.[index] ?? []).map((card) => {\n                return (\n                  <div className=\"map-builder__card\" key={card.id}>\n                    {card?.negate && (\n                      <IconAvatar icon={<NoIcon />} size=\"small\" className=\"map-builder__card-no\" />\n                    )}\n                    {card.text}\n                  </div>\n                );\n              })}\n\n              <TransparentButton\n                onClick={() => onUnsetCard(index)}\n                disabled={!(selections?.[index] || skippedIndexes.includes(index))}\n              >\n                <TreeImage id={tree.treeType} text={tree.card.text} />\n              </TransparentButton>\n            </div>\n          );\n        })}\n      </SpaceContainer>\n\n      {possibleTreeIds.length > 0 && (\n        <Space className=\"contained\" wrap>\n          <strong>\n            <Translate pt=\"Caminhos possíveis para a árvore atual\" en=\"Possible paths for the current tree\" />\n            :\n          </strong>\n          {possibleTreeIds.map((treeId, index) => (\n            <TextHighlight\n              key={`highlighted-possibility-${treeId}`}\n              className={getAnimationClass('tada', { delay: index })}\n            >\n              {forest?.[treeId]?.card?.text}\n            </TextHighlight>\n          ))}\n        </Space>\n      )}\n\n      <Container title={<Translate pt=\"Cartas\" en=\"Hand\" />} contained>\n        {(user.hand ?? []).map((card: ExtendedTextCard) => (\n          <TransparentButton\n            onClick={() => onSetCard(card)}\n            key={card.id}\n            disabled={usedCards.includes(card.id) || currentIndex >= map.length}\n            className=\"map-builder__card-button\"\n          >\n            <Card hideHeader>{card.text}</Card>\n          </TransparentButton>\n        ))}\n        <Button\n          size=\"large\"\n          type=\"default\"\n          onClick={() => onSkipTree(currentIndex)}\n          disabled={!previousSelections?.[currentIndex]?.length}\n        >\n          <Translate pt=\"Pular árvore\" en=\"Skip tree\" />\n        </Button>\n      </Container>\n\n      <SpaceContainer>\n        <Button\n          type=\"primary\"\n          size=\"large\"\n          disabled={isLoading || usedCards.length === 0}\n          onClick={() => onSubmitMap({ newMap: selections })}\n        >\n          <Translate pt=\"Enviar Mapa\" en=\"Submit Map\" />\n        </Button>\n      </SpaceContainer>\n    </>\n  );\n}\n","// Types\nimport type { GamePlayer, GamePlayers } from 'types/player';\n// Hooks\nimport { useMock } from 'hooks/useMock';\n// Icons\nimport { NoIcon } from 'icons/NoIcon';\nimport { TreeIcon } from 'icons/TreeIcon';\n// Components\nimport { IconAvatar } from 'components/avatars';\nimport { Translate } from 'components/language';\nimport { PointsHighlight } from 'components/metrics/PointsHighlight';\nimport { Step, type StepProps } from 'components/steps';\nimport { RuleInstruction, StepTitle } from 'components/text';\n// Internal\nimport type { OnSubmitMapFunction, Tree } from './utils/types';\nimport { buildPlayerMappingForLatestTree } from './utils/helpers';\nimport { mockNewMap } from './utils/mocks';\nimport { Forest } from './components/Forest';\nimport { CompassHighlight } from './components/Highlights';\nimport { MapBuilder } from './components/MapBuilder';\n\ntype StepBuildMapProps = {\n  players: GamePlayers;\n  user: GamePlayer;\n  forest: Tree[];\n  currentRound: number;\n  onSubmitMap: OnSubmitMapFunction;\n} & Pick<StepProps, 'announcement'>;\n\nexport function StepBuildMap({\n  players,\n  user,\n  announcement,\n  forest,\n  currentRound,\n  onSubmitMap,\n}: StepBuildMapProps) {\n  // Dev Only\n  useMock(() => {\n    onSubmitMap({ newMap: mockNewMap(user.hand) });\n  });\n\n  const playerMapping = buildPlayerMappingForLatestTree(players, user);\n\n  return (\n    <Step fullWidth announcement={announcement}>\n      <StepTitle>\n        {currentRound === 1 ? (\n          <Translate pt=\"Construa o seu mapa\" en=\"Build your map\" />\n        ) : (\n          <Translate pt=\"Expanda seu mapa\" en=\"Expand your map\" />\n        )}\n      </StepTitle>\n\n      <RuleInstruction type=\"rule\">\n        <Translate\n          pt={\n            <>\n              Você precisa ajudar os outros jogadores a descobrirem o seu caminho pela floresta.\n              <br />\n              Começando da <CompassHighlight>bússola</CompassHighlight>, escolha 1 carta para cada árvore do\n              caminho.\n              <br />\n              Você ganha <PointsHighlight>pontos</PointsHighlight> se jogadores adivinharem seu caminho, então\n              tente fazer um bom trabalho.\n            </>\n          }\n          en={\n            <>\n              You need to help the other players to discover your path through the forest.\n              <br />\n              Starting from the <CompassHighlight>compass</CompassHighlight>, choose 1 card for each tree of\n              the path.\n              <br />\n              You earn <PointsHighlight>points</PointsHighlight> if players guess your path correctly, so try\n              to do a good job.\n            </>\n          }\n        />\n      </RuleInstruction>\n\n      <Forest\n        forest={forest}\n        map={user.map}\n        showPath\n        hidePassedTreeNames\n        players={players}\n        playerMapping={playerMapping}\n      />\n\n      <RuleInstruction type=\"action\">\n        <Translate\n          pt={\n            <>\n              Clique nas cartas em sequência para definir seu mapa, uma carta por árvore.\n              <br />\n              Você pode fazer quantos segmentos quiser desde que pelo menos uma carta esteja em cada árvore\n              (dessa rodada ou de uma rodada anterior já que as cartas são cumulativas).\n              <br />\n              Na barra abaixo, se quiser negar <IconAvatar icon={<NoIcon />} size=\"small\" /> um adjectivo\n              selecionado, clique nele acima da árvore para trocar.\n              <br />\n              Se quiser refazer uma árvore <IconAvatar icon={<TreeIcon />} size=\"small\" />, clique nela.\n              <br />\n              Quando você estiver pronto, aperte Enviar Mapa.\n            </>\n          }\n          en={\n            <>\n              Click on the cards in sequence to define your map, you can't skip any tree.\n              <br />\n              You can build as many segments you with as long as there is at least one card on each tree (from\n              this round or a previous one since the cards are cumulative).\n              <br />\n              If you want to negate <IconAvatar icon={<NoIcon />} size=\"small\" /> an adjective you selected,\n              click on it below the tree to change.\n              <br />\n              If you want to redo a tree <IconAvatar icon={<TreeIcon />} size=\"small\" />, click on it.\n              <br />\n              When you are ready, press Submit Map.\n            </>\n          }\n        />\n      </RuleInstruction>\n\n      <MapBuilder user={user} forest={forest} onSubmitMap={onSubmitMap} />\n    </Step>\n  );\n}\n","// Types\nimport type { GamePlayer } from 'types/player';\n// Components\nimport { Translate } from 'components/language';\nimport { Step, type StepProps } from 'components/steps';\nimport { Instruction, StepTitle } from 'components/text';\n// Internal\nimport type { Tree } from './utils/types';\nimport { Forest } from './components/Forest';\n\ntype StepBuildWaitProps = {\n  user: GamePlayer;\n  forest: Tree[];\n} & Pick<StepProps, 'announcement'>;\n\nexport function StepBuildWait({ user, announcement, forest }: StepBuildWaitProps) {\n  return (\n    <Step fullWidth announcement={announcement}>\n      <StepTitle>\n        <Translate\n          pt=\"Todos os jogadores já descobriam seu mapa completamente\"\n          en=\"All players have discovered your map completely\"\n        />\n      </StepTitle>\n\n      <Instruction contained>\n        <Translate\n          pt={<>Aguarde pacientemente, você ainda vai participar na hora de adivinhar.</>}\n          en={<>Sit and wait patiently, you will still participate when it's time to guess.</>}\n        />\n      </Instruction>\n\n      <Forest forest={forest} map={user.map} showPath />\n    </Step>\n  );\n}\n","// Types\nimport type { PhaseProps } from 'types/game';\n// Hooks\nimport { useStep } from 'hooks/useStep';\nimport { useUser } from 'hooks/useUser';\n// Utils\nimport { PHASES } from 'utils/phases';\n// Icons\nimport { MapIcon } from 'icons/MapIcon';\n// Components\nimport { Translate } from 'components/language';\nimport { PhaseAnnouncement, PhaseContainer } from 'components/phases';\nimport { StepSwitcher } from 'components/steps';\nimport { Instruction } from 'components/text';\nimport { ViewOr } from 'components/views';\n// Internal\nimport type { MapSegment } from './utils/types';\nimport { useOnSubmitMapAPIRequest } from './utils/api-requests';\nimport { PlayerSelectionMap } from './components/PlayerSelection';\nimport { StepBuildMap } from './StepBuildMap';\nimport { StepBuildWait } from './StepBuildWait';\n\nexport function PhaseMapBuilding({ players, state }: PhaseProps) {\n  const user = useUser(players, state);\n  const { step, setStep } = useStep();\n\n  const onSubmitMap = useOnSubmitMapAPIRequest(setStep);\n\n  const announcement = (\n    <PhaseAnnouncement\n      icon={<MapIcon />}\n      title={\n        state.round.current === 1 ? (\n          <Translate pt=\"Construa o seu mapa\" en=\"Build your map\" />\n        ) : (\n          <Translate pt=\"Expanda seu mapa\" en=\"Expand your map\" />\n        )\n      }\n      currentRound={state?.round?.current}\n      type=\"overlay\"\n    >\n      <Instruction>\n        <Translate\n          pt=\"Você consegue mapear as árvores usando apenas adjetivos?\"\n          en=\"Can you map the tree path using only adjectives?\"\n        />\n      </Instruction>\n    </PhaseAnnouncement>\n  );\n\n  const isUserMapComplete = user?.map?.every((segment: MapSegment) => segment.passed);\n\n  return (\n    <PhaseContainer phase={state?.phase} allowedPhase={PHASES.LABIRINTO_SECRETO.MAP_BUILDING}>\n      <StepSwitcher\n        step={step}\n        players={players}\n        waitingRoom={{\n          content: <PlayerSelectionMap forest={state.forest} map={user.map} newMap={user.newMap} />,\n        }}\n      >\n        {/* Step 0 */}\n        <ViewOr condition={isUserMapComplete}>\n          <StepBuildWait user={user} announcement={announcement} forest={state.forest} />\n\n          <StepBuildMap\n            players={players}\n            user={user}\n            announcement={announcement}\n            forest={state.forest}\n            currentRound={state.round.current}\n            onSubmitMap={onSubmitMap}\n          />\n        </ViewOr>\n      </StepSwitcher>\n    </PhaseContainer>\n  );\n}\n","// Hooks\nimport { useGameActionRequest } from 'hooks/useGameActionRequest';\nimport { useLanguage } from 'hooks/useLanguage';\nimport type { UseStep } from 'hooks/useStep';\n// Internal\nimport type { SubmitMapPayload, SubmitPathGuessPayload } from './types';\nimport { LABIRINTO_SECRETO_ACTIONS } from './constants';\n\nexport function useOnSubmitMapAPIRequest(setStep: UseStep['setStep']) {\n  const { translate } = useLanguage();\n\n  const request = useGameActionRequest({\n    actionName: 'submit-map',\n    onSuccess: () => setStep(2),\n    onError: () => setStep(0),\n    successMessage: translate('Mapa submetido com sucesso', 'Map submitted successfully'),\n    errorMessage: translate(\n      'Vixi, o aplicativo encontrou um erro ao tentar enviar seu mapa',\n      'Oops, the application found an error while trying to submit your map',\n    ),\n  });\n\n  return (payload: SubmitMapPayload) => {\n    request({\n      action: LABIRINTO_SECRETO_ACTIONS.SUBMIT_MAP,\n      ...payload,\n    });\n  };\n}\n\nexport function useOnSubmitPathAPIRequest(setStep: UseStep['setStep']) {\n  const { translate } = useLanguage();\n\n  const request = useGameActionRequest({\n    actionName: 'submit-path',\n    onSuccess: () => setStep(2),\n    onError: () => setStep(0),\n    successMessage: translate('Caminho submetido com sucesso', 'Path submitted successfully'),\n    errorMessage: translate(\n      'Vixi, o aplicativo encontrou um erro ao tentar enviar seu caminho',\n      'Oops, the application found an error while trying to submit your path',\n    ),\n  });\n\n  return (payload: SubmitPathGuessPayload) => {\n    request({\n      action: LABIRINTO_SECRETO_ACTIONS.SUBMIT_PATH,\n      ...payload,\n    });\n  };\n}\n","import clsx from 'clsx';\n// Icons\nimport { ArrowIcon } from 'icons/ArrowIcon';\nimport { MapIcon } from 'icons/MapIcon';\nimport { NoIcon } from 'icons/NoIcon';\n// Components\nimport { IconAvatar } from 'components/avatars';\n// Internal\nimport type { MapSegment, Tree } from '../utils/types';\nimport { TreeImage } from './TreeImage';\n\ntype MapEntryProps = {\n  segment: MapSegment;\n  tree?: Tree;\n  showArrow?: boolean;\n  className?: string;\n};\n\nexport function MapEntry({ segment, tree, showArrow, className }: MapEntryProps) {\n  return (\n    <div className={clsx('map-entry', className)} key={`map-${segment.index}`}>\n      {tree && <TreeImage id={tree.treeType} text={tree.card.text} className=\"map-entry__tree\" />}\n\n      <IconAvatar icon={<MapIcon />} size=\"large\" className=\"map-entry__icon\" />\n      {segment.clues.map((clue) => {\n        return (\n          <div className=\"map-entry__clue\" key={`clue-${segment.index}-${clue.id}`}>\n            {clue.text}\n            {clue?.negate && <IconAvatar icon={<NoIcon />} size=\"small\" className=\"map-entry__clue-no\" />}\n          </div>\n        );\n      })}\n\n      {showArrow && <IconAvatar icon={<ArrowIcon />} size=\"small\" className=\"map-entry__arrow\" />}\n    </div>\n  );\n}\n","// Components\nimport { SpaceContainer } from 'components/layout/SpaceContainer';\n// Internal\nimport type { MapSegment, Tree } from '../utils/types';\nimport { MapEntry } from './MapEntry';\n\ntype PlayerMapProps = {\n  map: MapSegment[];\n  selectedTrees?: Tree[];\n  fullMap?: boolean;\n};\n\nconst GOAL_TREE: Tree = {\n  id: 0,\n  treeType: 0,\n  card: { id: '', text: '' },\n};\n\nexport function PlayerMap({ map = [], selectedTrees = [], fullMap = false }: PlayerMapProps) {\n  const currentMap = fullMap ? map : map.filter((segment) => segment.active);\n\n  return (\n    <SpaceContainer\n      wrap\n      className=\"player-map\"\n      style={{ gridTemplateColumns: `repeat(${currentMap.length}, 100px)` }}\n    >\n      {currentMap.map((segment, index, arr) => {\n        const selectedTree = selectedTrees[index + 1];\n        const flagPole = fullMap && arr.length - 1 === index ? GOAL_TREE : undefined;\n\n        return (\n          <MapEntry\n            className=\"player-map__segment\"\n            key={`map-${segment.index}`}\n            tree={flagPole ?? selectedTree}\n            segment={segment}\n            showArrow={arr.length - 1 !== index}\n          />\n        );\n      })}\n    </SpaceContainer>\n  );\n}\n","import { findLast } from 'lodash';\nimport { useState } from 'react';\n// Ant Design Resources\nimport { Button } from 'antd';\n// Types\nimport type { GamePlayer, GamePlayers } from 'types/player';\n// Hooks\nimport { useLoading } from 'hooks/useLoading';\nimport { useMock } from 'hooks/useMock';\n// Utils\nimport { getAnimationClass } from 'utils/helpers';\n// Components\nimport { DevButton } from 'components/debug';\nimport { Translate } from 'components/language';\nimport { SpaceContainer } from 'components/layout/SpaceContainer';\nimport { MouseFollowingContent } from 'components/mouse/MouseFollowingContent';\n// Internal\nimport type { MapSegment, OnSubmitPathGuessFunction, Tree, TreeId } from '../utils/types';\nimport { buildUserMappingForLatestTree, getAvailableSegments } from '../utils/helpers';\nimport { mockFollowedPath } from '../utils/mocks';\nimport { Forest } from './Forest';\nimport { PlayerMap } from './PlayerMap';\nimport { MapEntry } from './MapEntry';\n\ntype ClickableForestProps = {\n  forest: Tree[];\n  map?: MapSegment[];\n  onSubmitPath: OnSubmitPathGuessFunction;\n  pathId: PlayerId;\n  user: GamePlayer;\n  players: GamePlayers;\n};\n\nexport function ClickableForest({\n  forest,\n  map = [],\n  onSubmitPath,\n  pathId,\n  user,\n  players,\n}: ClickableForestProps) {\n  const { isLoading } = useLoading();\n\n  const currentMap = map.filter((segment) => !segment.passed && segment.clues.length > 0);\n  const currentTreeId = findLast(map, (segment) => segment.passed)?.treeId ?? map?.[0]?.treeId ?? 0;\n  const passedTrees = map.filter((segment) => segment.passed).map((segment) => segment.treeId);\n\n  const userMapping = buildUserMappingForLatestTree(user, currentMap, pathId);\n\n  const [selection, setSelection] = useState<TreeId[]>([currentTreeId]);\n  const [activeTree, setActiveTree] = useState<TreeId>(currentTreeId);\n\n  const clickableTrees: TreeId[] = getAvailableSegments(activeTree, [...selection, ...passedTrees]);\n\n  const isDisabled = selection.length > currentMap.length;\n\n  const onSelectTree = (treeId: TreeId) => {\n    setActiveTree(treeId);\n    const index = selection.indexOf(treeId);\n    if (index > -1) {\n      setSelection((prev) => prev.slice(0, index + 1));\n    } else {\n      setSelection((prev) => [...prev, treeId]);\n    }\n  };\n\n  const selectedTrees = selection.map((treeId) => forest[treeId]);\n  const currentSegment = currentMap?.[selection.length - 1];\n\n  // DEV Only\n  useMock(() => {\n    onSubmitPath({\n      guess: mockFollowedPath(map, currentMap, true, Object.values(userMapping).flat().map(Number)),\n      pathId,\n      choseRandomly: true,\n    });\n  });\n\n  return (\n    <SpaceContainer vertical>\n      <PlayerMap map={map} selectedTrees={selectedTrees} />\n\n      <MouseFollowingContent active={Boolean(currentSegment)}>\n        <MapEntry\n          segment={currentSegment}\n          key={currentSegment?.treeId}\n          className={getAnimationClass('rubberBand')}\n        />\n      </MouseFollowingContent>\n\n      <Button\n        type=\"primary\"\n        size=\"large\"\n        onClick={() => onSubmitPath({ guess: selection.slice(1), pathId, choseRandomly: false })}\n        disabled={isLoading || selection.length - 1 < currentMap.length}\n      >\n        <Translate pt=\"Enviar\" en=\"Submit\" />\n      </Button>\n      <DevButton\n        onClick={() =>\n          onSubmitPath({\n            guess: mockFollowedPath(map, currentMap, true, Object.values(userMapping).flat().map(Number)),\n            pathId,\n            choseRandomly: true,\n          })\n        }\n        ghost\n      >\n        Random Dev\n      </DevButton>\n      <Forest\n        forest={forest}\n        map={map}\n        actions={{\n          selection,\n          clickableTrees,\n          onSelectTree,\n          activeTree,\n          disabled: isDisabled,\n        }}\n        playerMapping={userMapping}\n        players={players}\n      />\n    </SpaceContainer>\n  );\n}\n","// Types\nimport type { GamePlayer, GamePlayers } from 'types/player';\n// Components\nimport { AvatarName } from 'components/avatars';\nimport { Translate } from 'components/language';\nimport { PointsHighlight } from 'components/metrics/PointsHighlight';\nimport { Step, type StepProps } from 'components/steps';\nimport { RuleInstruction, StepTitle } from 'components/text';\n// Internal\nimport type { OnSubmitPathGuessFunction, Tree } from './utils/types';\nimport { ClickableForest } from './components/ClickableForest';\nimport { MapHighlight, TreeHighlight } from './components/Highlights';\n\ntype StepFollowPathProps = {\n  players: GamePlayers;\n  user: GamePlayer;\n  forest: Tree[];\n  onSubmitPath: OnSubmitPathGuessFunction;\n  activePlayer: GamePlayer;\n  isTheActivePlayer: boolean;\n} & Pick<StepProps, 'announcement'>;\n\nexport function StepFollowPath({\n  players,\n  announcement,\n  forest,\n  activePlayer,\n  onSubmitPath,\n  user,\n}: StepFollowPathProps) {\n  const playerCount = Object.keys(players).length;\n\n  return (\n    <Step fullWidth announcement={announcement}>\n      <StepTitle>\n        <Translate\n          pt={\n            <>\n              Siga o mapa de <AvatarName player={activePlayer} />\n            </>\n          }\n          en={\n            <>\n              Follow <AvatarName player={activePlayer} />\n              's map\n            </>\n          }\n        />\n      </StepTitle>\n\n      <RuleInstruction type=\"action\">\n        <Translate\n          pt={\n            <>\n              Baseado no <MapHighlight>mapa de adjetivos</MapHighlight>, clique nas{' '}\n              <TreeHighlight>árvores</TreeHighlight> circuladas de pontinhos brancos para escolher aquele\n              caminho.\n              <br />\n              Cada árvore correta vale <PointsHighlight>1 ponto</PointsHighlight> por jogador que acertar (Por\n              exemplo, 3 jogadores = 3 pontos).\n              <br />\n              Então, talvez valha a pena discutir! Porém, se somente um jogador acertar o caminho, ele ganha{' '}\n              <PointsHighlight>{playerCount} pontos</PointsHighlight>.\n              <br />O criador do mapa ganha o mesmo número de pontos que os jogadores.\n            </>\n          }\n          en={\n            <>\n              Based on the <MapHighlight>adjectives map</MapHighlight>, click on the{' '}\n              <TreeHighlight>circled trees</TreeHighlight> with white dots to choose that path.\n              <br />\n              Each correct tree is worth <PointsHighlight>1 point</PointsHighlight> per player that guesses it\n              (For example, 3 players = 3 points).\n              <br />\n              So, it might be worth discussing out loud! However, if only one player guesses the path, they\n              earn <PointsHighlight>{playerCount} points</PointsHighlight>.\n              <br />\n              The map creator also earns the same number of points as the players.\n            </>\n          }\n        />\n      </RuleInstruction>\n\n      {Boolean(forest) && activePlayer.map && (\n        <ClickableForest\n          forest={forest}\n          map={activePlayer.map}\n          onSubmitPath={onSubmitPath}\n          pathId={activePlayer.id}\n          user={user}\n          players={players}\n        />\n      )}\n    </Step>\n  );\n}\n","// Types\nimport type { GamePlayer, GamePlayers } from 'types/player';\n// Components\nimport { Translate } from 'components/language';\nimport { PointsHighlight } from 'components/metrics/PointsHighlight';\nimport { Step, type StepProps } from 'components/steps';\nimport { RuleInstruction, StepTitle } from 'components/text';\n// Internal\nimport type { Tree } from './utils/types';\nimport { Forest } from './components/Forest';\nimport { MapHighlight, TreeHighlight } from './components/Highlights';\nimport { PlayerMap } from './components/PlayerMap';\n\ntype StepPathWaitingProps = {\n  players: GamePlayers;\n  forest: Tree[];\n  activePlayer: GamePlayer;\n} & Pick<StepProps, 'announcement'>;\n\nexport function StepPathWaiting({ players, announcement, forest, activePlayer }: StepPathWaitingProps) {\n  const playerCount = Object.keys(players).length;\n  return (\n    <Step fullWidth announcement={announcement}>\n      <StepTitle>\n        <Translate\n          pt={<>Os jogadores estão seguindo o seu mapa!</>}\n          en={<>Players are following your map!</>}\n        />\n      </StepTitle>\n\n      <RuleInstruction type=\"wait\">\n        <Translate\n          pt={\n            <>\n              Baseado no <MapHighlight>mapa de adjetivos</MapHighlight>, eles vão clicando nas{' '}\n              <TreeHighlight>árvores</TreeHighlight> para escolher o caminho.\n              <br />\n              Cada árvore correta vale <PointsHighlight>1 ponto</PointsHighlight> por jogador que acertar. Por\n              exemplo, 3 jogadores = 3 pontos.\n              <br />\n              Se somente um jogador acertar o caminho, ele ganha{' '}\n              <PointsHighlight>{playerCount} pontos</PointsHighlight>.\n              <br />\n              Você, como criador do mapa, ganha o mesmo número de pontos que os jogadores.\n            </>\n          }\n          en={\n            <>\n              Based on the <MapHighlight>adjectives map</MapHighlight>, players will click on the{' '}\n              <TreeHighlight>trees</TreeHighlight> to choose the path.\n              <br />\n              Each correct tree is worth <PointsHighlight>1 point</PointsHighlight> per player that guesses\n              it. For example, 3 players = 3 points.\n              <br />\n              If only one player guesses the path, they earn{' '}\n              <PointsHighlight>{playerCount} points</PointsHighlight>.\n              <br />\n              You as the map creator also earns the same number of points as the players.\n            </>\n          }\n        />\n      </RuleInstruction>\n\n      <PlayerMap map={activePlayer.map} />\n\n      <Forest forest={forest} map={activePlayer.map} showPath />\n    </Step>\n  );\n}\n","// Types\nimport type { PhaseProps } from 'types/game';\n// Hooks\nimport { useStep } from 'hooks/useStep';\nimport { useUser } from 'hooks/useUser';\nimport { useWhichPlayerIsThe } from 'hooks/useWhichPlayerIsThe';\n// Utils\nimport { PHASES } from 'utils/phases';\n// Icons\nimport { DirectionsIcon } from 'icons/DirectionsIcon';\n// Components\nimport { Translate } from 'components/language';\nimport { PhaseAnnouncement, PhaseContainer } from 'components/phases';\nimport { TurnOrder } from 'components/players';\nimport { StepSwitcher } from 'components/steps';\nimport { Instruction } from 'components/text';\nimport { ViewOr } from 'components/views';\n// Internal\nimport { useOnSubmitPathAPIRequest } from './utils/api-requests';\nimport { StepFollowPath } from './StepFollowPath';\nimport { StepPathWaiting } from './StepPathWaiting';\n\nexport function PhasePathFollowing({ players, state }: PhaseProps) {\n  const user = useUser(players, state);\n  const { step, setStep } = useStep();\n  const [activePlayer, isTheActivePlayer] = useWhichPlayerIsThe('activePlayerId', state, players);\n\n  const onSubmitPath = useOnSubmitPathAPIRequest(setStep);\n\n  const announcement = (\n    <PhaseAnnouncement\n      icon={<DirectionsIcon />}\n      title={<Translate pt=\"Siga os mapas!\" en=\"Follow the maps!\" />}\n      currentRound={state?.round?.current}\n      type=\"overlay\"\n      duration={3}\n    >\n      <Instruction>\n        <Translate\n          pt=\"Vamos analisar e tentar seguir o mapa de cada jogador\"\n          en=\"Let's analise and try to follow the each player's map\"\n        />\n        <br />\n        <TurnOrder players={players} order={state.turnOrder} activePlayerId={state.activePlayerId} />\n      </Instruction>\n    </PhaseAnnouncement>\n  );\n\n  return (\n    <PhaseContainer phase={state?.phase} allowedPhase={PHASES.LABIRINTO_SECRETO.PATH_FOLLOWING}>\n      <StepSwitcher step={step} players={players}>\n        {/* Step 0 */}\n        <ViewOr condition={isTheActivePlayer}>\n          <StepPathWaiting\n            players={players}\n            announcement={announcement}\n            forest={state.forest}\n            activePlayer={activePlayer}\n          />\n\n          <StepFollowPath\n            players={players}\n            user={user}\n            announcement={announcement}\n            forest={state.forest}\n            onSubmitPath={onSubmitPath}\n            activePlayer={activePlayer}\n            isTheActivePlayer={isTheActivePlayer}\n          />\n        </ViewOr>\n      </StepSwitcher>\n    </PhaseContainer>\n  );\n}\n","// Ant Design Resources\nimport { Button } from 'antd';\n// Types\nimport type { GameRound, GameRanking } from 'types/game';\nimport type { GamePlayers } from 'types/player';\n// Components\nimport { HostNextPhaseButton } from 'components/host';\nimport { Translate } from 'components/language';\nimport { SpaceContainer } from 'components/layout/SpaceContainer';\nimport { StepRankingWrapper } from 'components/ranking';\nimport { RuleInstruction } from 'components/text';\n\ntype StepRankingProps = {\n  players: GamePlayers;\n  round: GameRound;\n  ranking: GameRanking;\n  onGoBack: () => void;\n};\n\nexport function StepRanking({ players, ranking, onGoBack, round }: StepRankingProps) {\n  return (\n    <StepRankingWrapper\n      players={players}\n      ranking={ranking}\n      gainedPointsDescriptions={[\n        <Translate key=\"1\" pt=\"Rotas corretos\" en=\"Correct paths\" />,\n        <Translate key=\"2\" pt=\"Pontos por sua rota\" en=\"Points for your route\" />,\n      ]}\n    >\n      <RuleInstruction type=\"event\">\n        <Translate\n          pt=\"Não se preocupe se você ficou pra trás! O jogador mais a frente de cada rota, te gritou e você conseguiu encontrá-lo.\"\n          en=\"Don't worry if you were left behind! The player furthest ahead on that route, call you and you caught up\"\n        />\n      </RuleInstruction>\n\n      <SpaceContainer>\n        <Button onClick={onGoBack}>\n          <Translate pt=\"Ver resultado novamente\" en=\"See results again\" />\n        </Button>\n      </SpaceContainer>\n      <HostNextPhaseButton round={round} />\n    </StepRankingWrapper>\n  );\n}\n","// Ant Design Resources\nimport { Tooltip } from 'antd';\n// Types\nimport type { GamePlayer, GamePlayers } from 'types/player';\n// Icons\nimport { ArrowIcon } from 'icons/ArrowIcon';\nimport { FlagIcon } from 'icons/FlagIcon';\nimport { MapIcon } from 'icons/MapIcon';\nimport { NoIcon } from 'icons/NoIcon';\n// Components\nimport { Avatar, IconAvatar } from 'components/avatars';\nimport { TreeCard } from 'components/cards/TreeCard';\nimport { Translate } from 'components/language';\nimport { PointsHighlight } from 'components/metrics/PointsHighlight';\n// Internal\nimport type { MapSegment, Tree } from '../utils/types';\nimport { TreeImage } from './TreeImage';\n\ntype PlayerMapResultsSummaryProps = {\n  players: GamePlayers;\n  forest: Tree[];\n  currentPlayer: GamePlayer;\n};\n\nexport function PlayerMapResultsSummary({ players, forest, currentPlayer }: PlayerMapResultsSummaryProps) {\n  const currentMap: MapSegment[] = currentPlayer.map.filter((segment: MapSegment) => segment.active);\n\n  return (\n    <div\n      className=\"div-container player-map\"\n      style={{ gridTemplateColumns: `repeat(${currentMap.length}, 120px)` }}\n    >\n      {currentMap.map((segment, index, arr) => {\n        const tree = segment.passed ? forest[segment.treeId] : null;\n\n        return (\n          <div className=\"player-map__segment\" key={`map-${segment.index}`}>\n            <div className=\"player-map__top\">\n              {tree ? (\n                <TreeImage id={tree.treeType} text={tree.card.text} className=\"player-map__tree\" width={75} />\n              ) : (\n                <TreeCard id=\"1\" className=\"player-map__tree-invisible\" text=\"\" width={75} />\n              )}\n\n              <IconAvatar icon={<MapIcon />} size=\"large\" className=\"player-map__icon\" />\n\n              <div>\n                {segment.clues.map((clue) => {\n                  return (\n                    <div className=\"player-map__clue\" key={`clue-${segment.index}-${clue.id}`}>\n                      {clue.text}\n                      {clue?.negate && (\n                        <IconAvatar icon={<NoIcon />} size=\"small\" className=\"player-map__clue-no\" />\n                      )}\n                    </div>\n                  );\n                })}\n              </div>\n\n              {segment.index === 0 && (\n                <IconAvatar icon={<FlagIcon />} size=\"small\" className=\"player-map__starting-flag\" />\n              )}\n\n              {arr.length - 1 !== index && (\n                <IconAvatar icon={<ArrowIcon />} size=\"small\" className=\"player-map__arrow\" />\n              )}\n            </div>\n\n            <div className=\"player-map__scoring\">\n              {segment.playersIds.length > 0 ? (\n                <div className=\"player-map__players\">\n                  {segment.playersIds.map((playerId) => {\n                    const player = players[playerId];\n                    return (\n                      <Tooltip title={player.name} key={`player-${playerId}`}>\n                        <Avatar size=\"small\" id={player.avatarId} />\n                      </Tooltip>\n                    );\n                  })}\n                </div>\n              ) : (\n                <div className=\"player-map__no-players\">\n                  <Translate pt=\"Nenhum jogador\" en=\"No players\" />\n                </div>\n              )}\n\n              <div>{segment.score > 0 && <PointsHighlight>{segment.score}</PointsHighlight>}</div>\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n","// Types\nimport type { GamePlayer, GamePlayers } from 'types/player';\n// Hooks\nimport type { SlideShowConfig } from 'hooks/useSlideShow';\n// Utils\nimport { getAvatarColorById } from 'utils/helpers';\n// Components\nimport { AvatarName } from 'components/avatars';\nimport { Translate } from 'components/language';\nimport { PointsHighlight } from 'components/metrics/PointsHighlight';\nimport { SlideShowControls } from 'components/slide-show/SlideShowControls';\nimport { Step } from 'components/steps';\nimport { RuleInstruction, Title } from 'components/text';\n// Internal\nimport type { Tree } from './utils/types';\nimport { buildPlayerMapping } from './utils/helpers';\nimport { Forest } from './components/Forest';\nimport { PlayerMapResultsSummary } from './components/ResultsSummary';\n\ntype StepGalleryProps = {\n  players: GamePlayers;\n  forest: Tree[];\n  slideShowConfig: SlideShowConfig;\n\n  user: GamePlayer;\n  gallery: GamePlayer[];\n};\n\nexport function StepGallery({ players, gallery, user, forest, slideShowConfig }: StepGalleryProps) {\n  const playerCount = Object.keys(players).length;\n\n  const currentPlayer = gallery[slideShowConfig.slideIndex];\n  const currentColor = getAvatarColorById(currentPlayer.avatarId);\n  const playerMapping = buildPlayerMapping(players, currentPlayer);\n\n  return (\n    <Step fullWidth>\n      <Title>\n        <Translate\n          pt={\n            <>\n              Mapa do(a) <AvatarName player={currentPlayer} />\n            </>\n          }\n          en={\n            <>\n              <AvatarName player={currentPlayer} />\n              's map\n            </>\n          }\n        />\n      </Title>\n\n      <RuleInstruction type=\"rule\">\n        <Translate\n          pt={\n            <>\n              Você ganha pontos ao acertar o caminho do mapa. <br />\n              Cada árvore correta vale <PointsHighlight>1 ponto</PointsHighlight> por jogador que acertar.{' '}\n              <br />\n              Se você for o único que acertou, você ganha{' '}\n              <PointsHighlight>{playerCount} pontos</PointsHighlight>.\n            </>\n          }\n          en={\n            <>\n              You get points by guessing the map path. <br />\n              Each correct tree is worth <PointsHighlight>1 point</PointsHighlight> per player who guesses it.{' '}\n              <br />\n              If you are the only one who guessed it, you get{' '}\n              <PointsHighlight>{playerCount} points</PointsHighlight>.\n            </>\n          }\n        />\n      </RuleInstruction>\n\n      <PlayerMapResultsSummary players={players} forest={forest} currentPlayer={currentPlayer} />\n\n      <div>\n        <Forest\n          forest={forest}\n          map={currentPlayer.map}\n          size=\"small\"\n          players={players}\n          user={user}\n          forestBorderColor={getAvatarColorById(currentPlayer.avatarId)}\n          playerMapping={playerMapping}\n        />\n\n        <SlideShowControls config={slideShowConfig} barColor={currentColor} />\n      </div>\n    </Step>\n  );\n}\n","import { useMemo } from 'react';\n// Types\nimport type { PhaseProps } from 'types/game';\n// Hooks\nimport { useSlideShow } from 'hooks/useSlideShow';\nimport { useStep } from 'hooks/useStep';\nimport { useUser } from 'hooks/useUser';\n// Utils\nimport { sortPlayers } from 'utils/helpers';\nimport { PHASES } from 'utils/phases';\n// Icons\nimport { PathIcon } from 'icons/PathIcon';\n// Components\nimport { Translate } from 'components/language';\nimport { PhaseAnnouncement, PhaseContainer } from 'components/phases';\nimport { StepSwitcher } from 'components/steps';\nimport { Instruction } from 'components/text';\n// Internal\nimport type { MapSegment } from './utils/types';\nimport { SLIDE_DURATION } from './utils/constants';\nimport { StepRanking } from './StepRanking';\nimport { StepGallery } from './StepGallery';\n\nexport function PhaseResults({ players, state }: PhaseProps) {\n  const user = useUser(players, state);\n  const { step, goToPreviousStep, goToNextStep } = useStep();\n  const gallery = useMemo(\n    () => sortPlayers(players).filter((player) => player.map.some((segment: MapSegment) => segment.active)),\n    [players],\n  );\n\n  const slideShowConfig = useSlideShow({\n    length: gallery.length,\n    slideDuration: SLIDE_DURATION,\n    onExpire: goToNextStep,\n  });\n\n  const onGoBack = () => {\n    slideShowConfig.reset();\n    goToPreviousStep();\n  };\n\n  return (\n    <PhaseContainer phase={state?.phase} allowedPhase={PHASES.LABIRINTO_SECRETO.RESULTS}>\n      <StepSwitcher step={step} players={players}>\n        {/* Step 0 */}\n        <PhaseAnnouncement\n          icon={<PathIcon />}\n          title={<Translate pt=\"Resultado\" en=\"Results\" />}\n          currentRound={state?.round?.current}\n          type=\"block\"\n          onClose={goToNextStep}\n          unskippable\n        >\n          <Instruction>\n            <Translate\n              pt=\"Quem é o melhor em seguir direções?\"\n              en=\"Who is the best at following directions?\"\n            />\n          </Instruction>\n        </PhaseAnnouncement>\n\n        {/* Step 1 */}\n        <StepGallery\n          gallery={gallery}\n          players={players}\n          slideShowConfig={slideShowConfig}\n          forest={state.forest}\n          user={user}\n        />\n\n        {/* Step 2 */}\n        <StepRanking players={players} round={state.round} ranking={state.ranking} onGoBack={onGoBack} />\n      </StepSwitcher>\n    </PhaseContainer>\n  );\n}\n","// Types\nimport type { AchievementReference } from 'types/achievements';\n\nconst ACHIEVEMENTS = {\n  MOST_CARDS: 'MOST_CARDS',\n  FEWEST_CARDS: 'FEWEST_CARDS',\n  MOST_NEGATIVE_CARDS: 'MOST_NEGATIVE_CARDS',\n  FEWEST_NEGATIVE_CARDS: 'FEWEST_NEGATIVE_CARDS',\n  MOST_TREES: 'MOST_TREES',\n  FEWEST_TREES: 'FEWEST_TREES',\n  BEST_MAP: 'BEST_MAP',\n  WORST_MAP: 'WORST_MAP',\n  BEST_SCOUT: 'BEST_SCOUT',\n  WORST_SCOUT: 'WORST_SCOUT',\n  MOST_UP: 'MOST_UP',\n  MOST_RIGHT: 'MOST_RIGHT',\n  MOST_DOWN: 'MOST_DOWN',\n  MOST_LEFT: 'MOST_LEFT',\n  MOST_UP_LEFT: 'MOST_UP_LEFT',\n  MOST_UP_RIGHT: 'MOST_UP_RIGHT',\n  MOST_DOWN_LEFT: 'MOST_DOWN_LEFT',\n  MOST_DOWN_RIGHT: 'MOST_DOWN_RIGHT',\n};\n\nexport const achievementsReference: AchievementReference = {\n  [ACHIEVEMENTS.MOST_CARDS]: {\n    icon: 'list',\n    title: {\n      pt: 'Mais Cartas',\n      en: 'Most Cards',\n    },\n    description: {\n      pt: 'Usou o maior número de cartas',\n      en: 'Used the most cards',\n    },\n  },\n  [ACHIEVEMENTS.FEWEST_CARDS]: {\n    icon: 'ellipsis',\n    title: {\n      pt: 'Menos Cartas',\n      en: 'Fewest Cards',\n    },\n    description: {\n      pt: 'Usou o menor número de cartas',\n      en: 'Used the fewest cards',\n    },\n  },\n  [ACHIEVEMENTS.MOST_NEGATIVE_CARDS]: {\n    icon: 'minus',\n    title: {\n      pt: 'Mais Adjetivos Negativos',\n      en: 'Most Negative Adjectives',\n    },\n    description: {\n      pt: 'Usou o maior número de cartas negativas',\n      en: 'Used the most negative cards',\n    },\n  },\n  [ACHIEVEMENTS.FEWEST_NEGATIVE_CARDS]: {\n    icon: 'plus',\n    title: {\n      pt: 'Menos Cartas Negativas',\n      en: 'Fewest Negative Cards',\n    },\n    description: {\n      pt: 'Usou o menor número de cartas negativas',\n      en: 'Used the fewest negative cards',\n    },\n  },\n  [ACHIEVEMENTS.MOST_TREES]: {\n    icon: 'tree',\n    title: {\n      pt: 'Mais Árvores',\n      en: 'Most Trees',\n    },\n    description: {\n      pt: 'Passou pelo maior número de árvores',\n      en: 'Passed by the most trees',\n    },\n  },\n  [ACHIEVEMENTS.FEWEST_TREES]: {\n    icon: 'x',\n    title: {\n      pt: 'Menos Árvores',\n      en: 'Fewest Trees',\n    },\n    description: {\n      pt: 'Passou pelo menor número de árvores',\n      en: 'Passed by the fewest trees',\n    },\n  },\n  [ACHIEVEMENTS.BEST_MAP]: {\n    icon: 'sun',\n    title: {\n      pt: 'Melhor Guia',\n      en: 'Best Guide',\n    },\n    description: {\n      pt: 'Construiu um mapa que os outros jogadores melhor encontraram as direções corretas',\n      en: 'Built a map that other players found the correct directions the best',\n    },\n  },\n  [ACHIEVEMENTS.WORST_MAP]: {\n    icon: 'arrows',\n    title: {\n      pt: 'Mapeador Divergente',\n      en: 'Diverging Mapper',\n    },\n    description: {\n      pt: 'Construiu um mapa que os outros jogadores tiveram mais dificuldade em encontrar as direções corretas',\n      en: 'Built a map that other players had the most difficulty finding the correct directions',\n    },\n  },\n  [ACHIEVEMENTS.BEST_SCOUT]: {\n    icon: 'foot-prints',\n    title: {\n      pt: 'Melhor Explorador',\n      en: 'Best Scout',\n    },\n    description: {\n      pt: 'Acertou as árvores corretas mais vezes',\n      en: 'Hit the correct trees the most times',\n    },\n  },\n  [ACHIEVEMENTS.WORST_SCOUT]: {\n    icon: 'face-tired',\n    title: {\n      pt: 'Explorador Confuso',\n      en: 'Confused Scout',\n    },\n    description: {\n      pt: 'Acertou as árvores corretas menos vezes',\n      en: 'Hit the correct trees the fewest times',\n    },\n  },\n  [ACHIEVEMENTS.MOST_UP]: {\n    icon: 'arrow-up',\n    title: {\n      pt: 'Norte',\n      en: 'North',\n    },\n    description: {\n      pt: 'Andou mais para cima',\n      en: 'Walked more up',\n    },\n  },\n  [ACHIEVEMENTS.MOST_RIGHT]: {\n    icon: 'arrow-right',\n    title: {\n      pt: 'Leste',\n      en: 'East',\n    },\n    description: {\n      pt: 'Andou mais para direita',\n      en: 'Walked more right',\n    },\n  },\n  [ACHIEVEMENTS.MOST_DOWN]: {\n    icon: 'arrow-down',\n    title: {\n      pt: 'Sul',\n      en: 'South',\n    },\n    description: {\n      pt: 'Andou mais para baixo',\n      en: 'Walked more down',\n    },\n  },\n  [ACHIEVEMENTS.MOST_LEFT]: {\n    icon: 'arrow-left',\n    title: {\n      pt: 'Oeste',\n      en: 'West',\n    },\n    description: {\n      pt: 'Andou mais para esquerda',\n      en: 'Walked more left',\n    },\n  },\n  [ACHIEVEMENTS.MOST_UP_LEFT]: {\n    icon: 'double-arrow-up',\n    title: {\n      pt: 'Noroeste',\n      en: 'Northwest',\n    },\n    description: {\n      pt: 'Andou mais para cima e esquerda',\n      en: 'Walked more up and left',\n    },\n  },\n  [ACHIEVEMENTS.MOST_UP_RIGHT]: {\n    icon: 'double-arrow-up',\n    title: {\n      pt: 'Nordeste',\n      en: 'Northeast',\n    },\n    description: {\n      pt: 'Andou mais para cima e direita',\n      en: 'Walked more up and right',\n    },\n  },\n  [ACHIEVEMENTS.MOST_DOWN_LEFT]: {\n    icon: 'double-arrow-down',\n    title: {\n      pt: 'Sudoeste',\n      en: 'Southwest',\n    },\n    description: {\n      pt: 'Andou mais para baixo e esquerda',\n      en: 'Walked more down and left',\n    },\n  },\n  [ACHIEVEMENTS.MOST_DOWN_RIGHT]: {\n    icon: 'double-arrow-down',\n    title: {\n      pt: 'Sudeste',\n      en: 'Southeast',\n    },\n    description: {\n      pt: 'Andou mais para baixo e direita',\n      en: 'Walked more down and right',\n    },\n  },\n};\n","// Ant Design Resources\nimport { Space } from 'antd';\n// Types\nimport type { PhaseProps } from 'types/game';\n// Utils\nimport { getAvatarColorById, sortPlayers } from 'utils/helpers';\n// Icons\nimport { FlagIcon } from 'icons/FlagIcon';\n// Components\nimport { AvatarStrip } from 'components/avatars';\nimport { GameOverWrapper } from 'components/game-over';\nimport { Achievements } from 'components/general/Achievements';\nimport { Translate } from 'components/language';\nimport { Container } from 'components/layout/Container';\n// Internal\nimport type { MapSegment, Tree } from './utils/types';\nimport { achievementsReference } from './utils/achievements';\nimport { PlayerMap } from './components/PlayerMap';\n\nexport function PhaseGameOver({ state, players }: PhaseProps) {\n  const sortedPlayers = sortPlayers(players);\n  const forest: Tree[] = state.forest ?? [];\n\n  return (\n    <GameOverWrapper state={state} players={players} announcementIcon={<FlagIcon />}>\n      <Achievements players={players} achievements={state.achievements} reference={achievementsReference} />\n      <Container title={<Translate pt=\"Mapas dos Jogadores\" en=\"Players' Maps\" />}>\n        {sortedPlayers.map((player) => {\n          const mapTrees = (player.map ?? []).map((segment: MapSegment) => forest[segment.treeId]);\n          return (\n            <Space\n              key={player.id}\n              className=\"game-over-strip\"\n              style={{ borderColor: getAvatarColorById(player.avatarId) }}\n            >\n              <AvatarStrip player={player} withName className=\"game-over-avatar-strip\" />\n              <PlayerMap map={player.map} fullMap selectedTrees={mapTrees} />\n            </Space>\n          );\n        })}\n      </Container>\n    </GameOverWrapper>\n  );\n}\n","// Types\nimport type { GameState } from 'types/game';\n// Utils\nimport { GAME_COLLECTION } from 'utils/constants';\nimport { PHASES } from 'utils/phases';\n// Components\nimport { PageError } from 'components/errors';\nimport { LoadingPage } from 'components/loaders';\nimport { PhaseLobby, PhaseRules, PhaseSetup } from 'components/phases';\nimport { PhaseWait } from 'components/phases/PhaseWait';\nimport { Session } from 'components/session';\n// Internal\nimport { PhaseMapBuilding } from './PhaseMapBuilding';\nimport { PhasePathFollowing } from './PhasePathFollowing';\nimport { PhaseResults } from './PhaseResults';\nimport { PhaseGameOver } from './PhaseGameOver';\n// Sass\nimport './utils/styles.scss';\n\nfunction getActiveComponent(state: GameState) {\n  // If phase is not defined, it is likely that the game is still loading\n  if (state && !state.phase) return LoadingPage;\n\n  switch (state.phase) {\n    case PHASES.DEFAULT.LOBBY:\n      return PhaseLobby;\n    case PHASES.DEFAULT.RULES:\n      return PhaseRules;\n    case PHASES.DEFAULT.SETUP:\n      return PhaseSetup;\n    case PHASES.DEFAULT.WAIT:\n      return PhaseWait;\n    case PHASES.LABIRINTO_SECRETO.MAP_BUILDING:\n      return PhaseMapBuilding;\n    case PHASES.LABIRINTO_SECRETO.PATH_FOLLOWING:\n      return PhasePathFollowing;\n    case PHASES.LABIRINTO_SECRETO.RESULTS:\n      return PhaseResults;\n    case PHASES.DEFAULT.GAME_OVER:\n      return PhaseGameOver;\n    default:\n      return PageError;\n  }\n}\n\nfunction SessionLabirintoSecreto() {\n  return (\n    <Session gameCollection={GAME_COLLECTION.LABIRINTO_SECRETO} getActiveComponent={getActiveComponent} />\n  );\n}\n\nexport default SessionLabirintoSecreto;\n","import { useEffect, useState } from 'react';\n\nexport type SlideShowConfig = {\n  /**\n   * The total number of slides\n   */\n  length: number;\n  /**\n   * The duration of each slide\n   */\n  slideDuration?: number;\n  /**\n   * The index of the current slide\n   * @default 0\n   **/\n  slideIndex: number;\n  /**\n   * Set the index of the current slide\n   */\n  setSlideIndex: React.Dispatch<React.SetStateAction<number>>;\n  /**\n   * Flag to indicate if this is the first run through of the gallery\n   */\n  isFirstGalleryRunThrough: boolean;\n  /**\n   * Set the flag to indicate if this is the first run through of the gallery\n   */\n  setIsFirstGalleryRunThrough: React.Dispatch<React.SetStateAction<boolean>>;\n  /**\n   * Callback function to execute when the slide show expires\n   */\n  onExpire: () => void;\n  /**\n   * Reset the slide show to the first slide\n   */\n  reset: () => void;\n};\n\n/**\n * Controls slide show\n * @param length\n */\nexport function useSlideShow(options: {\n  length: number;\n  slideDuration: number;\n  onExpire: () => void;\n}): SlideShowConfig {\n  const [slideIndex, setSlideIndex] = useState(0);\n  const [isFirstGalleryRunThrough, setIsFirstGalleryRunThrough] = useState(true);\n\n  useEffect(() => {\n    if (isFirstGalleryRunThrough && slideIndex === options.length - 1) {\n      setIsFirstGalleryRunThrough(false);\n    }\n  }, [isFirstGalleryRunThrough, slideIndex, options.length]);\n\n  return {\n    ...options,\n    slideIndex,\n    setSlideIndex,\n    reset: () => setSlideIndex(0),\n    isFirstGalleryRunThrough,\n    setIsFirstGalleryRunThrough,\n  };\n}\n","export function AnimatedProcessingIcon(props: React.SVGProps<SVGSVGElement>) {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" {...props}>\n      <g>\n        <path\n          fill=\"#ff4755\"\n          d=\"M363 242.3l-19-2.9a88.9 88.9 0 00-14-33.7l11.4-15.5a6.8 6.8 0 00-.7-8.9l-9.8-9.8a6.8 6.8 0 00-8.9-.7l-15.5 11.5a88.7 88.7 0 00-33.7-14l-2.9-19a6.8 6.8 0 00-6.7-5.8h-14a6.8 6.8 0 00-6.7 5.8l-2.8 19a88.6 88.6 0 00-33.8 14l-15.5-11.5a6.8 6.8 0 00-8.8.7l-9.9 9.8a6.8 6.8 0 00-.6 8.9l11.4 15.5a89 89 0 00-14 33.7l-19 2.9a6.8 6.8 0 00-5.8 6.7v14a6.8 6.8 0 005.8 6.7l19 2.9a89 89 0 0014 33.8l-11.4 15.4a6.8 6.8 0 00.6 8.9l9.9 9.8a6.8 6.8 0 008.8.7l15.5-11.5a88.6 88.6 0 0033.8 14l2.8 19a6.8 6.8 0 006.8 5.8h13.9a6.8 6.8 0 006.7-5.8l2.9-19a88.7 88.7 0 0033.8-14l15.4 11.5a6.8 6.8 0 008.9-.7l9.8-9.8a6.8 6.8 0 00.7-8.9L330 306.3a88.7 88.7 0 0014-33.8l19-2.8a6.8 6.8 0 005.8-6.7v-14a6.8 6.8 0 00-5.8-6.7zm-106.8 58.8a45 45 0 1145-45.1 45 45 0 01-45 45z\"\n        ></path>\n        <path fill=\"#fc2b3a\" d=\"M301.3 274a45.3 45.3 0 00-1-9 45 45 0 01-88.2 0 45 45 0 1089.2 9z\"></path>\n        <path d=\"M256.2 203.3a52.7 52.7 0 00-49.4 70.8 7.5 7.5 0 0014-5.2 37.6 37.6 0 1116 19.3 7.5 7.5 0 10-7.7 13 52.6 52.6 0 1027.2-97.9z\"></path>\n        <path d=\"M364.3 234.8l-14-2a95.9 95.9 0 00-11-27l8.3-11.3a14.2 14.2 0 00-1.4-18.6l-9.9-9.9a14.2 14.2 0 00-18.6-1.4l-11.3 8.4a95.9 95.9 0 00-27-11.1l-2-14a14.3 14.3 0 00-14.2-12.2h-14a14.3 14.3 0 00-14.1 12.2l-2.1 14a95.7 95.7 0 00-26.9 11.1l-11.3-8.4A14.3 14.3 0 00176 166l-9.9 9.9a14.2 14.2 0 00-1.4 18.6l8.4 11.4a95.6 95.6 0 00-11.1 26.8l-14 2.1a14.3 14.3 0 00-12 14.2v14a14.3 14.3 0 0012.2 14.2l14 2a95.6 95.6 0 0011.1 27l-8.4 11.3a14.2 14.2 0 001.4 18.6l9.9 9.9a14.3 14.3 0 0018.7 1.4L206 339a95.6 95.6 0 0026.9 11.1l2 14a14.3 14.3 0 0014.3 12.2h13.9a14.3 14.3 0 0014.2-12.2l2-14a95.9 95.9 0 0027-11.1l11.3 8.4a14.2 14.2 0 0018.6-1.4l10-9.9a14.2 14.2 0 001.3-18.6l-8.4-11.4a95.9 95.9 0 0011.2-26.8l13.9-2.1a14.2 14.2 0 0012.2-14.2v-14a14.2 14.2 0 00-12.2-14.2zm-2.8 27.6l-18.5 2.8a7.5 7.5 0 00-6.3 6 81 81 0 01-12.8 31 7.5 7.5 0 00.2 8.7l11 15-9 9-15-11.1a7.5 7.5 0 00-8.6-.2 81 81 0 01-31 12.8 7.5 7.5 0 00-6 6.3l-2.8 18.5h-12.9l-2.7-18.5a7.5 7.5 0 00-6-6.3 81 81 0 01-31-12.8 7.5 7.5 0 00-8.7.2l-15 11-9-9 11-15a7.5 7.5 0 00.2-8.6 81 81 0 01-12.8-31 7.5 7.5 0 00-6.3-6l-18.5-2.8v-12.8l18.5-2.8a7.5 7.5 0 006.2-6 81 81 0 0112.9-31 7.5 7.5 0 00-.2-8.7l-11-15 9-9 15 11.2a7.5 7.5 0 008.6.1 80.8 80.8 0 0131-12.8 7.5 7.5 0 006-6.3l2.8-18.5h12.8l2.8 18.5a7.5 7.5 0 006 6.3 81 81 0 0131 12.8 7.5 7.5 0 008.7-.2l15-11 9 9-11.1 15a7.5 7.5 0 00-.2 8.6 81 81 0 0112.9 31 7.5 7.5 0 006.2 6l18.5 2.8z\"></path>\n        <animateTransform\n          attributeName=\"transform\"\n          dur=\"5s\"\n          type=\"rotate\"\n          from=\"360 256 256\"\n          to=\"0 256 256\"\n          repeatCount=\"indefinite\"\n        ></animateTransform>\n      </g>\n      <g>\n        <path\n          fill=\"#ffe27a\"\n          d=\"M256.5 28.5A227.5 227.5 0 0030.2 233.1l60-2.9A168.6 168.6 0 01256.5 87.8h-.3v23L314.3 64l-58-56v20.6\"\n        ></path>\n        <path\n          fill=\"#f9cf58\"\n          d=\"M256.2 110.8L300 75.5A168.4 168.4 0 0088.2 230.3h2A168.7 168.7 0 01256.5 87.6l-.3.1z\"\n        ></path>\n        <path\n          fill=\"#8bcaff\"\n          d=\"M28.7 255.8v.2a227.5 227.5 0 00204.6 226.3l-3.5-60.1A168.3 168.3 0 0188 256v-.2h22.9l-47-58.1-55.9 58h20.6\"\n        ></path>\n        <path\n          fill=\"#98db7c\"\n          d=\"M255.8 424.3h.4a168.3 168.3 0 00166.2-141.8l60.2-4a227.5 227.5 0 01-226.4 205h-.4V504l-58.1-56 58-46.8v23z\"\n        ></path>\n        <path\n          fill=\"#82d361\"\n          d=\"M256.2 465.5a228.6 228.6 0 01-45-4.5l44.6 43v-20.5h.4c118.1 0 215.2-90 226.4-205l-3 3.1a227.5 227.5 0 01-223.4 183.9z\"\n        ></path>\n        <path\n          fill=\"#6cc4ff\"\n          d=\"M211.1 461A227.5 227.5 0 0129.4 255.8h-.7v.2a227.5 227.5 0 00204.6 226.3z\"\n        ></path>\n        <path\n          fill=\"#ffba57\"\n          d=\"M483.7 256.2v-.2c0-118-90-215.1-205-226.4l35.6 34.3-32 25.9A168.3 168.3 0 01424.5 256v.2h-23.3l46.9 58.1 55.9-58z\"\n        ></path>\n        <path\n          fill=\"#ffac3e\"\n          d=\"M300 75.5l-17.7 14.3a168.3 168.3 0 01142 157.2l.2-9A168.3 168.3 0 00300 75.5z\"\n        ></path>\n        <path d=\"M511.4 253.3a7.5 7.5 0 00-7-4.6h-12.8A235.5 235.5 0 00282 22L261.4 2c-4.4-4.5-13-1-12.7 5.5v13.1a233.8 233.8 0 00-128 42.8 7.5 7.5 0 008.7 12.3 219 219 0 01126.8-40.2 7.5 7.5 0 007.5-7.5v-2.8L303.1 63l-39.4 31.8v-7.4a7.5 7.5 0 00-7.5-7.5A176.2 176.2 0 0085.5 212.8l-16.1-20a7.6 7.6 0 00-11.3-.4l-17.6 18.3A220.2 220.2 0 01106.7 94a7.5 7.5 0 10-10.2-11 235 235 0 00-74.3 146.6l-20.1 21c-4.6 4.4-1 12.9 5.4 12.7h13.4a235.5 235.5 0 00209 226.7l20.7 20c4.5 4.5 12.9 1 12.7-5.5v-13.1a233.6 233.6 0 00130-44 7.5 7.5 0 10-8.7-12.2A219 219 0 01256 476.4h-.3a7.5 7.5 0 00-7.6 7.6v2.8L209 449l39.3-31.8v7.4a7.5 7.5 0 007.5 7.5h.5A176.2 176.2 0 00427 299.6l15.7 19.5a7.6 7.6 0 0011.3.5l18.2-18.9a220.4 220.4 0 01-65 116 7.5 7.5 0 0010.3 11 235.2 235.2 0 0072.9-145.9l19.6-20.4a7.5 7.5 0 001.5-8.1zM192.9 442.6a7.6 7.6 0 00-.5 11.3l18.5 17.9A220.5 220.5 0 0135.8 256v-.3a7.5 7.5 0 00-7.5-7.5h-3.1L63 209l31.8 39.3h-7.2a7.5 7.5 0 00-7.5 7.5v.3a176.2 176.2 0 00132.5 170.7zm168.4-64.5a161 161 0 01-98 38.8v-15.4c.2-6.2-7.6-9.9-12.2-5.9l-23.5 19A161.1 161.1 0 0195.3 263.2h15.2c6.2.2 9.9-7.6 5.9-12.3l-18.8-23.2A161.1 161.1 0 01248.7 95.1v15.4c-.2 6.2 7.6 9.9 12.2 5.9l23.6-19A161.1 161.1 0 01417 248.7h-15.7c-6-.2-9.8 7.6-5.8 12.3l19.1 23.6a161.1 161.1 0 01-53.4 93.5zm87.7-75l-31.8-39.4h7.6a7.5 7.5 0 007.5-7.4v-.3A176.2 176.2 0 00299.5 85.3l19.6-16a7.6 7.6 0 00.5-11.2l-18.7-18A220.5 220.5 0 01476.7 256v.3a7.5 7.5 0 007.5 7.5h2.6z\"></path>\n        <path fill=\"none\" d=\"M0 0h512v512H0z\"></path>\n        <animateTransform\n          attributeName=\"transform\"\n          dur=\"5s\"\n          type=\"rotate\"\n          from=\"0 256 256\"\n          to=\"360 256 256\"\n          repeatCount=\"indefinite\"\n        ></animateTransform>\n      </g>\n    </svg>\n  );\n}\n","export function FlagIcon(props: React.SVGProps<SVGSVGElement>) {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" {...props}>\n      <path\n        fill=\"#f58a97\"\n        d=\"M440.433 381.526H256.629v-204.53h183.804c5.054 0 8.443 5.193 6.407 9.819l-39.439 89.627a7.005 7.005 0 000 5.639l39.439 89.627c2.036 4.625-1.352 9.818-6.407 9.818z\"\n      ></path>\n      <path\n        fill=\"#f07281\"\n        d=\"M407.402 282.081a6.997 6.997 0 010-5.639l39.439-89.627c2.036-4.626-1.353-9.819-6.407-9.819h-30c5.055 0 8.443 5.193 6.407 9.819l-39.439 89.627a6.997 6.997 0 000 5.639l39.439 89.626c2.036 4.626-1.353 9.819-6.407 9.819h30c5.055 0 8.443-5.193 6.407-9.819z\"\n      ></path>\n      <path fill=\"#f8a6af\" d=\"M304.7 291.526l-30-30H148.559V108.154H274.7c16.569 0 30 13.431 30 30z\"></path>\n      <path\n        fill=\"#f07281\"\n        d=\"M208.559 261.526H274.7c16.569 0 30 13.431 30 30 0 16.569-13.431 30-30 30h-36.142l-30 30v-90z\"\n      ></path>\n      <path\n        fill=\"#f58a97\"\n        d=\"M274.7 321.526h-36.142c-16.569 0-30 13.431-30 30 0 16.569 13.431 30 30 30H304.7z\"\n      ></path>\n      <path fill=\"#d8ecfe\" d=\"M109.559 74.5h39v378h-39z\"></path>\n      <path\n        fill=\"#f58a97\"\n        d=\"M67.059 504.5h124a2.5 2.5 0 002.5-2.5c0-35.622-28.878-64.5-64.5-64.5s-64.5 28.878-64.5 64.5a2.5 2.5 0 002.5 2.5z\"\n      ></path>\n      <path\n        fill=\"#f07281\"\n        d=\"M129.059 437.5a64.64 64.64 0 00-15 1.772c28.385 6.764 49.5 32.272 49.5 62.728a2.5 2.5 0 01-2.5 2.5h30a2.5 2.5 0 002.5-2.5c0-35.623-28.878-64.5-64.5-64.5z\"\n      ></path>\n      <circle cx=\"129.059\" cy=\"50.5\" r=\"43\" fill=\"#f58a97\"></circle>\n      <path\n        fill=\"#f07281\"\n        d=\"M129.059 7.5a42.9 42.9 0 00-15 2.694c16.351 6.088 28 21.834 28 40.306s-11.649 34.218-28 40.306a42.9 42.9 0 0015 2.694c23.748 0 43-19.252 43-43s-19.252-43-43-43z\"\n      ></path>\n      <path d=\"M453.704 368.689l-39.352-89.429 39.35-89.416a14.45 14.45 0 00-1.122-13.765 14.458 14.458 0 00-12.151-6.58h-48.621c-4.142 0-7.5 3.357-7.5 7.5s3.358 7.5 7.5 7.5h47.858l-39.135 88.926a14.56 14.56 0 00.003 11.675l39.132 88.93H304.777c-.026 0-.051-.004-.077-.004h-66.142c-12.407 0-22.5-10.094-22.5-22.5s10.093-22.5 22.5-22.5H274.7c20.675 0 37.495-16.818 37.499-37.492V184.5h44.609c4.142 0 7.5-3.357 7.5-7.5s-3.358-7.5-7.5-7.5H312.2v-31.35c0-20.678-16.822-37.5-37.5-37.5H156.06v-7.508c14.109-8.966 23.499-24.724 23.499-42.643 0-27.846-22.654-50.5-50.5-50.5s-50.5 22.654-50.5 50.5c0 17.92 9.391 33.679 23.501 42.645V347.38c0 4.143 3.358 7.5 7.5 7.5s7.5-3.357 7.5-7.5V99.548c3.848.942 7.864 1.452 11.999 1.452s8.152-.511 12.001-1.453v331.472A72.162 72.162 0 00129.059 430c-4.089 0-8.094.361-11.999 1.019V382.38c0-4.143-3.358-7.5-7.5-7.5s-7.5 3.357-7.5 7.5v52.892C75.701 445.976 57.058 471.844 57.058 502c0 5.514 4.486 10 10 10h124c5.514 0 10-4.486 10-10 0-30.155-18.641-56.022-44.999-66.727V269.03h44.999v82.496c0 20.678 16.822 37.5 37.5 37.5l201.872.004c4.923 0 9.466-2.462 12.153-6.587a14.437 14.437 0 001.121-13.754zm-179.003-54.663h-36.142a37.297 37.297 0 00-22.5 7.521V269.03H274.7l.052-.003c12.383.028 22.448 10.11 22.448 22.499 0 12.407-10.093 22.5-22.499 22.5zM185.841 497H72.276c2.54-29.098 27.037-52 56.783-52s54.242 22.902 56.782 52zM129.058 86c-19.575 0-35.5-15.925-35.5-35.5s15.925-35.5 35.5-35.5 35.5 15.925 35.5 35.5-15.925 35.5-35.5 35.5zm79.5 168.026c-.026 0-.051.004-.077.004H156.06V115.65H274.7c12.407 0 22.5 10.094 22.5 22.5v123.396a37.302 37.302 0 00-22.5-7.52z\"></path>\n    </svg>\n  );\n}\n","export function LocationIcon(props: React.SVGProps<SVGSVGElement>) {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" {...props}>\n      <path\n        fill=\"#ff7b79\"\n        d=\"M256 502L109.71 285.12a176.45 176.45 0 0121.52-223.44c68.91-68.9 180.63-68.9 249.54 0a176.45 176.45 0 0121.52 223.44z\"\n      ></path>\n      <circle cx=\"256\" cy=\"186.45\" r=\"111.41\" fill=\"#fff\"></circle>\n      <path\n        fill=\"#a7bcce\"\n        d=\"M279.82 209h-47.64A39.18 39.18 0 00193 248.18v21.5a28.18 28.18 0 0028.18 28.18h69.64A28.18 28.18 0 00319 269.68v-21.5A39.18 39.18 0 00279.82 209z\"\n      ></path>\n      <path fill=\"#f5dbcd\" d=\"M256 146a28 28 0 00-28 28v7a28 28 0 1056 0v-7a28 28 0 00-28-28z\"></path>\n      <path d=\"M387.84 54.6C352.63 19.4 305.8 0 256 0s-96.62 19.4-131.84 54.61c-62.97 62.97-72.53 162.27-22.74 236.1L247.71 507.6a10 10 0 0016.58 0l146.29-216.88c49.8-73.83 40.23-173.13-22.74-236.1zM394 279.54L256 484.12l-138-204.6c-44.45-65.9-35.92-154.55 20.3-210.77C169.74 37.31 211.54 20 256 20s86.26 17.31 117.7 48.75c56.22 56.22 64.75 144.86 20.3 210.78z\"></path>\n      <path d=\"M304.05 74.92a10 10 0 00-7.92 18.37A101.39 101.39 0 01329 256.77v-8.59c0-24-17.27-44.01-40.03-48.31 3.2-5.57 5.03-12 5.03-18.87v-7c0-20.95-17.05-38-38-38s-38 17.05-38 38v7c0 6.87 1.84 13.3 5.04 18.87A49.25 49.25 0 00183 248.18v8.59a101.39 101.39 0 0132.87-163.48 10 10 0 00-7.92-18.37 121.37 121.37 0 00-73.36 111.53c0 66.95 54.47 121.41 121.41 121.41s121.41-54.46 121.41-121.4c0-48.54-28.8-92.31-73.36-111.54zM238 174c0-9.92 8.08-18 18-18s18 8.08 18 18v7c0 9.93-8.07 18-18 18s-18-8.07-18-18zm-35 98.87v-24.69A29.21 29.21 0 01232.18 219h47.64A29.21 29.21 0 01309 248.18v24.7c-15.43 9.5-33.59 14.98-53 14.98s-37.57-5.49-53-14.99z\"></path>\n      <path d=\"M256 85.04c2.63 0 5.21-1.07 7.07-2.93 1.86-1.86 2.93-4.44 2.93-7.07s-1.07-5.2-2.93-7.07c-1.86-1.86-4.44-2.93-7.07-2.93s-5.2 1.07-7.07 2.93c-1.86 1.86-2.93 4.44-2.93 7.07s1.07 5.21 2.93 7.07a10.07 10.07 0 007.07 2.93z\"></path>\n    </svg>\n  );\n}\n","// This icon file is generated automatically.\nvar CaretUpOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"0 0 1024 1024\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z\" } }] }, \"name\": \"caret-up\", \"theme\": \"outlined\" };\nexport default CaretUpOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport CaretUpOutlinedSvg from \"@ant-design/icons-svg/es/asn/CaretUpOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar CaretUpOutlined = function CaretUpOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: CaretUpOutlinedSvg\n  }));\n};\n\n/**![caret-up](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTg1OC45IDY4OUw1MzAuNSAzMDguMmMtOS40LTEwLjktMjcuNS0xMC45LTM3IDBMMTY1LjEgNjg5Yy0xMi4yIDE0LjItMS4yIDM1IDE4LjUgMzVoNjU2LjhjMTkuNyAwIDMwLjctMjAuOCAxOC41LTM1eiIgLz48L3N2Zz4=) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(CaretUpOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'CaretUpOutlined';\n}\nexport default RefIcon;"],"names":["getSource","str","match","numId","Number","parseInt","itemId","sourceId","Math","ceil","ItemCard","id","width","className","title","text","padding","source","height","divPadding","clsx","style","Card","children","header","footer","color","size","randomColor","headerClassName","footerClassName","hideHeader","baseClass","bgColor","getColorFromLetter","toUpperCase","startsWith","backgroundColor","MouseFollowingContent","contained","active","MouseFollowingContentInternal","divRef","useRef","useEffect","handleMouseMove","e","current","left","clientX","top","clientY","document","addEventListener","removeEventListener","ref","getAnimationClass","SlideShowControls","config","disableControls","barColor","nextButtonProps","slideDuration","totalDuration","length","useCountdown","duration","autoStart","onExpire","timeLeft","isRunning","pause","resume","disableControlsFlag","isFirstGalleryRunThrough","expectedSlideIndex","max","min","floor","slideIndex","setSlideIndex","slots","useMemo","Array","fill","map","i","calculateProgress","opacity","icon","onClick","s","disabled","pt","en","PhaseWait","state","PhaseContainer","phase","allowedPhase","PHASES","DEFAULT","WAIT","AnimatedProcessingIcon","LABIRINTO_SECRETO_ACTIONS","DIRECTIONS","TreeImage","TreeCard","String","PlayerSelectionMap","forest","newMap","userMap","filter","segment","passed","SpaceContainer","wrap","index","treeId","tree","mapLocation","negate","NoIcon","clues","clue","treeType","card","getIndex","point","getPoint","getDirection","from","to","fromX","fromY","result","FOREST_WIDTH","getAvailableSegments","origin","usedIndexes","x","y","available","topIndex","includes","push","right","rightIndex","down","downIndex","leftIndex","topLeft","topLeftIndex","topRight","topRightIndex","downLeft","downLeftIndex","downRight","downRightIndex","mockFollowedPath","fullMap","currentMap","increaseChances","previousMistakes","usedTrees","union","possibilities","correctTreeId","choice","getRandomItem","ForestTree","startingTeeId","finalTreeId","currentTreeId","showPath","showArrow","hidePassedTreeNames","isSegment","Boolean","isStartingPoint","originDirection","FOREST_HEIGHT","getOriginDirection","isFinalPoint","isCurrentTree","isPassed","FinishLineIcon","direction","CompassIcon","infinite","FlagIcon","ArrowIcon","Forest","actions","players","user","PLACEHOLDER_PLAYER","forestBorderColor","playerMapping","windowSizes","useWindowSize","initialWidth","initialHeight","useState","sizes","setScreenSize","element","getElementById","clientWidth","clientHeight","useScreenSize","screenWidth","treeWidth","useCardWidth","gap","minWidth","maxWidth","vertical","treeMap","reduce","acc","findLast","proportion","initialScale","minScale","maxScale","wheel","step","centerOnInit","zoomIn","zoomOut","resetTransform","Fragment","ForestControls","position","wrapperClass","borderColor","selection","clickableTrees","onSelectTree","activeTree","isPathForward","isClickable","isSelected","isActive","selectionIndex","indexOf","condition","PlayerPositions","playerIds","translate","useLanguage","list","playerId","AvatarGroup","tooltipPrefix","justify","ZoomInOutlined","ZoomOutOutlined","FullscreenExitOutlined","CompassHighlight","MetricHighlight","MapHighlight","MapIcon","TreeHighlight","TreeIcon","MapBuilder","onSubmitMap","isLoading","useLoading","previousSelections","_","selections","setSelections","currentIndex","setIndex","skippedIndexes","setSkippedIndexes","usedCards","possibleTreeIds","currentSegment","previousTree","getPossibleTreeIds","LocationIcon","speed","prev","copy","onNegateCard","idx","v","onUnsetCard","delay","Container","hand","onSetCard","type","StepBuildMap","announcement","currentRound","useMock","sampleSize","random","activePlayer","activeSegments","Object","values","forEach","player","historyEntry","history","arr","treeIds","undefined","lastTreeId","buildPlayerMappingForLatestTree","fullWidth","PointsHighlight","StepBuildWait","PhaseMapBuilding","useUser","useStep","setStep","request","useGameActionRequest","actionName","onSuccess","onError","successMessage","errorMessage","payload","action","useOnSubmitMapAPIRequest","round","isUserMapComplete","every","LABIRINTO_SECRETO","MAP_BUILDING","waitingRoom","content","MapEntry","GOAL_TREE","PlayerMap","selectedTrees","gridTemplateColumns","selectedTree","flagPole","ClickableForest","onSubmitPath","pathId","passedTrees","userMapping","activePlayerId","activeSegment","buildUserMappingForLatestTree","setSelection","setActiveTree","isDisabled","guess","flat","choseRandomly","slice","ghost","StepFollowPath","playerCount","keys","StepPathWaiting","PhasePathFollowing","useWhichPlayerIsThe","isTheActivePlayer","useOnSubmitPathAPIRequest","DirectionsIcon","order","turnOrder","PATH_FOLLOWING","StepRanking","ranking","onGoBack","gainedPointsDescriptions","PlayerMapResultsSummary","currentPlayer","playersIds","name","avatarId","score","StepGallery","gallery","slideShowConfig","currentColor","getAvatarColorById","startingSegment","buildPlayerMapping","PhaseResults","goToPreviousStep","goToNextStep","sortPlayers","some","useSlideShow","RESULTS","PathIcon","onClose","unskippable","reset","ACHIEVEMENTS","achievementsReference","description","PhaseGameOver","sortedPlayers","announcementIcon","Achievements","achievements","reference","mapTrees","withName","getActiveComponent","LoadingPage","LOBBY","PhaseLobby","RULES","PhaseRules","SETUP","PhaseSetup","GAME_OVER","PageError","gameCollection","GAME_COLLECTION","options","setIsFirstGalleryRunThrough","props","xmlns","viewBox","d","attributeName","dur","repeatCount","cx","cy","r","CaretUpOutlined","React","AntdIcon","_extends","CaretUpOutlinedSvg"],"sourceRoot":""}