"use strict";(self.webpackChunktardedivertida=self.webpackChunktardedivertida||[]).push([[69],{4069:function(e,r,a){a.r(r),a.d(r,{default:function(){return w}});var t=a(6591),s=a(5149),n=a(3648),o=a(184);var i=function(e){var r=e.state,a=e.info;return(0,o.jsx)(n.Ss,{info:a,state:r,announcementIcon:"trophy"})},c=a(2427),d=a(1413),l=a(5928);var u=a(9439),m=a(2791),h=a(6005),v=a(7309),p=a(1238),x=["\xe1gua","bola","calder\xe3o do huck","dedo","esmalte","fat\xeddico","ganhar","heredit\xe1rio","simp\xe1tico","abismo","rola","a branca de neve","oops i did it again","pesquisa","saborosa","amargo"],j=function(e,r,a){var t=(0,p.TV)(e.map((function(e){return e.id})).filter((function(e){return e!==a.id}))),s=(0,p.TV)(r);return t.reduce((function(e,r,a){return e[r]=s[a],e}),{})},g=a(8182);function f(e){var r=e.cardId,a=e.cardWidth,t=e.isDream,s=void 0!==t&&t,i=e.isNightmare,c=void 0!==i&&i,d=e.hideBlurButton,l=void 0!==d&&d,u="s-dream-board-card";return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.fe,{imageId:r,cardWidth:a,className:(0,g.Z)(u,s&&"".concat(u,"--dream"),c&&"".concat(u,"--nightmare"))}),!l&&(0,o.jsx)(n.i9,{cardId:r})]})}function y(e){var r=e.table,a=e.user,t=e.className,s=void 0===t?"":t,i=(0,c.m3)(r.length+1,20);return(0,o.jsx)("ul",{className:(0,g.Z)("s-dream-board",s),children:r.map((function(e){var r=a.dreamId===e,t=a.nightmareId===e;return(0,o.jsxs)("li",{className:"s-dream-board__entry",style:{maxWidth:"".concat(i+20,"px")},children:[(0,o.jsx)(f,{cardId:e,cardWidth:i,isDream:r,isNightmare:t}),r&&(0,o.jsx)("div",{className:"s-dream-board__dream-label",style:{maxWidth:"".concat(i,"px")},children:(0,o.jsx)(n.vN,{pt:"Sonho",en:"Pesadelo"})}),t&&(0,o.jsx)("div",{className:"s-dream-board__nightmare-label",style:{maxWidth:"".concat(i,"px")},children:(0,o.jsx)(n.vN,{pt:"Pesadelo",en:"Nightmare"})})]},"board-".concat(e))}))})}function b(e){var r=e.players,a=e.table,t=e.user,s=e.onSubmitDream,i=(0,c.r$)().isLoading,d=(0,c.ZK)().translate,l=(0,m.useState)(""),j=(0,u.Z)(l,2),g=j[0],f=j[1];(0,c.MJ)((function(){s({dream:(0,p.TV)(x)[0]})}),[]);var b=function(){s({dream:g})};return(0,o.jsxs)(n.h8,{fullWidth:!0,className:"s-tell-dream-step",children:[(0,o.jsx)(n.Dx,{children:(0,o.jsx)(n.Zb,{header:d("Tema do Sonho","Dream Theme"),className:"s-theme-card",randomColor:!0,footer:Array(t.theme.level).fill("\u2022").join(""),footerClassName:"s-theme-card__description",children:t.theme.text})}),(0,o.jsx)(n.vr,{contained:!0,children:(0,o.jsx)(n.vN,{pt:"Dentro do tema acima, escreva sua dica no campo abaixo. Lembre-se que seu sonho \xe9 a carta de borda amarela e seu pesadelo \xe9 a carta de borda roxa.",en:"Write a clue in the field below within the given theme. Remember that your dream is the card with the yellow border and your nightmare is the card with the purple border."})}),(0,o.jsx)(y,{table:a,user:t}),(0,o.jsx)(n.qO,{children:(0,o.jsx)(h.Z,{size:"large",onPressEnter:b,onChange:function(e){return f(e.target.value)},placeholder:d("Escreva aqui","Write here")})}),(0,o.jsx)(n.qO,{children:(0,o.jsx)(v.Z,{type:"primary",disabled:i||!Boolean(g),onClick:b,children:(0,o.jsx)(n.vN,{pt:"Enviar Sonho",en:"Submit Dream"})})}),(0,o.jsx)(n.qQ,{players:r})]})}var N=function(){return(0,o.jsx)(n.vN,{pt:(0,o.jsxs)(o.Fragment,{children:["Escreva uma dica dentro do tema dado para o seu sonho (carta com borda amarela).",(0,o.jsx)("br",{}),"Preste aten\xe7\xe3o em seu pesadelo (carta com borda roxa), se algu\xe9m achar que sua dica \xe9 relacionada a seu pesadelo, voc\xea perde pontos."]}),en:(0,o.jsxs)(o.Fragment,{children:["Write a clue for your dream (yellow bordered card).",(0,o.jsx)("br",{}),"Pay attention to your nightmare (purple bordered card) because if any player thinks that your clue is related to that card, you lose points."]})})};var S=function(e){var r,a=e.state,t=e.players,i=e.info,u=(0,c.ZK)().translate,m=(0,c.g4)(0),h=m.step,v=m.goToNextStep,p=m.setStep,x=(0,c.aF)(t),j=(0,c.bC)(t,a),g=function(e){var r=(0,c.ZK)().translate,a=(0,c.Cq)({apiFunction:l.K3.submitAction,actionName:"submit-dream",onBeforeCall:function(){return e(3)},onError:function(){return e(0)},successMessage:r("Sonho submetido com sucesso","Dream submitted successfully"),errorMessage:r("Vixi, o aplicativo encontrou um erro ao tentar enviar seu sonho","Oops, the application found an error while trying to submit your dream")});return function(e){a((0,d.Z)({action:"SUBMIT_DREAM"},e))}}(p);return(0,o.jsx)(n.JK,{info:i,phase:null===a||void 0===a?void 0:a.phase,allowedPhase:s.R.SONHOS_PESADELOS.DREAM_TELLING,children:(0,o.jsxs)(n.pD,{step:h,conditions:[!j],players:t,children:[(0,o.jsx)(n.YE,{round:a.round,buttonText:"",onPressButton:v,time:5,children:(0,o.jsx)(n.vr,{contained:!0,children:(0,o.jsx)(n.vN,{pt:"Sabe quando voc\xea sonha com uma coisa, mas n\xe3o consegue explicar? Ent\xe3o...",en:"You know when you dream about something but you can't quite explain? So..."})})}),(0,o.jsxs)(n.Cl,{type:"dream",title:u("Conte-nos sobre seu sonho","Tell us about your dream..."),onClose:v,currentRound:null===a||void 0===a||null===(r=a.round)||void 0===r?void 0:r.current,children:[(0,o.jsx)(n.vr,{children:(0,o.jsx)(N,{})}),(0,o.jsx)(n.L9,{hand:a.table})]}),(0,o.jsx)(b,{players:t,table:a.table,onSubmitDream:g,user:x})]})})};function I(e){var r=e.dreams,a=e.activeItem,s=e.onActivateItem,i=e.votes,c=e.players,d="a-evaluation-all-cards__li-card-button";return(0,o.jsx)("ul",{className:"a-evaluation-all-cards",children:r.map((function(e,r){var l=e.id,u=e.dream,m=c[l],h=t.Z$[r],v=(0,p.O1)(["dream",l,h]),x=a===v,j=Object.keys(i).includes(v);return(0,o.jsx)("li",{role:"button",className:(0,g.Z)(d,x&&"".concat(d,"--active"),j&&"".concat(d,"--used")),onClick:function(){return s(v)},children:(0,o.jsx)(n.Zb,{color:(0,p.Ot)(h),header:h,size:"medium",footer:m.name,className:"s-clue-card",footerClassName:"s-clue-card__footer",children:u})},v)}))})}var _=function(e,r){return Object.entries(e).reduce((function(e,a){var s=(0,u.Z)(a,2),n=s[0],o=s[1],i=n.split(t.UD)[1],c=o.split(t.UD)[1];return i!==r.id&&(e[i]=c),e}),{})};function O(e){var r=e.table,a=e.activeItem,t=e.onActivateItem,s=e.votes,i=(0,c.m3)(r.length,20),d="a-evaluation-all-drawings__li-drawing-button";return(0,o.jsx)("ul",{className:"s-dream-board",children:r.map((function(e){var r=(0,p.O1)(["card",e]),c=a===r,l=function(e,r){return Object.keys(e).filter((function(a){return e[a]===r}))}(s,r);return(0,o.jsxs)("li",{className:(0,g.Z)("s-dream-board__entry",d,c&&"".concat(d,"--active")),style:{maxWidth:"".concat(i+20,"px")},children:[(0,o.jsxs)("div",{className:"s-dream-board__card-container",children:[(0,o.jsx)(n.Fu,{labels:l}),(0,o.jsx)(f,{cardId:e,cardWidth:i,hideBlurButton:!0}),(0,o.jsx)(n.Dm,{cardId:r,onClick:t})]}),(0,o.jsx)(n.i9,{cardId:e})]},"board-".concat(e))}))})}function E(e){var r=e.players,a=e.user,s=e.table,i=e.onSubmitVotes,l=e.dreams,u=(0,c.r$)().isLoading,h=(0,c.ZK)().translate,x=(0,c.Bx)("dream",!0,l.length),f=x.votes,y=x.setVotes,b=x.activeItem,N=x.activateItem,S=x.isVotingComplete;(0,m.useEffect)((function(){var e=function(e,r){return e.reduce((function(e,a,s){if(a.id===r.id){var n=(0,p.O1)(["dream",a.id,t.Z$[s]]),o=(0,p.O1)(["card",r.dreamId]);e[n]=o}return e}),{})}(l,a);e&&y((function(r){return(0,d.Z)((0,d.Z)({},r),e)}))}),[]),(0,c.MJ)((function(){i({votes:j(l,s,a)})}),[]);return(0,o.jsxs)(n.h8,{fullWidth:!0,className:"s-tell-dream-step",children:[(0,o.jsx)(n.Dx,{children:h("Adivinha\xe7\xe3o","Match the Pairs")}),(0,o.jsx)(n.vr,{contained:!0,children:(0,o.jsx)(n.vN,{pt:"Clique em uma carta e ent\xe3o uma bot\xe3o da imagem correspondente ou vice e versa. Aperte enviar quando terminar te combinar todas as dicas.",en:"Click on a clue then on an image button or vice versa. When you're done matching all clues, press Submit."})}),(0,o.jsxs)(n.qO,{children:[(0,o.jsx)(v.Z,{type:"default",disabled:u,onClick:function(){return y(function(e,r,a){var s=r.reduce((function(e,r,s){var n=(0,p.TV)(a),o=(0,p.O1)(["dream",r.id,t.Z$[s]]),i=(0,p.O1)(["card",n[0]]);return e[o]=i,e}),{});return(0,d.Z)((0,d.Z)({},s),e)}(f,l,s))},className:(0,g.Z)(S&&(0,p.hL)("tada")),size:"large",children:(0,o.jsx)(n.vN,{pt:"Vote pra mim",en:"Vote for me"})}),(0,o.jsx)(v.Z,{type:"primary",disabled:u||!S,onClick:function(){i({votes:_(f,a)})},className:(0,g.Z)(S&&(0,p.hL)("tada")),size:"large",children:(0,o.jsx)(n.vN,{pt:"Enviar",en:"Submit"})})]}),(0,o.jsx)(O,{user:a,table:s,activeItem:b,onActivateItem:N,votes:f}),(0,o.jsx)(I,{dreams:l,activeItem:b,onActivateItem:N,votes:f,players:r}),(0,o.jsx)(n.qQ,{players:r})]})}var C=function(e){var r,a=e.state,t=e.players,i=e.info,u=(0,c.ZK)().translate,m=(0,c.g4)(0),h=m.step,v=m.goToNextStep,p=m.setStep,x=(0,c.aF)(t),j=(0,c.bC)(t,a),g=function(e){var r=(0,c.ZK)().translate,a=(0,c.Cq)({apiFunction:l.K3.submitAction,actionName:"submit-votes",onBeforeCall:function(){return e(2)},onError:function(){return e(0)},successMessage:r("Votos submetidos com sucesso","Votes submitted successfully"),errorMessage:r("Vixi, o aplicativo encontrou um erro ao tentar enviar seus votos","Oops, the application found an error while trying to submit your votes")});return function(e){a((0,d.Z)({action:"SUBMIT_VOTING"},e))}}(p);return(0,o.jsx)(n.JK,{info:i,phase:null===a||void 0===a?void 0:a.phase,allowedPhase:s.R.SONHOS_PESADELOS.MATCHING,children:(0,o.jsxs)(n.pD,{step:h,conditions:[!j],players:t,children:[(0,o.jsx)(n.Cl,{type:"evaluate",title:u("Combine os sonhos","Match the dreams"),onClose:v,currentRound:null===a||void 0===a||null===(r=a.round)||void 0===r?void 0:r.current,children:(0,o.jsx)(n.vr,{children:(0,o.jsx)(n.vN,{pt:(0,o.jsxs)(o.Fragment,{children:["Selecione os pares de dica e carta.",(0,o.jsx)("br",{}),"Mais de um jogador pode ter o mesmo sonho."]}),en:(0,o.jsxs)(o.Fragment,{children:["Match the pairs of cards and clues.",(0,o.jsx)("br",{}),"More than one player may have the same card."]})})})}),(0,o.jsx)(E,{players:t,user:x,table:a.table,onSubmitVotes:g,dreams:a.dreams})]})})};function Z(e){var r=e.entry,a=e.activePlayer,t=(0,c.m3)(5,40);return(0,o.jsxs)("div",{className:"s-gallery-dream-display",children:[(0,o.jsx)("div",{className:"s-gallery-dream-display__player",children:(0,o.jsx)(n.gj,{player:a})}),(0,o.jsxs)("div",{className:"s-gallery-dream-display__theme-container",children:[(0,o.jsxs)("div",{className:"s-gallery-dream-display__theme",children:[a.theme.text,":"]}),(0,o.jsx)("div",{className:"s-gallery-dream-display__dream",children:r.dream})]}),(0,o.jsx)("div",{className:"s-gallery-dream-display__dream-image-container",children:(0,o.jsx)(n.fe,{imageId:r.dreamId,cardWidth:t,className:"s-gallery-dream-display__dream-image"})})]})}var D=a(2649);function P(e){var r=e.entry,a=e.players,t=e.correctGuessPoints,s=(0,c.m3)(8,20);return(0,o.jsx)("ul",{className:"s-gallery-guesses",children:r.cards.map((function(e){return(0,o.jsxs)("li",{className:"s-gallery-guesses__votes-container",style:{width:"".concat(s+16,"px")},children:[(0,o.jsx)("div",{children:(0,o.jsx)(f,{cardId:e.cardId,cardWidth:s,isDream:e.isDream,isNightmare:e.isNightmare,hideBlurButton:!0})}),(0,o.jsxs)("div",{className:"s-gallery-guesses__votes",children:[(0,o.jsx)(D.C.Group,{children:e.votes.map((function(e){var r=a[e];return(0,o.jsx)(n.qE,{id:r.avatarId,alt:r.name,size:"small"})}))}),e.votes.length>0&&e.isDream&&(0,o.jsx)(n.q2,{quantity:t,keyPrefix:"dream-correct",hideText:!0}),e.votes.length>0&&e.isNightmare&&(0,o.jsx)(n.q2,{quantity:-1,keyPrefix:"dream-incorrect",hideText:!0})]})]},"gallery-guess-".concat(e.cardId))}))})}function A(e){var r=e.players,a=e.gallery,t=e.activeIndex,s=e.setActiveIndex,i=e.setStep,d=e.isFirstGalleryRunThrough,l=e.correctGuessPoints,u=(0,c.ZK)().translate,m=a[t],h=r[m.playerId];return(0,o.jsxs)(n.h8,{fullWidth:!0,className:"s-results-step",children:[(0,o.jsx)(n.Dx,{children:u("Resultado","Results")}),(0,o.jsxs)(n.ri,{players:r,galleryLength:a.length,activeIndex:t,setActiveIndex:s,setStep:i,disableControls:d,barColor:(0,p.n0)(h.avatarId),windowDuration:10,children:[(0,o.jsx)(Z,{entry:m,activePlayer:h}),(0,o.jsx)(P,{entry:m,players:r,correctGuessPoints:l})]})]})}var T=a(4239);function L(e){var r=e.players,a=e.ranking,t=e.round,s=e.goToPreviousStep,i=e.setActiveIndex,c=e.isLastRound;e.correctGuessPoints;return(0,o.jsxs)(n.h8,{children:[(0,o.jsx)(n._o,{players:r,ranking:a,gainedPointsDescriptions:[(0,o.jsx)(n.vN,{pt:"Votos corretos",en:"Correct guesses"}),(0,o.jsx)(n.vN,{pt:"Votos corretos em seu sonho por outros jogadores",en:"Correct guesses on your dream by other players"}),(0,o.jsx)(n.vN,{pt:"Votos em pesadelos",en:"Nightmares selected"})]}),t.current<t.total&&(0,o.jsx)(n.eV,{round:t}),(0,o.jsx)(v.Z,{size:"large",onClick:function(){s(),i(0)},icon:(0,o.jsx)(T.Z,{}),children:(0,o.jsx)(n.vN,{pt:"Ver Galeria De Novo",en:"See Gallery Again"})}),(0,o.jsx)(n.wU,{round:t,lastRound:c})]})}var R=function(e){var r,a=e.state,t=e.players,i=e.info,d=(0,c.ZK)().translate,l=(0,c.g4)(0),h=l.step,v=l.goToNextStep,p=l.goToPreviousStep,x=l.setStep,j=(0,c.bC)(t,a),g=(0,m.useState)(0),f=(0,u.Z)(g,2),y=f[0],b=f[1],N=(0,m.useState)(!0),S=(0,u.Z)(N,2),I=S[0],_=S[1];return(0,m.useEffect)((function(){I&&h>1&&_(!1)}),[h,I]),(0,o.jsx)(n.JK,{info:i,phase:null===a||void 0===a?void 0:a.phase,allowedPhase:s.R.SONHOS_PESADELOS.RESOLUTION,children:(0,o.jsxs)(n.pD,{step:h,conditions:[!j],players:t,children:[(0,o.jsx)(n.Cl,{type:"countdown",title:d("Resultado","Results"),onClose:v,currentRound:null===a||void 0===a||null===(r=a.round)||void 0===r?void 0:r.current,children:(0,o.jsx)(n.vr,{children:(0,o.jsx)(n.vN,{pt:(0,o.jsxs)(o.Fragment,{children:["Acertos ganham ",a.correctGuessPoints," pontos nessa rodada."]}),en:(0,o.jsxs)(o.Fragment,{children:["Correct guesses get ",a.correctGuessPoints," points this round."]})})})}),(0,o.jsx)(A,{players:t,gallery:a.gallery,activeIndex:y,setActiveIndex:b,setStep:x,isFirstGalleryRunThrough:I,correctGuessPoints:a.correctGuessPoints}),(0,o.jsx)(L,{players:t,ranking:a.ranking,round:a.round,goToPreviousStep:p,setActiveIndex:b,correctGuessPoints:a.correctGuessPoints})]})})};var w=function(e){var r=e.gameId;return(0,o.jsx)(n.z_,{gameId:r,gameCollection:t.H$.SONHOS_PESADELOS,getActiveComponent:function(e){switch(e){case s.R.DEFAULT.LOBBY:return n.Uc;case s.R.DEFAULT.RULES:return n.hj;case s.R.DEFAULT.SETUP:return n.Z8;case s.R.SONHOS_PESADELOS.DREAM_TELLING:return S;case s.R.SONHOS_PESADELOS.MATCHING:return C;case s.R.SONHOS_PESADELOS.RESOLUTION:return R;case s.R.DEFAULT.GAME_OVER:return i;default:return n.SR}}})}},4239:function(e,r,a){a.d(r,{Z:function(){return c}});var t=a(1413),s=a(2791),n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2zM304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z"}}]},name:"picture",theme:"outlined"},o=a(4291),i=function(e,r){return s.createElement(o.Z,(0,t.Z)((0,t.Z)({},e),{},{ref:r,icon:n}))};i.displayName="PictureOutlined";var c=s.forwardRef(i)}}]);
//# sourceMappingURL=69.71f4f78b.chunk.js.map