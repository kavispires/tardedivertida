{"version":3,"file":"static/js/retrato-falado.7e028d59.chunk.js","mappings":"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","sources":["components/canvas/CanvasResizer.tsx","components/canvas/CanvasSVG.tsx","components/canvas/DrawingCanvas.tsx","components/icons/TimerIcon.tsx","components/icons/TrophyIcon.tsx","components/timers/TimerBar.tsx","components/timers/TimedTimerBar.tsx","components/views/View.tsx","components/views/ViewIf.tsx","components/views/ViewOr.tsx","components/views/ViewSwitch.tsx","games/retrato-falado/utils/constants.ts","games/retrato-falado/components/ViewAnnouncement.tsx","games/retrato-falado/components/ViewLastSeconds.tsx","games/retrato-falado/components/MonsterCard.tsx","games/retrato-falado/components/ViewSketching.tsx","games/retrato-falado/components/ViewWitnessing.tsx","games/retrato-falado/StepTestimonial.tsx","games/retrato-falado/PhaseCompositeSketch.tsx","games/retrato-falado/utils/api-requests.ts","games/retrato-falado/StepVote.tsx","games/retrato-falado/PhaseEvaluation.tsx","games/retrato-falado/components/MonsterSketches.tsx","games/retrato-falado/StepResults.tsx","games/retrato-falado/StepRanking.tsx","games/retrato-falado/PhaseReveal.tsx","games/retrato-falado/PhaseGameOver.tsx","games/retrato-falado/SessionRetratoFalado.tsx","hooks/useWhichPlayerIsThe.ts","../node_modules/@ant-design/icons-svg/es/asn/CaretUpOutlined.js","../node_modules/@ant-design/icons/es/icons/CaretUpOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/CrownFilled.js","../node_modules/@ant-design/icons/es/icons/CrownFilled.js","../node_modules/@ant-design/icons-svg/es/asn/StarFilled.js","../node_modules/@ant-design/icons/es/icons/StarFilled.js","../node_modules/rc-rate/es/Star.js","../node_modules/rc-rate/es/Rate.js","../node_modules/rc-rate/es/util.js","../node_modules/rc-rate/es/index.js","../node_modules/antd/es/rate/index.js"],"sourcesContent":["// Ant Design Resources\nimport { Slider } from 'antd';\nimport { DragOutlined } from '@ant-design/icons';\n// State & Hooks\nimport { useGlobalState } from 'hooks/useGlobalState';\n// Components\nimport { FixedMenuButton } from 'components/buttons';\nimport { Translate } from 'components/language';\n\n/**\n * Fixed Menu Button for resizing canvas\n */\nexport const CanvasResizer = () => {\n  const [canvasSize, setCanvasSize] = useGlobalState('canvasSize');\n\n  return (\n    <FixedMenuButton\n      type=\"popover\"\n      position={1}\n      icon={<DragOutlined />}\n      label={labelText}\n      content={\n        <div className=\"canvas-resizer\">\n          <div className=\"canvas-resizer__label\">{labelText}</div>\n          <Slider\n            className=\"canvas-resizer__slider\"\n            value={canvasSize ?? 100}\n            min={150}\n            max={500}\n            step={50}\n            onChange={setCanvasSize}\n          />\n        </div>\n      }\n    />\n  );\n};\n\nconst labelText = <Translate pt=\"Tamanho das Artes\" en=\"Art Size\" />;\n","/**\n * Builds paths from canvas lines\n * @param lines\n * @returns\n */\nconst getPathFromKonvaLines = (lines: CanvasLine[]) => {\n  const result = lines.map((lineArr) => {\n    let path = '';\n    for (let x = 0, y = 1; y < lineArr.length; x += 2, y += 2) {\n      if (lineArr[x + 2] && lineArr[y + 2]) {\n        path += `M${lineArr[x]},${lineArr[y]} L${lineArr[x + 2]},${lineArr[y + 2]}`;\n      }\n    }\n\n    return path;\n  });\n\n  return result;\n};\n\ntype CanvasSVGProps = {\n  drawing: string;\n  /**\n   * Optional custom class name\n   */\n  className?: string;\n  size?: number;\n};\n\nexport const CanvasSVG = ({ drawing = '', className = '', size = 250 }: CanvasSVGProps) => {\n  const konvaLines = JSON.parse(drawing);\n  const paths = getPathFromKonvaLines(konvaLines);\n\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 500 500\"\n      overflow=\"hidden\"\n      className={className}\n      style={{ width: `${size}px` }}\n    >\n      <defs />\n      {paths.map((path, index) => (\n        <path\n          key={`${drawing}-${index}`}\n          d={path}\n          fill=\"none\"\n          stroke=\"#000\"\n          strokeWidth=\"4\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeMiterlimit=\"10\"\n        />\n      ))}\n    </svg>\n  );\n};\n","import { useRef, useState } from 'react';\nimport { Stage, Layer, Line } from 'react-konva';\nimport clsx from 'clsx';\n// Ant Design Resources\nimport { Button, Space } from 'antd';\nimport { DeleteOutlined, UndoOutlined } from '@ant-design/icons';\n// Components\nimport { Translate } from 'components/language';\n\ntype DrawingCanvasProps = {\n  /**\n   * Lines drawn in the canvas\n   */\n  lines: CanvasLine[];\n  /**\n   * Function where any new version of the drawing is sent to\n   */\n  setLines: CanvasSetLine;\n  /**\n   * Optional custom class name\n   */\n  className?: string;\n  /**\n   * Show controls to undo, redo, or erase drawing. Default: false\n   */\n  showControls?: boolean;\n  /**\n   * Size of the stroke. Default: medium\n   */\n  strokeWidth?: 'small' | 'medium' | 'large';\n};\n\n/**\n * Canvas drawing board using react-konva\n * It requires an array of lines and an setState function to save the lines\n */\nexport const DrawingCanvas = ({\n  lines,\n  setLines,\n  className = '',\n  showControls = false,\n  strokeWidth = 'medium',\n}: DrawingCanvasProps) => {\n  const [drawingHistory, setDrawingHistory] = useState<CanvasLine[]>([]);\n  const isDrawing = useRef(false);\n\n  /**\n   * Toggles off the isDrawing flag\n   */\n  const startDrawing = () => {\n    isDrawing.current = true;\n  };\n\n  /**\n   * Toggles off the isDrawing flag and resets history\n   */\n  const stopDrawing = () => {\n    isDrawing.current = false;\n    setDrawingHistory([]);\n  };\n\n  const startLine = (e: any) => {\n    startDrawing();\n    const pos = e.target.getStage().getPointerPosition();\n    setLines([...lines, [Math.round(pos.x), Math.round(pos.y)]]);\n  };\n\n  const finishLine = (e: any) => {\n    // Add point if it was a point\n    const stage = e.target.getStage();\n    const point = stage.getPointerPosition();\n    const x = Math.round(point.x);\n    const y = Math.round(point.y);\n\n    let lastLineEntry = lines[lines.length - 1];\n    lastLineEntry = lastLineEntry.concat([x + 0.1, y + 0.1]);\n\n    // replace last\n    lines.splice(lines.length - 1, 1, lastLineEntry);\n    setLines(lines.concat());\n  };\n\n  /**\n   * Start recording drawing\n   * @param e - konva mouse event\n   */\n  const handleMouseDown = (e: any) => {\n    startLine(e);\n  };\n\n  /**\n   * Tracks mouse moving during the drawing\n   * @param e - konva mouse event\n   */\n  const handleMouseMove = (e: any) => {\n    // no drawing - skipping\n    if (!isDrawing.current) {\n      return;\n    }\n    const stage = e.target.getStage();\n    const point = stage.getPointerPosition();\n    let lastLine = lines[lines.length - 1];\n    // add end point\n    lastLine = lastLine.concat([Math.round(point.x), Math.round(point.y)]);\n\n    // replace last\n    lines.splice(lines.length - 1, 1, lastLine);\n    setLines(lines.concat());\n  };\n\n  const handleMouseUp = (e: any) => {\n    if (isDrawing.current) {\n      stopDrawing();\n\n      finishLine(e);\n    }\n  };\n\n  /**\n   * Handles case when a current drawing is stopped off stage\n   * @param e - mouse event\n   */\n  const handleOffsetMouseUp = () => {\n    stopDrawing();\n  };\n\n  /**\n   * Handles case when a current drawing is started off stage\n   * @param e - mouse event\n   */\n  const handleOffsetMouseDown = () => {\n    startDrawing();\n  };\n\n  /**\n   * Handles when mouse leaves the stage\n   * @param e - konva mouse event\n   */\n  const handleMouseLeave = (e: any) => {\n    if (isDrawing.current) {\n      finishLine(e);\n\n      window.document.addEventListener('mouseup', handleOffsetMouseUp);\n      window.document.addEventListener('touchEnd', handleOffsetMouseUp);\n      window.document.addEventListener('mousedown', handleOffsetMouseDown);\n      window.document.addEventListener('touchStart', handleOffsetMouseDown);\n    }\n  };\n\n  /**\n   * Handles when mouse reenters the state\n   * @param e\n   */\n  const handleMouseEnter = (e: any) => {\n    if (isDrawing.current) {\n      startLine(e);\n    }\n    window.document.removeEventListener('mouseup', handleOffsetMouseUp);\n    window.document.removeEventListener('touchEnd', handleOffsetMouseUp);\n    window.document.removeEventListener('mousedown', handleOffsetMouseDown);\n    window.document.removeEventListener('touchStart', handleOffsetMouseDown);\n  };\n\n  const onClear = () => setLines([]);\n\n  const onUndo = () => {\n    const linesCopy = [...lines];\n    const drawingHistoryCopy = [...drawingHistory];\n    const lastLine: CanvasLine | undefined = linesCopy.pop();\n    if (lastLine) {\n      drawingHistoryCopy.push(lastLine);\n      setLines(linesCopy);\n      setDrawingHistory(drawingHistoryCopy);\n    }\n  };\n\n  const onRedo = () => {\n    const linesCopy = [...lines];\n    const drawingHistoryCopy = [...drawingHistory];\n    const lastUndoLine = drawingHistoryCopy.pop();\n    if (lastUndoLine) {\n      linesCopy.push(lastUndoLine);\n      setLines(linesCopy);\n      setDrawingHistory(drawingHistoryCopy);\n    }\n  };\n\n  const strokeWidthBySize =\n    {\n      small: 3,\n      medium: 5,\n      large: 7,\n    }?.[strokeWidth] ?? 5;\n\n  return (\n    <Space direction=\"vertical\" align=\"center\">\n      <Stage\n        width={500}\n        height={500}\n        onMouseDown={handleMouseDown}\n        onMousemove={handleMouseMove}\n        onMouseup={handleMouseUp}\n        onTouchStart={handleMouseDown}\n        onTouchMove={handleMouseMove}\n        onTouchEnd={handleMouseUp}\n        onMouseLeave={handleMouseLeave}\n        onMouseEnter={handleMouseEnter}\n        className={clsx('drawing-canvas', className)}\n        id=\"drawing-canvas\"\n      >\n        <Layer>\n          {lines.map((line, i) => (\n            <Line\n              key={i}\n              points={line}\n              stroke=\"#222222\"\n              strokeWidth={strokeWidthBySize}\n              tension={0.5}\n              lineCap=\"round\"\n              globalCompositeOperation=\"source-over\"\n            />\n          ))}\n        </Layer>\n      </Stage>\n      {showControls && (\n        <Space>\n          <Button onClick={onUndo} disabled={lines.length === 0}>\n            <UndoOutlined />\n            <Translate pt=\"Desfazer\" en=\"Undo\" />\n          </Button>\n          <Button onClick={onRedo} disabled={drawingHistory.length === 0}>\n            <UndoOutlined />\n            <Translate pt=\"Refazer\" en=\"Redo\" />\n          </Button>\n          <Button onClick={onClear} disabled={lines.length === 0}>\n            <DeleteOutlined />\n            <Translate pt=\"Apagar\" en=\"Clear\" />\n          </Button>\n        </Space>\n      )}\n    </Space>\n  );\n};\n","export function TimerIcon(props: React.SVGProps<SVGSVGElement>): JSX.Element {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" {...props}>\n      <circle cx=\"256\" cy=\"256\" r=\"247.47\" fill=\"#39a4dd\"></circle>\n      <path\n        fill=\"#0a78bc\"\n        d=\"M256.13 8.63q-6.44 0-12.8.32c131.58 6.74 234.8 115.39 234.8 247.14s-103.22 240.4-234.8 247.15q6.36.31 12.8.32c136.67 0 247.47-110.79 247.47-247.47S392.8 8.63 256.13 8.63z\"\n        transform=\"translate(-.13 -.09)\"\n      ></path>\n      <circle cx=\"256\" cy=\"256\" r=\"213.33\" fill=\"#f5f6f6\"></circle>\n      <path\n        fill=\"#d0d9dc\"\n        d=\"M256.13 42.76c-4.27 0-8.53.16-12.8.42a213.33 213.33 0 010 425.81c4.27.26 8.53.42 12.8.42 117.07-1.05 211.43-96.25 211.43-213.33S373.2 43.81 256.13 42.76z\"\n        transform=\"translate(-.13 -.09)\"\n      ></path>\n      <path\n        fill=\"#617d8c\"\n        d=\"M315.86 375.56A59.73 59.73 0 11286.34 324a59.72 59.72 0 0129.52 51.54z\"\n        transform=\"translate(-.13 -.09)\"\n      ></path>\n      <path\n        fill=\"#384850\"\n        d=\"M286.34 324a59 59 0 00-30.21-8.19 59.92 59.92 0 00-12.8 1.49 58.64 58.64 0 0117.41 6.7 59.74 59.74 0 01-17.41 109.87 59.74 59.74 0 0043-109.87z\"\n        transform=\"translate(-.13 -.09)\"\n      ></path>\n      <path\n        fill=\"#ee344d\"\n        d=\"M225.92 324l21.68-188.14a8.53 8.53 0 0117.06 0L286.34 324\"\n        transform=\"translate(-.13 -.09)\"\n      ></path>\n      <path\n        d=\"M281.73 384.09a8.53 8.53 0 01-8.53-8.53 17.07 17.07 0 10-34.14 0 8.53 8.53 0 01-17.06 0 34.13 34.13 0 0168.26 0 8.53 8.53 0 01-8.53 8.53z\"\n        fill=\"#f5f6f6\"\n        transform=\"translate(-.13 -.09)\"\n      ></path>\n      <path\n        d=\"M256.13.09c-141.38 0-256 114.62-256 256s114.62 256 256 256 256-114.61 256-256C512 114.77 397.45.25 256.13.09zm0 494.94c-132 0-238.93-107-238.93-238.94s107-238.93 238.93-238.93 238.93 107 238.93 238.93S388 494.88 256.13 495z\"\n        fill=\"#010101\"\n        transform=\"translate(-.13 -.09)\"\n      ></path>\n      <path\n        d=\"M128.28 94a8.37 8.37 0 005.12-1.71 205.73 205.73 0 0124.44-15.78 8.54 8.54 0 10-8.21-14.94 221.67 221.67 0 00-26.46 17.11A8.54 8.54 0 00128.29 94z\"\n        fill=\"#010101\"\n        transform=\"translate(-.13 -.09)\"\n      ></path>\n      <path\n        d=\"M256.13 34.23A221.7 221.7 0 00194 43.08a8.53 8.53 0 004.78 16.38 205.27 205.27 0 11-98.31 63.68 8.53 8.53 0 10-13-11.09 221.78 221.78 0 10168.66-77.82z\"\n        fill=\"#010101\"\n        transform=\"translate(-.13 -.09)\"\n      ></path>\n      <path\n        d=\"M264.66 94V76.89a8.53 8.53 0 00-17.06 0V94a8.53 8.53 0 0017.06 0z\"\n        fill=\"#010101\"\n        transform=\"translate(-.13 -.09)\"\n      ></path>\n      <path\n        d=\"M159.14 105.16l8.53 14.84a8.53 8.53 0 0014.78-8.53l-8.53-14.79a8.53 8.53 0 00-14.78 8.53z\"\n        fill=\"#010101\"\n        transform=\"translate(-.13 -.09)\"\n      ></path>\n      <path\n        d=\"M93.55 162.23a8.52 8.52 0 003.12 11.65l14.79 8.54a8.53 8.53 0 008.54-14.78l-14.8-8.54a8.53 8.53 0 00-11.65 3.13z\"\n        fill=\"#010101\"\n        transform=\"translate(-.13 -.09)\"\n      ></path>\n      <path\n        d=\"M396.55 183.56a8.47 8.47 0 004.26-1.14l14.79-8.54a8.53 8.53 0 00-8.53-14.78l-14.79 8.54a8.53 8.53 0 004.27 15.92z\"\n        fill=\"#010101\"\n        transform=\"translate(-.13 -.09)\"\n      ></path>\n      <path\n        d=\"M337.2 124.22a8.54 8.54 0 007.4-4.27l8.53-14.79a8.53 8.53 0 10-14.78-8.53l-8.53 14.79a8.53 8.53 0 007.38 12.8z\"\n        fill=\"#010101\"\n        transform=\"translate(-.13 -.09)\"\n      ></path>\n      <path\n        d=\"M239.12 134.92L217.91 319a68.27 68.27 0 1076.44 0L273.2 135.08a17.07 17.07 0 00-34-.19zm68.21 240.64a51.2 51.2 0 11-51.2-51.2 51.2 51.2 0 0151.2 51.2zm-51.14-238.73l20 173.48a68 68 0 00-40.11 0z\"\n        fill=\"#010101\"\n        transform=\"translate(-.13 -.09)\"\n      ></path>\n    </svg>\n  );\n}\n","export function TrophyIcon(props: React.SVGProps<SVGSVGElement>): JSX.Element {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" {...props}>\n      <path\n        fill=\"#fef0ae\"\n        d=\"M397.763 87.5h-98.509v213.476h98.509c58.855 0 106.737-47.882 106.737-106.738S456.618 87.5 397.763 87.5zm0 183.476h-68.509V117.5h68.509c42.381 0 76.738 34.357 76.738 76.738-.001 42.381-34.357 76.738-76.738 76.738zM114.237 87.5C55.382 87.5 7.5 135.382 7.5 194.238s47.882 106.738 106.737 106.738h98.509V87.5zm68.509 183.476h-68.509c-42.381 0-76.738-34.357-76.738-76.738S71.856 117.5 114.237 117.5h68.509zM314 419.5H198l15-91h86z\"\n      ></path>\n      <path fill=\"#fee97d\" d=\"M299 328.5h-30l15 91h30z\"></path>\n      <path\n        fill=\"#fef0ae\"\n        d=\"M382.221 504.5H129.779a7 7 0 01-7-7v-11.629c0-22.091 17.909-40 40-40h186.442c22.091 0 40 17.909 40 40V497.5a7 7 0 01-7 7z\"\n      ></path>\n      <path\n        fill=\"#fee97d\"\n        d=\"M349.221 445.871h-30c22.092 0 40 17.909 40 40V497.5a7 7 0 01-7 7h30a7 7 0 007-7v-11.629c0-22.092-17.909-40-40-40zm-5 0H167.779v-3.629c0-22.091 17.909-40 40-40h96.442c22.091 0 40 17.909 40 40z\"\n      ></path>\n      <path\n        fill=\"#f4da6e\"\n        d=\"M304.221 402.241h-30c22.092 0 40 17.909 40 40v3.629h30v-3.629c0-22.091-17.909-40-40-40z\"\n      ></path>\n      <path\n        fill=\"#fef0ae\"\n        d=\"M411.5 57.5h-311c-13.807 0-25-11.193-25-25s11.193-25 25-25h311c13.807 0 25 11.193 25 25s-11.193 25-25 25z\"\n      ></path>\n      <path\n        fill=\"#fee97d\"\n        d=\"M411.5 7.5h-30c13.807 0 25 11.193 25 25s-11.193 25-25 25h30c13.807 0 25-11.193 25-25s-11.193-25-25-25zM256 362.5c-83.119 0-150.5-67.381-150.5-150.5V57.5h301V212c0 83.119-67.381 150.5-150.5 150.5z\"\n      ></path>\n      <path\n        fill=\"#f4da6e\"\n        d=\"M376.5 57.5V212c0 78.056-59.424 142.229-135.5 149.757 4.934.488 9.937.743 15 .743 83.119 0 150.5-67.381 150.5-150.5V57.5z\"\n      ></path>\n      <circle cx=\"256\" cy=\"207.96\" r=\"94.169\" fill=\"#fff\"></circle>\n      <path\n        fill=\"#fee97d\"\n        d=\"M262.277 154.391l13.139 26.623a7 7 0 005.271 3.829l29.38 4.269c5.742.834 8.034 7.89 3.879 11.94l-21.26 20.723a6.998 6.998 0 00-2.013 6.196l5.019 29.261c.981 5.718-5.021 10.079-10.157 7.379l-26.278-13.815a7.001 7.001 0 00-6.515 0l-26.278 13.815c-5.135 2.7-11.137-1.661-10.157-7.379l5.019-29.261a7 7 0 00-2.013-6.196l-21.26-20.723c-4.155-4.05-1.862-11.106 3.879-11.94l29.38-4.269a7 7 0 005.271-3.829l13.139-26.623c2.569-5.203 9.987-5.203 12.555 0z\"\n      ></path>\n      <path\n        fill=\"#f4da6e\"\n        d=\"M313.946 201.052c4.155-4.05 1.862-11.106-3.88-11.94l-29.38-4.269a6.997 6.997 0 01-5.27-3.829l-13.139-26.623c-2.568-5.203-9.987-5.203-12.554 0l-10.888 22.061 3.874 7.85a18.632 18.632 0 0014.03 10.193c15.284 2.221 21.386 21.003 10.327 31.783a18.632 18.632 0 00-5.359 16.493l1.755 10.236 22.073 11.604c5.135 2.7 11.137-1.661 10.157-7.379l-5.019-29.261a7 7 0 012.013-6.196z\"\n      ></path>\n      <path d=\"M282.025 177.458l-13.022-26.387c-2.462-4.985-7.443-8.082-13.003-8.082s-10.541 3.097-13.003 8.083l-13.022 26.387-29.119 4.231c-5.502.799-9.987 4.581-11.706 9.868-1.718 5.288-.312 10.983 3.669 14.865l21.071 20.539-4.975 29.003c-.939 5.479 1.271 10.914 5.77 14.182s10.349 3.691 15.271 1.104L256 257.557l26.045 13.693c4.903 2.578 10.759 2.174 15.271-1.104 4.498-3.268 6.709-8.702 5.769-14.182l-4.974-29.003 21.071-20.539c3.981-3.881 5.387-9.577 3.669-14.865-1.719-5.287-6.204-9.068-11.706-9.867zm5.426 38.946a14.494 14.494 0 00-4.169 12.834l4.847 28.264-25.382-13.345a14.498 14.498 0 00-13.495 0l-25.381 13.344 4.847-28.262a14.495 14.495 0 00-4.169-12.835l-20.534-20.016 28.377-4.124a14.494 14.494 0 0010.918-7.932L256 158.618l12.69 25.714a14.494 14.494 0 0010.918 7.932l28.377 4.124zm194.096-99.749c-17.941-19.36-41.716-31.799-67.547-35.49v-16.27c16.756-1.282 30-15.316 30-32.394C444 14.58 429.421 0 411.5 0h-311C82.579 0 68 14.58 68 32.5c0 17.078 13.244 31.112 30 32.394v16.27c-25.714 3.676-49.409 16.029-67.321 35.248a7.5 7.5 0 0010.972 10.228C56.721 110.471 76.495 99.908 98 96.352v15.236c-39.204 7.62-68 42.024-68 82.652 0 22.509 8.765 43.663 24.675 59.561 15.532 15.543 36.076 24.242 57.996 24.641a157.847 157.847 0 008.007 15.038h-6.438c-54.722 0-99.24-44.519-99.24-99.24 0-14.091 2.904-27.711 8.633-40.48a7.5 7.5 0 00-13.685-6.14C3.347 162.333 0 178.019 0 194.24c0 62.992 51.248 114.24 114.24 114.24h16.729c17.756 22.957 41.679 40.906 69.267 51.348l-6.089 36.917c-18.396 5.522-32.123 21.915-33.701 41.685-25.112 1.221-45.167 22.032-45.167 47.441V497.5c0 7.995 6.505 14.5 14.5 14.5H382.22c7.995 0 14.5-6.505 14.5-14.5v-11.629c0-25.409-20.055-46.22-45.167-47.441-1.579-19.771-15.306-36.163-33.701-41.685l-6.089-36.917c27.588-10.441 51.511-28.391 69.267-51.348h16.729c62.992 0 114.24-51.248 114.24-114.24.001-28.841-10.814-56.394-30.452-77.585zM65.281 243.195C52.203 230.126 45 212.74 45 194.24c0-32.392 22.265-59.968 53-67.308V212c0 17.851 2.98 35.018 8.461 51.034-15.554-1.728-29.958-8.609-41.18-19.839zM100.5 50C90.851 50 83 42.149 83 32.5S90.851 15 100.5 15h311c9.649 0 17.5 7.851 17.5 17.5S421.149 50 411.5 50zM414 126.932c30.735 7.34 53 34.916 53 67.308 0 18.5-7.203 35.886-20.286 48.958-11.218 11.227-25.621 18.108-41.175 19.836C411.02 247.018 414 229.851 414 212zm-77.518 311.439h-22.895c-4.143 0-7.5 3.358-7.5 7.5s3.357 7.5 7.5 7.5h35.634c17.921 0 32.5 14.58 32.5 32.5V497H130.279v-11.129c0-17.92 14.579-32.5 32.5-32.5h115.808c4.143 0 7.5-3.358 7.5-7.5s-3.357-7.5-7.5-7.5H175.518c1.921-16.101 15.651-28.629 32.261-28.629h96.441c16.611-.001 30.342 12.527 32.262 28.629zm-126.801-43.63l4.987-30.237C227.849 368.08 241.703 370 256 370s28.151-1.92 41.332-5.496l4.987 30.237zM256 355c-78.851 0-143-64.149-143-143V65h286v147c0 78.851-64.149 143-143 143zm141.76-61.52h-6.438a157.741 157.741 0 008.007-15.038c21.919-.399 42.463-9.097 57.991-24.637C473.235 237.903 482 216.749 482 194.24c0-40.627-28.796-75.032-68-82.652V96.352c21.605 3.57 41.449 14.208 56.545 30.498C487.604 145.259 497 169.192 497 194.24c0 54.721-44.519 99.24-99.24 99.24zM256 106.291c-56.061 0-101.67 45.609-101.67 101.669S199.939 309.629 256 309.629 357.67 264.02 357.67 207.96 312.061 106.291 256 106.291zm0 188.338c-47.79 0-86.67-38.88-86.67-86.669s38.88-86.669 86.67-86.669 86.67 38.88 86.67 86.669-38.88 86.669-86.67 86.669z\"></path>\n    </svg>\n  );\n}\n","import { Progress, ProgressProps } from 'antd';\n\ninterface TimerBarProps extends ProgressProps {\n  steps?: number;\n  value: number;\n  total: number;\n}\n\n/**\n * Time Bar presentational component used in timed operations\n * @param props\n * @returns\n */\nexport function TimerBar({\n  steps,\n  strokeLinecap,\n  total,\n  type = 'line',\n  value,\n  status = 'active',\n  ...props\n}: TimerBarProps) {\n  const percentage = 100 - (value * 100) / total;\n  return (\n    <Progress\n      percent={percentage}\n      steps={steps}\n      showInfo={false}\n      style={{ marginBottom: '1rem' }}\n      size={steps && steps > 30 ? 'small' : undefined}\n      type={type}\n      {...props}\n    />\n  );\n}\n","// Hooks\nimport { useCountdown } from 'hooks/useCountdown';\n// Components\nimport { TimerBar } from './TimerBar';\n\ntype TimedTimerBarProps = {\n  /**\n   * Duration in seconds\n   */\n  duration: number;\n  /**\n   * Function executed when the time is up\n   */\n  onExpire: GenericFunction;\n  /**\n   * Number of ticks in the bar\n   */\n  steps?: number;\n  /**\n   * Type of bar. Default: line\n   */\n  type?: 'circle' | 'line' | 'dashboard';\n};\n\nexport function TimedTimerBar({ duration, onExpire, type, steps = 10 }: TimedTimerBarProps) {\n  const { timeLeft } = useCountdown({\n    duration,\n    autoStart: true,\n    onExpire,\n  });\n\n  return (\n    <div className=\"timer-number\">\n      {timeLeft} <TimerBar steps={steps} value={timeLeft} total={duration} type={type} /> {timeLeft}\n    </div>\n  );\n}\n","import { ReactNode } from 'react';\n\ntype ViewProps = {\n  /**\n   * The content of the component\n   */\n  children: ReactNode;\n};\n\nexport function View({ children }: ViewProps) {\n  return <>{children}</>;\n}\n","import { ReactNode } from 'react';\n\ntype ViewIfProps = {\n  /**\n   * The content of the component\n   */\n  children: ReactNode;\n  isVisible?: boolean;\n};\n\nexport function ViewIf({ isVisible = false, children }: ViewIfProps) {\n  return isVisible ? <>{children}</> : <></>;\n}\n","type ViewOrProps = {\n  children: [any, any];\n  orCondition?: boolean;\n};\n\nexport function ViewOr({ orCondition = false, children }: ViewOrProps) {\n  return orCondition ? <>{children[0]}</> : <>{children[1]}</>;\n}\n","type ViewSwitchProps = {\n  cases: boolean[];\n  /**\n   * The content of the component\n   */\n  children: any;\n};\n\nexport function ViewSwitch({ cases, children }: ViewSwitchProps) {\n  if (cases.length > 5) {\n    throw Error('ViewSwitch only supports up to 5 cases');\n  }\n\n  if (cases[0] && children[0]) {\n    return children[0];\n  }\n\n  if (cases[1] && children[1]) {\n    return children[1];\n  }\n\n  if (cases[2] && children[2]) {\n    return children[2];\n  }\n\n  if (cases[3] && children[3]) {\n    return children[3];\n  }\n\n  if (cases[4] && children[4]) {\n    return children[4];\n  }\n  console.warn('Rendering all children in the ViewSwitch');\n  return children;\n}\n","export const VIEWS = {\n  WITNESSING: 'WITNESSING',\n  ANNOUNCEMENT: 'ANNOUNCEMENT',\n  SKETCHING: 'SKETCHING',\n  FINISHING: 'FINISHING',\n};\n\nconst MEMORY_TIME = 20;\nconst ANNOUNCEMENT_TIME = 5;\nconst SKETCH_TIME = 120;\nconst EXTRA_TIME = 5;\n\nexport const TIMES = {\n  MEMORY: MEMORY_TIME,\n  ANNOUNCEMENT: ANNOUNCEMENT_TIME,\n  SKETCH: SKETCH_TIME,\n  EXTRA: EXTRA_TIME,\n  TOTAL: MEMORY_TIME + ANNOUNCEMENT_TIME + SKETCH_TIME + EXTRA_TIME,\n  MEMORY_MARK: ANNOUNCEMENT_TIME + SKETCH_TIME + EXTRA_TIME,\n  ANNOUNCEMENT_MARK: SKETCH_TIME + EXTRA_TIME,\n  SKETCH_MARK: EXTRA_TIME,\n};\n","import { SketchIcon } from 'components/icons/SketchIcon';\nimport { TimerIcon } from 'components/icons/TimerIcon';\nimport { Translate } from 'components/language';\nimport { PhaseAnnouncement } from 'components/phases';\n\ntype ViewAnnouncementProps = {\n  isUserTheWitness: boolean;\n};\n\nexport function ViewAnnouncement({ isUserTheWitness }: ViewAnnouncementProps) {\n  return (\n    <PhaseAnnouncement\n      title={\n        isUserTheWitness ? (\n          <Translate pt=\"Descreva!\" en=\"Describe!\" />\n        ) : (\n          <Translate pt=\"Hora de desenhar!\" en=\"Time to draw!\" />\n        )\n      }\n      unskippable\n      duration={5}\n      icon={isUserTheWitness ? <TimerIcon /> : <SketchIcon />}\n      onClose={() => {}}\n    ></PhaseAnnouncement>\n  );\n}\n","// Hooks\nimport { useTemporarilyHidePlayersBar } from 'hooks/useTemporarilyHidePlayersBar';\n// Utils\nimport { TIMES } from '../utils/constants';\n// Components\nimport { DrawingCanvas } from 'components/canvas';\nimport { Translate } from 'components/language';\nimport { Instruction, Title } from 'components/text';\nimport { TimerBar } from 'components/timers';\nimport { ViewOr } from 'components/views';\n\ntype ViewSketchingProps = {\n  isUserTheWitness: boolean;\n  remainingTime: number;\n  lines: CanvasLine[];\n  setLines: CanvasSetLine;\n};\n\nexport function ViewLastSeconds({ isUserTheWitness, remainingTime, lines, setLines }: ViewSketchingProps) {\n  useTemporarilyHidePlayersBar();\n\n  return (\n    <ViewOr orCondition={isUserTheWitness}>\n      <div className=\"r-view\">\n        <Title>\n          <Translate pt=\"Pronto!\" en=\"Done! \" />\n        </Title>\n        <TimerBar steps={TIMES.EXTRA} value={remainingTime} total={TIMES.EXTRA} strokeColor=\"red\" />\n        <Instruction contained>\n          <Translate\n            pt=\"Boca fechada! Aguarde os jogadores darem os últimos retoques.\"\n            en=\"Shut up! Wait for the other players to finish their drawings.\"\n          />\n        </Instruction>\n      </div>\n\n      <div className=\"r-view\">\n        <Title>\n          <Translate pt=\"Termine!\" en=\"Finish it!\" />\n        </Title>\n        <Instruction contained>\n          <Translate pt=\"Últimos segundos para os retoques finais\" en=\"A few seconds more to finish\" />\n        </Instruction>\n        <TimerBar steps={TIMES.EXTRA} value={remainingTime} total={TIMES.EXTRA} strokeColor=\"red\" />\n        <DrawingCanvas lines={lines} setLines={setLines} showControls strokeWidth=\"small\" />\n      </div>\n    </ViewOr>\n  );\n}\n","import clsx from 'clsx';\nimport { useEffectOnce } from 'react-use';\n// Ant Design Resources\nimport { Button, Space, SpaceProps } from 'antd';\nimport { RotateLeftOutlined, RotateRightOutlined } from '@ant-design/icons';\n// Hooks\nimport { useCardWidth } from 'hooks/useCardWidth';\nimport { useGlobalState } from 'hooks/useGlobalState';\n// Components\nimport { ImageCard } from 'components/cards';\nimport { Translate } from 'components/language';\n\ninterface MonsterCardProps extends SpaceProps {\n  currentMonster: Monster;\n  showControls?: boolean;\n}\n\nexport function MonsterCard({ currentMonster, showControls = true, ...props }: MonsterCardProps) {\n  const [monsterOrientation, setMonsterOrientation] = useGlobalState('monsterOrientation');\n  const cardWidth = useCardWidth(5, 16, 120, 360);\n\n  useEffectOnce(() => {\n    if (currentMonster.orientation === 'horizontal') {\n      setMonsterOrientation(currentMonster.orientation);\n    }\n  });\n\n  const onChangeOrientation = () => {\n    const newOrientation = monsterOrientation === 'vertical' ? 'horizontal' : 'vertical';\n    setMonsterOrientation(newOrientation);\n  };\n\n  const baseClass = 'r-monster-card';\n  return (\n    <Space direction=\"vertical\" align=\"center\" {...props}>\n      <ImageCard\n        imageId={currentMonster.id}\n        cardWidth={cardWidth}\n        className={clsx(\n          baseClass,\n          monsterOrientation === 'vertical' ? `${baseClass}--vertical` : `${baseClass}--horizontal`\n        )}\n      />\n      {showControls && (\n        <Button onClick={onChangeOrientation}>\n          {monsterOrientation === 'vertical' ? <RotateRightOutlined /> : <RotateLeftOutlined />}\n          <Translate pt=\"Girar\" en=\"Rotate\" />\n        </Button>\n      )}\n    </Space>\n  );\n}\n","// Hooks\nimport { useTemporarilyHidePlayersBar } from 'hooks/useTemporarilyHidePlayersBar';\n// Utils\nimport { TIMES } from '../utils/constants';\n// Components\nimport { DrawingCanvas } from 'components/canvas';\nimport { Translate } from 'components/language';\nimport { Instruction, Title } from 'components/text';\nimport { TimerBar } from 'components/timers';\nimport { ViewOr } from 'components/views';\n\nimport { MonsterCard } from './MonsterCard';\n\ntype ViewSketchingProps = {\n  isUserTheWitness: boolean;\n  remainingSketchingTime: number;\n  lines: CanvasLine[];\n  setLines: CanvasSetLine;\n};\n\nexport function ViewSketching({\n  isUserTheWitness,\n  remainingSketchingTime,\n  lines,\n  setLines,\n}: ViewSketchingProps) {\n  useTemporarilyHidePlayersBar();\n  return (\n    <ViewOr orCondition={isUserTheWitness}>\n      <div className=\"r-view\">\n        <Title>\n          <Translate pt=\"Descreva o monstro!\" en=\"Describe the monstro!\" />\n        </Title>\n        <TimerBar steps={TIMES.SKETCH} value={remainingSketchingTime} total={TIMES.SKETCH} />\n        <MonsterCard currentMonster={{ id: 'md-bs-000', orientation: 'vertical' }} showControls={false} />\n        <Instruction contained>\n          <Translate\n            pt=\"Tente dar o maior número de detalhes possível. Os jogadores podem te fazer perguntas.\"\n            en=\"Try to give the largest number of details. Player may ask you questions too.\"\n          />\n        </Instruction>\n      </div>\n\n      <div className=\"r-view\">\n        <Title>\n          <Translate pt=\"Desenhe!\" en=\"Sketch it!\" />\n        </Title>\n        <Instruction contained>\n          {remainingSketchingTime > 0 ? (\n            <Translate\n              pt=\"Você pode também fazer perguntas à testemunha.\"\n              en=\"You may also ask the witness questions\"\n            />\n          ) : (\n            <Translate pt=\"Últimos segundos para os retoques finais\" en=\"A few seconds more to finish\" />\n          )}\n        </Instruction>\n        <TimerBar steps={TIMES.SKETCH} value={remainingSketchingTime} total={TIMES.SKETCH} />\n        <DrawingCanvas lines={lines} setLines={setLines} showControls strokeWidth=\"small\" />\n      </div>\n    </ViewOr>\n  );\n}\n","// Utils\nimport { TIMES } from '../utils/constants';\n// Components\nimport { DrawingCanvas } from 'components/canvas';\nimport { Translate } from 'components/language';\nimport { Instruction, Title } from 'components/text';\nimport { TimerBar } from 'components/timers';\nimport { ViewOr } from 'components/views';\nimport { MonsterCard } from './MonsterCard';\n\ntype ViewWitnessingProps = {\n  isUserTheWitness: boolean;\n  remainingWitnessingTime: number;\n  lines: CanvasLine[];\n  setLines: CanvasSetLine;\n  currentMonster: Monster;\n};\n\nexport function ViewWitnessing({\n  isUserTheWitness,\n  currentMonster,\n  remainingWitnessingTime,\n  lines,\n  setLines,\n}: ViewWitnessingProps) {\n  return (\n    <ViewOr orCondition={isUserTheWitness}>\n      <div className=\"r-view\">\n        <Title>\n          <Translate pt=\"Memorize!\" en=\"Memorize!\" />\n        </Title>\n        <TimerBar steps={TIMES.MEMORY} value={remainingWitnessingTime} total={TIMES.MEMORY} />\n        <MonsterCard currentMonster={currentMonster} />\n      </div>\n\n      <div className=\"r-view\">\n        <Title>\n          <Translate pt=\"Aguarde...\" en=\"Please wait...\" />\n        </Title>\n        <Instruction contained>\n          <Translate\n            pt=\"A testemunha está tendo um flashback do monstro.\"\n            en=\"The witness is having a flashback of the monster event now.\"\n          />\n        </Instruction>\n        <TimerBar steps={TIMES.MEMORY} value={remainingWitnessingTime} total={TIMES.MEMORY} />\n        <DrawingCanvas lines={lines} setLines={setLines} showControls strokeWidth=\"small\" />\n      </div>\n    </ViewOr>\n  );\n}\n","import { useEffect, useState } from 'react';\n// Hooks\nimport { useCountdown } from 'hooks/useCountdown';\nimport { useGlobalState } from 'hooks/useGlobalState';\n// Utils\nimport { TIMES, VIEWS } from './utils/constants';\n// Components\nimport { ViewSwitch } from 'components/views';\nimport { ViewAnnouncement } from './components/ViewAnnouncement';\nimport { ViewLastSeconds } from './components/ViewLastSeconds';\nimport { ViewSketching } from './components/ViewSketching';\nimport { ViewWitnessing } from './components/ViewWitnessing';\n\ntype StepTestimonialProps = {\n  isUserTheWitness: boolean;\n  currentMonster: Monster;\n  onSubmitSketch: GenericFunction;\n  onSubmitOrientation: GenericFunction;\n};\n\nexport function StepTestimonial({\n  isUserTheWitness,\n  currentMonster,\n  onSubmitSketch,\n  onSubmitOrientation,\n}: StepTestimonialProps) {\n  const [monsterOrientation] = useGlobalState('monsterOrientation');\n  const [view, setView] = useState(VIEWS.WITNESSING);\n  const [lines, setLines] = useState<any>([]);\n\n  const onEnd = () => {\n    if (isUserTheWitness && monsterOrientation === 'horizontal') {\n      // Submit orientation change if any\n      onSubmitOrientation({ orientation: monsterOrientation });\n    }\n    onSubmitSketch({ sketch: JSON.stringify(lines) });\n  };\n\n  const { timeLeft } = useCountdown({\n    duration: TIMES.TOTAL,\n    autoStart: true,\n    onExpire: onEnd,\n  });\n\n  useEffect(() => {\n    // When time is done for memorizing\n    if (timeLeft === TIMES.MEMORY_MARK) {\n      setView(VIEWS.ANNOUNCEMENT);\n    } else if (timeLeft === TIMES.ANNOUNCEMENT_MARK) {\n      setView(VIEWS.SKETCHING);\n    } else if (timeLeft === TIMES.SKETCH_MARK) {\n      setView(VIEWS.FINISHING);\n    }\n  }, [timeLeft]);\n\n  return (\n    <ViewSwitch\n      cases={[\n        view === VIEWS.WITNESSING,\n        view === VIEWS.ANNOUNCEMENT,\n        view === VIEWS.SKETCHING,\n        view === VIEWS.FINISHING,\n      ]}\n    >\n      <ViewWitnessing\n        isUserTheWitness={isUserTheWitness}\n        currentMonster={currentMonster}\n        remainingWitnessingTime={timeLeft - TIMES.MEMORY_MARK}\n        lines={lines}\n        setLines={setLines}\n      />\n      <ViewAnnouncement isUserTheWitness={isUserTheWitness} />\n      <ViewSketching\n        isUserTheWitness={isUserTheWitness}\n        remainingSketchingTime={timeLeft - TIMES.SKETCH_MARK}\n        lines={lines}\n        setLines={setLines}\n      />\n      <ViewLastSeconds\n        isUserTheWitness={isUserTheWitness}\n        remainingTime={timeLeft}\n        lines={lines}\n        setLines={setLines}\n      />\n    </ViewSwitch>\n  );\n}\n","// State & Hooks\nimport { useIsUserReady } from 'hooks/useIsUserReady';\nimport { useLanguage } from 'hooks/useLanguage';\nimport { useStep } from 'hooks/useStep';\nimport { useWhichPlayerIsThe } from 'hooks/useWhichPlayerIsThe';\nimport { useOnSubmitOrientationAPIRequest, useOnSubmitSketchAPIRequest } from './utils/api-requests';\n// Resources & Utils\nimport { PHASES } from 'utils/phases';\nimport { TIMES } from './utils/constants';\n// Components\n\nimport { StepTestimonial } from './StepTestimonial';\nimport { PhaseAnnouncement, PhaseContainer } from 'components/phases';\nimport { StepSwitcher } from 'components/steps';\nimport { RoundAnnouncement } from 'components/round';\nimport { Instruction } from 'components/text';\nimport { Translate } from 'components/language';\nimport { AvatarName } from 'components/avatars';\nimport { MonsterIcon } from 'components/icons/MonsterIcon';\n\nfunction PhaseCompositeSketch({ players, state, info }: PhaseProps) {\n  const { translate } = useLanguage();\n  const { step, goToNextStep, setStep } = useStep(0);\n  const isUserReady = useIsUserReady(players, state);\n  const [witness, isUserTheWitness] = useWhichPlayerIsThe('witnessId', state, players);\n\n  const onSubmitSketch = useOnSubmitSketchAPIRequest(setStep);\n  const onSubmitOrientation = useOnSubmitOrientationAPIRequest(setStep);\n\n  return (\n    <PhaseContainer info={info} phase={state?.phase} allowedPhase={PHASES.RETRATO_FALADO.COMPOSITE_SKETCH}>\n      <StepSwitcher step={step} conditions={[!isUserReady, !isUserReady, !isUserReady]} players={players}>\n        {/* Step 0 */}\n        <RoundAnnouncement\n          round={state?.round}\n          onPressButton={goToNextStep}\n          buttonText=\" \"\n          time={7}\n          unskippable\n          circleColor=\"green\"\n        >\n          <Instruction contained>\n            <Translate\n              pt={\n                <>\n                  Um meliante monstruoso está a solta!\n                  <br />\n                  A testemunha <AvatarName player={witness} /> tentará relembrar o incidente!\n                </>\n              }\n              en={\n                <>\n                  A monstrous miscreant is on the loose!\n                  <br />\n                  The witness <AvatarName player={witness} /> must recall all of its features!\n                </>\n              }\n            />\n          </Instruction>\n        </RoundAnnouncement>\n\n        {/* Step 1 */}\n        <PhaseAnnouncement\n          icon={<MonsterIcon />}\n          title={translate('Memorize! Descreva! Desenhe!', 'Memorize! Describe! Sketch!')}\n          onClose={goToNextStep}\n          currentRound={state?.round?.current}\n          duration={state?.round?.current < 2 ? 20 : 5}\n          unskippable\n        >\n          <Instruction>\n            {isUserTheWitness ? (\n              <Translate\n                pt={\n                  <>\n                    Você terá {TIMES.MEMORY} segundos para memorizar as características do monstro.\n                    <br />\n                    Assim que esse tempo acabar, você terá {TIMES.SKETCH / 60} minutos para descrevê-lo para\n                    os outros jogadores.\n                    <br />\n                    Boa sorte!\n                  </>\n                }\n                en={\n                  <>\n                    You'll have {TIMES.MEMORY} seconds to memorize the monster's features.\n                    <br />\n                    When the time is up, you will have {TIMES.SKETCH / 60} minutes to describe it to the other\n                    players.\n                    <br />\n                    Good luck!\n                  </>\n                }\n              />\n            ) : (\n              <Translate\n                pt={\n                  <>\n                    A testemunha <AvatarName player={witness} /> terá {TIMES.MEMORY} segundos para memorizar\n                    as características do monstro.\n                    <br />\n                    Assim que esse tempo acabar, você terá {TIMES.SKETCH / 60} minutos para desenhá-lo\n                    enquanto a testemunha o descreve.\n                    <br />\n                    Boa sorte!\n                  </>\n                }\n                en={\n                  <>\n                    The witness <AvatarName player={witness} /> will have {TIMES.MEMORY} seconds to memorize\n                    the monster's features.\n                    <br />\n                    When the time is up, you will have {TIMES.SKETCH / 60} minutes to draw the monster while\n                    the witness describes it.\n                    <br />\n                    Good luck!\n                  </>\n                }\n              />\n            )}\n          </Instruction>\n        </PhaseAnnouncement>\n\n        {/* Step 2 */}\n        <StepTestimonial\n          isUserTheWitness={isUserTheWitness}\n          currentMonster={state.currentMonster}\n          onSubmitSketch={onSubmitSketch}\n          onSubmitOrientation={onSubmitOrientation}\n        />\n      </StepSwitcher>\n    </PhaseContainer>\n  );\n}\n\nexport default PhaseCompositeSketch;\n","import { RETRATO_FALADO_API } from 'services/adapters';\n\nimport { useAPICall } from 'hooks/useAPICall';\nimport { useLanguage } from 'hooks/useLanguage';\n\nexport function useOnSubmitOrientationAPIRequest(setStep: GenericFunction) {\n  const request = useAPICall({\n    apiFunction: RETRATO_FALADO_API.submitAction,\n    actionName: 'submit-sketch',\n    onBeforeCall: () => setStep(3),\n  });\n\n  return (payload: SubmitOrientationPayload) => {\n    request({\n      action: 'SUBMIT_ORIENTATION',\n      ...payload,\n    });\n  };\n}\n\nexport function useOnSubmitSketchAPIRequest(setStep: GenericFunction) {\n  const { translate } = useLanguage();\n\n  const request = useAPICall({\n    apiFunction: RETRATO_FALADO_API.submitAction,\n    actionName: 'submit-sketch',\n    onBeforeCall: () => setStep(3),\n    onError: () => setStep(1),\n    successMessage: translate(\n      'Acabou o tempo! Desenho enviado com sucesso',\n      \"Time's up! Sketch submitted successfully\"\n    ),\n    errorMessage: translate(\n      'Vixi, o aplicativo encontrou um erro ao tentar enviar o desenho',\n      'Oops, the application failed to send your sketch'\n    ),\n  });\n\n  return (payload: SubmitSketchPayload) => {\n    request({\n      action: 'SUBMIT_SKETCH',\n      ...payload,\n    });\n  };\n}\n\nexport function useOnSubmitVoteAPIRequest(setStep: GenericFunction) {\n  const { translate } = useLanguage();\n\n  const request = useAPICall({\n    apiFunction: RETRATO_FALADO_API.submitAction,\n    actionName: 'submit-vote',\n    onBeforeCall: () => setStep(2),\n    onError: () => setStep(1),\n    successMessage: translate('Voto enviado com sucesso', 'Vote submitted successfully'),\n    errorMessage: translate(\n      'Vixi, o aplicativo encontrou um erro ao tentar enviar seu voto',\n      'Oops, the application failed to send your vote'\n    ),\n  });\n\n  return (payload: SubmitVotePayload) => {\n    request({\n      action: 'SUBMIT_VOTE',\n      ...payload,\n    });\n  };\n}\n","import { useEffect } from 'react';\n// Ant Design Resources\nimport { Button, Space } from 'antd';\n// Utils\nimport { useCardWidth } from 'hooks/useCardWidth';\nimport { useGlobalState } from 'hooks/useGlobalState';\n// Components\n\nimport { MonsterCard } from './components/MonsterCard';\nimport { Instruction, Title } from 'components/text';\nimport { Translate } from 'components/language';\nimport { ViewOr } from 'components/views';\nimport { CanvasResizer, CanvasSVG } from 'components/canvas';\nimport { Avatar } from 'components/avatars';\n\ntype StepVoteProps = {\n  isUserTheWitness: boolean;\n  currentMonster: Monster;\n  onSubmitVote: GenericFunction;\n  sketches: Sketch[];\n  user: Player | PlainObject;\n  players: Players;\n};\n\nexport function StepVote({\n  isUserTheWitness,\n  currentMonster,\n  sketches,\n  onSubmitVote,\n  user,\n  players,\n}: StepVoteProps) {\n  const canvasWidth = useCardWidth(Math.min(Object.keys(players).length, 6), 16, 150, 500);\n  const [canvasSize, setCanvasSize] = useGlobalState('canvasSize');\n\n  useEffect(() => {\n    if (!canvasSize) {\n      // Round to increments of 50\n      setCanvasSize(Math.floor(canvasWidth / 50) * 50);\n    }\n  }, [canvasSize, canvasWidth]); // eslint-disable-line\n\n  return (\n    <div>\n      <Title>\n        <Translate pt=\"Vote!\" en=\"Vote!\" />\n      </Title>\n      <Instruction contained>\n        <ViewOr orCondition={isUserTheWitness}>\n          <Translate\n            pt={\n              <>\n                Você só ganha ponto se você escolher o desenho mais votado.\n                <br />\n                Caso você não escolha o mais votado, o jogador que você escolher ganha 1 ponto.\n              </>\n            }\n            en={\n              <>\n                You only score if you choose the best sketch (the one with the most votes).\n                <br />\n                If you didn't pick the one, the player you chose gets 1 point.\n              </>\n            }\n          />\n\n          <Translate\n            pt={\n              <>\n                Vote no desenho que mais se aproxima do monstro.\n                <br />\n                Você não pode votar em si mesmo.\n                <br />O desenho (ou desenhos) mais votado receberá 1 ponto!\n              </>\n            }\n            en={\n              <>\n                Vote for the sketch that best represents the monster.\n                <br />\n                You cannot vote for yourself.\n                <br />\n                The sketch (or sketches) with the most votes gets 1 point.\n              </>\n            }\n          />\n        </ViewOr>\n      </Instruction>\n\n      <CanvasResizer />\n\n      <Space className=\"space-container\" align=\"center\">\n        {sketches.map((sketchObj) => {\n          const player = players[sketchObj.playerId];\n          return (\n            <Space direction=\"vertical\" align=\"center\" key={`sketch-for-player-${sketchObj.playerId}`}>\n              <CanvasSVG\n                key={`sketch-${sketchObj.playerId}`}\n                size={canvasSize || canvasWidth}\n                drawing={sketchObj.sketch}\n                className=\"r-sketch\"\n              />\n              <Button\n                type=\"primary\"\n                onClick={() => onSubmitVote({ vote: player.id })}\n                disabled={sketchObj.playerId === user.id}\n              >\n                <Avatar id={player.avatarId} size=\"small\" /> {player.name}\n              </Button>\n            </Space>\n          );\n        })}\n      </Space>\n\n      <Space className=\"space-container\" align=\"center\">\n        <MonsterCard currentMonster={currentMonster} />\n      </Space>\n    </div>\n  );\n}\n","// State & Hooks\nimport { useIsUserReady } from 'hooks/useIsUserReady';\nimport { useLanguage } from 'hooks/useLanguage';\nimport { useStep } from 'hooks/useStep';\nimport { useUser } from 'hooks/useUser';\nimport { useWhichPlayerIsThe } from 'hooks/useWhichPlayerIsThe';\nimport { useOnSubmitVoteAPIRequest } from './utils/api-requests';\n// Resources & Utils\nimport { PHASES } from 'utils/phases';\n// Components\nimport { Translate } from 'components/language';\nimport { StepSwitcher } from 'components/steps';\nimport { Instruction } from 'components/text';\nimport { StepVote } from './StepVote';\nimport { PhaseAnnouncement, PhaseContainer } from 'components/phases';\nimport { ChoiceIcon } from 'components/icons/ChoiceIcon';\n\nfunction PhaseEvaluation({ players, state, info }: PhaseProps) {\n  const { translate } = useLanguage();\n  const user = useUser(players);\n\n  const isUserReady = useIsUserReady(players, state);\n  const { step, goToNextStep, setStep } = useStep(0);\n  const [, isUserTheWitness] = useWhichPlayerIsThe('witnessId', state, players);\n\n  const onSubmitVote = useOnSubmitVoteAPIRequest(setStep);\n\n  return (\n    <PhaseContainer info={info} phase={state?.phase} allowedPhase={PHASES.RETRATO_FALADO.EVALUATION}>\n      <StepSwitcher step={step} conditions={[!isUserReady, !isUserReady, !isUserReady]} players={players}>\n        {/* Step 0 */}\n        <PhaseAnnouncement\n          icon={<ChoiceIcon />}\n          title={translate('Vote!', 'Vote!')}\n          onClose={goToNextStep}\n          currentRound={state?.round?.current}\n        >\n          <Instruction>\n            <Translate\n              pt={<>Vote no desenho que você acha que mais parece com o monstro meliante.</>}\n              en={<>Vote for the sketch that best represents the monster.</>}\n            />\n          </Instruction>\n        </PhaseAnnouncement>\n\n        {/* Step 1 */}\n        <StepVote\n          isUserTheWitness={isUserTheWitness}\n          currentMonster={state.currentMonster}\n          sketches={state.sketches}\n          onSubmitVote={onSubmitVote}\n          user={user}\n          players={players}\n        />\n      </StepSwitcher>\n    </PhaseContainer>\n  );\n}\n\nexport default PhaseEvaluation;\n","// Ant Design Resources\nimport { Space } from 'antd';\n// Components\nimport { Avatar } from 'components/avatars';\nimport { CanvasSVG } from 'components/canvas';\n\ntype MonsterSketchesProps = {\n  sketches: Sketch[];\n  players: Players;\n  canvasSize: number;\n  canvasWidth: number;\n};\n\nexport function MonsterSketches({ sketches, players, canvasSize, canvasWidth }: MonsterSketchesProps) {\n  return (\n    <>\n      {sketches.map((sketchObj) => {\n        const player = players[sketchObj.playerId];\n        return (\n          <Space\n            key={`monster-sketch-item-${sketchObj.playerId}`}\n            direction=\"vertical\"\n            align=\"center\"\n            className=\"r-monster-sketch\"\n          >\n            <CanvasSVG\n              key={`sketch-${sketchObj.playerId}`}\n              size={canvasSize || canvasWidth}\n              drawing={sketchObj.sketch}\n              className=\"r-sketch\"\n            />\n            <div>\n              <Avatar id={player.avatarId} size=\"small\" /> {player.name}\n            </div>\n          </Space>\n        );\n      })}\n    </>\n  );\n}\n","// Ant Design Resources\nimport { Space } from 'antd';\n// Hooks\nimport { useCardWidth } from 'hooks/useCardWidth';\nimport { useGlobalState } from 'hooks/useGlobalState';\nimport { useTemporarilyHidePlayersBar } from 'hooks/useTemporarilyHidePlayersBar';\n// Components\nimport { MonsterCard } from './components/MonsterCard';\nimport { MonsterSketches } from './components/MonsterSketches';\nimport { Instruction, Title } from 'components/text';\nimport { Translate } from 'components/language';\nimport { Step } from 'components/steps';\nimport { AvatarName } from 'components/avatars';\nimport { TimedButton } from 'components/buttons';\n\ntype StepResultsProps = {\n  currentMonster: Monster;\n  goToNextStep: GenericFunction;\n  sketches: Sketch[];\n  user: Player | PlainObject;\n  players: Players;\n  mostVotes: PlayerId[];\n  witnessVote: any;\n  witness: Player | PlainObject;\n};\n\ntype Sketches = {\n  mostVotedSketches: Sketch[];\n  otherSketches: Sketch[];\n};\n\nexport function StepResults({\n  sketches,\n  players,\n  currentMonster,\n  goToNextStep,\n  mostVotes,\n  witnessVote,\n  witness,\n}: StepResultsProps) {\n  useTemporarilyHidePlayersBar();\n\n  const canvasWidth = useCardWidth(Math.min(Object.keys(players).length, 6), 16, 150, 500);\n  const [canvasSize] = useGlobalState('canvasSize');\n\n  const { mostVotedSketches, otherSketches } = sketches.reduce(\n    (acc: Sketches, sketch) => {\n      if (mostVotes.includes(sketch.playerId)) {\n        acc.mostVotedSketches.push(sketch);\n      } else {\n        acc.otherSketches.push(sketch);\n      }\n      return acc;\n    },\n    {\n      mostVotedSketches: [],\n      otherSketches: [],\n    }\n  );\n\n  return (\n    <Step fullWidth>\n      <Title>\n        {mostVotes.length > 1 ? (\n          <Translate\n            pt=\"Os monstros mais votados foram...\"\n            en=\"The monsters who got the most votes were...\"\n          />\n        ) : (\n          <Translate pt=\"O monstro mais votado foi...\" en=\"The monster who got the most votes was...\" />\n        )}\n      </Title>\n\n      <Instruction contained>\n        {mostVotes.length > 1 ? (\n          <Translate pt=\"Esses jogadores ganharam 3 pontos cada.\" en=\"These players get 2 points each.\" />\n        ) : (\n          <Translate pt=\"Esse jogador ganha 3 pontos.\" en=\"This player gets 2 points.\" />\n        )}\n      </Instruction>\n\n      <div className=\"r-monster-list\">\n        <MonsterCard currentMonster={currentMonster} style={{ width: `${canvasWidth * 1.5}px` }} />\n        <MonsterSketches\n          sketches={mostVotedSketches}\n          players={players}\n          canvasSize={canvasSize}\n          canvasWidth={canvasWidth}\n        />\n      </div>\n\n      <Instruction contained>\n        {mostVotes.includes(witnessVote) ? (\n          <Translate\n            pt={\n              <>\n                A testemunha <AvatarName player={witness} /> votou no mais votado, logo, é uma testemunha\n                confiável e ganha 2 pontos também.\n              </>\n            }\n            en={\n              <>\n                The witness <AvatarName player={witness} /> voted with the group which means s(he) is a\n                credible witness and gets 2 points as well.\n              </>\n            }\n          />\n        ) : (\n          <Translate\n            pt={\n              <>\n                A testemunha achou que o desenho de <AvatarName player={players[witnessVote]} /> foi o melhor,\n                esse jogador ganha 1 ponto.\n              </>\n            }\n            en={\n              <>\n                The witness thought that <AvatarName player={players[witnessVote]} />\n                's sketch was the best, so s(he) gets 1 point.\n              </>\n            }\n          />\n        )}\n      </Instruction>\n\n      <TimedButton duration={30} onExpire={goToNextStep} onClick={goToNextStep}>\n        <Translate pt=\"Ver Ranking\" en=\"See Ranking\" />\n      </TimedButton>\n\n      <Title level={3} className=\"r-other-sketches-title\">\n        <Translate pt=\"Outros desenhos\" en=\"Other sketches\" />\n      </Title>\n\n      <Space className=\"space-container\" align=\"center\">\n        <MonsterSketches\n          sketches={otherSketches}\n          players={players}\n          canvasSize={canvasSize / 1.5}\n          canvasWidth={canvasWidth / 1.5}\n        />\n      </Space>\n    </Step>\n  );\n}\n","import { Button, Space } from 'antd';\nimport { AdminNextPhaseButton } from 'components/admin';\nimport { Translate } from 'components/language';\nimport { StepRankingWrapper } from 'components/ranking';\n\ntype StepRankingProps = {\n  ranking: any;\n  players: Players;\n  round: GameRound;\n  goToPreviousStep: GenericFunction;\n  isLastRound?: boolean;\n};\n\nexport function StepRanking({ ranking, players, round, goToPreviousStep, isLastRound }: StepRankingProps) {\n  return (\n    <StepRankingWrapper\n      players={players}\n      ranking={ranking}\n      gainedPointsDescriptions={[\n        <Translate pt=\"Mais votado\" en=\"Most votes\" />,\n        <Translate pt=\"Votou com o grupo\" en=\"Voted with the group\" />,\n        <Translate pt=\"Votado pela testemunha\" en=\"Voted by the witness\" />,\n      ]}\n    >\n      <Space className=\"space-container\" align=\"center\">\n        <Button onClick={goToPreviousStep}>\n          <Translate pt=\"Ver resultado novamente\" en=\"See results again\" />\n        </Button>\n      </Space>\n      <AdminNextPhaseButton round={round} lastRound={isLastRound} />\n    </StepRankingWrapper>\n  );\n}\n","// State & Hooks\nimport { useIsUserReady } from 'hooks/useIsUserReady';\nimport { useLanguage } from 'hooks/useLanguage';\nimport { useStep } from 'hooks/useStep';\nimport { useUser } from 'hooks/useUser';\nimport { useWhichPlayerIsThe } from 'hooks/useWhichPlayerIsThe';\n// Resources & Utils\nimport { PHASES } from 'utils/phases';\n// Components\nimport { Translate } from 'components/language';\nimport { StepSwitcher } from 'components/steps';\nimport { Instruction } from 'components/text';\nimport { StepResults } from './StepResults';\nimport { StepRanking } from './StepRanking';\nimport { PhaseAnnouncement, PhaseContainer } from 'components/phases';\nimport { QualitySealIcon } from 'components/icons/QualitySealIcon';\n\nfunction PhaseReveal({ players, state, info }: PhaseProps) {\n  const { translate } = useLanguage();\n  const { step, goToNextStep, goToPreviousStep } = useStep(0);\n  const user = useUser(players);\n\n  const isUserReady = useIsUserReady(players, state);\n  const [witness] = useWhichPlayerIsThe('witnessId', state, players);\n\n  return (\n    <PhaseContainer info={info} phase={state?.phase} allowedPhase={PHASES.RETRATO_FALADO.REVEAL}>\n      <StepSwitcher step={step} conditions={[!isUserReady, !isUserReady, !isUserReady]} players={players}>\n        {/* Step 0 */}\n        <PhaseAnnouncement\n          icon={<QualitySealIcon />}\n          title={translate('Resultado', 'Results')}\n          onClose={goToNextStep}\n          currentRound={state?.round?.current}\n          duration={5}\n        >\n          <Instruction>\n            <Translate pt={<>E o mais votado é...</>} en={<>And the one who got the most votes is...</>} />\n          </Instruction>\n        </PhaseAnnouncement>\n\n        {/* Step 1 */}\n        <StepResults\n          witness={witness}\n          currentMonster={state.currentMonster}\n          sketches={state.sketches}\n          mostVotes={state.mostVotes}\n          witnessVote={state.witnessVote}\n          user={user}\n          players={players}\n          goToNextStep={goToNextStep}\n        />\n\n        {/* Step 2 */}\n        <StepRanking\n          ranking={state.ranking}\n          players={players}\n          round={state.round}\n          isLastRound={state?.lastRound}\n          goToPreviousStep={goToPreviousStep}\n        />\n      </StepSwitcher>\n    </PhaseContainer>\n  );\n}\n\nexport default PhaseReveal;\n","// Hooks\nimport { GameOverWrapper } from 'components/game-over';\nimport { TrophyIcon } from 'components/icons/TrophyIcon';\nimport { Translate } from 'components/language';\nimport { Title } from 'components/text';\nimport { useCardWidth } from 'hooks/useCardWidth';\n// Components\nimport { MonsterSketches } from './components/MonsterSketches';\n\nfunction PhaseGameOver({ state, info, players }: PhaseProps) {\n  const canvasWidth = useCardWidth(6, 16, 150, 500);\n\n  return (\n    <GameOverWrapper info={info} state={state} announcementIcon={<TrophyIcon />}>\n      <div>\n        <Title level={2}>\n          <Translate pt=\"Desenhos\" en=\"Sketches\" />\n        </Title>\n        <div className=\"r-gallery\">\n          <MonsterSketches\n            sketches={state.gallery}\n            players={players}\n            canvasSize={canvasWidth}\n            canvasWidth={canvasWidth}\n          />\n        </div>\n      </div>\n    </GameOverWrapper>\n  );\n}\n\nexport default PhaseGameOver;\n","import { ConfigProvider } from 'antd';\n// Constants\nimport { GAME_COLLECTION, THEME_COLORS } from 'utils/constants';\nimport { PHASES } from 'utils/phases';\n// Components\nimport { Session } from 'components/session';\nimport { PhaseLobby, PhaseRules, PhaseSetup } from 'components/phases';\nimport { PageError } from 'components/errors';\nimport PhaseCompositeSketch from './PhaseCompositeSketch';\nimport PhaseEvaluation from './PhaseEvaluation';\nimport PhaseReveal from './PhaseReveal';\nimport PhaseGameOver from './PhaseGameOver';\n\nConfigProvider.config({\n  theme: {\n    primaryColor: THEME_COLORS.DEFAULT,\n  },\n});\n\nfunction SessionRetratoFalado({ gameId }: SessionProps) {\n  function getActiveComponent(phase: string) {\n    switch (phase) {\n      case PHASES.DEFAULT.LOBBY:\n        return PhaseLobby;\n      case PHASES.DEFAULT.RULES:\n        return PhaseRules;\n      case PHASES.DEFAULT.SETUP:\n        return PhaseSetup;\n      case PHASES.RETRATO_FALADO.COMPOSITE_SKETCH:\n        return PhaseCompositeSketch;\n      case PHASES.RETRATO_FALADO.EVALUATION:\n        return PhaseEvaluation;\n      case PHASES.RETRATO_FALADO.REVEAL:\n        return PhaseReveal;\n      case PHASES.DEFAULT.GAME_OVER:\n        return PhaseGameOver;\n      default:\n        return PageError;\n    }\n  }\n\n  return (\n    <Session\n      gameId={gameId}\n      gameCollection={GAME_COLLECTION.RETRATO_FALADO}\n      getActiveComponent={getActiveComponent}\n    />\n  );\n}\n\nexport default SessionRetratoFalado;\n","import { useEffect, useState } from 'react';\nimport { useGlobalState } from './useGlobalState';\n\n/**\n * Gets player that is assigned to a property in the state\n * @param propertyName\n * @param state\n * @param players\n * @returns a player instance, a boolean if the player is assigned to given property\n */\nexport function useWhichPlayerIsThe(\n  propertyName = 'activePlayer',\n  state: PlainObject = {},\n  players: Players = {}\n): [GamePlayer, boolean] {\n  const [userId] = useGlobalState('userId');\n  const [activePlayer, setActivePlayer] = useState<GamePlayer>({});\n  const [isUser, setIsUser] = useState(false);\n\n  // Determine if user is active as the guesser, the clue giver, the psychic, the storyteller, etc\n  useEffect(() => {\n    const activePlayer = state?.[propertyName];\n    setActivePlayer(players?.[activePlayer] ?? {});\n    setIsUser(state?.[propertyName] === userId);\n  }, [players, propertyName, state, userId]);\n\n  return [activePlayer, isUser];\n}\n","// This icon file is generated automatically.\nvar CaretUpOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"0 0 1024 1024\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z\" } }] }, \"name\": \"caret-up\", \"theme\": \"outlined\" };\nexport default CaretUpOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport CaretUpOutlinedSvg from \"@ant-design/icons-svg/es/asn/CaretUpOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar CaretUpOutlined = function CaretUpOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: CaretUpOutlinedSvg\n  }));\n};\n\nCaretUpOutlined.displayName = 'CaretUpOutlined';\nexport default /*#__PURE__*/React.forwardRef(CaretUpOutlined);","// This icon file is generated automatically.\nvar CrownFilled = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M899.6 276.5L705 396.4 518.4 147.5a8.06 8.06 0 00-12.9 0L319 396.4 124.3 276.5c-5.7-3.5-13.1 1.2-12.2 7.9L188.5 865c1.1 7.9 7.9 14 16 14h615.1c8 0 14.9-6 15.9-14l76.4-580.6c.8-6.7-6.5-11.4-12.3-7.9zM512 734.2c-62.1 0-112.6-50.5-112.6-112.6S449.9 509 512 509s112.6 50.5 112.6 112.6S574.1 734.2 512 734.2zm0-160.9c-26.6 0-48.2 21.6-48.2 48.3 0 26.6 21.6 48.3 48.2 48.3s48.2-21.6 48.2-48.3c0-26.6-21.6-48.3-48.2-48.3z\" } }] }, \"name\": \"crown\", \"theme\": \"filled\" };\nexport default CrownFilled;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport CrownFilledSvg from \"@ant-design/icons-svg/es/asn/CrownFilled\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar CrownFilled = function CrownFilled(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: CrownFilledSvg\n  }));\n};\n\nCrownFilled.displayName = 'CrownFilled';\nexport default /*#__PURE__*/React.forwardRef(CrownFilled);","// This icon file is generated automatically.\nvar StarFilled = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z\" } }] }, \"name\": \"star\", \"theme\": \"filled\" };\nexport default StarFilled;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport StarFilledSvg from \"@ant-design/icons-svg/es/asn/StarFilled\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar StarFilled = function StarFilled(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: StarFilledSvg\n  }));\n};\n\nStarFilled.displayName = 'StarFilled';\nexport default /*#__PURE__*/React.forwardRef(StarFilled);","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport React from 'react';\n\nvar Star = /*#__PURE__*/function (_React$Component) {\n  _inherits(Star, _React$Component);\n\n  var _super = _createSuper(Star);\n\n  function Star() {\n    var _this;\n\n    _classCallCheck(this, Star);\n\n    _this = _super.apply(this, arguments);\n\n    _this.onHover = function (e) {\n      var _this$props = _this.props,\n          onHover = _this$props.onHover,\n          index = _this$props.index;\n      onHover(e, index);\n    };\n\n    _this.onClick = function (e) {\n      var _this$props2 = _this.props,\n          onClick = _this$props2.onClick,\n          index = _this$props2.index;\n      onClick(e, index);\n    };\n\n    _this.onKeyDown = function (e) {\n      var _this$props3 = _this.props,\n          onClick = _this$props3.onClick,\n          index = _this$props3.index;\n\n      if (e.keyCode === 13) {\n        onClick(e, index);\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Star, [{\n    key: \"getClassName\",\n    value: function getClassName() {\n      var _this$props4 = this.props,\n          prefixCls = _this$props4.prefixCls,\n          index = _this$props4.index,\n          value = _this$props4.value,\n          allowHalf = _this$props4.allowHalf,\n          focused = _this$props4.focused;\n      var starValue = index + 1;\n      var className = prefixCls;\n\n      if (value === 0 && index === 0 && focused) {\n        className += \" \".concat(prefixCls, \"-focused\");\n      } else if (allowHalf && value + 0.5 >= starValue && value < starValue) {\n        className += \" \".concat(prefixCls, \"-half \").concat(prefixCls, \"-active\");\n\n        if (focused) {\n          className += \" \".concat(prefixCls, \"-focused\");\n        }\n      } else {\n        className += starValue <= value ? \" \".concat(prefixCls, \"-full\") : \" \".concat(prefixCls, \"-zero\");\n\n        if (starValue === value && focused) {\n          className += \" \".concat(prefixCls, \"-focused\");\n        }\n      }\n\n      return className;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var onHover = this.onHover,\n          onClick = this.onClick,\n          onKeyDown = this.onKeyDown;\n      var _this$props5 = this.props,\n          disabled = _this$props5.disabled,\n          prefixCls = _this$props5.prefixCls,\n          character = _this$props5.character,\n          characterRender = _this$props5.characterRender,\n          index = _this$props5.index,\n          count = _this$props5.count,\n          value = _this$props5.value;\n      var characterNode = typeof character === 'function' ? character(this.props) : character;\n      var start = /*#__PURE__*/React.createElement(\"li\", {\n        className: this.getClassName()\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        onClick: disabled ? null : onClick,\n        onKeyDown: disabled ? null : onKeyDown,\n        onMouseMove: disabled ? null : onHover,\n        role: \"radio\",\n        \"aria-checked\": value > index ? 'true' : 'false',\n        \"aria-posinset\": index + 1,\n        \"aria-setsize\": count,\n        tabIndex: disabled ? -1 : 0\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-first\")\n      }, characterNode), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-second\")\n      }, characterNode)));\n\n      if (characterRender) {\n        start = characterRender(start, this.props);\n      }\n\n      return start;\n    }\n  }]);\n\n  return Star;\n}(React.Component);\n\nexport { Star as default };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport React from 'react';\nimport findDOMNode from \"rc-util/es/Dom/findDOMNode\";\nimport classNames from 'classnames';\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport { getOffsetLeft } from './util';\nimport Star from './Star';\n\nfunction noop() {}\n\nvar Rate = /*#__PURE__*/function (_React$Component) {\n  _inherits(Rate, _React$Component);\n\n  var _super = _createSuper(Rate);\n\n  function Rate(props) {\n    var _this;\n\n    _classCallCheck(this, Rate);\n\n    _this = _super.call(this, props);\n\n    _this.onHover = function (event, index) {\n      var onHoverChange = _this.props.onHoverChange;\n\n      var hoverValue = _this.getStarValue(index, event.pageX);\n\n      var cleanedValue = _this.state.cleanedValue;\n\n      if (hoverValue !== cleanedValue) {\n        _this.setState({\n          hoverValue: hoverValue,\n          cleanedValue: null\n        });\n      }\n\n      onHoverChange(hoverValue);\n    };\n\n    _this.onMouseLeave = function () {\n      var onHoverChange = _this.props.onHoverChange;\n\n      _this.setState({\n        hoverValue: undefined,\n        cleanedValue: null\n      });\n\n      onHoverChange(undefined);\n    };\n\n    _this.onClick = function (event, index) {\n      var allowClear = _this.props.allowClear;\n      var value = _this.state.value;\n\n      var newValue = _this.getStarValue(index, event.pageX);\n\n      var isReset = false;\n\n      if (allowClear) {\n        isReset = newValue === value;\n      }\n\n      _this.onMouseLeave();\n\n      _this.changeValue(isReset ? 0 : newValue);\n\n      _this.setState({\n        cleanedValue: isReset ? newValue : null\n      });\n    };\n\n    _this.onFocus = function () {\n      var onFocus = _this.props.onFocus;\n\n      _this.setState({\n        focused: true\n      });\n\n      if (onFocus) {\n        onFocus();\n      }\n    };\n\n    _this.onBlur = function () {\n      var onBlur = _this.props.onBlur;\n\n      _this.setState({\n        focused: false\n      });\n\n      if (onBlur) {\n        onBlur();\n      }\n    };\n\n    _this.onKeyDown = function (event) {\n      var keyCode = event.keyCode;\n      var _this$props = _this.props,\n          count = _this$props.count,\n          allowHalf = _this$props.allowHalf,\n          onKeyDown = _this$props.onKeyDown,\n          direction = _this$props.direction;\n      var reverse = direction === 'rtl';\n      var value = _this.state.value;\n\n      if (keyCode === KeyCode.RIGHT && value < count && !reverse) {\n        if (allowHalf) {\n          value += 0.5;\n        } else {\n          value += 1;\n        }\n\n        _this.changeValue(value);\n\n        event.preventDefault();\n      } else if (keyCode === KeyCode.LEFT && value > 0 && !reverse) {\n        if (allowHalf) {\n          value -= 0.5;\n        } else {\n          value -= 1;\n        }\n\n        _this.changeValue(value);\n\n        event.preventDefault();\n      } else if (keyCode === KeyCode.RIGHT && value > 0 && reverse) {\n        if (allowHalf) {\n          value -= 0.5;\n        } else {\n          value -= 1;\n        }\n\n        _this.changeValue(value);\n\n        event.preventDefault();\n      } else if (keyCode === KeyCode.LEFT && value < count && reverse) {\n        if (allowHalf) {\n          value += 0.5;\n        } else {\n          value += 1;\n        }\n\n        _this.changeValue(value);\n\n        event.preventDefault();\n      }\n\n      if (onKeyDown) {\n        onKeyDown(event);\n      }\n    };\n\n    _this.saveRef = function (index) {\n      return function (node) {\n        _this.stars[index] = node;\n      };\n    };\n\n    _this.saveRate = function (node) {\n      _this.rate = node;\n    };\n\n    var value = props.value;\n\n    if (value === undefined) {\n      value = props.defaultValue;\n    }\n\n    _this.stars = {};\n    _this.state = {\n      value: value,\n      focused: false,\n      cleanedValue: null\n    };\n    return _this;\n  }\n\n  _createClass(Rate, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props2 = this.props,\n          autoFocus = _this$props2.autoFocus,\n          disabled = _this$props2.disabled;\n\n      if (autoFocus && !disabled) {\n        this.focus();\n      }\n    }\n  }, {\n    key: \"getStarDOM\",\n    value: function getStarDOM(index) {\n      return findDOMNode(this.stars[index]);\n    }\n  }, {\n    key: \"getStarValue\",\n    value: function getStarValue(index, x) {\n      var _this$props3 = this.props,\n          allowHalf = _this$props3.allowHalf,\n          direction = _this$props3.direction;\n      var reverse = direction === 'rtl';\n      var value = index + 1;\n\n      if (allowHalf) {\n        var starEle = this.getStarDOM(index);\n        var leftDis = getOffsetLeft(starEle);\n        var width = starEle.clientWidth;\n\n        if (reverse && x - leftDis > width / 2) {\n          value -= 0.5;\n        } else if (!reverse && x - leftDis < width / 2) {\n          value -= 0.5;\n        }\n      }\n\n      return value;\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      var disabled = this.props.disabled;\n\n      if (!disabled) {\n        this.rate.focus();\n      }\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      var disabled = this.props.disabled;\n\n      if (!disabled) {\n        this.rate.blur();\n      }\n    }\n  }, {\n    key: \"changeValue\",\n    value: function changeValue(value) {\n      var onChange = this.props.onChange;\n\n      if (!('value' in this.props)) {\n        this.setState({\n          value: value\n        });\n      }\n\n      onChange(value);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n          count = _this$props4.count,\n          allowHalf = _this$props4.allowHalf,\n          style = _this$props4.style,\n          prefixCls = _this$props4.prefixCls,\n          disabled = _this$props4.disabled,\n          className = _this$props4.className,\n          character = _this$props4.character,\n          characterRender = _this$props4.characterRender,\n          tabIndex = _this$props4.tabIndex,\n          direction = _this$props4.direction;\n      var _this$state = this.state,\n          value = _this$state.value,\n          hoverValue = _this$state.hoverValue,\n          focused = _this$state.focused;\n      var stars = [];\n      var disabledClass = disabled ? \"\".concat(prefixCls, \"-disabled\") : '';\n\n      for (var index = 0; index < count; index += 1) {\n        stars.push( /*#__PURE__*/React.createElement(Star, {\n          ref: this.saveRef(index),\n          index: index,\n          count: count,\n          disabled: disabled,\n          prefixCls: \"\".concat(prefixCls, \"-star\"),\n          allowHalf: allowHalf,\n          value: hoverValue === undefined ? value : hoverValue,\n          onClick: this.onClick,\n          onHover: this.onHover,\n          key: index,\n          character: character,\n          characterRender: characterRender,\n          focused: focused\n        }));\n      }\n\n      var rateClassName = classNames(prefixCls, disabledClass, className, _defineProperty({}, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'));\n      return /*#__PURE__*/React.createElement(\"ul\", {\n        className: rateClassName,\n        style: style,\n        onMouseLeave: disabled ? null : this.onMouseLeave,\n        tabIndex: disabled ? -1 : tabIndex,\n        onFocus: disabled ? null : this.onFocus,\n        onBlur: disabled ? null : this.onBlur,\n        onKeyDown: disabled ? null : this.onKeyDown,\n        ref: this.saveRate,\n        role: \"radiogroup\"\n      }, stars);\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, state) {\n      if ('value' in nextProps && nextProps.value !== undefined) {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          value: nextProps.value\n        });\n      }\n\n      return state;\n    }\n  }]);\n\n  return Rate;\n}(React.Component);\n\nRate.defaultProps = {\n  defaultValue: 0,\n  count: 5,\n  allowHalf: false,\n  allowClear: true,\n  style: {},\n  prefixCls: 'rc-rate',\n  onChange: noop,\n  character: '★',\n  onHoverChange: noop,\n  tabIndex: 0,\n  direction: 'ltr'\n};\nexport default Rate;","/* eslint-disable import/prefer-default-export */\nfunction getScroll(w) {\n  var ret = w.pageXOffset;\n  var method = 'scrollLeft';\n\n  if (typeof ret !== 'number') {\n    var d = w.document; // ie6,7,8 standard mode\n\n    ret = d.documentElement[method];\n\n    if (typeof ret !== 'number') {\n      // quirks mode\n      ret = d.body[method];\n    }\n  }\n\n  return ret;\n}\n\nfunction getClientPosition(elem) {\n  var x;\n  var y;\n  var doc = elem.ownerDocument;\n  var body = doc.body;\n  var docElem = doc && doc.documentElement;\n  var box = elem.getBoundingClientRect();\n  x = box.left;\n  y = box.top;\n  x -= docElem.clientLeft || body.clientLeft || 0;\n  y -= docElem.clientTop || body.clientTop || 0;\n  return {\n    left: x,\n    top: y\n  };\n}\n\nexport function getOffsetLeft(el) {\n  var pos = getClientPosition(el);\n  var doc = el.ownerDocument; // Only IE use `parentWindow`\n\n  var w = doc.defaultView || doc.parentWindow;\n  pos.left += getScroll(w);\n  return pos.left;\n}","import Rate from './Rate';\nexport default Rate;","import _extends from \"@babel/runtime/helpers/esm/extends\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport StarFilled from \"@ant-design/icons/es/icons/StarFilled\";\nimport RcRate from 'rc-rate';\nimport * as React from 'react';\nimport { ConfigContext } from '../config-provider';\nimport Tooltip from '../tooltip';\nvar Rate = /*#__PURE__*/React.forwardRef(function (_a, ref) {\n  var prefixCls = _a.prefixCls,\n      tooltips = _a.tooltips,\n      props = __rest(_a, [\"prefixCls\", \"tooltips\"]);\n\n  var characterRender = function characterRender(node, _ref) {\n    var index = _ref.index;\n    if (!tooltips) return node;\n    return /*#__PURE__*/React.createElement(Tooltip, {\n      title: tooltips[index]\n    }, node);\n  };\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var ratePrefixCls = getPrefixCls('rate', prefixCls);\n  return /*#__PURE__*/React.createElement(RcRate, _extends({\n    ref: ref,\n    characterRender: characterRender\n  }, props, {\n    prefixCls: ratePrefixCls,\n    direction: direction\n  }));\n});\n\nif (process.env.NODE_ENV !== 'production') {\n  Rate.displayName = 'Rate';\n}\n\nRate.defaultProps = {\n  character: /*#__PURE__*/React.createElement(StarFilled, null)\n};\nexport default Rate;"],"names":["CanvasResizer","useGlobalState","canvasSize","setCanvasSize","type","position","icon","DragOutlined","label","labelText","content","className","value","min","max","step","onChange","pt","en","CanvasSVG","drawing","size","konvaLines","JSON","parse","paths","map","lineArr","path","x","y","length","xmlns","viewBox","overflow","style","width","index","d","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","strokeMiterlimit","DrawingCanvas","lines","setLines","showControls","useState","drawingHistory","setDrawingHistory","isDrawing","useRef","startDrawing","current","stopDrawing","startLine","e","pos","target","getStage","getPointerPosition","Math","round","finishLine","point","lastLineEntry","concat","splice","handleMouseDown","handleMouseMove","lastLine","handleMouseUp","handleOffsetMouseUp","handleOffsetMouseDown","strokeWidthBySize","small","medium","large","direction","align","height","onMouseDown","onMousemove","onMouseup","onTouchStart","onTouchMove","onTouchEnd","onMouseLeave","window","document","addEventListener","onMouseEnter","removeEventListener","clsx","id","line","i","points","tension","lineCap","globalCompositeOperation","onClick","linesCopy","drawingHistoryCopy","pop","push","disabled","UndoOutlined","lastUndoLine","DeleteOutlined","TimerIcon","props","cx","cy","r","transform","TrophyIcon","TimerBar","steps","total","status","percentage","percent","showInfo","marginBottom","undefined","TimedTimerBar","duration","onExpire","timeLeft","useCountdown","autoStart","View","children","ViewIf","isVisible","ViewOr","orCondition","ViewSwitch","cases","Error","console","warn","VIEWS","SKETCH_TIME","TIMES","MEMORY","ANNOUNCEMENT","SKETCH","EXTRA","TOTAL","MEMORY_TIME","MEMORY_MARK","ANNOUNCEMENT_TIME","ANNOUNCEMENT_MARK","SKETCH_MARK","ViewAnnouncement","isUserTheWitness","title","unskippable","SketchIcon","onClose","ViewLastSeconds","remainingTime","useTemporarilyHidePlayersBar","strokeColor","contained","MonsterCard","currentMonster","monsterOrientation","setMonsterOrientation","cardWidth","useCardWidth","useEffectOnce","orientation","baseClass","imageId","RotateRightOutlined","RotateLeftOutlined","ViewSketching","remainingSketchingTime","ViewWitnessing","remainingWitnessingTime","StepTestimonial","onSubmitSketch","onSubmitOrientation","view","setView","sketch","stringify","useEffect","players","state","info","translate","useLanguage","useStep","goToNextStep","setStep","isUserReady","useIsUserReady","useWhichPlayerIsThe","witness","request","useAPICall","apiFunction","RETRATO_FALADO_API","actionName","onBeforeCall","onError","successMessage","errorMessage","payload","action","useOnSubmitSketchAPIRequest","useOnSubmitOrientationAPIRequest","phase","allowedPhase","PHASES","conditions","onPressButton","buttonText","time","circleColor","player","MonsterIcon","currentRound","StepVote","sketches","onSubmitVote","user","canvasWidth","Object","keys","floor","sketchObj","playerId","vote","avatarId","name","useUser","useOnSubmitVoteAPIRequest","ChoiceIcon","MonsterSketches","StepResults","mostVotes","witnessVote","reduce","acc","includes","mostVotedSketches","otherSketches","fullWidth","level","StepRanking","ranking","goToPreviousStep","isLastRound","gainedPointsDescriptions","lastRound","QualitySealIcon","announcementIcon","gallery","ConfigProvider","theme","primaryColor","THEME_COLORS","gameId","gameCollection","GAME_COLLECTION","getActiveComponent","PhaseLobby","PhaseRules","PhaseSetup","PhaseCompositeSketch","PhaseEvaluation","PhaseReveal","PhaseGameOver","PageError","propertyName","userId","activePlayer","setActivePlayer","isUser","setIsUser","CaretUpOutlined","ref","React","AntdIcon","_objectSpread","CaretUpOutlinedSvg","displayName","CrownFilled","CrownFilledSvg","StarFilled","StarFilledSvg","Star","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","this","apply","arguments","onHover","_this$props","_this$props2","onKeyDown","_this$props3","keyCode","_createClass","key","_this$props4","prefixCls","allowHalf","focused","starValue","_this$props5","character","characterRender","count","characterNode","start","getClassName","onMouseMove","role","tabIndex","noop","Rate","call","event","onHoverChange","hoverValue","getStarValue","pageX","cleanedValue","setState","allowClear","newValue","isReset","changeValue","onFocus","onBlur","reverse","KeyCode","preventDefault","saveRef","node","stars","saveRate","rate","defaultValue","autoFocus","focus","findDOMNode","starEle","getStarDOM","leftDis","el","elem","doc","ownerDocument","body","docElem","documentElement","box","getBoundingClientRect","left","top","clientLeft","clientTop","getClientPosition","w","defaultView","parentWindow","ret","pageXOffset","method","getScroll","getOffsetLeft","clientWidth","blur","_this$state","disabledClass","rateClassName","classNames","_defineProperty","nextProps","defaultProps","__rest","s","t","p","prototype","hasOwnProperty","indexOf","getOwnPropertySymbols","propertyIsEnumerable","_a","tooltips","_React$useContext","ConfigContext","getPrefixCls","ratePrefixCls","RcRate","_extends","_ref","Tooltip"],"sourceRoot":""}