"use strict";(self.webpackChunktardedivertida=self.webpackChunktardedivertida||[]).push([[442],{2442:function(e,s,t){t.r(s),t.d(s,{default:function(){return z}});var n=t(6591),r=t(5149),o=t(4261),i=t(9439),a=t(2427),c=t(1413),l=t(5928);var h="WITNESSING",d="ANNOUNCEMENT",u="SKETCHING",m="FINISHING",v=120,x={MEMORY:20,ANNOUNCEMENT:5,SKETCH:v,EXTRA:5,TOTAL:150,MEMORY_MARK:130,ANNOUNCEMENT_MARK:125,SKETCH_MARK:5},j=t(2791),p=t(722),g=t(1238),T=t(184);function f(e){var s=e.isUserTheWitness;return(0,T.jsx)(o.Cl,{title:s?(0,T.jsx)(o.vN,{pt:"Descreva!",en:"Describe!"}):(0,T.jsx)(o.vN,{pt:"Hora de desenhar!",en:"Time to draw!"}),unskippable:!0,duration:5,type:s?"timer":"sketch",onClose:function(){}})}function E(e){var s=e.isUserTheWitness,t=e.remainingTime,n=e.lines,r=e.setLines;return s?(0,T.jsxs)("div",{className:"r-view",children:[(0,T.jsx)(o.Dx,{children:(0,T.jsx)(o.vN,{pt:"Pronto!",en:"Done! "})}),(0,T.jsx)(o.HM,{steps:x.EXTRA,value:t,total:x.EXTRA,strokeColor:"red"}),(0,T.jsx)(o.vr,{contained:!0,children:(0,T.jsx)(o.vN,{pt:"Boca fechada! Aguarde os jogadores darem os \xfaltimos retoques.",en:"Shut up! Wait for the other players to finish their drawings."})})]}):(0,T.jsxs)("div",{className:"r-view",children:[(0,T.jsx)(o.Dx,{children:(0,T.jsx)(o.vN,{pt:"Termine!",en:"Finish it!"})}),(0,T.jsx)(o.vr,{contained:!0,children:(0,T.jsx)(o.vN,{pt:"\xdaltimos segundos para os retoques finais",en:"A few seconds more to finish"})}),(0,T.jsx)(o.HM,{steps:x.EXTRA,value:t,total:x.EXTRA,strokeColor:"red"}),(0,T.jsx)(o.RI,{lines:n,setLines:r,showControls:!0,strokeWidth:"small"})]})}var N=t(4925),M=t(8182),k=t(3099),A=t(7309),y=t(9784),R=t(5127),S=["currentMonster","showControls"];function b(e){var s=e.currentMonster,t=e.showControls,n=void 0===t||t,r=(0,N.Z)(e,S),l=(0,a.j1)("monsterOrientation"),h=(0,i.Z)(l,2),d=h[0],u=h[1],m=(0,a.m3)(5,16,120,360);(0,j.useEffect)((function(){"horizontal"===s.orientation&&u(s.orientation)}),[]);var v="r-monster-card";return(0,T.jsxs)(k.Z,(0,c.Z)((0,c.Z)({direction:"vertical",align:"center"},r),{},{children:[(0,T.jsx)(o.fe,{imageId:s.id,cardWidth:m,className:(0,M.Z)(v,"".concat(v,"vertical"===d?"--vertical":"--horizontal"))}),n&&(0,T.jsxs)(A.Z,{onClick:function(){u("vertical"===d?"horizontal":"vertical")},children:["vertical"===d?(0,T.jsx)(y.Z,{}):(0,T.jsx)(R.Z,{}),(0,T.jsx)(o.vN,{pt:"Girar",en:"Rotate"})]})]}))}function w(e){var s=e.isUserTheWitness,t=e.remainingSketchingTime,n=e.lines,r=e.setLines;return s?(0,T.jsxs)("div",{className:"r-view",children:[(0,T.jsx)(o.Dx,{children:(0,T.jsx)(o.vN,{pt:"Descreva o monstro!",en:"Describe the monstro!"})}),(0,T.jsx)(o.HM,{steps:x.SKETCH,value:t,total:x.SKETCH}),(0,T.jsx)(b,{currentMonster:{id:"md-bs-000",orientation:"vertical"},showControls:!1}),(0,T.jsx)(o.vr,{contained:!0,children:(0,T.jsx)(o.vN,{pt:"Tente dar o maior n\xfamero de detalhes poss\xedvel. Os jogadores podem te fazer perguntas.",en:"Try to give the largest number of details. Player may ask you questions too."})})]}):(0,T.jsxs)("div",{className:"r-view",children:[(0,T.jsx)(o.Dx,{children:(0,T.jsx)(o.vN,{pt:"Desenhe!",en:"Sketch it!"})}),(0,T.jsx)(o.vr,{contained:!0,children:t>0?(0,T.jsx)(o.vN,{pt:"Voc\xea pode tamb\xe9m fazer perguntas \xe0 testemunha.",en:"You may also ask the witness questions"}):(0,T.jsx)(o.vN,{pt:"\xdaltimos segundos para os retoques finais",en:"A few seconds more to finish"})}),(0,T.jsx)(o.HM,{steps:x.SKETCH,value:t,total:x.SKETCH}),(0,T.jsx)(o.RI,{lines:n,setLines:r,showControls:!0,strokeWidth:"small"})]})}function O(e){var s=e.isUserTheWitness,t=e.currentMonster,n=e.remainingWitnessingTime,r=e.lines,i=e.setLines;return s?(0,T.jsxs)("div",{className:"r-view",children:[(0,T.jsx)(o.Dx,{children:(0,T.jsx)(o.vN,{pt:"Memorize!",en:"Memorize!"})}),(0,T.jsx)(o.HM,{steps:x.MEMORY,value:n,total:x.MEMORY}),(0,T.jsx)(b,{currentMonster:t})]}):(0,T.jsxs)("div",{className:"r-view",children:[(0,T.jsx)(o.Dx,{children:(0,T.jsx)(o.vN,{pt:"Aguarde...",en:"Please wait..."})}),(0,T.jsx)(o.vr,{contained:!0,children:(0,T.jsx)(o.vN,{pt:"A testemunha est\xe1 tendo um flashback do monstro.",en:"The witness is having a flashback of the monster event now."})}),(0,T.jsx)(o.HM,{steps:x.MEMORY,value:n,total:x.MEMORY}),(0,T.jsx)(o.RI,{lines:r,setLines:i,showControls:!0,strokeWidth:"small"})]})}function C(e){var s=e.isUserTheWitness,t=e.currentMonster,n=e.onSubmitSketch,r=e.onSubmitOrientation,c=(0,a.j1)("monsterOrientation"),l=(0,i.Z)(c,1)[0],v=(0,j.useState)(h),N=(0,i.Z)(v,2),M=N[0],k=N[1],A=(0,j.useState)([]),y=(0,i.Z)(A,2),R=y[0],S=y[1],b=(0,p.useTimer)({expiryTimestamp:(0,g.rv)(x.TOTAL),autoStart:!0,onExpire:function(){s&&"horizontal"===l&&r({orientation:l}),n({sketch:JSON.stringify(R)})}}),C=60*b.minutes+b.seconds;return(0,j.useEffect)((function(){C===x.MEMORY_MARK?k(d):C===x.ANNOUNCEMENT_MARK?k(u):C===x.SKETCH_MARK&&k(m)}),[C]),(0,T.jsxs)(o.r_,{cases:[M===h,M===d,M===u,M===m],children:[(0,T.jsx)(O,{isUserTheWitness:s,currentMonster:t,remainingWitnessingTime:C-x.MEMORY_MARK,lines:R,setLines:S}),(0,T.jsx)(f,{isUserTheWitness:s}),(0,T.jsx)(w,{isUserTheWitness:s,remainingSketchingTime:C-x.SKETCH_MARK,lines:R,setLines:S}),(0,T.jsx)(E,{isUserTheWitness:s,remainingTime:C,lines:R,setLines:S})]})}var F=function(e){var s,t,n=e.players,h=e.state,d=e.info,u=(0,a.ZK)().translate,m=(0,a.g4)(0),v=m.step,j=m.goToNextStep,p=m.setStep,g=(0,a.bC)(n,h),f=(0,a.RQ)("witnessId",h,n),E=(0,i.Z)(f,2),N=E[0],M=E[1],k=function(e){var s=(0,a.ZK)().translate,t=(0,a.Cq)({apiFunction:l.SA.submitAction,actionName:"submit-sketch",onBeforeCall:function(){return e(3)},onError:function(){return e(1)},successMessage:s("Acabou o tempo! Desenho enviado com sucesso","Time's up! Sketch submitted successfully"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar enviar o desenho","Oops, the application failed to send your sketch")});return function(e){t((0,c.Z)({action:"SUBMIT_SKETCH"},e))}}(p),A=function(e){var s=(0,a.Cq)({apiFunction:l.SA.submitAction,actionName:"submit-sketch",onBeforeCall:function(){return e(3)}});return function(e){s((0,c.Z)({action:"SUBMIT_ORIENTATION"},e))}}(p);return(0,T.jsx)(o.JK,{info:d,phase:null===h||void 0===h?void 0:h.phase,allowedPhase:r.R.RETRATO_FALADO.COMPOSITE_SKETCH,children:(0,T.jsxs)(o.pD,{step:v,conditions:[!g,!g,!g],players:n,children:[(0,T.jsx)(o.YE,{round:null===h||void 0===h?void 0:h.round,onPressButton:j,buttonText:" ",time:7,unskippable:!0,circleColor:"green",children:(0,T.jsx)(o.vr,{contained:!0,children:(0,T.jsx)(o.vN,{pt:(0,T.jsxs)(T.Fragment,{children:["Um meliante monstruoso est\xe1 a solta!",(0,T.jsx)("br",{}),"A testemunha ",(0,T.jsx)(o.gj,{player:N})," tentar\xe1 relembrar o incidente!"]}),en:(0,T.jsxs)(T.Fragment,{children:["A monstrous miscreant is on the loose!",(0,T.jsx)("br",{}),"The witness ",(0,T.jsx)(o.gj,{player:N})," must recall all of its features!"]})})})}),(0,T.jsx)(o.Cl,{type:"monster",title:u("Memorize! Descreva! Desenhe!","Memorize! Describe! Sketch!"),onClose:j,currentRound:null===h||void 0===h||null===(s=h.round)||void 0===s?void 0:s.current,duration:(null===h||void 0===h||null===(t=h.round)||void 0===t?void 0:t.current)<2?20:5,unskippable:!0,children:(0,T.jsx)(o.vr,{children:M?(0,T.jsx)(o.vN,{pt:(0,T.jsxs)(T.Fragment,{children:["Voc\xea ter\xe1 ",x.MEMORY," segundos para memorizar as caracter\xedsticas do monstro.",(0,T.jsx)("br",{}),"Assim que esse tempo acabar, voc\xea ter\xe1 ",x.SKETCH/60," minutos para descrev\xea-lo para os outros jogadores.",(0,T.jsx)("br",{}),"Boa sorte!"]}),en:(0,T.jsxs)(T.Fragment,{children:["You'll have ",x.MEMORY," seconds to memorize the monster's features.",(0,T.jsx)("br",{}),"When the time is up, you will have ",x.SKETCH/60," minutes to describe it to the other players.",(0,T.jsx)("br",{}),"Good luck!"]})}):(0,T.jsx)(o.vN,{pt:(0,T.jsxs)(T.Fragment,{children:["A testemunha ",(0,T.jsx)(o.gj,{player:N})," ter\xe1 ",x.MEMORY," segundos para memorizar as caracter\xedsticas do monstro.",(0,T.jsx)("br",{}),"Assim que esse tempo acabar, voc\xea ter\xe1 ",x.SKETCH/60," minutos para desenh\xe1-lo enquanto a testemunha o descreve.",(0,T.jsx)("br",{}),"Boa sorte!"]}),en:(0,T.jsxs)(T.Fragment,{children:["The witness ",(0,T.jsx)(o.gj,{player:N})," will have ",x.MEMORY," seconds to memorize the monster's features.",(0,T.jsx)("br",{}),"When the time is up, you will have ",x.SKETCH/60," minutes to draw the monster while the witness describes it.",(0,T.jsx)("br",{}),"Good luck!"]})})})}),(0,T.jsx)(C,{isUserTheWitness:M,currentMonster:h.currentMonster,onSubmitSketch:k,onSubmitOrientation:A})]})})};function D(e){var s=e.isUserTheWitness,t=e.currentMonster,n=e.sketches,r=e.onSubmitVote,c=e.user,l=e.players,h=(0,a.m3)(Math.min(Object.keys(l).length,6),16,150,500),d=(0,a.j1)("canvasSize"),u=(0,i.Z)(d,2),m=u[0],v=u[1];return(0,j.useEffect)((function(){m||v(50*Math.floor(h/50))}),[m,h]),(0,T.jsxs)("div",{children:[(0,T.jsx)(o.Dx,{children:(0,T.jsx)(o.vN,{pt:"Vote!",en:"Vote!"})}),(0,T.jsx)(o.vr,{contained:!0,children:s?(0,T.jsx)(o.vN,{pt:(0,T.jsxs)(T.Fragment,{children:["Voc\xea s\xf3 ganha ponto se voc\xea escolher o desenho mais votado.",(0,T.jsx)("br",{}),"Caso voc\xea n\xe3o escolha o mais votado, o jogador que voc\xea escolher ganha 1 ponto."]}),en:(0,T.jsxs)(T.Fragment,{children:["You only score if you choose the best sketch (the one with the most votes).",(0,T.jsx)("br",{}),"If you didn't pick the one, the player you chose gets 1 point."]})}):(0,T.jsx)(o.vN,{pt:(0,T.jsxs)(T.Fragment,{children:["Vote no desenho que mais se aproxima do monstro.",(0,T.jsx)("br",{}),"Voc\xea n\xe3o pode votar em si mesmo.",(0,T.jsx)("br",{}),"O desenho (ou desenhos) mais votado receber\xe1 1 ponto!"]}),en:(0,T.jsxs)(T.Fragment,{children:["Vote for the sketch that best represents the monster.",(0,T.jsx)("br",{}),"You cannot vote for yourself.",(0,T.jsx)("br",{}),"The sketch (or sketches) with the most votes gets 1 point."]})})}),(0,T.jsx)(o.r6,{}),(0,T.jsx)(o.qO,{children:n.map((function(e){var s=l[e.playerId];return(0,T.jsxs)(k.Z,{direction:"vertical",align:"center",children:[(0,T.jsx)(o.QF,{size:m||h,drawing:e.sketch,className:"r-sketch"},"sketch-".concat(e.playerId)),(0,T.jsxs)(A.Z,{type:"primary",onClick:function(){return r({vote:s.id})},disabled:e.playerId===c.id,children:[(0,T.jsx)(o.qE,{id:s.avatarId,size:"small"})," ",s.name]})]},"sketch-for-player-".concat(e.playerId))}))}),(0,T.jsx)(o.qO,{children:(0,T.jsx)(b,{currentMonster:t})})]})}var V=function(e){var s,t=e.players,n=e.state,h=e.info,d=(0,a.ZK)().translate,u=(0,a.aF)(t),m=(0,a.bC)(t,n),v=(0,a.g4)(0),x=v.step,j=v.goToNextStep,p=v.setStep,g=(0,a.RQ)("witnessId",n,t),f=(0,i.Z)(g,2)[1],E=function(e){var s=(0,a.ZK)().translate,t=(0,a.Cq)({apiFunction:l.SA.submitAction,actionName:"submit-vote",onBeforeCall:function(){return e(2)},onError:function(){return e(1)},successMessage:s("Voto enviado com sucesso","Vote submitted successfully"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar enviar seu voto","Oops, the application failed to send your vote")});return function(e){t((0,c.Z)({action:"SUBMIT_VOTE"},e))}}(p);return(0,T.jsx)(o.JK,{info:h,phase:null===n||void 0===n?void 0:n.phase,allowedPhase:r.R.RETRATO_FALADO.EVALUATION,children:(0,T.jsxs)(o.pD,{step:x,conditions:[!m,!m,!m],players:t,children:[(0,T.jsx)(o.Cl,{type:"choice",title:d("Vote!","Vote!"),onClose:j,currentRound:null===n||void 0===n||null===(s=n.round)||void 0===s?void 0:s.current,children:(0,T.jsx)(o.vr,{children:(0,T.jsx)(o.vN,{pt:(0,T.jsx)(T.Fragment,{children:"Vote no desenho que voc\xea acha que mais parece com o mostro meliante."}),en:(0,T.jsx)(T.Fragment,{children:"Vote for the sketch that best represents the monster."})})})}),(0,T.jsx)(D,{isUserTheWitness:f,currentMonster:n.currentMonster,sketches:n.sketches,onSubmitVote:E,user:u,players:t})]})})};function I(e){var s=e.sketches,t=e.players,n=e.canvasSize,r=e.canvasWidth;return(0,T.jsx)(T.Fragment,{children:s.map((function(e){var s=t[e.playerId];return(0,T.jsxs)(k.Z,{direction:"vertical",align:"center",className:"r-monster-sketch",children:[(0,T.jsx)(o.QF,{size:n||r,drawing:e.sketch,className:"r-sketch"},"sketch-".concat(e.playerId)),(0,T.jsxs)("div",{children:[(0,T.jsx)(o.qE,{id:s.avatarId,size:"small"})," ",s.name]})]},"monster-sketch-item-".concat(e.playerId))}))})}function K(e){var s=e.sketches,t=e.players,n=e.currentMonster,r=e.goToNextStep,c=e.mostVotes,l=e.witnessVote,h=e.witness,d=(0,a.m3)(Math.min(Object.keys(t).length,6),16,150,500),u=(0,a.j1)("canvasSize"),m=(0,i.Z)(u,1)[0],v=s.reduce((function(e,s){return c.includes(s.playerId)?e.mostVotedSketches.push(s):e.otherSketches.push(s),e}),{mostVotedSketches:[],otherSketches:[]}),x=v.mostVotedSketches,j=v.otherSketches;return(0,T.jsxs)(o.h8,{fullWidth:!0,children:[(0,T.jsx)(o.Dx,{children:c.length>1?(0,T.jsx)(o.vN,{pt:"Os monstros mais votados foram...",en:"The monsters who got the most votes were..."}):(0,T.jsx)(o.vN,{pt:"O mostro mais votado foi...",en:"The monster who got the most votes was..."})}),(0,T.jsx)(o.vr,{contained:!0,children:c.length>1?(0,T.jsx)(o.vN,{pt:"Esses jogadores ganharam 3 pontos cada.",en:"These players get 3 points each."}):(0,T.jsx)(o.vN,{pt:"Esse jogador ganha 3 pontos.",en:"This player gets 3 points."})}),(0,T.jsxs)("div",{className:"r-monster-list",children:[(0,T.jsx)(b,{currentMonster:n,style:{width:"".concat(1.5*d,"px")}}),(0,T.jsx)(I,{sketches:x,players:t,canvasSize:m,canvasWidth:d})]}),(0,T.jsx)(o.vr,{contained:!0,children:c.includes(l)?(0,T.jsx)(o.vN,{pt:(0,T.jsxs)(T.Fragment,{children:["A testemunha ",(0,T.jsx)(o.gj,{player:h})," votou no mais votado, logo, \xe9 uma testemunha confi\xe1vel e ganha 3 pontos tamb\xe9m."]}),en:(0,T.jsxs)(T.Fragment,{children:["The witness ",(0,T.jsx)(o.gj,{player:h})," voted with the group which means s(he) is a credible witness and gets 3 points as well."]})}):(0,T.jsx)(o.vN,{pt:(0,T.jsxs)(T.Fragment,{children:["A testemunha achou que o desenho de ",(0,T.jsx)(o.gj,{player:t[l]})," foi o melhor, esse jogador ganha 1 ponto."]}),en:(0,T.jsxs)(T.Fragment,{children:["The witness thought that ",(0,T.jsx)(o.gj,{player:t[l]}),"'s sketch was the best, so s(he) gets 1 point."]})})}),(0,T.jsx)(o.hn,{label:"Ranking",duration:30,onExpire:r,onClick:r}),(0,T.jsx)(o.Dx,{level:3,className:"r-other-sketches-title",children:(0,T.jsx)(o.vN,{pt:"Outros desenhos",en:"Other sketches"})}),(0,T.jsx)(o.qO,{children:(0,T.jsx)(I,{sketches:j,players:t,canvasSize:m/1.5,canvasWidth:d/1.5})})]})}var U=t(9697);function Z(e){var s=e.ranking,t=e.players,n=e.round;return(0,T.jsxs)(o.h8,{fullWidth:!0,children:[(0,T.jsx)(o.Dx,{children:"Ranking"}),(0,T.jsx)(o.vr,{contained:!0,children:(0,T.jsx)(o.vN,{pt:"Distribui\xe7\xe3o de pontos: Mais votado | Votou com o grupo | Votado pela testemunha",en:"Points Distribution: Most votes | Voted with the group | Voted by the witness"})}),(0,T.jsx)(o.lo,{ranking:s,players:t}),(0,T.jsx)(U.wU,{round:n})]})}var L=function(e){var s,t=e.players,n=e.state,c=e.info,l=(0,a.ZK)().translate,h=(0,a.g4)(0),d=h.step,u=h.goToNextStep,m=(0,a.aF)(t),v=(0,a.bC)(t,n),x=(0,a.RQ)("witnessId",n,t),j=(0,i.Z)(x,1)[0];return(0,T.jsx)(o.JK,{info:c,phase:null===n||void 0===n?void 0:n.phase,allowedPhase:r.R.RETRATO_FALADO.REVEAL,children:(0,T.jsxs)(o.pD,{step:d,conditions:[!v,!v,!v],players:t,children:[(0,T.jsx)(o.Cl,{type:"quality-seal",title:l("Resultado","Results"),onClose:u,currentRound:null===n||void 0===n||null===(s=n.round)||void 0===s?void 0:s.current,duration:5,children:(0,T.jsx)(o.vr,{children:(0,T.jsx)(o.vN,{pt:(0,T.jsx)(T.Fragment,{children:"E o mais votado \xe9..."}),en:(0,T.jsx)(T.Fragment,{children:"And the one who got the most votes is..."})})})}),(0,T.jsx)(K,{witness:j,currentMonster:n.currentMonster,sketches:n.sketches,mostVotes:n.mostVotes,witnessVote:n.witnessVote,user:m,players:t,goToNextStep:u}),(0,T.jsx)(Z,{ranking:n.ranking,players:t,round:n.round})]})})};var W=function(e){var s=e.state,t=e.info,n=e.players,r=(0,a.m3)(6,16,150,500);return(0,T.jsx)(o.Ss,{info:t,state:s,announcementIcon:"trophy",children:(0,T.jsxs)("div",{children:[(0,T.jsx)(o.Dx,{level:2,children:(0,T.jsx)(o.vN,{pt:"Desenhos",en:"Sketches"})}),(0,T.jsx)("div",{className:"r-gallery",children:(0,T.jsx)(I,{sketches:s.gallery,players:n,canvasSize:r,canvasWidth:r})})]})})};var z=function(e){var s=e.gameId;return(0,T.jsx)(o.z_,{gameId:s,gameCollection:n.H$.RETRATO_FALADO,getActiveComponent:function(e){switch(e){case r.R.DEFAULT.LOBBY:return o.Uc;case r.R.DEFAULT.RULES:return o.hj;case r.R.DEFAULT.SETUP:return o.Z8;case r.R.RETRATO_FALADO.COMPOSITE_SKETCH:return F;case r.R.RETRATO_FALADO.EVALUATION:return V;case r.R.RETRATO_FALADO.REVEAL:return L;case r.R.DEFAULT.GAME_OVER:return W;default:return o.SR}}})}}}]);
//# sourceMappingURL=442.b090de8e.chunk.js.map