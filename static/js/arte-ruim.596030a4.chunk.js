"use strict";(self.webpackChunktardedivertida=self.webpackChunktardedivertida||[]).push([[890],{7049:function(e,a,n){n.d(a,{r6:function(){return l},QF:function(){return d},RI:function(){return j}});var r=n(3025),t=n(184),s=n(9439),o=n(4676),i=n(2427),c=n(5948),l=function(){var e=(0,i.j1)("canvasSize"),a=(0,s.Z)(e,2),n=a[0],r=a[1];return(0,t.jsxs)("div",{className:"canvas-resizer",children:[(0,t.jsx)("div",{className:"canvas-resizer__label",children:(0,t.jsx)(c.v,{pt:"Tamanho das Images",en:"Image Size"})}),(0,t.jsx)(o.Z,{className:"canvas-resizer__slider",value:null!==n&&void 0!==n?n:100,min:150,max:500,step:50,onChange:r})]})},d=function(e){var a=e.drawing,n=void 0===a?"":a,r=e.className,s=void 0===r?"":r,o=e.size,i=void 0===o?250:o,c=JSON.parse(n),l=c.map((function(e){for(var a="",n=0,r=1;r<e.length;n+=2,r+=2)e[n+2]&&e[r+2]&&(a+="M".concat(e[n],",").concat(e[r]," L").concat(e[n+2],",").concat(e[r+2]));return a}));return(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 500 500",overflow:"hidden",className:s,style:{width:"".concat(i,"px")},children:[(0,t.jsx)("defs",{}),l.map((function(e,a){return(0,t.jsx)("path",{d:e,fill:"none",stroke:"#000",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10"},"".concat(n,"-").concat(a))}))]})},u=n(3433),v=n(2791),h=n(8182),p=n(3099),x=n(7309),m=n(8030),g=n(2622),j=function(e){var a,n,o=e.lines,i=e.setLines,l=e.className,d=void 0===l?"":l,j=e.showControls,f=void 0!==j&&j,w=e.strokeWidth,y=void 0===w?"medium":w,b=(0,v.useState)([]),Z=(0,s.Z)(b,2),_=Z[0],N=Z[1],C=(0,v.useRef)(!1),I=function(e){C.current=!0;var a=e.target.getStage().getPointerPosition();i([].concat((0,u.Z)(o),[[a.x,a.y]]))},A=function(e){if(C.current){var a=e.target.getStage().getPointerPosition(),n=o[o.length-1];n=n.concat([a.x,a.y]),o.splice(o.length-1,1,n),i(o.concat())}},k=function(e){C.current=!1,N([]);var a=e.target.getStage().getPointerPosition(),n=o[o.length-1];n[0]===a.x&&n[1]===a.y&&(n=n.concat([a.x+.1,a.y+.1]),o.splice(o.length-1,1,n),i(o.concat()))},S=null!==(a=null===(n={small:3,medium:5,large:7})||void 0===n?void 0:n[y])&&void 0!==a?a:5;return(0,t.jsxs)(p.Z,{direction:"vertical",align:"center",children:[(0,t.jsx)(r.Hf,{width:500,height:500,onMouseDown:I,onMousemove:A,onMouseup:k,onTouchStart:I,onTouchMove:A,onTouchEnd:k,className:(0,h.Z)("drawing-canvas",d),children:(0,t.jsx)(r.mh,{children:o.map((function(e,a){return(0,t.jsx)(r.x1,{points:e,stroke:"#222222",strokeWidth:S,tension:.5,lineCap:"round",globalCompositeOperation:"source-over"},a)}))})}),f&&(0,t.jsxs)(p.Z,{children:[(0,t.jsxs)(x.Z,{onClick:function(){var e=(0,u.Z)(o),a=(0,u.Z)(_),n=e.pop();n&&(a.push(n),i(e),N(a))},disabled:0===o.length,children:[(0,t.jsx)(m.Z,{}),(0,t.jsx)(c.v,{pt:"Desfazer",en:"Undo"})]}),(0,t.jsxs)(x.Z,{onClick:function(){var e=(0,u.Z)(o),a=(0,u.Z)(_),n=a.pop();n&&(e.push(n),i(e),N(a))},disabled:0===_.length,children:[(0,t.jsx)(m.Z,{}),(0,t.jsx)(c.v,{pt:"Refazer",en:"Redo"})]}),(0,t.jsxs)(x.Z,{onClick:function(){return i([])},disabled:0===o.length,children:[(0,t.jsx)(g.Z,{}),(0,t.jsx)(c.v,{pt:"Apagar",en:"Clear"})]})]})]})}},7336:function(e,a,n){n.d(a,{Zb:function(){return o},ud:function(){return v},i9:function(){return f},Kp:function(){return w},fe:function(){return _},kM:function(){return I},YA:function(){return C},L9:function(){return A},Dm:function(){return S}});var r=n(8182),t=n(1238),s=n(184),o=function(e){var a=e.children,n=e.header,o=void 0===n?"Carta":n,i=e.footer,c=e.color,l=void 0===c?"none":c,d=e.size,u=void 0===d?"medium":d,v=e.randomColor,h=void 0!==v&&v,p=e.className,x=void 0===p?"":p,m=e.headerClassName,g=void 0===m?"":m,j=e.footerClassName,f=void 0===j?"":j,w="card",y=h?(0,t.Ot)("string"===typeof a?a[0].toUpperCase():"Carta"!==o?o[0].toUpperCase():"X"):l;return(0,s.jsxs)("div",{className:(0,r.Z)(w,"".concat(w,"--").concat(u),x),children:[(0,s.jsx)("span",{className:(0,r.Z)("".concat(w,"__header"),"color-background--".concat(y),g),style:l.startsWith("#")?{backgroundColor:l}:{},children:o}),(0,s.jsx)("span",{className:"".concat(w,"__text"),children:a}),i&&(0,s.jsx)("span",{className:(0,r.Z)("".concat(w,"__footer"),f),children:i})]})},i=n(9439),c=n(2791),l=n(2427),d=n(2037),u=n(5948);function v(e){var a=e.children,n=e.subtitle,t=void 0===n?"":n,o=e.type,v=void 0===o?"hand":o,h=(0,c.useState)(!1),p=(0,i.Z)(h,2),x=p[0],m=p[1],g=(0,l.ZK)().translate;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"floating-hand-added-white-space"}),(0,s.jsxs)("div",{className:(0,r.Z)("floating-hand",x&&"floating-hand--expanded"),onMouseOver:function(){return m(!0)},onMouseLeave:function(){return m(!1)},children:[(0,s.jsxs)("span",{className:"floating-hand__label",children:[(0,s.jsx)(d.fM,{type:"hand"===v?"hand-of-cards":"user-stats",size:x?40:60,className:"floating-hand__icon",alt:g("M\xe3o de Cartas","Hand of Cards")}),(0,s.jsx)(u.v,{pt:"Passe o mouse para expandir ",en:"Hover to expand "}),t]}),a]})]})}var h=n(1413),p=n(4925),x=n(4598),m=n(7309),g=n(8272),j=["cardId","className","children"];function f(e){var a=e.cardId,n=(0,l.vh)(),r=(0,i.Z)(n,3),t=r[1];return r[2]?(0,s.jsx)(x.Z,{placement:"top",title:(0,s.jsx)(u.v,{pt:"Aperte o bot\xe3o para emba\xe7ar a foto caso voc\xea tenha alguma fobia",en:"Use this button to blur the image in case of any phobia"}),children:(0,s.jsxs)(m.Z,{ghost:!0,onClick:function(){return t(a)},size:"small",className:"image-blur-button",children:[(0,s.jsx)(g.Z,{})," ",(0,s.jsx)(u.v,{pt:"Credo",en:"Blur"})]})}):(0,s.jsx)(s.Fragment,{})}function w(e){var a=e.cardId,n=e.className,t=e.children,o=(0,p.Z)(e,j);return(0,s.jsxs)("div",(0,h.Z)((0,h.Z)({className:(0,r.Z)("image-blur-button-container",n)},o),{},{children:[t,(0,s.jsx)(f,{cardId:a})]}))}var y=n(1735),b=n(6591),Z=n(2463),_=function(e){var a=e.imageId,n=e.size,t=void 0===n?"medium":n,o=e.cardWidth,c=void 0===o?200:o,d=e.className,u=void 0===d?"":d,v=e.preview,h=void 0===v||v,p=(0,l.vh)(),x=(0,i.Z)(p,3),m=x[0],g=x[2],j="image-card",f="placeholder-".concat(a[a.length-1]),w=a.replace(/-/g,"/"),_=g&&(null===m||void 0===m?void 0:m[a]);return(0,s.jsx)("div",{className:(0,r.Z)(j,"".concat(j,"--").concat(t),_&&"".concat(j,"--blur"),u),children:(0,s.jsx)(y.Z,{width:c,src:"".concat("https://www.kavispires.com/tdi/images/").concat(w,".jpg"),placeholder:(0,s.jsx)(y.Z,{preview:!1,src:Z,width:c}),fallback:"".concat(b.fQ.CARDS).concat(f,".jpg"),preview:!(!h||_)&&{maskClassName:"".concat(j,"__preview-mask")}})})},N=n(263);function C(e){var a=e.hand,n=void 0===a?[]:a,t=e.onSelectCard,o=e.selectButtonLabel,i=e.className,c=void 0===i?"":i,d=e.selectButtonClass,u=void 0===d?"":d,v=e.sizeRatio,h=void 0===v?8:v,p=e.cardSize,x=e.minCardSize,g=void 0===x?80:x,j=e.disabledSelectButton,w=void 0!==j&&j,b=(0,l.ZK)().translate,Z=(0,l.m3)(h,32,g);return(0,s.jsx)(y.Z.PreviewGroup,{children:(0,s.jsx)("div",{className:(0,r.Z)("image-card-hand",c),children:n.map((function(e){return(0,s.jsxs)("div",{className:"image-card-hand__card-container",children:[Boolean(t)&&(0,s.jsx)(m.Z,{icon:(0,s.jsx)(N.Z,{}),className:u,onClick:function(){return t(e)},size:"small",ghost:!0,disabled:w,children:b("Selecionar","Select",o)}),(0,s.jsx)(_,{imageId:e,cardWidth:p||Z}),(0,s.jsx)(f,{cardId:e})]},"hand-".concat(e))}))})})}var I=function(e){var a=e.size,n=void 0===a?"medium":a,t=e.cardWidth,o=void 0===t?200:t,i=e.className,c=void 0===i?"":i,l="image-card-back";return(0,s.jsx)("div",{className:(0,r.Z)(l,"".concat(l,"--").concat(n),c),children:(0,s.jsx)(y.Z,{width:o,src:Z,preview:!1})})};function A(e){var a=e.hand;return a?(0,s.jsx)("div",{className:"image-card-preload-hand",children:a.map((function(e){return(0,s.jsx)(_,{imageId:e,cardWidth:1,preview:!1},"pre-load-".concat(e))}))}):(0,s.jsx)("span",{})}var k=n(2610);function S(e){var a=e.onClick,n=e.cardId,r=e.selectLabel,t=e.deselectLabel,o=e.isSelected,i=void 0!==o&&o;return(0,s.jsxs)(m.Z,{shape:"round",size:"small",ghost:!i,className:"image-card-select-button",onClick:function(){return a(n)},children:[(0,s.jsx)(k.Z,{}),i?(0,s.jsx)(u.v,{pt:"Desmarcar",en:"Deselect",custom:t}):(0,s.jsx)(u.v,{pt:"Selecionar",en:"Select",custom:r}),(0,s.jsx)(k.Z,{})]})}},6409:function(e,a,n){n.d(a,{q:function(){return i}});var r=n(8182),t=n(5794),s=n(5948),o=n(184),i=function(e){var a=e.keyPrefix,n=e.quantity,i=e.className,c=e.hideText;if(!n)return(0,o.jsx)("span",{});var l=n<0,d=Math.abs(n),u=Array.from({length:d},(function(e,n){return(0,o.jsx)(t.Z,{},"".concat(a,"-").concat(n))}));return(0,o.jsxs)("span",{className:(0,r.Z)("star-points",l&&"star-points--negative",i),children:[l?"-":"+"," ",(0,o.jsx)("span",{className:"star-points__stars",children:u}),!c&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.v,{pt:"ponto",en:"point"}),d>1?"s":""]})]})}},3937:function(e,a,n){n.d(a,{V:function(){return o},F:function(){return i}});var r=n(8182),t=n(1238),s=n(184);function o(e){var a=e.label,n=e.position,o=void 0===n?"absolute":n;return(0,s.jsx)("div",{className:(0,r.Z)("ribbon","ribbon--".concat(o)),children:(0,s.jsx)("div",{className:(0,r.Z)("ribbon__content","ribbon__content--".concat(a),"color-background--".concat((0,t.Ot)(a)),(0,t.hL)("bounceIn")),children:a})})}function i(e){var a=e.labels;return(0,s.jsx)("div",{className:"ribbon-group ribbon--absolute",children:a.length>0&&a.map((function(e){return(0,s.jsx)(o,{label:e.length>0?e.charAt(e.length-1):e,position:"static"},e)}))})}},1201:function(e,a,n){n.r(a),n.d(a,{default:function(){return we}});var r=n(6591),t=n(5149),s=n(645),o=n(4716),i=n(6698),c=n(9439),l=n(2791),d=n(5995),u=n(2427),v=n(1413),h=n(3673);var p=n(5234),x=n(398),m=n(6954),g=n(5948),j=n(722),f=n(1238),w=n(7336),y=n(9721),b=n(7049),Z=n(184);function _(e){var a=e.secretCard,n=e.onSubmitDrawing,r=(0,u.ZK)().translate,t=(0,u.RI)().isDebugEnabled,s=(0,l.useState)([]),o=(0,c.Z)(s,2),i=o[0],d=o[1],v=(0,l.useState)(!1),h=(0,c.Z)(v,2),x=h[0],m=h[1],g=(0,j.useTimer)({expiryTimestamp:(0,f.rv)(11),autoStart:!0,onExpire:function(){m(!0),n({drawing:JSON.stringify(i),cardId:a.id})}}).seconds;return(0,Z.jsxs)(p.h,{children:[(0,Z.jsxs)(w.Zb,{size:"large",header:r("Desenhe","Draw",t?null===a||void 0===a?void 0:a.id:void 0),footer:Array(null===a||void 0===a?void 0:a.level).fill("\u2022").join(""),className:"a-draw-step__card",color:"yellow",children:[null===a||void 0===a?void 0:a.text,(0,Z.jsx)("span",{className:"a-draw-step__timer",children:g>0?g-1:0})]}),x?(0,Z.jsx)(y.P.Panic,{style:{background:"white",width:"500px",padding:"2em"}}):(0,Z.jsx)(b.RI,{lines:i,setLines:d})]})}var N=n(9486);var C=function(e){var a,n=e.players,r=e.state,s=e.info,i=(0,u.ZK)().translate,j=(0,u.g4)(0),f=j.step,w=j.goToNextStep,y=j.setStep,b=(0,u.aF)(n),C=(0,u.bC)(n,r),I=(0,l.useState)({}),A=(0,c.Z)(I,2),k=A[0],S=A[1],R=(0,d.Z)(N,{volume:.4}),T=(0,c.Z)(R,1)[0];(0,l.useEffect)((function(){var e,a;S(null!==(e=null===(a=n[null===b||void 0===b?void 0:b.id])||void 0===a?void 0:a.currentCard)&&void 0!==e?e:{})}),[n,null===b||void 0===b?void 0:b.id]);var E=function(e){var a=(0,u.ZK)().translate,n=(0,u.Cq)({apiFunction:h.qU.submitAction,actionName:"submit-drawing",onBeforeCall:function(){return e(3)},onError:function(){return e(1)},successMessage:a("Acabou o tempo! Aguarde enquanto os outros participantes desenham","Time's up! Wait for the other players to finish their art"),errorMessage:a("Vixi, o aplicativo encontrou um erro ao tentar enviar o desenho","Oops, the application failed to send your art")});return function(e){n((0,v.Z)({action:"SUBMIT_DRAWING"},e))}}(y);return(0,Z.jsx)(o.JK,{info:s,phase:null===r||void 0===r?void 0:r.phase,allowedPhase:t.R.ARTE_RUIM.DRAW,children:(0,Z.jsxs)(p.p,{step:f,conditions:[!C,!C,!C],players:n,waitingRoomInstruction:i("Vamos aguardar enquanto os outros jogadores terminam seus desenhos!","Please wait while other players finish their artwork!"),children:[(0,Z.jsx)(x.Y,{round:null===r||void 0===r?void 0:r.round,onPressButton:w,buttonText:" ",time:5,children:(0,Z.jsx)(m.vr,{contained:!0,children:(0,Z.jsx)(g.v,{pt:"Essa rodada usar\xe1 cartas de n\xedvel ".concat((null===r||void 0===r?void 0:r.level)||"?"),en:"This round uses cards of level ".concat((null===r||void 0===r?void 0:r.level)||"?")})})}),(0,Z.jsx)(o.Cl,{type:"painting",title:i("Desenhe!","Draw!"),buttonText:i("Um d\xf3, l\xe1, si... vamos ir... j\xe1!","Ready! Set! Go!"),onClose:function(){T(),y(2)},currentRound:null===r||void 0===r||null===(a=r.round)||void 0===a?void 0:a.current,withoutTimer:!0,children:(0,Z.jsx)(m.vr,{children:(0,Z.jsx)(g.v,{pt:(0,Z.jsxs)(Z.Fragment,{children:["Voc\xea ter\xe1 10 segundos para ler a sua carta e desenh\xe1-la.",(0,Z.jsx)("br",{}),"Aperte o bot\xe3o quando estiver pronto!",(0,Z.jsx)("br",{}),"N\xe3o vale usar n\xfameros e letras.",(0,Z.jsx)("br",{}),"Fique esperto porque o tempo come\xe7a assim que voc\xea apertar."]}),en:(0,Z.jsxs)(Z.Fragment,{children:["You'll have 10 seconds to read and draw your card.",(0,Z.jsx)("br",{}),"Press the button when you're ready!",(0,Z.jsx)("br",{}),"You can NOT use numbers or letters.",(0,Z.jsx)("br",{}),"Be aware of the timer! It starts as soon as you press the button."]})})})}),(0,Z.jsx)(_,{secretCard:k,onSubmitDrawing:E})]})})},I=n(4942),A=n(3099),k=n(7309),S=n(5447),R=n(6314),T=n(2090),E=n(7891),M=n(8182),P=n(3937);function D(e){var a=e.drawings,n=e.activeItem,r=e.onActivateItem,t=e.votes,s=e.canvasSize,o=e.players,i="a-evaluation-all-drawings__li-drawing-button";return(0,Z.jsx)("ul",{className:"a-evaluation-all-drawings",children:null===a||void 0===a?void 0:a.map((function(e){var a=(0,f.O1)(["drawing",e.id]),c=n===a,l=t[a];return(0,Z.jsxs)("li",{className:(0,M.Z)(i,c&&"".concat(i,"--active")),onClick:function(){return r(a)},children:[(null===t||void 0===t?void 0:t[a])&&(0,Z.jsx)(P.V,{label:l.charAt(l.length-1)}),(0,Z.jsx)(b.QF,{drawing:e.drawing,className:"a-evaluation-all-drawings__drawing",size:s}),(0,Z.jsx)("span",{className:"a-evaluation-all-drawings__artist",children:o[e.playerId].name})]},a)}))})}var z=n(7974),O=function(e){var a=e.text,n=e.level,r=e.header,t=void 0===r?"X":r;return(0,Z.jsx)(w.Zb,{color:(0,f.Ot)(t),header:t,size:"medium",footer:Array(n).fill("\u2022").join(""),children:null!==a&&void 0!==a?a:(0,Z.jsx)(z.Z,{})})};function L(e){var a=e.cards,n=e.activeItem,t=e.onActivateItem,s=e.votes,o=(0,u.RI)().isDebugEnabled,i="a-evaluation-all-cards__li-card-button";return(0,Z.jsx)("ul",{className:"a-evaluation-all-cards",children:a.map((function(e,a){var c=r.Z$[a],l=(0,f.O1)(["card",e.id,c]),d=n===l,u=Object.values(s).includes(l);return(0,Z.jsx)("li",{role:"button",className:(0,M.Z)(i,d&&"".concat(i,"--active"),u&&"".concat(i,"--used")),onClick:function(){return t(l)},children:(0,Z.jsx)(O,{text:e.text,level:e.level,header:o?e.id:c})},l)}))})}var F=function(){return(0,Z.jsx)(m.vr,{children:(0,Z.jsx)(g.v,{pt:(0,Z.jsxs)(Z.Fragment,{children:["Encontre os pares de desenho e carta clicando em uma carta ou desenho e em seguida clicando em seu par.",(0,Z.jsx)("br",{}),"Uma bandeirinha aparecer\xe1 no topo de cada desenho com a cor e letra da carta que voc\xea selecionou.",(0,Z.jsx)("br",{}),"Quando encontrar todos os pares, envie sua avalia\xe7\xe3o!"]}),en:(0,Z.jsxs)(Z.Fragment,{children:["Find the pairs of artwork and card by clicking on a card or artwork then on its match.",(0,Z.jsx)("br",{}),"A ribbon will show up on the artwork with the color and letter of the matching card.",(0,Z.jsx)("br",{}),"When you're done, click the button to send your evaluation!"]})})})},U=function(){return(0,Z.jsx)(m.vr,{children:(0,Z.jsx)(g.v,{pt:(0,Z.jsxs)(Z.Fragment,{children:["Agora, mostraremos cada arte, o que os jogadores votaram e a resposta final.",(0,Z.jsx)("br",{}),"Se voc\xea votou na express\xe3o correta, voc\xea ganha 2 pontos.",(0,Z.jsx)("br",{}),"Quando for a sua arte, voc\xea ganha 1 ponto para cada pessoa que votou corretamente."]}),en:(0,Z.jsxs)(Z.Fragment,{children:["Now we show each art, what players voted, and the final answer.",(0,Z.jsx)("br",{}),"You get 2 points if you selected the right card.",(0,Z.jsx)("br",{}),"When players selected the correct card for your artwork, you get 1 point for each match!"]})})})},q=function(){return(0,Z.jsx)(m.vr,{children:(0,Z.jsx)(g.v,{pt:(0,Z.jsxs)(Z.Fragment,{children:["Voc\xea ganha 2 pontos para cada liga\xe7\xe3o correta entre arte e express\xe3o.",(0,Z.jsx)("br",{}),"Para cada liga\xe7\xe3o correta que sua arte ganha, voc\xea recebe 1 ponto."]}),en:(0,Z.jsxs)(Z.Fragment,{children:["You get 2 points if you matched the right card with artwork.",(0,Z.jsx)("br",{}),"For you own artwork, you get 1 point for each correct match the other players done."]})})})};function G(e){return Object.entries(e).reduce((function(e,a){var n=(0,c.Z)(a,2),t=n[0],s=n[1],o=t.split(r.UD),i=(0,c.Z)(o,2)[1],l=s.split(r.UD),d=(0,c.Z)(l,2)[1];return e[i]=d,e}),{})}function V(e){var a=e.drawings,n=e.cards,t=e.players,s=e.onSubmitVoting,o=(0,u.r$)().isLoading,i=(0,u.ZK)().translate,d=(0,u.aF)(t),h=(0,u.m3)(Math.min(Object.keys(t).length,6),16,150,500),x=(0,u.j1)("canvasSize"),j=(0,c.Z)(x,2),w=j[0],y=j[1],_=(0,u.Bx)("drawing",!0,a.length||2),N=_.votes,C=_.setVotes,M=_.activeItem,P=_.activateItem,z=_.resetVoting,O=(0,l.useCallback)((function(){var e=Object.keys(N),t=Object.values(N),s=a.map((function(e){return(0,f.O1)(["drawing",e.id])})).filter((function(a){return!e.includes(a)})),o=(0,f.TV)(n.map((function(e,a){return(0,f.O1)(["card",e.id,r.Z$[a]])})).filter((function(e){return!t.includes(e)}))),i=(0,v.Z)({},N);s.forEach((function(e,a){i[e]||(i[e]=o[a])})),C(i)}),[n,a,N,C]);(0,l.useEffect)((function(){w||y(50*Math.floor(h/50))}),[w,h]);var U=(0,l.useCallback)((function(){var e=(null!==a&&void 0!==a?a:[]).find((function(e){return e.playerId===d.id}));if(e){var t=(0,f.O1)(["drawing",e.id]),s=(null!==n&&void 0!==n?n:[]).findIndex((function(e){return e.playerId===d.id})),o=(0,f.O1)(["card",e.id,r.Z$[s]]);return(0,I.Z)({},t,o)}return{}}),[d,a,n]);return(0,l.useEffect)((function(){var e=U();e&&C((function(a){return(0,v.Z)((0,v.Z)({},a),e)}))}),[U,C]),(0,u.MJ)((function(){O()}),[]),(0,Z.jsxs)(p.h,{className:"a-evaluation-step",children:[(0,Z.jsx)(T.hD,{content:(0,Z.jsx)(F,{})}),(0,Z.jsx)(b.r6,{}),(0,Z.jsx)(m.Dx,{children:(0,Z.jsx)(g.v,{pt:"Adivinha\xe7\xe3o",en:"Match the Pairs"})}),(0,Z.jsxs)(A.Z,{className:"space-container",align:"center",wrap:!0,children:[(0,Z.jsx)(k.Z,{type:"default",icon:(0,Z.jsx)(S.Z,{}),onClick:function(){return z(U())},disabled:o,children:(0,Z.jsx)(g.v,{pt:"Limpar sele\xe7\xf5es",en:"Clear selections"})}),(0,Z.jsx)(k.Z,{type:"default",icon:(0,Z.jsx)(S.Z,{}),onClick:O,disabled:o||Object.values(N).length===a.length,children:(0,Z.jsx)(g.v,{pt:"Chutar restantes",en:"Guess for me"})}),(0,Z.jsx)(k.Z,{type:"primary",onClick:function(){return s({votes:G(N)})},disabled:o||Object.values(N).length<a.length,icon:(0,Z.jsx)(R.Z,{}),children:(0,Z.jsx)(g.v,{pt:"Enviar sua avalia\xe7\xe3o",en:"Send evaluation"})})]}),(0,Z.jsx)(D,{drawings:null!==a&&void 0!==a?a:[],activeItem:M,onActivateItem:P,votes:N,canvasSize:w,players:t}),(0,Z.jsx)(L,{cards:null!==n&&void 0!==n?n:[],activeItem:M,onActivateItem:P,votes:N}),(0,Z.jsx)(E.qQ,{players:t,readyText:i("J\xe1 acabei, anda logo!","I'm done, hurry up!"),readyTextPlural:i("J\xe1 acabamos, anda logo!","We're done, hurry up!")})]})}var B=function(e){var a,n=e.players,r=e.state,s=e.info,i=(0,u.ZK)().translate,c=(0,u.g4)(0),l=c.step,d=c.goToNextStep,x=c.setStep,m=(0,u.bC)(n,r),g=function(e){var a=(0,u.ZK)().translate,n=(0,u.Cq)({apiFunction:h.qU.submitAction,actionName:"submit-voting",onBeforeCall:function(){return e(2)},onError:function(){return e(0)},successMessage:a("Avalia\xe7\xe3o enviada! Agora aguarde os outros jogadores","Evaluation sent successfully! Wait for the other players"),errorMessage:a("Vixi, o aplicativo encontrou um erro ao tentar enviar sua avalia\xe7\xe3o","Oops, the application failed to send your evaluation")});return function(e){n((0,v.Z)({action:"SUBMIT_VOTING"},e))}}(x);return(0,Z.jsx)(o.JK,{info:s,phase:null===r||void 0===r?void 0:r.phase,allowedPhase:t.R.ARTE_RUIM.EVALUATION,children:(0,Z.jsxs)(p.p,{step:l,conditions:[!m,!m],players:n,waitingRoomInstruction:i("Vamos aguardar enquanto os outros jogadores terminam de avaliar!","Please wait while other players finish their evaluations!"),children:[(0,Z.jsx)(o.Cl,{type:"evaluate",title:i("Adivinha\xe7\xe3o","Match the Pairs"),onClose:d,currentRound:null===r||void 0===r||null===(a=r.round)||void 0===a?void 0:a.current,children:(0,Z.jsx)(F,{})}),(0,Z.jsx)(V,{drawings:r.drawings,cards:r.cards,players:n,onSubmitVoting:g})]})})},W=n(2037);function K(e){var a=e.artistName,n=e.artistAvatarId;return(0,Z.jsxs)("div",{className:"a-gallery-window__credits",children:[(0,Z.jsx)("div",{className:"a-gallery-window__label",children:(0,Z.jsx)(g.v,{pt:"Artista",en:"Artist"})}),(0,Z.jsx)("span",{className:"a-gallery-window__artist-name",children:(0,Z.jsx)(W.LX,{id:n,name:a})})]})}var Y=n(763),J=n(2649),Q=n(1290),H=n(2544);function $(e){var a=e.playersSay,n=e.players,r=e.cards,t=e.windowCardId,s=e.artistColor,o=(0,Y.orderBy)(Object.entries(a).map((function(e){var a=(0,c.Z)(e,2),n=a[0],s=a[1];return{cardId:n,card:r.find((function(e){return e.id===n})),playersIds:s,count:s.length,isCorrect:t===n}})),["isCorrect","count","card.text"],["desc","desc","asc"]);return(0,Z.jsxs)("div",{className:"a-gallery-window__guesses",children:[(0,Z.jsx)("div",{className:"a-gallery-window__label",children:(0,Z.jsx)(g.v,{pt:"Participantes votaram",en:"Players voted"})}),o.map((function(e,a){var r;return(0,Z.jsxs)("div",{className:"a-gallery-window__guess",children:[(0,Z.jsxs)("div",{className:"a-gallery-window__speech-bubble",style:e.isCorrect?{backgroundColor:s,color:"white"}:{},children:[e.isCorrect?(0,Z.jsx)(Q.Z,{className:"a-gallery-window__speech-bubble-icon",style:{color:"white"}}):(0,Z.jsx)(H.Z,{className:"a-gallery-window__speech-bubble-icon"}),null===(r=e.card)||void 0===r?void 0:r.text]}),(0,Z.jsxs)("div",{className:"a-gallery-window__players",children:[(0,Z.jsx)(J.C.Group,{children:e.playersIds.map((function(e){return(0,Z.jsx)(W.qE,{id:n[e].avatarId},"guess-avatar-".concat(n[e].avatarId))}))}),(0,Z.jsx)("span",{className:"a-gallery-window__players-names",children:(0,f.Nk)(e.playersIds,n,!0).join(", ")})]})]},"guess-".concat(e.cardId,"-").concat(a))}))]})}var X=n(3382),ee=n(7864),ae=n(2273),ne=n(9023),re=n(8409);function te(e){var a=e.galleryLength,n=e.activeIndex,r=e.setActiveIndex,t=e.setStep,s=e.disableControls,o=e.barColor,i=(0,j.useTimer)({expiryTimestamp:(0,f.rv)(10*a),autoStart:!0,onExpire:function(){return t(2)}}),c=i.minutes,d=i.seconds,u=i.isRunning,v=i.pause,h=i.resume,p=60*c+d;(0,l.useEffect)((function(){p<10*a&&p>0&&p%10===0&&r((function(e){return Math.min(e+1,a-1)}))}),[p,r,a]);return(0,Z.jsxs)("div",{className:"a-gallery-window__controls",children:[(0,Z.jsx)("div",{className:"a-gallery-window__timer-bar",children:(0,Z.jsx)("span",{className:"a-gallery-window__timer-bar-pill",style:{width:"".concat(Math.abs(10*p/a-100),"%"),backgroundColor:null!==o&&void 0!==o?o:"gray"}})}),!s&&(0,Z.jsxs)(A.Z,{children:[(0,Z.jsx)(k.Z,{size:"large",icon:(0,Z.jsx)(X.Z,{}),onClick:function(){r((function(e){return Math.max(e-1,0)}))},disabled:s||0===n,children:(0,Z.jsx)(g.v,{pt:"Desenho Anterior",en:"Previous Art"})}),(0,Z.jsx)(k.Z,{size:"large",icon:u?(0,Z.jsx)(ee.Z,{}):(0,Z.jsx)(ae.Z,{}),onClick:u?v:h}),(0,Z.jsxs)(k.Z,{size:"large",onClick:function(){r((function(e){return Math.min(e+1,a-1)}))},disabled:s||n===a-1,children:[(0,Z.jsx)(g.v,{pt:"Pr\xf3ximo Desenho",en:"Next Art"})," ",(0,Z.jsx)(ne.Z,{})]}),(0,Z.jsx)(k.Z,{size:"large",onClick:function(){return t(2)},icon:(0,Z.jsx)(re.Z,{}),disabled:s,children:(0,Z.jsx)(g.v,{pt:"Ver Ranking",en:"See Ranking"})})]})]})}var se=n(5281),oe=n(6409);function ie(e){var a,n=e.playerArtist,r=e.correctAnswerId,t=e.correctAnswerText,s=e.playersPoints,o=e.playersSay,i=e.players,c=Object.values(null!==(a=null===o||void 0===o?void 0:o[r])&&void 0!==a?a:{});return(0,Z.jsxs)("div",{className:"a-gallery-window__result",children:[(0,Z.jsx)("div",{className:"a-gallery-window__label",children:(0,Z.jsx)(g.v,{pt:"E o t\xedtulo correto da obra \xe9",en:"And the masterpiece title is"})}),(0,Z.jsxs)("div",{className:"a-gallery-window__speech-bubble",children:[(0,Z.jsx)(Q.Z,{className:"a-gallery-window__speech-bubble-icon"}),t]}),c.length?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("div",{className:"a-gallery-window__players",children:[(0,Z.jsx)(J.C.Group,{children:c.map((function(e){return(0,Z.jsx)(W.qE,{id:i[e].avatarId},"correct-guess-avatar-".concat(e))}))}),(0,Z.jsx)(oe.q,{quantity:2,keyPrefix:"guessers-points-".concat(n.id)}),(0,Z.jsx)("span",{className:"a-gallery-window__players-names",children:(0,f.Nk)(c,i,!0).join(", ")})]}),(0,Z.jsxs)("div",{className:"a-gallery-window__artist-points",children:[(0,Z.jsx)(W.qE,{id:n.avatarId})," ",(0,Z.jsx)(oe.q,{quantity:null===s||void 0===s?void 0:s[n.id],keyPrefix:"artist-points-".concat(n.id)})," ",(0,Z.jsx)("span",{className:"a-gallery-window__players-names",children:n.name})]})]}):(0,Z.jsxs)(se.Z.Text,{className:"a-gallery-window__no-wins",children:[(0,Z.jsx)(W.fM,{type:"garbage",size:"large",shape:"square"}),(0,Z.jsx)(g.v,{pt:"Nossa, ningu\xe9m acertou. Esse desenho deve ter sido muito ruim.",en:"Wow, nobody got it. It must have been a very crappy drawing. Shame..."})]})]})}function ce(e){var a=e.window,n=e.galleryLength,t=e.players,s=e.activeIndex,o=e.setActiveIndex,i=e.setStep,c=e.cards,l=e.disableControls,d=(0,u.m3)(2,16,200,500),v=a.drawing,h=a.artistId,p=a.id,x=a.text,m=a.playersPoints,g=a.playersSay,j=t[h],f=r.HC[j.avatarId].color;return(0,Z.jsxs)("div",{className:"a-gallery-window",children:[(0,Z.jsx)("div",{className:"a-gallery-window__drawing-container",children:(0,Z.jsx)(b.QF,{drawing:v,size:d,className:"a-gallery-window__drawing"})}),(0,Z.jsx)(K,{artistName:j.name,artistAvatarId:j.avatarId}),(0,Z.jsx)($,{players:t,playersSay:g,cards:c,windowCardId:a.id,artistColor:f}),(0,Z.jsx)(ie,{playerArtist:j,correctAnswerId:p,correctAnswerText:x,playersPoints:m,playersSay:g,players:t}),(0,Z.jsx)(te,{galleryLength:n,activeIndex:s,setActiveIndex:o,setStep:i,disableControls:l,barColor:f})]})}function le(e){var a=e.gallery,n=e.players,r=e.cards,t=e.activeIndex,s=e.setActiveIndex,o=e.setStep,i=e.isFirstGalleryRunThrough;return(0,Z.jsxs)(p.h,{className:"a-gallery-phase__windows",children:[(0,Z.jsx)(m.Dx,{children:(0,Z.jsx)(g.v,{pt:"Galeria de Arte",en:"Art Gallery"})}),(0,Z.jsx)(T.hD,{content:(0,Z.jsx)(q,{})}),a&&(0,Z.jsx)(ce,{window:a[t],galleryLength:a.length,cards:r,players:n,activeIndex:t,setActiveIndex:s,setStep:o,disableControls:i})]})}var de=n(4239),ue=n(9263),ve=n(3591);function he(e){var a=e.players,n=e.ranking,r=e.isGameOver,t=e.round,s=e.goToPreviousStep,o=e.setActiveIndex,i=e.isLastRound;return(0,Z.jsxs)(ue.N,{players:a,ranking:n,gainedPointsDescriptions:[(0,Z.jsx)(g.v,{pt:"Votos corretos",en:"Correct guesses"}),(0,Z.jsx)(g.v,{pt:"Votos corretos em seu desenho por outros jogadores",en:"Correct guesses on your drawing by other players"})],children:[(0,Z.jsx)(T.hD,{content:(0,Z.jsx)(q,{})}),!r&&(0,Z.jsx)(m.dx,{round:t}),(0,Z.jsx)(k.Z,{size:"large",onClick:function(){s(),o(0)},icon:(0,Z.jsx)(de.Z,{}),children:(0,Z.jsx)(g.v,{pt:"Ver Galeria De Novo",en:"See Gallery Again"})}),(0,Z.jsx)(ve.wU,{round:t,lastRound:i})]})}var pe=function(e){var a,n=e.players,r=e.state,s=e.info,i=(0,u.ZK)().translate,d=(0,u.g4)(0),v=d.step,h=d.goToNextStep,x=d.goToPreviousStep,m=d.setStep,g=(0,l.useState)(0),j=(0,c.Z)(g,2),f=j[0],w=j[1],y=(0,l.useState)(!0),b=(0,c.Z)(y,2),_=b[0],N=b[1];(0,l.useEffect)((function(){_&&v>1&&N(!1)}),[v,_]);var C=Object.values(n).some((function(e){return e.score>50}));return(0,Z.jsx)(o.JK,{info:s,phase:null===r||void 0===r?void 0:r.phase,allowedPhase:t.R.ARTE_RUIM.GALLERY,className:"a-gallery-phase",children:(0,Z.jsxs)(p.p,{step:v,players:n,children:[(0,Z.jsx)(o.Cl,{type:"picture",title:i("Galeria de Arte","Art Gallery"),onClose:h,currentRound:null===r||void 0===r||null===(a=r.round)||void 0===a?void 0:a.current,unskippable:!0,children:(0,Z.jsx)(U,{})}),(0,Z.jsx)(le,{gallery:r.gallery,players:n,cards:r.cards,activeIndex:f,setActiveIndex:w,setStep:m,isFirstGalleryRunThrough:_}),(0,Z.jsx)(he,{players:n,ranking:r.ranking,isGameOver:C,round:r.round,goToPreviousStep:x,setActiveIndex:w,isLastRound:null===r||void 0===r?void 0:r.lastRound})]})})},xe=n(2510),me=n(4598),ge=["F","D","D+","C-","C","C+","B-","B","B+","A-","A","A+"],je=function(e){var a=e.value,n=(0,u.ZK)().translate,r=ge[Math.floor(a/.084)],t="a-drawing-grade";return(0,Z.jsx)(me.Z,{title:n("Nota baseada em quantos acertos o desenho teve: ".concat(100*a,"%"),"Grade based on the number of correct guesses the artwork got: ".concat(100*a,"%")),children:(0,Z.jsx)(J.C,{className:(0,M.Z)(t,"".concat(t,"--").concat(r[0])),children:r})})};var fe=function(e){var a=e.state,n=e.players,r=e.info;return(0,Z.jsx)(xe.S,{info:r,state:a,announcementIcon:"trophy",children:(0,Z.jsx)("ul",{className:"a-game-over__gallery",children:a.drawings.map((function(e){var a;return(0,Z.jsxs)("li",{className:"a-game-over__gallery-item",style:{width:"200px"},children:[(0,Z.jsx)(b.QF,{drawing:e.drawing,size:200,className:"a-game-over__gallery-canvas"}),(0,Z.jsxs)("span",{className:"a-game-over__credits",children:['"',e.text,'" ',(0,Z.jsx)(g.v,{pt:"por",en:"by"})," ",n[e.playerId].name]}),(0,Z.jsx)(je,{value:null!==(a=e.successRate)&&void 0!==a?a:0})]},e.drawing)}))})})};var we=function(e){var a=e.gameId;return(0,Z.jsx)(s.z,{gameId:a,gameCollection:r.H$.ARTE_RUIM,getActiveComponent:function(e){switch(e){case t.R.DEFAULT.LOBBY:return o.Uc;case t.R.DEFAULT.RULES:return o.hj;case t.R.DEFAULT.SETUP:return o.Z8;case t.R.ARTE_RUIM.DRAW:return C;case t.R.ARTE_RUIM.EVALUATION:return B;case t.R.ARTE_RUIM.GALLERY:return pe;case t.R.DEFAULT.GAME_OVER:return fe;default:return i.S}}})}},9486:function(e,a,n){e.exports=n.p+"static/media/arte-ruim-timer.1f16745a113ac7c5cdca.mp3"},2463:function(e,a,n){e.exports=n.p+"static/media/placeholder.cabb9e00caf6c7d6ff1f.jpg"}}]);
//# sourceMappingURL=arte-ruim.596030a4.chunk.js.map