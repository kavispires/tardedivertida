"use strict";(self.webpackChunktardedivertida=self.webpackChunktardedivertida||[]).push([[717],{170:function(e,r,a){a.d(r,{Zb:function(){return o},ud:function(){return h},i9:function(){return x},Kp:function(){return f},fe:function(){return I},kM:function(){return Z},YA:function(){return w},L9:function(){return R},Dm:function(){return T}});var t=a(8182),s=a(1238),n=a(184),o=function(e){var r=e.children,a=e.header,o=void 0===a?"Carta":a,c=e.footer,i=e.color,l=void 0===i?"none":i,d=e.size,u=void 0===d?"medium":d,h=e.randomColor,v=void 0!==h&&h,m=e.className,p=void 0===m?"":m,x=e.headerClassName,j=void 0===x?"":x,g=e.footerClassName,y=void 0===g?"":g,f="card",b=v?(0,s.Ot)("string"===typeof r?r[0].toUpperCase():"Carta"!==o?o[0].toUpperCase():"X"):l;return(0,n.jsxs)("div",{className:(0,t.Z)(f,"".concat(f,"--").concat(u),p),children:[(0,n.jsx)("span",{className:(0,t.Z)("".concat(f,"__header"),"color-background--".concat(b),j),style:l.startsWith("#")?{backgroundColor:l}:{},children:o}),(0,n.jsx)("span",{className:"".concat(f,"__text"),children:r}),c&&(0,n.jsx)("span",{className:(0,t.Z)("".concat(f,"__footer"),y),children:c})]})},c=a(9439),i=a(2791),l=a(4023),d=a(2037),u=a(5948);function h(e){var r=e.children,a=e.subtitle,s=void 0===a?"":a,o=e.type,h=void 0===o?"hand":o,v=(0,i.useState)(!1),m=(0,c.Z)(v,2),p=m[0],x=m[1],j=(0,l.ZK)().translate;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"floating-hand-added-white-space"}),(0,n.jsxs)("div",{className:(0,t.Z)("floating-hand",p&&"floating-hand--expanded"),onMouseOver:function(){return x(!0)},onMouseLeave:function(){return x(!1)},children:[(0,n.jsxs)("span",{className:"floating-hand__label",children:[(0,n.jsx)(d.fM,{type:"hand"===h?"hand-of-cards":"user-stats",size:p?40:60,className:"floating-hand__icon",alt:j("M\xe3o de Cartas","Hand of Cards")}),(0,n.jsx)(u.v,{pt:"Passe o mouse para expandir ",en:"Hover to expand "}),s]}),r]})]})}var v=a(9220),m=a(7309),p=a(8272);function x(e){var r=e.cardId,a=(0,l.vh)(),t=a.blurCard;return a.isBlurEnabled?(0,n.jsx)(v.Z,{placement:"top",title:(0,n.jsx)(u.v,{pt:"Aperte o bot\xe3o para emba\xe7ar a foto caso voc\xea tenha alguma fobia",en:"Use this button to blur the image in case of any phobia"}),children:(0,n.jsxs)(m.Z,{ghost:!0,onClick:function(){return t(r)},size:"small",className:"image-blur-button",children:[(0,n.jsx)(p.Z,{})," ",(0,n.jsx)(u.v,{pt:"Credo",en:"Blur"})]})}):(0,n.jsx)(n.Fragment,{})}var j=a(1413),g=a(4925),y=["cardId","className","children"];function f(e){var r=e.cardId,a=e.className,s=e.children,o=(0,g.Z)(e,y);return(0,n.jsxs)("div",(0,j.Z)((0,j.Z)({className:(0,t.Z)("image-blur-button-container",a)},o),{},{children:[s,(0,n.jsx)(x,{cardId:r})]}))}var b=a(663),S=a(6591),N=a(2463),I=function(e){var r=e.imageId,a=e.size,s=void 0===a?"medium":a,o=e.cardWidth,c=void 0===o?200:o,i=e.className,d=void 0===i?"":i,u=e.preview,h=void 0===u||u,v=(0,l.vh)().shouldBeBlurred,m="image-card",p="placeholder-".concat(r[r.length-1]),x=r.replace(/-/g,"/"),j=v(r);return(0,n.jsx)("div",{className:(0,t.Z)(m,"".concat(m,"--").concat(s),j&&"".concat(m,"--blur"),d),children:(0,n.jsx)(b.Z,{width:c,src:"".concat("https://www.kavispires.com/tdi/images/").concat(x,".jpg"),placeholder:(0,n.jsx)(b.Z,{preview:!1,src:N,width:c}),fallback:"".concat(S.fQ.CARDS).concat(p,".jpg"),preview:!(!h||j)&&{maskClassName:"".concat(m,"__preview-mask")}})})},C=a(263);function w(e){var r=e.hand,a=void 0===r?[]:r,s=e.onSelectCard,o=e.selectButtonLabel,c=e.className,i=void 0===c?"":c,d=e.selectButtonClass,u=void 0===d?"":d,h=e.sizeRatio,v=void 0===h?8:h,p=e.cardSize,j=e.minCardSize,g=void 0===j?80:j,y=e.disabledSelectButton,f=void 0!==y&&y,S=(0,l.ZK)().translate,N=(0,l.m3)(v,32,g);return(0,n.jsx)(b.Z.PreviewGroup,{children:(0,n.jsx)("div",{className:(0,t.Z)("image-card-hand",i),children:a.map((function(e){return(0,n.jsxs)("div",{className:"image-card-hand__card-container",children:[Boolean(s)&&(0,n.jsx)(m.Z,{icon:(0,n.jsx)(C.Z,{}),className:u,onClick:function(){return s(e)},size:"small",disabled:f,children:S("Selecionar","Select",o)}),(0,n.jsx)(I,{imageId:e,cardWidth:p||N}),(0,n.jsx)(x,{cardId:e})]},"hand-".concat(e))}))})})}var Z=function(e){var r=e.size,a=void 0===r?"medium":r,s=e.cardWidth,o=void 0===s?200:s,c=e.className,i=void 0===c?"":c,d=e.previewImageId,u="image-card-back",h=(0,(0,l.vh)().shouldBeBlurred)(d),v=(null!==d&&void 0!==d?d:"").replace(/-/g,"/");return(0,n.jsx)("div",{className:(0,t.Z)(u,"".concat(u,"--").concat(a),i),children:(0,n.jsx)(b.Z,{width:o,src:N,preview:!!Boolean(d)&&(!h&&{maskClassName:"image-card__preview-mask",src:"".concat("https://www.kavispires.com/tdi/images/").concat(v,".jpg")})})})};function R(e){var r=e.hand;return r?(0,n.jsx)("div",{className:"image-card-preload-hand",children:r.map((function(e){return(0,n.jsx)(I,{imageId:e,cardWidth:1,preview:!1},"pre-load-".concat(e))}))}):(0,n.jsx)("span",{})}var O=a(2610);function T(e){var r=e.onClick,a=e.cardId,t=e.selectLabel,s=e.deselectLabel,o=e.isSelected,c=void 0!==o&&o;return(0,n.jsxs)(m.Z,{shape:"round",size:"small",ghost:!c,className:"image-card-select-button",onClick:function(){return r(a)},children:[(0,n.jsx)(O.Z,{}),c?(0,n.jsx)(u.v,{pt:"Desmarcar",en:"Deselect",custom:s}):(0,n.jsx)(u.v,{pt:"Selecionar",en:"Select",custom:t}),(0,n.jsx)(O.Z,{})]})}},4531:function(e,r,a){a.d(r,{G7:function(){return s},os:function(){return n},xo:function(){return o},r_:function(){return c}});var t=a(184);function s(e){var r=e.children;return(0,t.jsx)(t.Fragment,{children:r})}function n(e){var r=e.isVisible,a=void 0!==r&&r,s=e.children;return a?(0,t.jsx)(t.Fragment,{children:s}):(0,t.jsx)(t.Fragment,{})}function o(e){var r=e.orCondition,a=void 0!==r&&r,s=e.children;return a?(0,t.jsx)(t.Fragment,{children:s[0]}):(0,t.jsx)(t.Fragment,{children:s[1]})}function c(e){var r=e.cases,a=e.children;if(r.length>5)throw Error("ViewSwitch only supports up to 5 cases");return r[0]&&a[0]?a[0]:r[1]&&a[1]?a[1]:r[2]&&a[2]?a[2]:r[3]&&a[3]?a[3]:r[4]&&a[4]?a[4]:(console.warn("Rendering all children in the ViewSwitch"),a)}},2724:function(e,r,a){a.r(r),a.d(r,{default:function(){return Q}});var t=a(6591),s=a(5149),n=a(1522),o=a(681),c=a(6698),i=a(9439),l=a(4023),d=a(1413),u=a(3673);var h=a(2037),v=a(170),m=a(5948),p=a(7891),x=a(5234),j=a(6954),g=a(184);function y(e){var r=e.storyteller,a=e.user,t=e.players,s=e.gameOrder;return(0,g.jsxs)(x.h,{fullWidth:!0,className:"c-story-waiting",children:[(0,g.jsxs)(j.Dx,{children:[(0,g.jsx)(h.fM,{type:"animated-clock",size:"large"})," ",(0,g.jsx)(m.v,{pt:"Aguarde...",en:"Please wait..."})]}),(0,g.jsxs)(j.vr,{contained:!0,children:[(0,g.jsx)(h.gj,{player:r,addressUser:!0})," ",(0,g.jsx)(m.v,{pt:"est\xe1 escrevendo uma hist\xf3ria para essa rodada.",en:"is writing a story for this round."}),(0,g.jsx)("br",{}),(0,g.jsx)(m.v,{pt:"Enquanto isso, examine suas cartas! Voc\xea as usar\xe1 durante esta rodada.",en:"In the meantime, examine your cards. You're gonna use them this round."})]}),(0,g.jsx)(p.Zy,{players:t,activePlayerId:r.id,order:s}),(0,g.jsx)(v.ud,{children:(0,g.jsx)(v.YA,{hand:a.hand,sizeRatio:a.hand.length})})]})}var f=a(2791),b=a(6005),S=a(3099),N=a(7309),I=a(1238),C=["avocado","bell pepper","crustaceous","dinner"];function w(e){var r=e.leftPage,a=e.rightPage;return(0,g.jsxs)("svg",{viewBox:"0 0 590 320",className:"c-book-pages",children:[(0,g.jsx)("path",{d:"M4 12.46s71.16 8 145.65 0S295 16 295 16s90.78-12.42 156 0S586 5.14 586 5.14v296s-43.23 24.6-158.29 8S295 314 295 314s-94.44-17.89-143.33-3.59c-29.88 8.74-147.64-4-147.64-4z",fill:"#ffffff"}),(0,g.jsx)("foreignObject",{x:"13",y:"23",width:"280",height:"276",children:(0,g.jsx)("div",{children:r})}),(0,g.jsx)("foreignObject",{x:"295",y:"23",width:"280",height:"276",children:(0,g.jsx)("div",{children:a})}),(0,g.jsx)("path",{d:"M294.75 23.77h.5v280.66h-.5z",fill:"grey"})]})}function Z(e){var r=e.user,a=e.onSubmitStory,t=(0,l.ZK)().translate,s=(0,l.r$)().isLoading,n=(0,f.useState)(""),o=(0,i.Z)(n,2),c=o[0],d=o[1],u=(0,f.useState)(""),h=(0,i.Z)(u,2),p=h[0],y=h[1],Z=function(){p&&c&&a({story:c.trim(),cardId:p})};return(0,l.MJ)((function(){var e;a((e=r.hand,{story:(0,I.J)(C),cardId:(0,I.J)(e)}))}),[]),(0,g.jsxs)(x.h,{fullWidth:!0,className:"c-story-writing",children:[(0,g.jsx)(j.Dx,{children:(0,g.jsx)(m.v,{pt:"Escreva uma hist\xf3ria",en:"Tell us a story"})}),(0,g.jsx)("div",{className:"c-story-book",children:(0,g.jsx)(w,{leftPage:(0,g.jsx)("div",{className:"c-story-book__selected-card",children:p&&(0,g.jsx)(v.fe,{imageId:p,cardWidth:175})}),rightPage:(0,g.jsx)("div",{className:"c-story-book__instructions",children:(0,g.jsxs)("ul",{children:[(0,g.jsx)("li",{children:(0,g.jsx)(m.v,{pt:"Selecione uma carta abaixo e escreva algo sobre ela.",en:"Select a card below and write something about it."})}),(0,g.jsx)("li",{children:(0,g.jsx)(m.v,{pt:"Escreva o que voc\xea quiser: uma frase, uma palavra \xfanica, uma express\xe3o, letra de m\xfasica. N\xe3o h\xe1 restri\xe7\xf5es.",en:"Write whatever you want: a sentence, a single word, an expression, a song lyric. There are no restrictions."})}),(0,g.jsx)("li",{children:(0,g.jsx)(m.v,{pt:"Pense em algo que ajudar\xe1 os outros jogadores a escolher a carta selecionada. N\xe3o seja \xf3bvio, se todos escolherem a carta correta voc\xea n\xe3o ganha pontos, e n\xe3o seja muito vago porque se ningu\xe9m acerta, voc\xea tamb\xe9m fica sem pontos.",en:"You want something that will help players to find the selected card. Don't be too obvious, because if all players guess correctly you get no points. And also don't be too vague, if nobody guesses the card you also get no points."})}),(0,g.jsx)("li",{children:(0,g.jsx)(b.Z,{className:"c-story-writing-input",placeholder:t("Escreva aqui","Write your clue here"),onChange:function(e){return d(e.target.value)},onPressEnter:Z})})]})})})}),(0,g.jsx)(S.Z,{className:"space-container c-input-container",align:"center",children:(0,g.jsx)(N.Z,{type:"primary",disabled:s||c.length<1||!p,onClick:Z,children:(0,g.jsx)(m.v,{pt:"Enviar pista secreta e carta",en:"Send secret clue and card"})})}),(0,g.jsx)(v.ud,{children:(0,g.jsx)(v.YA,{hand:r.hand,onSelectCard:y,disabledSelectButton:s,sizeRatio:r.hand.length})})]})}var R=a(398),O=a(4531);var T=function(e){var r,a=e.state,t=e.players,n=e.info,c=(0,l.ZK)().translate,f=(0,l.g4)(0),b=f.step,S=f.goToNextStep,N=f.setStep,I=(0,l.aF)(t),C=(0,l.bC)(t,a),w=(0,l.RQ)("storytellerId",a,t),T=(0,i.Z)(w,2),_=T[0],E=T[1],A=function(e){var r=(0,l.ZK)().translate,a=(0,l.Cq)({apiFunction:u.RS.submitAction,actionName:"submit-story",onBeforeCall:function(){return e(3)},onError:function(){return e(0)},successMessage:r("Hist\xf3ria submetida com sucesso","Story submitted successfully"),errorMessage:r("Vixi, o aplicativo encontrou um erro ao tentar enviar sua hist\xf3ria","Oops, the application found an error while trying to submit your story")});return function(e){a((0,d.Z)({action:"SUBMIT_STORY"},e))}}(N);return(0,g.jsx)(o.JK,{info:n,phase:null===a||void 0===a?void 0:a.phase,allowedPhase:s.R.CONTADORES_HISTORIAS.STORY,children:(0,g.jsxs)(x.p,{step:b,conditions:[!C],players:t,children:[(0,g.jsx)(R.Y,{round:a.round,onPressButton:S,time:5,circleColor:"purple"}),(0,g.jsx)(o.Cl,{type:"fairy-tale",title:c("Conte-nos uma hist\xf3ria","Tell us a story..."),onClose:S,currentRound:null===a||void 0===a||null===(r=a.round)||void 0===r?void 0:r.current,buttonText:"",children:(0,g.jsxs)(j.vr,{children:[(0,g.jsx)(m.v,{pt:(0,g.jsxs)(g.Fragment,{children:["Para essa rodada, ",(0,g.jsx)(h.gj,{player:_,addressUser:!0,size:"small"})," ser\xe1 o(a) Contador(a) de Hist\xf3rias."]}),en:(0,g.jsxs)(g.Fragment,{children:["For this round, ",(0,g.jsx)(h.gj,{player:_,addressUser:!0})," will be the Storyteller."]})}),(0,g.jsx)(p.Zy,{players:t,order:a.gameOrder,activePlayerId:a.storytellerId}),(0,g.jsx)(v.L9,{hand:null===I||void 0===I?void 0:I.hand})]})}),(0,g.jsxs)(O.xo,{orCondition:E,children:[(0,g.jsx)(Z,{user:I,onSubmitStory:A}),(0,g.jsx)(y,{user:I,storyteller:_,players:t,gameOrder:a.gameOrder})]})]})})},_=a(8182);function E(e){var r=e.players,a=e.user,t="c-table-face-down-card";return(0,g.jsx)("div",{className:"c-table-face-down",children:Object.values(r).map((function(e,r){var s=!e.cardId,n=e.id===a.id?"hidden-user":"hidden";return(0,g.jsx)(v.kM,{cardWidth:150,className:(0,_.Z)(t,"".concat(t,"--").concat(r),s&&"".concat(t,"--").concat(n))},"card-back-".concat(e.id))}))})}function A(e){var r=e.players,a=e.story,t=e.user,s=e.onPlayCard,n=e.storyteller,o=e.isUserTheStoryTeller,c=(0,l.r$)().isLoading,i=Boolean(t.cardId);return(0,l.MJ)((function(){var e;o||s((e=t.hand,{cardId:(0,I.J)(e)}))}),[]),(0,g.jsxs)(x.h,{fullWidth:!0,children:[(0,g.jsx)(j.Dx,{children:(0,g.jsx)(v.Zb,{header:n.name,className:"c-story-card",randomColor:!0,children:a})}),(0,g.jsx)(j.vr,{contained:!0,children:(0,g.jsxs)(O.xo,{orCondition:o,children:[(0,g.jsx)(m.v,{pt:"Agora, cada jogador escolher\xe1 uma carta em m\xe3o que mais combine com a hist\xf3ria que voc\xea escreveu.",en:"Now every other player will play a card that best matches the story you wrote."}),(0,g.jsx)(m.v,{pt:"Agora, escolha uma carta que mais combine com a hist\xf3ria da rodada. Voc\xea est\xe1 tentando convencer os outros jogadores a escolherem sua carta ao inv\xe9s da carta correta.",en:"Now you select a card that matches the story the best. You are trying to convince other players that your card is the correct one."})]})}),(0,g.jsx)(E,{players:r,user:t}),(0,g.jsx)(p.qQ,{players:r}),(0,g.jsx)(v.ud,{children:(0,g.jsx)(v.YA,{hand:t.hand,onSelectCard:i?void 0:function(e){s({cardId:e})},disabledSelectButton:c||i,sizeRatio:t.hand.length})})]})}var k=function(e){var r,a=e.state,t=e.players,n=e.info,c=(0,l.ZK)().translate,h=(0,l.g4)(0),v=h.step,p=h.goToNextStep,y=h.setStep,f=(0,l.aF)(t),b=(0,l.RQ)("storytellerId",a,t),S=(0,i.Z)(b,2),N=S[0],I=S[1],C=function(e){var r=(0,l.ZK)().translate,a=(0,l.Cq)({apiFunction:u.RS.submitAction,actionName:"play-card",onError:function(){return e(1)},successMessage:r("Carta submetida com sucesso","Card submitted successfully"),errorMessage:r("Vixi, o aplicativo encontrou um erro ao tentar enviar sua carta","Oops, the application found an error while trying to submit your card")});return function(e){a((0,d.Z)({action:"PLAY_CARD"},e))}}(y);return(0,g.jsx)(o.JK,{info:n,phase:null===a||void 0===a?void 0:a.phase,allowedPhase:s.R.CONTADORES_HISTORIAS.CARD_PLAY,children:(0,g.jsxs)(x.p,{step:v,players:t,children:[(0,g.jsx)(o.Cl,{type:"image-cards",title:c("Selecione uma carta","Play a card..."),onClose:p,currentRound:null===a||void 0===a||null===(r=a.round)||void 0===r?void 0:r.current,children:(0,g.jsx)(j.vr,{children:(0,g.jsx)(m.v,{pt:(0,g.jsx)(g.Fragment,{children:"Agora, jogadores ver\xe3o a hist\xf3ria da rodada e selecionar\xe3o uma de suas cartas que mais se aproxime da hist\xf3ria. Na pr\xf3xima fase, se algum outro jogador selecionar sua carta, voc\xea ganha 1 ponto!"}),en:(0,g.jsx)(g.Fragment,{children:"Now players will see the story for the round and select one of their cards that best match the story. If any other player vote for your card later, you will get 1 point."})})})}),(0,g.jsx)(A,{players:t,user:f,story:a.story,onPlayCard:C,storyteller:N,isUserTheStoryTeller:I})]})})},z=a(263),D=a(2090);function F(){return(0,g.jsx)(j.vr,{children:(0,g.jsx)(m.v,{pt:(0,g.jsxs)(g.Fragment,{children:["Hora de selecionar a carta correta!",(0,g.jsx)("br",{}),"Se todos acertarem ou todos errarem, cada jogador ganha 2 pontos, menos o contador de hist\xf3rias.",(0,g.jsx)("br",{}),"Se somente alguns acertarem, cada acertador e contador de hist\xf3rias recebe 3 pontos.",(0,g.jsx)("br",{}),"Sua carta (se voc\xea n\xe3o for o contador de hist\xf3rias) ganha 1 ponto se algu\xe9m selecionar."]}),en:(0,g.jsxs)(g.Fragment,{children:["Time to select the correct card!",(0,g.jsx)("br",{}),"If every player gets it correct or wrong, each player but the storyteller gets 2 points.",(0,g.jsx)("br",{}),"If only some get it correct, those players (and the storyteller) get 3 points.",(0,g.jsx)("br",{}),"You get 1 point for every vote your card gets (if you are not the storyteller)."]})})})}function P(e){var r=e.storyteller;return(0,g.jsx)(j.vr,{children:(0,g.jsx)(m.v,{pt:(0,g.jsxs)(g.Fragment,{children:["Hora de revelar a resposta correta!",(0,g.jsx)("br",{}),"O Contador de Hist\xf3rias ",(0,g.jsx)(h.qE,{id:r.avatarId,size:"small"})," ganha 3 pontos se pelo menos uma pessoa acertar (mas n\xe3o todas).",(0,g.jsx)("br",{}),"Cada jogador que votou corretamente ganha 3 pontos.",(0,g.jsx)("br",{}),"Para cada voto que sua carta recebeu (menos ",(0,g.jsx)(h.qE,{id:r.avatarId,size:"small"}),"), voc\xea ganha 1 ponto.",(0,g.jsx)("br",{}),"Mas se todos jogadores votarem corretamente ou incorretamente, todos ganham 2 pontos e o Contador de Hist\xf3rias n\xe3o ganha nada."]}),en:(0,g.jsxs)(g.Fragment,{children:["Time to reveal the answer!",(0,g.jsx)("br",{}),"The Storyteller ",(0,g.jsx)(h.qE,{id:r.avatarId,size:"small"})," gets 3 points if at least one player got it correctly (but not all).",(0,g.jsx)("br",{}),"Each player who voted correctly gets 3 points.",(0,g.jsx)("br",{}),"Each vote your card receives grants you 1 points (except"," ",(0,g.jsx)(h.qE,{id:r.avatarId,size:"small"}),").",(0,g.jsx)("br",{}),"But if all players vote correctly or incorrectly, they get 2 points each and the Storyteller gets nothing."]})})})}var B=a(9986);function M(e){var r=e.players,a=e.story,t=e.user,s=e.onSubmitVote,n=e.storyteller,o=e.table,c=e.isUserTheStoryTeller,i=(0,l.ZK)().translate,d=(0,l.r$)().isLoading,u=(0,l.m3)(Math.max(Object.keys(r).length,6),32,150),h=Boolean(t.vote);return(0,l.MJ)((function(){c||s(function(e,r){return{vote:(0,I.J)(e.map((function(e){return e.cardId})).filter((function(e){return!r.includes(e)})))}}(o,t.hand))}),[]),(0,g.jsxs)(x.h,{fullWidth:!0,className:"c-step-play-card",children:[(0,g.jsxs)(j.Dx,{children:[(0,g.jsx)(m.v,{pt:"Qual carta \xe9 a ilustra\xe7\xe3o correta?",en:"What card is the correct one?"}),(0,g.jsx)(v.Zb,{header:n.name,className:"c-story-card",color:"yellow",children:a})]}),(0,g.jsx)(D.hD,{content:(0,g.jsx)(F,{})}),(0,g.jsx)("div",{className:"c-game-table",children:o.map((function(e){var r=e.playerId===t.id,a=e.cardId===t.vote;return(0,g.jsxs)("div",{className:"c-game-table__card-container",children:[!h&&(0,g.jsx)(N.Z,{icon:(0,g.jsx)(z.Z,{}),onClick:function(){return r=e.cardId,void s({vote:r});var r},size:"small",disabled:d||r,children:r?i("Sua","Yours"):i("Votar","Vote")}),(0,g.jsx)(v.fe,{imageId:e.cardId,cardWidth:u,className:(0,_.Z)(a&&"c-game-table--vote")}),(0,g.jsx)(B.H,{div:!0,children:e.cardId}),(0,g.jsx)(v.i9,{cardId:e.cardId})]},"hand-".concat(e.cardId))}))}),(0,g.jsx)(p.qQ,{players:r})]})}var V=function(e){var r,a=e.state,t=e.players,n=e.info,c=(0,l.ZK)().translate,h=(0,l.g4)(0),m=h.step,p=h.goToNextStep,j=h.setStep,y=(0,l.aF)(t),f=(0,l.RQ)("storytellerId",a,t),b=(0,i.Z)(f,2),S=b[0],N=b[1],I=function(e){var r=(0,l.ZK)().translate,a=(0,l.Cq)({apiFunction:u.RS.submitAction,actionName:"submit-vote",onError:function(){return e(1)},successMessage:r("Voto submetido com sucesso","Vote submitted successfully"),errorMessage:r("Vixi, o aplicativo encontrou um erro ao tentar enviar seu voto","Oops, the application found an error while trying to submit your vote")});return function(e){a((0,d.Z)({action:"SUBMIT_VOTE"},e))}}(j);return(0,g.jsx)(o.JK,{info:n,phase:null===a||void 0===a?void 0:a.phase,allowedPhase:s.R.CONTADORES_HISTORIAS.VOTING,className:"c-phase",children:(0,g.jsxs)(x.p,{step:m,players:t,children:[(0,g.jsxs)(o.Cl,{type:"vote",title:c("Vota\xe7\xe3o","Voting"),onClose:p,currentRound:null===a||void 0===a||null===(r=a.round)||void 0===r?void 0:r.current,children:[(0,g.jsx)(F,{}),(0,g.jsx)(v.L9,{hand:a.table.map((function(e){return e.cardId}))})]}),(0,g.jsx)(M,{players:t,user:y,story:a.story,onSubmitVote:I,storyteller:S,table:a.table,isUserTheStoryTeller:N})]})})},L=a(2649),H=a(2294);function q(e){var r,a,t=e.players,s=e.story,n=e.storyteller,o=e.table,c=e.goToNextStep,i=(0,l.m3)(10,32,75),d=o.find((function(e){return e.playerId===n.id})),u=o.filter((function(e){return e.playerId!==n.id}));return(0,g.jsxs)(x.h,{fullWidth:!0,className:"c-step-play-card",children:[(0,g.jsx)(j.Dx,{children:(0,g.jsx)(m.v,{pt:"Solu\xe7\xe3o",en:"Solution"})}),(0,g.jsx)(D.hD,{content:(0,g.jsx)(P,{storyteller:n})}),(0,g.jsx)("div",{className:"c-story-book",children:(0,g.jsx)(w,{leftPage:(0,g.jsx)("div",{className:"c-story-book__selected-card",children:d&&(0,g.jsx)(v.fe,{imageId:d.cardId,cardWidth:175})}),rightPage:(0,g.jsxs)("div",{className:"c-story-book__solution",children:[(0,g.jsx)("p",{children:(0,g.jsx)(m.v,{pt:"Era uma vez...",en:"Once upon a time..."})}),(0,g.jsx)("p",{className:"c-story-book__story",children:s}),(0,g.jsxs)("div",{children:[(0,g.jsx)(m.v,{pt:"Votaram corretamente:",en:"Voted correctly:"}),(0,g.jsxs)("ul",{className:"c-story-book__correct-players",children:[d&&d.votes.filter((function(e){return e!==n.id})).map((function(e){return(0,g.jsx)("li",{children:(0,g.jsx)(h.gj,{player:t[e],size:"small"})},"correct-vote-player-".concat(e))})),(null!==(r=null===d||void 0===d||null===(a=d.votes)||void 0===a?void 0:a.length)&&void 0!==r?r:0)<2&&(0,g.jsx)("li",{className:"c-story-book__nobody",children:(0,g.jsx)(m.v,{pt:"Vixi, ningu\xe9m acertou...",en:"Well, nobody got it..."})})]})]})]})})}),(0,g.jsx)("ul",{className:"c-other-cards",children:u.map((function(e,r){var a;return(0,g.jsxs)("li",{className:"c-other-cards__entry",children:[(0,g.jsx)("div",{className:"c-other-cards__player",children:"NPC"===e.playerId?(0,g.jsx)(h.RV,{size:"small"}):(0,g.jsx)(h.gj,{player:t[e.playerId],size:"small"})}),(0,g.jsx)(v.fe,{imageId:e.cardId,cardWidth:i,className:"c-other-cards__card"}),(0,g.jsx)(v.i9,{cardId:e.cardId}),(0,g.jsx)("div",{className:"c-other-cards__votes",children:(0,g.jsx)(L.C.Group,{size:"small",children:(null!==(a=null===e||void 0===e?void 0:e.votes)&&void 0!==a?a:[]).map((function(e){return(0,g.jsx)(h.qE,{id:t[e].avatarId},"incorrect-vote-player-".concat(e))}))})})]},"other-card-votes-".concat(e.playerId,"-").concat(r))}))}),(0,g.jsx)(S.Z,{className:"space-container",align:"center",children:(0,g.jsx)(H.h,{onClick:c,onExpire:c,duration:20,children:(0,g.jsx)(m.v,{pt:"Continuar",en:"Continue"})})})]})}var U=a(3591),W=a(9263);function Y(e){var r=e.players,a=e.ranking,t=e.outcome,s=e.storyteller,n=e.round,o=e.lastRound,c=void 0!==o&&o,i=e.goToPreviousStep,d=(0,l.ZK)().translate;return(0,g.jsxs)(x.h,{fullWidth:!0,children:[(0,g.jsx)(j.Dx,{level:1,children:(0,g.jsx)(m.v,{pt:"Resultado",en:"Results"})}),(0,g.jsx)(D.hD,{content:(0,g.jsx)(P,{storyteller:s})}),(0,g.jsxs)(j.vr,{contained:!0,children:["EVERYBODY_GOT"===t&&(0,g.jsx)(m.v,{pt:(0,g.jsxs)(g.Fragment,{children:["Todo mundo acertou! ",(0,g.jsx)(h.gj,{player:s}),", da pr\xf3xima vez, seja menos \xf3bvio(a)."]}),en:(0,g.jsxs)(g.Fragment,{children:["Everybody guessed it right! ",(0,g.jsx)(h.gj,{player:s}),", be less obvious next time."]})}),"NOBODY_GOT"===t&&(0,g.jsx)(m.v,{pt:(0,g.jsxs)(g.Fragment,{children:["Ningu\xe9m acertou! ",(0,g.jsx)(h.gj,{player:s}),", da pr\xf3xima vez seja menos obscuro."]}),en:(0,g.jsxs)(g.Fragment,{children:["Nobody guessed it right! ",(0,g.jsx)(h.gj,{player:s}),", next time be less obscure."]})}),"NORMAL"===t&&(0,g.jsx)(m.v,{pt:(0,g.jsxs)(g.Fragment,{children:["Quem acertou ganha 3 pontos! Bom trabalho, ",(0,g.jsx)(h.gj,{player:s}),"."]}),en:(0,g.jsxs)(g.Fragment,{children:["Whoever guessed it right got 3 points! Good job, ",(0,g.jsx)(h.gj,{player:s})]})})]}),(0,g.jsx)(W.l,{ranking:a,players:r}),(0,g.jsx)(S.Z,{className:"space-container",align:"center",children:(0,g.jsx)(N.Z,{onClick:i,children:d("Voltar para Solu\xe7\xe3o","Back to Solution")})}),(0,g.jsx)(U.wU,{round:n,lastRound:c})]})}var K=function(e){var r,a=e.state,t=e.players,n=e.info,c=(0,l.ZK)().translate,d=(0,l.g4)(0),u=d.step,h=d.goToNextStep,v=d.goToPreviousStep,m=(0,l.RQ)("storytellerId",a,t),p=(0,i.Z)(m,1)[0];return(0,g.jsx)(o.JK,{info:n,phase:null===a||void 0===a?void 0:a.phase,allowedPhase:s.R.CONTADORES_HISTORIAS.RESOLUTION,children:(0,g.jsxs)(x.p,{step:u,players:t,children:[(0,g.jsx)(o.Cl,{type:"seal",title:c("Solu\xe7\xe3o","Solution"),onClose:h,currentRound:null===a||void 0===a||null===(r=a.round)||void 0===r?void 0:r.current,children:(0,g.jsx)(P,{storyteller:p})}),(0,g.jsx)(q,{players:t,story:a.story,storyteller:p,table:a.table,goToNextStep:h}),(0,g.jsx)(Y,{players:t,ranking:a.ranking,outcome:a.outcome,storyteller:p,round:a.round,lastRound:a.lastRound,goToPreviousStep:v})]})})},J=a(2510);var G=function(e){var r=e.state,a=e.info;return(0,g.jsx)(J.S,{info:a,state:r,announcementIcon:"trophy"})};var Q=function(e){var r=e.gameId;return(0,g.jsx)(n.z,{gameId:r,gameCollection:t.H$.CONTADORES_HISTORIAS,getActiveComponent:function(e){switch(e){case s.R.DEFAULT.LOBBY:return o.Uc;case s.R.DEFAULT.RULES:return o.hj;case s.R.DEFAULT.SETUP:return o.Z8;case s.R.CONTADORES_HISTORIAS.STORY:return T;case s.R.CONTADORES_HISTORIAS.CARD_PLAY:return k;case s.R.CONTADORES_HISTORIAS.VOTING:return V;case s.R.CONTADORES_HISTORIAS.RESOLUTION:return K;case s.R.DEFAULT.GAME_OVER:return G;default:return c.S}}})}},1290:function(e,r,a){a.d(r,{Z:function(){return i}});var t=a(1413),s=a(2791),n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M899.6 276.5L705 396.4 518.4 147.5a8.06 8.06 0 00-12.9 0L319 396.4 124.3 276.5c-5.7-3.5-13.1 1.2-12.2 7.9L188.5 865c1.1 7.9 7.9 14 16 14h615.1c8 0 14.9-6 15.9-14l76.4-580.6c.8-6.7-6.5-11.4-12.3-7.9zM512 734.2c-62.1 0-112.6-50.5-112.6-112.6S449.9 509 512 509s112.6 50.5 112.6 112.6S574.1 734.2 512 734.2zm0-160.9c-26.6 0-48.2 21.6-48.2 48.3 0 26.6 21.6 48.3 48.2 48.3s48.2-21.6 48.2-48.3c0-26.6-21.6-48.3-48.2-48.3z"}}]},name:"crown",theme:"filled"},o=a(1952),c=function(e,r){return s.createElement(o.Z,(0,t.Z)((0,t.Z)({},e),{},{ref:r,icon:n}))};c.displayName="CrownFilled";var i=s.forwardRef(c)},263:function(e,r,a){a.d(r,{Z:function(){return i}});var t=a(1413),s=a(2791),n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.5 658.7c3.2 4.4 9.7 4.4 12.9 0l178-246c3.8-5.3 0-12.7-6.5-12.7H643c-10.2 0-19.9 4.9-25.9 13.2L512 558.6 406.8 413.2c-6-8.3-15.6-13.2-25.9-13.2H334c-6.5 0-10.3 7.4-6.5 12.7l178 246z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"down-square",theme:"outlined"},o=a(1952),c=function(e,r){return s.createElement(o.Z,(0,t.Z)((0,t.Z)({},e),{},{ref:r,icon:n}))};c.displayName="DownSquareOutlined";var i=s.forwardRef(c)},2610:function(e,r,a){a.d(r,{Z:function(){return i}});var t=a(1413),s=a(2791),n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M518.5 360.3a7.95 7.95 0 00-12.9 0l-178 246c-3.8 5.3 0 12.7 6.5 12.7H381c10.2 0 19.9-4.9 25.9-13.2L512 460.4l105.2 145.4c6 8.3 15.6 13.2 25.9 13.2H690c6.5 0 10.3-7.4 6.5-12.7l-178-246z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"up-circle",theme:"outlined"},o=a(1952),c=function(e,r){return s.createElement(o.Z,(0,t.Z)((0,t.Z)({},e),{},{ref:r,icon:n}))};c.displayName="UpCircleOutlined";var i=s.forwardRef(c)},2463:function(e,r,a){e.exports=a.p+"static/media/placeholder.cabb9e00caf6c7d6ff1f.jpg"}}]);
//# sourceMappingURL=contadores-historias.f45b5f02.chunk.js.map