"use strict";(self.webpackChunktardedivertida=self.webpackChunktardedivertida||[]).push([[963],{170:function(e,s,a){a.d(s,{Zb:function(){return o},ud:function(){return p},i9:function(){return x},Kp:function(){return w},fe:function(){return _},kM:function(){return S},YA:function(){return A},L9:function(){return C},Dm:function(){return E}});var r=a(8182),n=a(1238),t=a(184),o=function(e){var s=e.children,a=e.header,o=void 0===a?"Carta":a,i=e.footer,c=e.color,l=void 0===c?"none":c,d=e.size,u=void 0===d?"medium":d,p=e.randomColor,m=void 0!==p&&p,h=e.className,v=void 0===h?"":h,x=e.headerClassName,j=void 0===x?"":x,f=e.footerClassName,g=void 0===f?"":f,w="card",y=m?(0,n.Ot)("string"===typeof s?s[0].toUpperCase():"Carta"!==o?o[0].toUpperCase():"X"):l;return(0,t.jsxs)("div",{className:(0,r.Z)(w,"".concat(w,"--").concat(u),v),children:[(0,t.jsx)("span",{className:(0,r.Z)("".concat(w,"__header"),"color-background--".concat(y),j),style:l.startsWith("#")?{backgroundColor:l}:{},children:o}),(0,t.jsx)("span",{className:"".concat(w,"__text"),children:s}),i&&(0,t.jsx)("span",{className:(0,r.Z)("".concat(w,"__footer"),g),children:i})]})},i=a(9439),c=a(2791),l=a(3142),d=a(2037),u=a(5948);function p(e){var s=e.children,a=e.subtitle,n=void 0===a?"":a,o=e.type,p=void 0===o?"hand":o,m=(0,c.useState)(!1),h=(0,i.Z)(m,2),v=h[0],x=h[1],j=(0,l.ZK)().translate;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"floating-hand-added-white-space"}),(0,t.jsxs)("div",{className:(0,r.Z)("floating-hand",v&&"floating-hand--expanded"),onMouseOver:function(){return x(!0)},onMouseLeave:function(){return x(!1)},children:[(0,t.jsxs)("span",{className:"floating-hand__label",children:[(0,t.jsx)(d.fM,{type:"hand"===p?"hand-of-cards":"user-stats",size:v?40:60,className:"floating-hand__icon",alt:j("M\xe3o de Cartas","Hand of Cards")}),(0,t.jsx)(u.v,{pt:"Passe o mouse para expandir ",en:"Hover to expand "}),n]}),s]})]})}var m=a(9220),h=a(7309),v=a(8272);function x(e){var s=e.cardId,a=(0,l.vh)(),r=a.blurCard;return a.isBlurEnabled?(0,t.jsx)(m.Z,{placement:"top",title:(0,t.jsx)(u.v,{pt:"Aperte o bot\xe3o para emba\xe7ar a foto caso voc\xea tenha alguma fobia",en:"Use this button to blur the image in case of any phobia"}),children:(0,t.jsxs)(h.Z,{ghost:!0,onClick:function(){return r(s)},size:"small",className:"image-blur-button",children:[(0,t.jsx)(v.Z,{})," ",(0,t.jsx)(u.v,{pt:"Credo",en:"Blur"})]})}):(0,t.jsx)(t.Fragment,{})}var j=a(1413),f=a(4925),g=["cardId","className","children"];function w(e){var s=e.cardId,a=e.className,n=e.children,o=(0,f.Z)(e,g);return(0,t.jsxs)("div",(0,j.Z)((0,j.Z)({className:(0,r.Z)("image-blur-button-container",a)},o),{},{children:[n,(0,t.jsx)(x,{cardId:s})]}))}var y=a(663),N=a(6591),b=a(2463),_=function(e){var s=e.imageId,a=e.size,n=void 0===a?"medium":a,o=e.cardWidth,i=void 0===o?200:o,c=e.className,d=void 0===c?"":c,u=e.preview,p=void 0===u||u,m=(0,l.vh)().shouldBeBlurred,h="image-card",v="placeholder-".concat(s[s.length-1]),x=s.replace(/-/g,"/"),j=m(s);return(0,t.jsx)("div",{className:(0,r.Z)(h,"".concat(h,"--").concat(n),j&&"".concat(h,"--blur"),d),children:(0,t.jsx)(y.Z,{width:i,src:"".concat("https://www.kavispires.com/tdi/images/").concat(x,".jpg"),placeholder:(0,t.jsx)(y.Z,{preview:!1,src:b,width:i}),fallback:"".concat(N.fQ.CARDS).concat(v,".jpg"),preview:!(!p||j)&&{maskClassName:"".concat(h,"__preview-mask")}})})},Z=a(843);function A(e){var s=e.hand,a=void 0===s?[]:s,n=e.onSelectCard,o=e.selectButtonLabel,i=e.className,c=void 0===i?"":i,d=e.selectButtonClass,u=void 0===d?"":d,p=e.sizeRatio,m=void 0===p?8:p,v=e.cardSize,j=e.minCardSize,f=void 0===j?80:j,g=e.disabledSelectButton,w=void 0!==g&&g,N=(0,l.ZK)().translate,b=(0,l.m3)(m,32,f);return(0,t.jsx)(y.Z.PreviewGroup,{children:(0,t.jsx)("div",{className:(0,r.Z)("image-card-hand",c),children:a.map((function(e){return(0,t.jsxs)("div",{className:"image-card-hand__card-container",children:[Boolean(n)&&(0,t.jsx)(h.Z,{icon:(0,t.jsx)(Z.Z,{}),className:u,onClick:function(){return n(e)},size:"small",disabled:w,children:N("Selecionar","Select",o)}),(0,t.jsx)(_,{imageId:e,cardWidth:v||b}),(0,t.jsx)(x,{cardId:e})]},"hand-".concat(e))}))})})}var S=function(e){var s=e.size,a=void 0===s?"medium":s,n=e.cardWidth,o=void 0===n?200:n,i=e.className,c=void 0===i?"":i,d=e.previewImageId,u="image-card-back",p=(0,(0,l.vh)().shouldBeBlurred)(d),m=(null!==d&&void 0!==d?d:"").replace(/-/g,"/");return(0,t.jsx)("div",{className:(0,r.Z)(u,"".concat(u,"--").concat(a),c),children:(0,t.jsx)(y.Z,{width:o,src:b,preview:!!Boolean(d)&&(!p&&{maskClassName:"image-card__preview-mask",src:"".concat("https://www.kavispires.com/tdi/images/").concat(m,".jpg")})})})};function C(e){var s=e.hand;return s?(0,t.jsx)("div",{className:"image-card-preload-hand",children:s.map((function(e){return(0,t.jsx)(_,{imageId:e,cardWidth:1,preview:!1},"pre-load-".concat(e))}))}):(0,t.jsx)("span",{})}var T=a(2610);function E(e){var s=e.onClick,a=e.cardId,r=e.selectLabel,n=e.deselectLabel,o=e.isSelected,i=void 0!==o&&o;return(0,t.jsxs)(h.Z,{shape:"round",size:"small",ghost:!i,className:"image-card-select-button",onClick:function(){return s(a)},children:[(0,t.jsx)(T.Z,{}),i?(0,t.jsx)(u.v,{pt:"Desmarcar",en:"Deselect",custom:n}):(0,t.jsx)(u.v,{pt:"Selecionar",en:"Select",custom:r}),(0,t.jsx)(T.Z,{})]})}},4531:function(e,s,a){a.d(s,{G7:function(){return n},os:function(){return t},xo:function(){return o},r_:function(){return i}});var r=a(184);function n(e){var s=e.children;return(0,r.jsx)(r.Fragment,{children:s})}function t(e){var s=e.isVisible,a=void 0!==s&&s,n=e.children;return a?(0,r.jsx)(r.Fragment,{children:n}):(0,r.jsx)(r.Fragment,{})}function o(e){var s=e.orCondition,a=void 0!==s&&s,n=e.children;return a?(0,r.jsx)(r.Fragment,{children:n[0]}):(0,r.jsx)(r.Fragment,{children:n[1]})}function i(e){var s=e.cases,a=e.children;if(s.length>5)throw Error("ViewSwitch only supports up to 5 cases");return s[0]&&a[0]?a[0]:s[1]&&a[1]?a[1]:s[2]&&a[2]?a[2]:s[3]&&a[3]?a[3]:s[4]&&a[4]?a[4]:(console.warn("Rendering all children in the ViewSwitch"),a)}},6564:function(e,s,a){a.r(s),a.d(s,{default:function(){return me}});var r=a(6591),n=a(5149),t=a(9322),o=a(681),i=a(6698),c=a(9439),l=a(3142),d=a(1413),u=a(3673);var p=a(5948),m=a(2090),h=a(5234),v=a(6954),x=a(2791),j=a(8182),f=a(104),g=a(184);function w(e){var s=e.roundType,a=e.className,r=void 0===a?"":a,n="m-round-type__arrow";return(0,g.jsxs)("div",{className:(0,j.Z)("m-round-type",r),children:[(0,g.jsxs)("div",{className:"m-round-type__arrows",children:[0===s&&(0,g.jsx)(f.P.Arrow,{className:(0,j.Z)(n,"".concat(n,"--0"))}),(0,g.jsx)(f.P.Arrow,{className:(0,j.Z)(n,"".concat(n,"--1"))}),s>=2&&(0,g.jsx)(f.P.Arrow,{className:(0,j.Z)(n,"".concat(n,"--2"))}),3===s&&(0,g.jsx)(f.P.Arrow,{className:(0,j.Z)(n,"".concat(n,"--3"))})]}),(0,g.jsx)("div",{children:(0,g.jsx)(p.v,{pt:(0,g.jsx)(g.Fragment,{children:"Nesta rodada,"}),en:(0,g.jsx)(g.Fragment,{children:"This round"})})}),1===s&&(0,g.jsx)(p.v,{pt:(0,g.jsx)(g.Fragment,{children:"todos com a pontua\xe7\xe3o mais baixa movem uma cerquinha para direita."}),en:(0,g.jsx)(g.Fragment,{children:"all players with the lowest score move one fence to the right."})}),2===s&&(0,g.jsx)(p.v,{pt:(0,g.jsxs)(g.Fragment,{children:["todos com as ",(0,g.jsx)("span",{className:"m-round-type__number",children:"2"})," pontua\xe7\xf5es mais baixas movem uma cerquinha para direita."]}),en:(0,g.jsxs)(g.Fragment,{children:["all players with the ",(0,g.jsx)("span",{className:"m-round-type__number",children:"2"})," lowest scores move one fence to the right."]})}),3===s&&(0,g.jsx)(p.v,{pt:(0,g.jsxs)(g.Fragment,{children:["todos com as ",(0,g.jsx)("span",{className:"m-round-type__number",children:"3"})," pontua\xe7\xf5es mais baixas movem uma cerquinha para direita."]}),en:(0,g.jsxs)(g.Fragment,{children:["all players with the ",(0,g.jsx)("span",{className:"m-round-type__number",children:"3"})," lowest scores move one fence to the right."]})}),0===s&&(0,g.jsx)(p.v,{pt:(0,g.jsxs)(g.Fragment,{children:["todos com a pontua\xe7\xe3o mais baixa movem uma cerquinha para direita e todos com a pontua\xe7\xe3o mais alta movem uma cerquinha ",(0,g.jsx)("span",{className:"m-round-type__highlight",children:"para a esquerda"}),"!"]}),en:(0,g.jsxs)(g.Fragment,{children:["all players with the lowest score move one fence to the right and all players with the highest score move one fence ",(0,g.jsx)("span",{className:"m-round-type__highlight",children:"to the left"}),"!"]})})]})}var y=a(4925);var N=a.p+"static/media/sheep.0b4dcad26411248a73a57c22f474083a.svg",b=a(9417),_=a(9757),Z=["id","sheepId","animate","className","width"],A=function(e){var s=e.id,a=void 0===s?"25":s,r=e.sheepId,n=void 0===r?"25":r,t=e.animate,o=void 0!==t&&t,i=e.className,c=void 0===i?"":i,l=e.width,u=void 0===l?100:l,p=(0,y.Z)(e,Z),m="sheep-avatar",h=_.H[a];return(0,g.jsxs)("svg",(0,d.Z)((0,d.Z)({viewBox:"0 0 100 155",className:(0,j.Z)(m,o&&"".concat(m,"--bounce"),c),style:{animationDuration:"".concat(2e3+100*(Math.random()+Number(n)),"ms"),width:"".concat(u,"px")}},p),{},{children:[(0,g.jsx)("ellipse",{cx:"50.96",cy:"148.53",opacity:"0.2",rx:"28.18",ry:"4.66"}),(0,g.jsxs)("g",{children:[(0,g.jsx)("ellipse",{cx:"31.7",cy:"139.22",rx:"4.23",ry:"10.75"}),(0,g.jsx)("ellipse",{cx:"67.83",cy:"139.22",rx:"4.23",ry:"10.75"})]}),(0,g.jsx)("path",{fill:"#fff",d:"M99.92 102.37A19.51 19.51 0 0081 82.87a19.52 19.52 0 00-31.06-15.76 19.52 19.52 0 00-31.06 15.74 19.52 19.52 0 000 39 19.52 19.52 0 0031.06 15.74A19.52 19.52 0 0081 121.89a19.52 19.52 0 0018.92-19.52z"}),(0,g.jsx)("path",{d:"M65 80.2a7.74 7.74 0 001-4c0-3.17-1.63-5.74-3.64-5.74-1.73 0-3.17 1.91-3.54 4.46A18.87 18.87 0 0041 75c-.36-2.57-1.81-4.49-3.55-4.49-2 0-3.64 2.57-3.64 5.74a7.63 7.63 0 001 4A18.92 18.92 0 1065 80.2z"}),(0,g.jsx)("path",{fill:h.color,d:"M75 25a25 25 0 00-50 0 24.89 24.89 0 005.67 15.85 26.4 26.4 0 002.53 2.65L50 61.12l16.78-17.59a26.4 26.4 0 002.53-2.65A24.89 24.89 0 0075 25z"}),(0,g.jsx)("svg",{viewBox:"0 0 100 155",children:(0,g.jsx)("use",{href:N+"#sheep-face-".concat(n)})}),(0,g.jsx)("foreignObject",{x:"25",y:"0",width:"50",height:"50",style:{borderRadius:"50%"},children:(0,g.jsx)("svg",{viewBox:"0 0 100 100",children:(0,g.jsx)("use",{href:b.Z+"#avatar-".concat(a)})})})]}))};function S(e){var s=e.players,a=e.pastureSize,n=void 0===a?5:a,t=e.roundType,o=(0,l.Bs)(),i=(0,c.Z)(o,1)[0],d=3===n,u=Math.min(i,1360)-36,p=Math.max(u*(d?.65:1),300),m=u/4,h=Math.min(i,1360)/22,v={gridTemplateColumns:d?"1fr 1fr 1fr 0.65fr":"1fr 1fr 1fr 1fr 1fr 0.65fr"},f=(0,x.useMemo)((function(){var e=Array(n+1).fill(null);return Object.values(s).forEach((function(s){null===e[s.level]&&(e[s.level]=[]),e[s.level].push(s)})),e}),[s,n]);return(0,g.jsxs)("div",{className:"m-pasture-container",style:{width:"".concat(p,"px")},children:[void 0!==t&&(0,g.jsx)(w,{roundType:t,className:"m-pasture-round-type"}),(0,g.jsxs)("div",{className:"m-pasture",style:{height:"".concat(m,"px")},children:[(0,g.jsx)("img",{src:"".concat(r.fQ.IN_GAME,"m-pasture-").concat(n,".png"),alt:"pasture background",className:"m-pasture__background"}),(0,g.jsx)("div",{className:"m-enclosures",style:v,children:f.map((function(e,s){var a="m-enclosure-".concat(s);return(0,g.jsx)("div",{className:(0,j.Z)("m-enclosure",a),children:e&&e.map((function(e,s){var r="".concat(a,"-").concat(e.id),t="m-sheep--pos-".concat(s);return(0,g.jsx)(A,{id:e.avatarId,sheepId:e.sheepId,className:(0,j.Z)("m-sheep",t,e.animateRight&&"m-sheep--animate-right",e.animateLeft&&"m-sheep--animate-left",e.animateRebound&&"m-sheep--animate-rebound",e.level===n&&"m-sheep--animate-die"),width:h,animate:!0},r)}))},a)}))}),(0,g.jsx)("img",{src:"".concat(r.fQ.IN_GAME,"m-fence-").concat(n,".svg"),alt:"fence",className:"m-pasture__fence"}),(0,g.jsx)("div",{className:"m-pasture-names",children:(0,g.jsx)("div",{className:"m-enclosures m-enclosures--names",style:v,children:f.map((function(e,s){var a,r,n=null!==(a=null===e||void 0===e||null===(r=e.map((function(e){return e.name})))||void 0===r?void 0:r.join(",\n"))&&void 0!==a?a:"";return(0,g.jsx)("span",{className:(0,j.Z)("m-enclosure-names",n&&"m-enclosure-names--has-names"),children:n},"m-enclosure-".concat(s))}))})})]})]})}var C=a(2037);function T(e){var s=e.activePlayer;return(0,g.jsx)(v.vr,{children:(0,g.jsx)(p.v,{pt:(0,g.jsxs)(g.Fragment,{children:["Precisamos reduzir essa popula\xe7\xe3o! Vamos fazer uma pergunta em que todos tem que escrever uma certa quantidade de respostas. Voc\xea ganha um ponto para cada resposta igual a de outra ovelha. Quem receber o menor n\xfamero de pontos move uma se\xe7\xe3o para a direita.",(0,g.jsx)("br",{}),"Se voc\xea j\xe1 est\xe1 no \xfaltimo pasto e tiver que mover pra direita, voc\xea cai no precip\xedcio e morre. O pasto fica menos lotado e todos mais felizes.",(0,g.jsx)("br",{}),(0,g.jsxs)(v.vr,{contained:!0,children:[(0,g.jsx)(C.gj,{player:s,addressUser:!0})," escolher\xe1 uma pergunta para essa rodada."]})]}),en:(0,g.jsxs)(g.Fragment,{children:["We are sheep and our pasture is overcrowded! We need to decide who should leave.",(0,g.jsx)("br",{}),"Let's ask a question and everyone has to give a certain number of answers. You are trying to match answers with other sheep to get points. Whoever gets the fewest points moves one section to the right.",(0,g.jsx)("br",{}),"If you are already in the last pasture and have to move to the right, you fall off the cliff and die. The pasture is less crowded and everyone is happier.",(0,g.jsx)("br",{}),(0,g.jsxs)(v.vr,{contained:!0,children:[(0,g.jsx)(C.gj,{player:s,addressUser:!0})," will choose a question for this round."]})]})})})}function E(){return(0,g.jsx)(v.vr,{children:(0,g.jsx)(p.v,{pt:(0,g.jsxs)(g.Fragment,{children:["Agora \xe9 hora de responder!",(0,g.jsx)("br",{}),"Pense em respostas comuns que far\xe1 com que voc\xea responda igual a outros jogadores.",(0,g.jsx)("br",{}),"Voc\xea ganha 1 ponto para cada uma de suas respostas + 1 ponto para cada resposta igual a de outro jogador (1 ponto por jogador).",(0,g.jsx)("br",{}),"Por exemplo, se 3 jogadores escreveram 'bola', s\xe3o 3 pontos para cada."]}),en:(0,g.jsxs)(g.Fragment,{children:["It's time to answer!",(0,g.jsx)("br",{}),"Think of common answers that will help you match the largest number of players.",(0,g.jsx)("br",{}),"You get 1 point for each of your answers + 1 point for each match with other players.",(0,g.jsx)("br",{}),"For example, if 3 players write 'chicken', each of those players get 3 points."]})})})}function I(){return(0,g.jsx)(v.vr,{children:(0,g.jsx)(p.v,{pt:(0,g.jsxs)(g.Fragment,{children:["Hora de comparar respostas!",(0,g.jsx)("br",{}),"O jogo agrupar\xe1 todas as respostas iguais, mas agora voc\xeas tem a chance de adicionar palavras que o jogo n\xe3o agrupou por conta de erro gramatical, acento ou plural.",(0,g.jsx)("br",{}),"Lembre-se g\xeaneros s\xe3o considerados diferentes ",(0,g.jsx)("code",{children:"pr\xedncipe \u2260 princesa"}),", assim como geral vs espec\xedfico ",(0,g.jsx)("code",{children:"caminh\xe3o \u2260 caminh\xe3o de mudan\xe7a"}),"."]}),en:(0,g.jsxs)(g.Fragment,{children:["Time to compare answers!",(0,g.jsx)("br",{}),"The game will group all identical answers, but now the group has a chance to add answers that it missed because of typo, accents, or pluralization.",(0,g.jsx)("br",{}),"Remember that genders are considered different ",(0,g.jsx)("code",{children:"prince \u2260 princess"}),", as well as general vs specific ",(0,g.jsx)("code",{children:"truck \u2260 fire truck"}),"."]})})})}function q(e){var s=e.currentQuestions,a=e.onSubmitQuestion,r=e.players,n=e.roundType,t=e.activePlayer,o=e.pastureSize;return(0,g.jsxs)(h.h,{fullWidth:!0,className:"m-step",children:[(0,g.jsx)(v.Dx,{children:(0,g.jsx)(p.v,{pt:"Selecione uma das perguntas",en:"Select one of the questions"})}),(0,g.jsx)(m.hD,{content:(0,g.jsx)(T,{activePlayer:t})}),(0,g.jsx)("ul",{className:"m-questions contained",children:s.map((function(e){return(0,g.jsx)("li",{className:"m-questions__item",children:(0,g.jsxs)("button",{onClick:function(){return a({questionId:e.id})},className:"m-question m-question--button",children:[(0,g.jsx)("span",{className:"m-question__prefix",children:e.prefix}),(0,g.jsx)("span",{className:"m-question__number",children:e.number}),(0,g.jsx)("span",{className:"m-question__suffix",children:e.suffix})]})},e.id)}))}),(0,g.jsx)(S,{players:r,pastureSize:o,roundType:n})]})}function k(e){var s=e.activePlayer,a=e.players,r=e.roundType,n=e.pastureSize;return(0,g.jsxs)(h.h,{fullWidth:!0,className:"m-step",children:[(0,g.jsxs)(v.Dx,{children:[(0,g.jsx)(C.fM,{type:"animated-clock",size:"large"})," ",(0,g.jsx)(p.v,{pt:"Aguarde...",en:"Please wait..."})]}),(0,g.jsxs)(v.vr,{contained:!0,children:[(0,g.jsx)(C.gj,{player:s,addressUser:!0})," ",(0,g.jsx)(p.v,{pt:"est\xe1 escolhendo a pergunta da rodada.",en:"is choosing the question for the round."}),(0,g.jsx)("br",{})]}),(0,g.jsx)(S,{players:a,pastureSize:n,roundType:r})]})}var L=a(398),R=a(4531);var O=function(e){var s,a,r=e.state,t=e.players,i=e.info,m=(0,l.ZK)().translate,x=(0,l.g4)(0),j=x.step,f=x.goToNextStep,w=x.setStep,y=(0,l.RQ)("activePlayerId",r,t),N=(0,c.Z)(y,2),b=N[0],_=N[1],Z=function(e){var s=(0,l.ZK)().translate,a=(0,l.Cq)({apiFunction:u.sQ.submitAction,actionName:"submit-question",onBeforeCall:function(){return e(3)},onError:function(){return e(1)},successMessage:s("Pergunta enviada com sucesso!","Question send successfully!"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar enviar a pergunta","Oops, the application failed to submit the question")});return function(e){a((0,d.Z)({action:"SUBMIT_QUESTION"},e))}}(w);return(0,g.jsx)(o.JK,{info:i,phase:null===r||void 0===r?void 0:r.phase,allowedPhase:n.R.MENTE_COLETIVA.QUESTION_SELECTION,children:(0,g.jsxs)(h.p,{step:j,players:t,children:[(0,g.jsx)(L.Y,{round:r.round,onPressButton:f,time:3,circleColor:"white",children:(0,g.jsx)(v.vr,{contained:!0,children:(0,g.jsx)(p.v,{pt:"Somos ovelhinhas e nosso pasto est\xe1 superlotado!",en:"We are sheep and our pasture is overcrowded!"})})}),(0,g.jsx)(o.Cl,{type:"sheep",title:m("O Pasto Superlotado","A Overcrowded Pasture"),onClose:f,currentRound:null===r||void 0===r||null===(s=r.round)||void 0===s?void 0:s.current,duration:(null===r||void 0===r||null===(a=r.round)||void 0===a?void 0:a.current)<3?40:10,children:(0,g.jsx)(T,{activePlayer:b})}),(0,g.jsxs)(R.xo,{orCondition:_,children:[(0,g.jsx)(q,{players:t,currentQuestions:r.currentQuestions,onSubmitQuestion:Z,roundType:r.roundType,activePlayer:b,pastureSize:r.pastureSize}),(0,g.jsx)(k,{activePlayer:b,players:t,roundType:r.roundType,pastureSize:r.pastureSize})]})]})})},M=a(4942),z=a(6005),F=a(3099),P=a(7309),Q=a(1238),B=a(763),U=function(e,s){var a=(0,B.shuffle)(Math.random()>.5?["agua","bola","coco","dedo","egua","flauta","gatilho","h\xe9lio","jaguar"]:["\xe1gua","bola","coc\xf4","dedo","\xe9gua","flauta","gatilho","helio","jipe"]);return Array(s).fill(0).map((function(s,r){return(0,M.Z)({},(0,Q.O1)(["answer","".concat(r),e]),a[s+r].toUpperCase())})).reduce((function(e,s){return e=(0,d.Z)((0,d.Z)({},e),s)}),{})};function V(e){var s=e.question;return(0,g.jsxs)("span",{className:"m-question m-question--span",children:[(0,g.jsx)("span",{className:"m-question__prefix",children:s.prefix}),(0,g.jsx)("span",{className:"m-question__number",children:s.number}),(0,g.jsx)("span",{className:"m-question__suffix",children:s.suffix})]})}var D=a(7891);function W(e){var s=e.user,a=e.currentQuestion,r=e.players,n=e.roundType,t=e.onSubmitAnswers,o=e.pastureSize,i=(0,l.ZK)().translate,u=(0,x.useState)({}),j=(0,c.Z)(u,2),f=j[0],w=j[1];(0,l.MJ)((function(){t({answers:U(s.id,a.number)})}),[]);var y=function(e){w((function(s){return(0,d.Z)((0,d.Z)({},s),{},(0,M.Z)({},e.target.id,e.target.value.toUpperCase().trim()))}))},N=Object.keys(f).length<a.number||new Set(Object.values(f)).size!==a.number,b=function(){N||t({answers:f})};return(0,g.jsxs)(h.h,{fullWidth:!0,children:[(0,g.jsxs)("div",{className:"m-step__contained-content",children:[(0,g.jsxs)(v.Dx,{level:3,children:[(0,g.jsx)(p.v,{pt:"Responda a pergunta:",en:"Answer the question:"}),(0,g.jsx)(V,{question:a})]}),(0,g.jsx)(m.hD,{content:(0,g.jsx)(E,{})}),(0,g.jsx)("ol",{className:"m-answers",children:Array(a.number).fill(1).map((function(e,a){var r=e+a,n="answer-".concat(a),t=(0,Q.O1)(["answer",a,s.id]);return(0,g.jsx)("li",{className:"m-answers__item",children:(0,g.jsx)(z.Z,{className:"m-answers__input",id:t,placeholder:i("Escreva a resposta ".concat(r," aqui"),"Write answer ".concat(r," here")),autoComplete:"off",onChange:y,onPressEnter:b})},n)}))}),(0,g.jsx)(F.Z,{className:"space-container",align:"center",children:(0,g.jsx)(P.Z,{type:"primary",disabled:N,onClick:function(){return t({answers:f})},children:(0,g.jsx)(p.v,{pt:"Enviar respostas",en:"Submit answers"})})})]}),(0,g.jsx)(S,{players:r,pastureSize:o,roundType:n}),(0,g.jsx)(F.Z,{className:"space-container",align:"center",children:(0,g.jsx)(D.qQ,{players:r})})]})}var G=function(e){var s,a,r=e.state,t=e.players,i=e.info,c=(0,l.ZK)().translate,p=(0,l.g4)(0),m=p.step,v=p.goToNextStep,x=p.setStep,j=(0,l.aF)(t),f=function(e){var s=(0,l.ZK)().translate,a=(0,l.Cq)({apiFunction:u.sQ.submitAction,actionName:"submit-answers",onBeforeCall:function(){return e(2)},onError:function(){return e(1)},successMessage:s("Respostas enviadas com sucesso!","Answers send successfully!"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar enviar respostas","Oops, the application failed to submit answers")});return function(e){a((0,d.Z)({action:"SUBMIT_ANSWERS"},e))}}(x);return(0,g.jsx)(o.JK,{info:i,phase:null===r||void 0===r?void 0:r.phase,allowedPhase:n.R.MENTE_COLETIVA.EVERYBODY_WRITES,children:(0,g.jsxs)(h.p,{step:m,players:t,children:[(0,g.jsx)(o.Cl,{type:"writing",title:c("Todos Respondem","Everybody Writes"),onClose:v,currentRound:null===r||void 0===r||null===(s=r.round)||void 0===s?void 0:s.current,duration:(null===r||void 0===r||null===(a=r.round)||void 0===a?void 0:a.current)<3?20:void 0,children:(0,g.jsx)(E,{})}),(0,g.jsx)(W,{currentQuestion:r.currentQuestion,players:t,roundType:r.roundType,onSubmitAnswers:f,user:j,pastureSize:r.pastureSize})]})})},K=a(1333),Y=a(8200),H=a(3591);function J(e){var s=e.allAnswers,a=e.allowedList,r=e.answerGroup,n=e.onNextAnswer,t=e.onAddAnswer,o=e.players,i=(0,l.r$)().isLoading,c=(0,x.useMemo)((function(){return s.filter((function(e){if(e.isLocked)return!1;var s=r.entries.map((function(e){return e.id})),a=r.entries.map((function(e){return e.playerId}));return!s.includes(e.id)&&!a.includes(e.playerId)}))}),[s,r]);return(0,g.jsxs)(H.In,{className:"m-admin",direction:"vertical",align:"center",children:[(0,g.jsx)(H.wg,{onClick:function(){return n({allowedList:Object.keys(a)})},disabled:i,children:(0,g.jsx)(p.v,{pt:"Confirmar e ir para pr\xf3xima resposta",en:"Confirm and go to next answer"})}),(0,g.jsx)("ul",{className:"m-admin__players-answers",children:c.map((function(e){return(0,g.jsxs)(P.Z,{size:"large",disabled:i,className:"m-admin__answer",icon:(0,g.jsx)(Y.Z,{}),onClick:function(){return t({answer:(0,d.Z)({},e)})},children:[(0,g.jsx)(C.qE,{id:o[e.playerId].avatarId})," ",e.answer]},"admin-".concat(e.id))}))})]})}var $=a(2014),X=a(2521),ee=a(3819),se=a(170);function ae(e){var s=e.answerGroup,a=e.currentQuestion,r=e.players,n=e.allowUserAnswer,t=e.remainingGroupsCount,o=(0,l.ZK)().translate,i=(0,l.j1)("isAdmin"),d=(0,c.Z)(i,1)[0];return(0,g.jsxs)(h.h,{className:"m-step",children:[(0,g.jsxs)(v.Dx,{level:3,children:[(0,g.jsx)(p.v,{pt:"Comparar Respostas",en:"Compare Answers"}),(0,g.jsx)(se.Zb,{header:o("Pergunta","Question"),color:["yellow","orange","green","blue","purple"][t%5],className:"m-question-card",footer:Array(t).fill("\u2022").join(""),children:(0,g.jsx)(V,{question:a})})]}),(0,g.jsx)(v.vr,{contained:!0,children:(0,g.jsx)(p.v,{pt:"N\xe3o existe resposta certa ou errada. Aqui, apenas agrupamos respostas iguais para ganhar pontos. O objetivo \xe9 pensar como o grupo!",en:"There's no wrong or right answer. Here, we just group equal answers for points. The goal is to think like the group"})}),(0,g.jsxs)("div",{className:"m-answer-group",children:[(0,g.jsx)("div",{className:"m-answer-group__answer-container",children:(0,g.jsx)("div",{className:"m-answer-group__answer",children:s.answer})}),(0,g.jsx)("ul",{className:"m-answer-group__players",children:s.entries.map((function(e){var a="ag-".concat(e.id),t=r[e.playerId],o=t.answers[e.id].parsedAnswer===s.parsedAnswer||t.answers[e.id].isLocked;return(0,g.jsxs)("li",{className:"m-answer-group__player",children:[(0,g.jsx)(A,{id:t.avatarId,sheepId:t.sheepId,className:"m-answer-group__sheep-avatar",width:40,animate:!0}),(0,g.jsxs)("span",{className:"m-answer-group__player-name",children:[t.name," ",o?(0,g.jsx)(X.Z,{}):(0,g.jsx)(ee.Z,{})]}),!o&&(0,g.jsx)("span",{className:(0,j.Z)("m-answer-group__speech-bubble-small",(0,Q.hL)("tada")),children:t.answers[e.id].answer}),!o&&d&&(0,g.jsx)("div",{className:"m-answer-group__allow-add",children:(0,g.jsx)($.Z,{"data-allowAnswer":e.id,onChange:function(s){return n(s.target.checked,e.id)}})})]},a)}))})]})]})}function re(e){var s=e.answerGroup,a=e.user,r=e.onAddAnswer,n=(0,l.r$)().isLoading,t=s.entries.some((function(e){return e.playerId===a.id})),o=Object.values(a.answers).reduce((function(e,s){var a;return e+(null!==(a=null===s||void 0===s?void 0:s.score)&&void 0!==a?a:0)}),0);return(0,g.jsx)("div",{className:"m-step",children:(0,g.jsxs)("div",{className:"m-step__contained-content",children:[(0,g.jsxs)(v.vr,{contained:!0,children:[(0,g.jsx)(p.v,{pt:"Se voc\xea cometeu um erro ortogr\xe1fico ou acha que sua resposta deveria estar no grupo acima, clique nela para adicion\xe1-la. Voc\xea s\xf3 pode ter uma resposta por pergunta!",en:"If you made a typo or for some reason think your answer should be in this group, click on it to add it. You can only have one answer per question."}),(0,g.jsx)("br",{}),(0,g.jsx)(p.v,{pt:(0,g.jsxs)(g.Fragment,{children:["Voc\xea tem: ",o," ponto(s)"]}),en:(0,g.jsxs)(g.Fragment,{children:["You have: ",o," point(s)"]})})]}),(0,g.jsx)(F.Z,{className:"space-container m-user-answers",align:"center",children:Object.entries(a.answers).map((function(e){var s=(0,c.Z)(e,2),o=s[0],i=s[1];return(0,g.jsxs)(P.Z,{disabled:(null===i||void 0===i?void 0:i.isLocked)||t||n,className:"m-user-answer",icon:i.isLocked?(0,g.jsx)(X.Z,{}):(0,g.jsx)(Y.Z,{}),onClick:function(){return r({answer:(0,d.Z)({id:o,playerId:a.id},i)})},children:[i.answer," ",Boolean(i.score)&&"(".concat(i.score,")")]},"a-b-".concat(o))}))})]})})}function ne(e){var s=e.currentQuestion,a=e.answerGroup,r=e.players,n=e.user,t=e.allAnswers,o=e.onAddAnswer,i=e.onNextAnswer,c=e.remainingGroupsCount,l=e.allowedList,u=e.setAllowedList;return a?(0,g.jsxs)(h.h,{fullWidth:!0,children:[(0,g.jsx)(ae,{currentQuestion:s,answerGroup:a,players:r,allowUserAnswer:function(e,s){var a=(0,d.Z)({},l);e?u((0,d.Z)((0,d.Z)({},a),{},(0,M.Z)({},s,!0))):(null===a||void 0===a||delete a[s],u(a))},remainingGroupsCount:c}),(0,g.jsx)(K.Z,{}),(0,g.jsx)(re,{user:n,answerGroup:a,onAddAnswer:o}),(0,g.jsx)(K.Z,{}),(0,g.jsx)(J,{answerGroup:a,allAnswers:t,players:r,onAddAnswer:o,onNextAnswer:i,allowedList:l})]}):(0,g.jsx)(h.h,{fullWidth:!0,children:"Pronto!"})}var te=function(e){var s,a,r=e.state,t=e.players,i=e.info,p=(0,l.ZK)().translate,m=(0,l.g4)(0),v=m.step,j=m.goToNextStep,f=(0,l.aF)(t),w=(0,x.useState)({}),y=(0,c.Z)(w,2),N=y[0],b=y[1],_=function(){var e=(0,l.ZK)().translate,s=(0,l.Cq)({apiFunction:u.sQ.submitAction,actionName:"add-answer",successMessage:e("Resposta adicionada com sucesso!","Answer added successfully!"),errorMessage:e("Vixi, o aplicativo encontrou um erro ao tentar adicionar respostar","Oops, the application failed to add answer")});return function(e){s((0,d.Z)({action:"ADD_ANSWER"},e))}}(),Z=function(e){var s=(0,l.ZK)().translate,a=(0,l.Cq)({apiFunction:u.sQ.submitAction,actionName:"next-answers",onSuccess:e,successMessage:s("Pr\xf3ximas respostas acionadas com sucesso!","Next answers triggered successfully!"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar avan\xe7ar","Oops, the application failed to advance")});return function(e){a((0,d.Z)({action:"NEXT_ANSWERS"},e))}}((function(){return b({})})),A=r.answersList[0];return(0,g.jsx)(o.JK,{info:i,phase:null===r||void 0===r?void 0:r.phase,allowedPhase:n.R.MENTE_COLETIVA.COMPARE,children:(0,g.jsxs)(h.p,{step:v,players:t,children:[(0,g.jsx)(o.Cl,{type:"discussion",title:p("Respostas","Answers"),onClose:j,currentRound:null===r||void 0===r||null===(s=r.round)||void 0===s?void 0:s.current,duration:(null===r||void 0===r||null===(a=r.round)||void 0===a?void 0:a.current)<3?20:void 0,children:(0,g.jsx)(I,{})}),(0,g.jsx)(ne,{currentQuestion:r.currentQuestion,answerGroup:A,players:t,user:f,allAnswers:r.allAnswers,onAddAnswer:_,onNextAnswer:Z,remainingGroupsCount:r.answersList.length,allowedList:N,setAllowedList:b})]})})},oe=a(722),ie=a(959),ce=a(9263);function le(e){var s=e.ranking,a=e.players,r=e.roundType,n=e.pastureChangeStr,t=e.round,o=e.pastureSize,i=e.announceSave,l=void 0!==i&&i,d=(0,x.useState)(0),u=(0,c.Z)(d,2),m=u[0],f=u[1],y=(0,x.useState)(0),N=(0,c.Z)(y,2),b=N[0],_=N[1],Z=(0,x.useState)(!1),A=(0,c.Z)(Z,2),C=A[0],T=A[1],E=(0,x.useMemo)((function(){return JSON.parse(n)}),[n]),I=(0,oe.useTimer)({expiryTimestamp:(0,Q.rv)(15),autoStart:!0}).seconds;return(0,x.useEffect)((function(){7===I&&f(1),5===I&&_(1),4===I&&l&&T(!0),1===I&&_(2)}),[I]),(0,g.jsxs)(h.h,{fullWidth:!0,children:[(0,g.jsx)(v.Dx,{level:1,children:(0,g.jsx)(p.v,{pt:"Resultado",en:"Results"})}),0===m&&(0,g.jsx)(w,{roundType:r}),(0,g.jsxs)(h.p,{step:m,players:a,children:[(0,g.jsx)(h.h,{children:(0,g.jsx)(ce.l,{ranking:s,players:a,hideGainedPoints:!0})},0),(0,g.jsxs)(h.h,{children:[C&&(0,g.jsxs)(v.vr,{contained:!0,className:(0,j.Z)("m-save-card",(0,Q.hL)("zoomInDown")),children:[(0,g.jsx)(ie.Z,{style:{color:"red"}})," ",(0,g.jsx)(p.v,{pt:"Vamos dar uma \xfaltima chance para a pobre ovelhinha que ia morrer agora",en:"Let's give one more chance to the poor sheep about to die. The last one!"})," ",(0,g.jsx)(ie.Z,{style:{color:"red"}})]}),(0,g.jsx)(S,{players:E[b],pastureSize:o,roundType:m>0?r:void 0}),(0,g.jsx)(H.wU,{round:t})]},1)]})]})}var de=function(e){var s,a=e.state,r=e.players,t=e.info,i=(0,l.ZK)().translate,c=(0,l.g4)(0),d=c.step,u=c.goToNextStep;return(0,g.jsx)(o.JK,{info:t,phase:null===a||void 0===a?void 0:a.phase,allowedPhase:n.R.MENTE_COLETIVA.RESOLUTION,children:(0,g.jsxs)(h.p,{step:d,players:r,children:[(0,g.jsx)(o.Cl,{type:"customer-review",title:i("Resultado","And who moves is..."),onClose:u,currentRound:null===a||void 0===a||null===(s=a.round)||void 0===s?void 0:s.current,children:(0,g.jsx)(v.vr,{children:(0,g.jsx)(p.v,{pt:(0,g.jsxs)(g.Fragment,{children:["Agora podemos saber quem deve ser linchado porque n\xe3o combina com o grupo!",(0,g.jsx)("br",{}),"Gra\xe7as a Deus, mais espa\xe7o!"]}),en:(0,g.jsxs)(g.Fragment,{children:["Now we will know who can be moved because they don't match with the group!",(0,g.jsx)("br",{}),"Thank God, more room!"]})})})}),(0,g.jsx)(le,{ranking:a.ranking,players:r,pastureChangeStr:a.pastureChangeStr,roundType:a.roundType,announceSave:null===a||void 0===a?void 0:a.announceSave,round:a.round,pastureSize:a.pastureSize})]})})},ue=a(2510);var pe=function(e){var s=e.state,a=e.info;return(0,g.jsx)(ue.S,{info:a,state:s,announcementIcon:"the-end",rateWidgetCustomText:(0,g.jsx)(p.v,{pt:"Alguma sugest\xe3o de pergunta?",en:"Any question suggestions?"}),children:(0,g.jsxs)("div",{className:"m-game-over-in-memoriam",children:[(0,g.jsx)(v.Dx,{children:"In memoriam"}),(0,g.jsx)("div",{className:"m-sheep-rip",children:s.losers.map((function(e){return(0,g.jsxs)("div",{className:"m-sheep-rip__entry",children:[(0,g.jsx)(A,{id:e.avatarId,width:80,sheepId:e.sheepId}),(0,g.jsx)("span",{className:"m-sheep-rip__name",children:e.name})]},"sheep-player-1")}))})]})})};var me=function(e){var s=e.gameId;return(0,g.jsx)(t.z,{gameId:s,gameCollection:r.H$.MENTE_COLETIVA,getActiveComponent:function(e){switch(e){case n.R.DEFAULT.LOBBY:return o.Uc;case n.R.DEFAULT.RULES:return o.hj;case n.R.DEFAULT.SETUP:return o.Z8;case n.R.MENTE_COLETIVA.QUESTION_SELECTION:return O;case n.R.MENTE_COLETIVA.EVERYBODY_WRITES:return G;case n.R.MENTE_COLETIVA.COMPARE:return te;case n.R.MENTE_COLETIVA.RESOLUTION:return de;case n.R.DEFAULT.GAME_OVER:return pe;default:return i.S}}})}},2463:function(e,s,a){e.exports=a.p+"static/media/placeholder.cabb9e00caf6c7d6ff1f.jpg"}}]);
//# sourceMappingURL=mente-coletiva.9bd1be70.chunk.js.map