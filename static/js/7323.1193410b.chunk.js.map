{"version":3,"file":"static/js/7323.1193410b.chunk.js","mappings":"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","sources":["components/admin/AdminOnlyContainer.tsx","components/admin/_internal/AdminPerformActionButton.tsx","components/admin/_internal/ValueFormItem.tsx","components/admin/_internal/ForceStateForm.tsx","components/admin/_internal/PlayersReadyState.tsx","components/admin/AdminMenuDrawer.tsx","components/admin/AdminNextPhaseButton.tsx","components/admin/AdminButton.tsx","components/admin/AdminOnlyButton.tsx","components/players/ReadyPlayersBar.tsx","components/players/TurnOrder.tsx","components/players/WaitingRoom.tsx","components/players/reorder.tsx","hooks/useAPICall.ts","hooks/useTemporarilyHidePlayersBar.ts","mock/players.ts"],"sourcesContent":["import clsx from 'clsx';\nimport { ReactNode } from 'react';\n// Ant Design Resources\nimport { Space, SpaceProps } from 'antd';\nimport { FireFilled } from '@ant-design/icons';\n// Hooks\nimport { useGlobalState } from 'hooks/useGlobalState';\n\ninterface AdminOnlyContainerProps extends SpaceProps {\n  /**\n   * The content of the component\n   */\n  children: ReactNode;\n  /**\n   * Optional custom class name\n   */\n  className?: string;\n}\n\nexport const AdminOnlyContainer = ({ children, className = '', ...props }: AdminOnlyContainerProps) => {\n  const [isAdmin] = useGlobalState('isAdmin');\n  const [isAdminEnabled] = useGlobalState('isAdminEnabled');\n\n  if (!isAdmin || !isAdminEnabled) return <span></span>;\n\n  return (\n    <fieldset className={clsx('admin-only-container', className)}>\n      <legend className=\"admin-only-container__legend\">\n        <FireFilled /> Admin Controls\n      </legend>\n      <Space {...props}>{children}</Space>\n    </fieldset>\n  );\n};\n","// Ant Design Resources\nimport { Button, ButtonProps } from 'antd';\nimport { FireFilled } from '@ant-design/icons';\n\ninterface AdminPerformActionButtonProps extends ButtonProps {\n  label: string;\n}\nexport const AdminPerformActionButton = ({ label, ...props }: AdminPerformActionButtonProps) => (\n  <Button icon={<FireFilled />} type=\"primary\" danger className=\"full-width\" {...props}>\n    {label}\n  </Button>\n);\n","// Ant Design Resources\nimport { Form, Input, InputNumber, Switch } from 'antd';\n\ntype ValueFormItemProps = {\n  valueType?: string;\n};\n\nexport const ValueFormItem = ({ valueType }: ValueFormItemProps) => {\n  switch (valueType) {\n    case 'number':\n      return (\n        <Form.Item label=\"Value\" name=\"value\">\n          <InputNumber />\n        </Form.Item>\n      );\n    case 'boolean':\n      return (\n        <Form.Item label=\"Value\" name=\"value\">\n          <Switch checkedChildren=\"true\" unCheckedChildren=\"false\" defaultChecked />\n        </Form.Item>\n      );\n    case 'nullish':\n      return (\n        <Form.Item label=\"Value\" name=\"value\">\n          <Switch checkedChildren=\"null\" unCheckedChildren=\"undefined\" defaultChecked />\n        </Form.Item>\n      );\n    default:\n      return (\n        <Form.Item label=\"Value\" name=\"value\">\n          <Input />\n        </Form.Item>\n      );\n  }\n};\n","// Ant Design Resources\nimport { AutoComplete, Button, Form, message, Select } from 'antd';\nimport { useState } from 'react';\nimport { ADMIN_ACTIONS } from 'utils/constants';\n\n// Components\nimport { ValueFormItem } from './ValueFormItem';\n\ntype ForceStateFormProps = {\n  isLoading?: boolean;\n  state: GameState;\n  onPerformAdminAction: GenericFunction;\n};\n\nexport const ForceStateForm = ({ isLoading, state, onPerformAdminAction }: ForceStateFormProps) => {\n  const [form] = Form.useForm();\n  const [valueType, setValueType] = useState('string');\n  const stateKeys = Object.keys(state).map((k) => ({ label: k, value: k }));\n\n  const onValueTypeSelectChange = (newType: any) => {\n    if (['boolean', 'nullish'].includes(newType)) form.setFieldsValue({ value: true });\n    if (newType === 'number') form.setFieldsValue({ value: 0 });\n    if (newType === 'string') form.setFieldsValue({ value: '' });\n    setValueType(newType);\n  };\n\n  const onFinish = async (e: any) => {\n    let parsedValue = e.value;\n\n    try {\n      if (e.valueType === 'number') {\n        parsedValue = Number(e.value) ?? 0;\n      }\n      if (e.valueType === 'nullish') {\n        parsedValue = e.value ? null : undefined;\n      }\n\n      const payload = {\n        [e.key]: parsedValue,\n      };\n\n      if (window.confirm(`Tem certeza que quer forçar o estado ${JSON.stringify(payload)}`)) {\n        await onPerformAdminAction({ state: payload, action: ADMIN_ACTIONS.FORCE_STATE_PROPERTY });\n\n        form.resetFields();\n        setValueType('string');\n      }\n    } catch (e: any) {\n      message.error('Something went wrong', e);\n    }\n  };\n\n  return (\n    <Form name=\"basic\" form={form} initialValues={{ valueType: 'string' }} onFinish={onFinish}>\n      <h3>Force Property</h3>\n      <Form.Item label=\"Key\" name=\"key\" rules={[{ required: true }]}>\n        <AutoComplete options={stateKeys} />\n      </Form.Item>\n      <Form.Item label=\"Type\" name=\"valueType\">\n        <Select onChange={onValueTypeSelectChange}>\n          <Select.Option value=\"string\">string</Select.Option>\n          <Select.Option value=\"number\">number</Select.Option>\n          <Select.Option value=\"boolean\">boolean</Select.Option>\n          <Select.Option value=\"nullish\">nullish</Select.Option>\n        </Select>\n      </Form.Item>\n\n      <ValueFormItem valueType={valueType} />\n\n      <Button type=\"primary\" htmlType=\"submit\" disabled={isLoading} danger>\n        Submit\n      </Button>\n    </Form>\n  );\n};\n","import { CheckCircleFilled, MinusCircleFilled } from '@ant-design/icons';\n\ntype PlayersReadyStateProps = {\n  players: GamePlayers;\n};\n\ntype PlayerStatus = {\n  readyPlayers: PlayerName[];\n  pendingPlayers: PlayerName[];\n};\n\nexport function PlayersReadyState({ players }: PlayersReadyStateProps) {\n  const { readyPlayers, pendingPlayers }: PlayerStatus = Object.values(players).reduce(\n    (acc: PlayerStatus, player) => {\n      if (player.ready) {\n        acc.readyPlayers.push(player.name);\n      } else {\n        acc.pendingPlayers.push(player.name);\n      }\n\n      return acc;\n    },\n    {\n      readyPlayers: [],\n      pendingPlayers: [],\n    }\n  );\n\n  return (\n    <li className=\"admin-players-ready-state\">\n      <h3>Players Ready State</h3>\n      <div className=\"admin-players-ready-state__entry\">\n        <CheckCircleFilled style={{ color: 'green' }} title=\"Ready:\" />\n        <ul className=\"admin-players-ready-state__list\">\n          {readyPlayers.map((playerName) => (\n            <li key={`admin-player-${playerName}`} className=\"admin-players-ready-state__item\">\n              {playerName}\n            </li>\n          ))}\n        </ul>\n      </div>\n      <div className=\"admin-players-ready-state__entry\">\n        <MinusCircleFilled style={{ color: 'orange' }} title=\"Ready:\" />\n        <ul className=\"admin-players-ready-state__list\">\n          {pendingPlayers.map((playerName) => (\n            <li key={`admin-player-${playerName}`} className=\"admin-players-ready-state__item\">\n              {playerName}\n            </li>\n          ))}\n        </ul>\n      </div>\n    </li>\n  );\n}\n","import { useState } from 'react';\n// Ant Design Resources\nimport { Button, Drawer, Popconfirm } from 'antd';\nimport { FireFilled } from '@ant-design/icons';\n// Hooks\nimport { useAPICall } from 'hooks/useAPICall';\nimport { useGlobalState } from 'hooks/useGlobalState';\nimport { useLoading } from 'hooks/useLoading';\n// Utils\nimport { ADMIN_API } from 'services/adapters';\nimport { ADMIN_ACTIONS } from 'utils/constants';\nimport { getFirebaseUrl } from 'services/firebase';\n// Components\nimport { AdminPerformActionButton } from './_internal/AdminPerformActionButton';\nimport { ForceStateForm } from './_internal/ForceStateForm';\nimport { PlayersReadyState } from './_internal/PlayersReadyState';\nimport { FixedMenuButton } from 'components/buttons';\nimport { Translate } from 'components/language';\n\ntype AdminMenuDrawerProps = {\n  state: GameState;\n  players: GamePlayers;\n};\n\nexport const AdminMenuDrawer = ({ state, players }: AdminMenuDrawerProps) => {\n  const { isLoading } = useLoading();\n  const [isAdmin] = useGlobalState('isAdmin');\n  const [usingEmulators] = useGlobalState('usingEmulators');\n  const [isAdminEnabled] = useGlobalState('isAdminEnabled');\n  const [visible, setVisible] = useState(false);\n  const [meta] = useGlobalState('gameMeta');\n\n  const showDrawer = () => {\n    setVisible(true);\n  };\n  const onClose = () => {\n    setVisible(false);\n  };\n\n  const onPerformAdminAction = useAPICall({\n    apiFunction: ADMIN_API.performAdminAction,\n    actionName: 'perform-admin-action',\n    successMessage: 'Admin action performed successfully',\n    errorMessage: 'The selected admin action has failed',\n    onAfterCall: onClose,\n  });\n\n  if (!isAdmin || !isAdminEnabled) return <span></span>;\n\n  return (\n    <>\n      <div className=\"admin-menu-drawer\">\n        <FixedMenuButton\n          position={-1}\n          icon={<FireFilled />}\n          type=\"button\"\n          label={<Translate pt=\" Admin\" en=\" Admin\" />}\n          onClick={showDrawer}\n          buttonProps={{\n            type: 'primary',\n            danger: true,\n          }}\n        />\n\n        <Drawer title=\"Admin Menu\" placement=\"left\" closable={false} open={visible} onClose={onClose}>\n          <ul>\n            <PlayersReadyState players={players} />\n            <li>\n              <hr />\n            </li>\n            <li className=\"admin-menu-drawer__buttons\">\n              <h3>Actions</h3>\n              <Popconfirm\n                placement=\"right\"\n                title=\"Are you sure you want to go to the next phase?\"\n                onConfirm={() => onPerformAdminAction({ action: ADMIN_ACTIONS.GO_TO_NEXT_PHASE })}\n              >\n                <AdminPerformActionButton\n                  disabled={isLoading || state.phase === 'GAME_OVER'}\n                  label=\"Force Next Phase\"\n                  className=\"admin-menu-drawer__button\"\n                />\n              </Popconfirm>\n              <Popconfirm\n                placement=\"right\"\n                title=\"Are you sure you want to go to play again?\"\n                onConfirm={() => onPerformAdminAction({ action: ADMIN_ACTIONS.PLAY_AGAIN })}\n              >\n                <AdminPerformActionButton\n                  // Not every game is currently working with this feature\n                  // disabled={isLoading || !(state.phase === 'GAME_OVER')}\n                  disabled\n                  label=\"Play Again\"\n                  className=\"admin-menu-drawer__button\"\n                />\n              </Popconfirm>\n              <Popconfirm\n                placement=\"right\"\n                title=\"Are you sure you want to go to end the game by the end of this round?\"\n                onConfirm={() => onPerformAdminAction({ action: ADMIN_ACTIONS.FORCE_END_GAME })}\n              >\n                <AdminPerformActionButton\n                  disabled={\n                    state?.lastRound || isLoading || ['LOBBY', 'RULES', 'GAME_OVER'].includes(state.phase)\n                  }\n                  label=\"Make this the last round\"\n                  className=\"admin-menu-drawer__button\"\n                />\n              </Popconfirm>\n            </li>\n            <li>\n              <hr />\n            </li>\n            <li>\n              <ForceStateForm\n                isLoading={isLoading}\n                onPerformAdminAction={onPerformAdminAction}\n                state={state}\n              />\n            </li>\n            <li>\n              <hr />\n            </li>\n            <li>\n              <h3>Firebase</h3>\n              <Button target=\"_blank\" href={getFirebaseUrl(usingEmulators, meta.gameName, meta.gameId)}>\n                Visit Firebase Collection\n              </Button>\n            </li>\n          </ul>\n        </Drawer>\n      </div>\n    </>\n  );\n};\n","import { ReactNode } from 'react';\n// Ant Design Resources\nimport { FireFilled } from '@ant-design/icons';\n// Hooks\nimport { useLanguage } from 'hooks/useLanguage';\nimport { useLoading } from 'hooks/useLoading';\nimport { useAPICall } from 'hooks/useAPICall';\n// Utils\nimport { ADMIN_API } from 'services/adapters';\nimport { ADMIN_ACTIONS } from 'utils/constants';\n// Components\nimport { TimedButton } from 'components/buttons';\nimport { Translate } from 'components/language';\nimport { AdminOnlyContainer } from './AdminOnlyContainer';\n\nfunction ButtonLabel({ round, lastRound }: { round?: GameRound; lastRound: boolean }) {\n  return lastRound || !round || round.current === round.total ? (\n    <Translate pt=\"Tela de Game Over\" en=\"Game Over Screen\" />\n  ) : (\n    <Translate pt=\"Próxima rodada\" en=\"Next Round\" />\n  );\n}\n\ntype AdminNextPhaseButtonProps = {\n  /**\n   * The button content, if not present \"Next Round is used instead\"\n   */\n  children?: ReactNode;\n  /**\n   * Optional custom class name\n   */\n  className?: string;\n  /**\n   * Game round information used to determine if it is game over\n   */\n  round?: GameRound;\n  /**\n   * Flag indicating if the current round should be considered the final round\n   */\n  lastRound?: boolean;\n  /**\n   * Time to auto trigger the button in seconds\n   */\n  autoTriggerTime?: number;\n};\n\n/**\n * Button only available to the admin to go to the next phase.\n * It can be auto-triggered by using the autoTriggerTime\n * @param props\n * @returns\n */\nexport function AdminNextPhaseButton({\n  className = '',\n  round,\n  lastRound = false,\n  autoTriggerTime = 0,\n  children,\n}: AdminNextPhaseButtonProps) {\n  const { translate } = useLanguage();\n  const { isLoading } = useLoading();\n\n  const onGoToNextPhase = useAPICall({\n    apiFunction: ADMIN_API.performAdminAction,\n    actionName: 'force-next-phase',\n    successMessage: translate('Funcionou, próxima fase!', 'It worked, next phase!'),\n    errorMessage: translate(\n      'Vixi, o aplicativo encontrou um erro ao tentar ir para a próxima fase',\n      'The application found an error while trying to go to the next phase'\n    ),\n  });\n\n  const handleClick = () => onGoToNextPhase({ action: ADMIN_ACTIONS.GO_TO_NEXT_PHASE });\n\n  return (\n    <AdminOnlyContainer className={className}>\n      <TimedButton\n        icon={<FireFilled />}\n        type=\"primary\"\n        danger\n        disabled={isLoading}\n        onClick={handleClick}\n        onExpire={handleClick}\n        duration={autoTriggerTime}\n        hideTimer={!Boolean(autoTriggerTime)}\n      >\n        {children ?? <ButtonLabel round={round} lastRound={lastRound} />}\n      </TimedButton>\n    </AdminOnlyContainer>\n  );\n}\n","import { ReactNode } from 'react';\n// Ant Design Resources\nimport { RocketFilled } from '@ant-design/icons';\nimport { Button, ButtonProps } from 'antd';\n// Hooks\nimport { useGlobalState } from 'hooks/useGlobalState';\nimport { useLoading } from 'hooks/useLoading';\n\ninterface AdminButtonProps extends ButtonProps {\n  /**\n   * The content of the component\n   */\n  children: ReactNode;\n  /**\n   * Action triggered when the button is clicked\n   */\n  onClick: GenericFunction;\n}\n\nexport function AdminButton({ onClick, children, ...rest }: AdminButtonProps) {\n  const { isLoading } = useLoading();\n  const [isAdminEnabled] = useGlobalState('isAdminEnabled');\n\n  if (!isAdminEnabled) return <span></span>;\n\n  return (\n    <Button icon={<RocketFilled />} danger type=\"primary\" onClick={onClick} disabled={isLoading} {...rest}>\n      {children}\n    </Button>\n  );\n}\n","import { ReactNode } from 'react';\n// Hooks\nimport { useGlobalState } from 'hooks/useGlobalState';\n// Components\nimport { AdminButton, AdminOnlyContainer } from './index';\n\ntype AdminOnlyButtonProps = {\n  onClick: GenericFunction;\n  label: ReactNode;\n};\n\nexport function AdminOnlyButton({ onClick, label }: AdminOnlyButtonProps) {\n  const [isAdminEnabled] = useGlobalState('isAdminEnabled');\n\n  if (!isAdminEnabled) return <span></span>;\n\n  return (\n    <AdminOnlyContainer>\n      <AdminButton onClick={onClick}>{label}</AdminButton>\n    </AdminOnlyContainer>\n  );\n}\n","// Ant Design Resources\nimport { Avatar as AntAvatar, Typography } from 'antd';\nimport { LikeFilled } from '@ant-design/icons';\n// Components\nimport { Avatar } from 'components/avatars';\nimport { Translate } from 'components/language';\n\ntype ReadyPlayersBarProps = {\n  players: GamePlayers;\n  readyText?: string;\n  readyTextPlural?: string;\n  hideNames?: boolean;\n};\n\nexport function ReadyPlayersBar({\n  players,\n  readyText,\n  readyTextPlural,\n  hideNames = false,\n}: ReadyPlayersBarProps) {\n  const { readyPlayers, notReadyPlayers }: { readyPlayers: GamePlayer[]; notReadyPlayers: string[] } =\n    Object.values(players).reduce(\n      (acc: any, player: GamePlayer) => {\n        if (player.ready) {\n          acc.readyPlayers.push(player);\n        } else {\n          acc.notReadyPlayers.push(player.name);\n        }\n        return acc;\n      },\n      {\n        readyPlayers: [],\n        notReadyPlayers: [],\n      }\n    );\n\n  if (readyPlayers.length === 0) {\n    return <span></span>;\n  }\n\n  return (\n    <div className=\"ready-player-bar\">\n      <div className=\"ready-player-bar__bar\">\n        <AntAvatar.Group size=\"small\">\n          {readyPlayers.map((player) => (\n            <Avatar key={player.name} id={player.avatarId} />\n          ))}\n        </AntAvatar.Group>\n        <span className=\"ready-player-bar__speech-bubble\">\n          <Typography.Text>\n            {readyPlayers.length > 1 ? (\n              <Translate pt=\"Estamos prontos!\" en=\"We're ready!\" custom={readyTextPlural} />\n            ) : (\n              <Translate pt=\"Estou pronto!\" en=\"I'm ready!\" custom={readyText} />\n            )}\n          </Typography.Text>\n          <LikeFilled className=\"ready-player-bar__speech-bubble-icon\" />\n        </span>\n      </div>\n      {!hideNames && notReadyPlayers.length > 0 && (\n        <span className=\"ready-player-bar__names\">\n          <Translate pt=\"Esperando\" en=\"Waiting for\" />: {notReadyPlayers.join(', ')}\n        </span>\n      )}\n    </div>\n  );\n}\n","import { Fragment, ReactNode, useMemo } from 'react';\nimport clsx from 'clsx';\n// Ant Design Resources\nimport { ForwardFilled } from '@ant-design/icons';\n// Helpers\nimport { getAvatarColorById } from 'utils/helpers';\nimport { reorder } from './reorder';\n// Components\nimport { Translate } from 'components/language';\nimport { AvatarName } from 'components/avatars';\n\ntype TurnOrderProps = {\n  /**\n   * Game players\n   */\n  players: GamePlayers;\n  /**\n   * The order array\n   */\n  order: PlayerId[];\n  /**\n   * The active player who should be highlighted\n   */\n  activePlayerId?: PlayerId;\n  /**\n   * Optional custom title\n   */\n  title?: ReactNode;\n  /**\n   * Optional custom class name\n   */\n  className?: string;\n  /**\n   * Reorder turn order so it starts with given player\n   */\n  reorderByUser?: PlayerId;\n};\n\nexport function TurnOrder({\n  players,\n  order,\n  activePlayerId,\n  reorderByUser,\n  title,\n  className = '',\n}: TurnOrderProps) {\n  const orderList = useMemo(\n    () => (Boolean(reorderByUser) ? reorder(order, reorderByUser!) : order),\n    [reorderByUser, order]\n  );\n\n  return (\n    <div className={clsx('turn-order', className)}>\n      <header className=\"turn-order__title\">\n        <Translate en=\"Player Order\" pt=\"Ordem dos Jogadores\" custom={title} />\n      </header>\n      <ol className=\"turn-order__players\">\n        {orderList.map((playerId, index) => {\n          const player = players[playerId];\n          const isActive = activePlayerId === playerId;\n          return (\n            <Fragment key={`turn-order-player-${playerId}`}>\n              <span\n                className={clsx('turn-order__player', isActive && 'turn-order__player--active')}\n                style={isActive ? { backgroundColor: getAvatarColorById(player.avatarId) } : undefined}\n              >\n                <AvatarName player={player} />\n              </span>\n              {index < order.length - 1 && (\n                <span className=\"turn-order__arrow\">\n                  <ForwardFilled />\n                </span>\n              )}\n            </Fragment>\n          );\n        })}\n      </ol>\n    </div>\n  );\n}\n","import { ReactNode } from 'react';\n// Hooks\nimport { useTemporarilyHidePlayersBar } from 'hooks/useTemporarilyHidePlayersBar';\n// Components\nimport { Translate } from 'components/language';\nimport { ReadyPlayersBar } from 'components/players';\nimport { Instruction, Title } from 'components/text';\nimport { WaitingRoomIcon } from 'components/icons/WaitingRoomIcon';\n\ntype WaitingRoomProps = {\n  /**\n   * The game players\n   */\n  players: GamePlayers;\n  /**\n   * Replacement title of the waiting room\n   */\n  title?: ReactNode;\n  /**\n   * Replacement instruction for the waiting room\n   */\n  instruction?: ReactNode;\n  /**\n   * Additional content of the waiting room\n   */\n  children?: ReactNode;\n  /**\n   * Icon the replaces the default Waiting Room icon\n   */\n  icon?: ReactNode;\n};\n\nexport function WaitingRoom({ players, title, instruction, children, icon }: WaitingRoomProps) {\n  useTemporarilyHidePlayersBar();\n\n  return (\n    <div className=\"waiting-room\">\n      <Title>\n        <Translate pt=\"Pronto!\" en=\"Done!\" custom={title} />\n      </Title>\n      {icon ?? <WaitingRoomIcon style={{ width: '6rem' }} />}\n      <Instruction>\n        {Boolean(instruction) ? (\n          instruction\n        ) : (\n          <Translate pt=\"Vamos aguardar os outros jogadores!\" en=\"Please wait for the other players!\" />\n        )}\n      </Instruction>\n      {children}\n      <ReadyPlayersBar players={players} />\n    </div>\n  );\n}\n","export function reorder(order: PlayerId[], startWith: PlayerId): PlayerId[] {\n  const starterIndex = order.indexOf(startWith);\n\n  return [...order.slice(starterIndex), ...order.slice(0, starterIndex)];\n}\n","import { useCallback } from 'react';\nimport { message, notification } from 'antd';\nimport { HttpsCallable } from 'firebase/functions';\nimport { useLoading } from './useLoading';\nimport { useGlobalState } from './useGlobalState';\n\nconst debounce = (func: any, timeout = 1000): ((...args: any[]) => any) => {\n  let timer: NodeJS.Timeout;\n  return (...args: any[]) => {\n    clearTimeout(timer);\n    timer = setTimeout(() => {\n      func.apply(this, args);\n    }, timeout);\n  };\n};\n\ntype useAPICallArgs = {\n  apiFunction: HttpsCallable<unknown, unknown>;\n  actionName: string;\n  onBeforeCall?: (...args: any) => any;\n  onAfterCall?: (...args: any) => any;\n  onError?: (...args: any) => any;\n  onSuccess?: (...args: any) => any;\n  successMessage?: string;\n  errorMessage?: string;\n};\n\n/**\n * Wrapper around common firebase http call\n * @param data\n * @param data.apiFunction\n * @param [data.onBeforeCall] what to run before the api call\n * @param [data.onAfterCall] what to run after the api call\n * @param [data.onError] what to run if an error occurs\n * @param [data.onSuccess] what to run if success occurs\n * @param [data.actionName] the name used in the loader hook\n * @param [data.successMessage]\n * @param [data.errorMessage]\n * @returns\n */\n\n/**\n * Wrapper around common firebase http call\n * @param options\n * @returns\n */\nexport function useAPICall({\n  apiFunction,\n  actionName = 'api-action',\n  onBeforeCall = () => {},\n  onAfterCall = () => {},\n  onError = () => {},\n  onSuccess = () => {},\n  successMessage = 'API call was successful',\n  errorMessage = 'API call has failed',\n}: useAPICallArgs): (...args: any[]) => any {\n  const { setLoader } = useLoading();\n  const [gameId] = useGlobalState('gameId');\n  const [gameName] = useGlobalState('gameName');\n  const [userId] = useGlobalState('userId');\n\n  const onAPICall = debounce(\n    useCallback(\n      async (payload: {}) => {\n        try {\n          setLoader(actionName, true);\n          await onBeforeCall();\n          const response = await apiFunction({\n            gameId,\n            gameName,\n            playerId: userId,\n            ...payload,\n          });\n\n          if (response.data) {\n            onSuccess();\n            message.success(successMessage);\n          }\n        } catch (e: any) {\n          notification.error({\n            message: errorMessage,\n            description: JSON.stringify(e.message),\n            placement: 'bottomLeft',\n          });\n          console.error(e);\n          onError();\n        } finally {\n          await onAfterCall();\n          setLoader(actionName, false);\n        }\n      },\n      [\n        actionName,\n        apiFunction,\n        errorMessage,\n        gameId,\n        gameName,\n        userId,\n        setLoader,\n        successMessage,\n        onBeforeCall,\n        onAfterCall,\n        onError,\n        onSuccess,\n      ]\n    )\n  );\n\n  return onAPICall;\n}\n","import { useEffect } from 'react';\nimport { useGlobalState } from './useGlobalState';\n\nexport function useTemporarilyHidePlayersBar() {\n  const [, setShowPlayersBar] = useGlobalState('showPlayersBar');\n\n  useEffect(() => {\n    setShowPlayersBar(false);\n    return () => {\n      setShowPlayersBar(true);\n    };\n  }, []); // eslint-disable-line\n}\n","import { AVAILABLE_AVATAR_IDS } from 'utils/avatars';\nimport { getRandomItem } from 'utils/helpers';\n\n/**\n * Random names used during Dev\n */\nconst DEV_NAMES: string[] =\n  'Abe,Bob,Cam,Dan,Eva,Fin,Gus,Hal,Ian,Jan,Kim,Leo,Max,Nic,Ole,Pat,Quinn,Roy,Tim'.split(',');\n// const DEV_NAMES: string[] =\n//   'Abigail,Bartolomeu,Cameron,Daniella,Evelyn,Frederick,Gordon,Hector,Isaac,Jacklyn,Madonna,Nathaniel'.split(\n//     ','\n//   );\n\nconst cacheNames: BooleanDictionary = {};\nconst cacheAvatars: BooleanDictionary = {};\n\nlet cacheMockedPlayers: GamePlayers = {};\n\n/**\n * Gets a random unique item from list based on the cached dictionary or used dictionary\n * @param source\n * @param used\n * @param cache\n * @returns\n */\nconst getRandomUniqueItemFromList = (\n  source: string[],\n  used: string[] = [],\n  cache: BooleanDictionary = {}\n) => {\n  let randomItem = '';\n  while (!randomItem || cache[randomItem] || used?.includes(randomItem)) {\n    randomItem = getRandomItem(source);\n  }\n  cache[randomItem] = true;\n  return randomItem;\n};\n\n/**\n * Get random user name\n * @param used\n * @returns\n */\nexport function mockPlayerName(used?: string[]): string {\n  return getRandomUniqueItemFromList(DEV_NAMES, used, cacheNames);\n}\n\n/**\n * Mock players to be used during dev\n * @param players\n * @param quantity\n * @param properties\n * @returns\n */\nexport function mockPlayers(\n  players: GamePlayers,\n  quantity: number = 10,\n  properties?: PlainObject\n): GamePlayers {\n  if (Object.keys(cacheMockedPlayers).length > 1) {\n    return {\n      ...cacheMockedPlayers,\n      ...players,\n    };\n  }\n\n  const usedNames: BooleanDictionary = {};\n  const usedAvatars: BooleanDictionary = {};\n  Object.values(players).forEach((player) => {\n    usedNames[player.name] = true;\n    usedAvatars[player.avatarId] = true;\n  });\n\n  const neededQuantity = quantity - Object.keys(players).length;\n\n  const mockedPlayers: Player[] = Array(neededQuantity)\n    .fill(0)\n    .map((e, i) => {\n      const name = mockPlayerName(Object.keys(usedNames));\n\n      return {\n        id: `_${name.toLowerCase()}`,\n        name,\n        avatarId: getRandomUniqueItemFromList(AVAILABLE_AVATAR_IDS, Object.keys(usedAvatars), cacheAvatars),\n        updatedAt: Date.now(),\n        ready: true,\n        ...properties,\n      };\n    });\n\n  const newMockedPlayers: GamePlayers = {\n    ...mockedPlayers.reduce((acc: GamePlayers, player) => {\n      acc[player.id] = player;\n      return acc;\n    }, {}),\n    ...players,\n  };\n\n  cacheMockedPlayers = newMockedPlayers;\n  return cacheMockedPlayers;\n}\n"],"names":["AdminOnlyContainer","children","className","props","useGlobalState","isAdmin","isAdminEnabled","clsx","FireFilled","AdminPerformActionButton","label","icon","type","danger","ValueFormItem","valueType","name","checkedChildren","unCheckedChildren","defaultChecked","ForceStateForm","isLoading","state","onPerformAdminAction","Form","form","useState","setValueType","stateKeys","Object","keys","map","k","value","onFinish","e","parsedValue","Number","undefined","payload","key","window","confirm","JSON","stringify","action","ADMIN_ACTIONS","resetFields","message","initialValues","rules","required","options","onChange","newType","includes","setFieldsValue","htmlType","disabled","PlayersReadyState","players","values","reduce","acc","player","ready","readyPlayers","push","pendingPlayers","CheckCircleFilled","style","color","title","playerName","MinusCircleFilled","AdminMenuDrawer","useLoading","usingEmulators","visible","setVisible","meta","onClose","useAPICall","apiFunction","ADMIN_API","actionName","successMessage","errorMessage","onAfterCall","position","pt","en","onClick","buttonProps","placement","closable","open","onConfirm","phase","lastRound","target","href","getFirebaseUrl","gameName","gameId","ButtonLabel","round","current","total","AdminNextPhaseButton","autoTriggerTime","translate","useLanguage","onGoToNextPhase","handleClick","onExpire","duration","hideTimer","Boolean","AdminButton","rest","RocketFilled","AdminOnlyButton","ReadyPlayersBar","readyText","readyTextPlural","hideNames","notReadyPlayers","length","size","id","avatarId","custom","LikeFilled","join","TurnOrder","order","activePlayerId","reorderByUser","orderList","useMemo","reorder","playerId","index","isActive","Fragment","backgroundColor","getAvatarColorById","ForwardFilled","WaitingRoom","instruction","useTemporarilyHidePlayersBar","WaitingRoomIcon","width","startWith","starterIndex","indexOf","slice","onBeforeCall","onError","onSuccess","setLoader","userId","onAPICall","func","timer","timeout","args","clearTimeout","setTimeout","apply","debounce","useCallback","data","notification","description","console","error","setShowPlayersBar","useEffect","DEV_NAMES","split","cacheNames","cacheAvatars","cacheMockedPlayers","getRandomUniqueItemFromList","source","used","cache","randomItem","getRandomItem","mockPlayerName","mockPlayers","quantity","properties","usedNames","usedAvatars","forEach","neededQuantity","mockedPlayers","Array","fill","i","toLowerCase","AVAILABLE_AVATAR_IDS","updatedAt","Date","now","newMockedPlayers"],"sourceRoot":""}