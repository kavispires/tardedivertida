"use strict";(self.webpackChunktardedivertida=self.webpackChunktardedivertida||[]).push([[781],{49274:function(e,t,n){n.d(t,{fX:function(){return m},hn:function(){return x},F6:function(){return Z}});var i=n(50678),a=n(18489),r=n(83738),s=n(63733),o=n(72791),l=n(20263),u=n(69228),c=n(2641),d=n(80184),v=["type","position","content","className","open"];function m(e){var t=e.type,n=e.position,i=e.content,o=e.className,l=e.open,c=(0,r.Z)(e,v);return(0,d.jsx)("div",{className:(0,s.Z)("fixed-menu-button","fixed-menu-button--".concat(n),o),children:"popover"===t?(0,d.jsx)(u.Z,{placement:"bottomLeft",content:i,trigger:"click",open:l,children:(0,d.jsx)(f,(0,a.Z)({},c))}):(0,d.jsx)(f,(0,a.Z)({},c))})}function f(e){var t=e.icon,n=e.label,r=e.showLabel,s=e.onClick,u=e.buttonProps,v=(0,o.useState)(r),m=(0,i.Z)(v,2),f=m[0],h=m[1],p=Boolean(n);return(0,l.Z)((function(){h(r)})),(0,d.jsx)(c.ZP,(0,a.Z)((0,a.Z)({shape:p&&f?"round":"circle",size:"middle",onMouseOver:function(){return h(!0)},onMouseLeave:function(){return h(null!==r&&void 0!==r&&r)},onClick:s||void 0,icon:t,ghost:!0,type:"primary"},u),{},{children:f&&p&&(0,d.jsx)("span",{className:"fixed-menu-button__label",children:n})}))}var h=n(95090),p=["duration","children","onExpire","type","onClick","hideTimer"];function x(e){var t=e.duration,n=void 0===t?10:t,i=e.children,o=e.onExpire,l=e.type,u=e.onClick,v=e.hideTimer,m=void 0!==v&&v,f=(0,r.Z)(e,p),x=(0,h.a)({duration:n,autoStart:!0,onExpire:o,disabled:m}).timeLeft,j="timed-button__time";return(0,d.jsxs)(c.ZP,(0,a.Z)((0,a.Z)({},f),{},{type:l,onClick:null!==u&&void 0!==u?u:o,children:[i,Boolean(i&&!m)&&" ",!m&&(0,d.jsx)("span",{className:(0,s.Z)(j,"".concat(j,"--").concat(l)),children:x})]}))}var j=["children","active","activeClass","className","hoverType"],Z=function(e){var t=e.children,n=e.active,i=void 0!==n&&n,o=e.activeClass,l=void 0===o?"":o,u=e.className,c=void 0===u?"":u,v=e.hoverType,m=void 0===v?"scale":v,f=(0,r.Z)(e,j);return(0,d.jsx)("button",(0,a.Z)((0,a.Z)({className:(0,s.Z)("transparent-button","transparent-button--".concat(m),i&&(l||"transparent-button--active"),c)},f),{},{children:t}))}},40931:function(e,t,n){n.d(t,{vr:function(){return s},dx:function(){return u},Bw:function(){return c},Dx:function(){return d}});var i=n(63733),a=n(14078),r=n(80184),s=function(e){var t=e.children,n=e.white,s=e.className,o=e.contained,l=e.fullWidth,u="instruction";return(0,r.jsx)(a.Z.Text,{className:(0,i.Z)(u,o&&"".concat(u,"--contained"),n&&"".concat(u,"--white"),l&&"".concat(u,"--full-width"),s),"data-testid":"instruction",children:t})},o=n(82741),l=n(81238);function u(e){var t,n,i=e.round,a=(null!==(t=null===i||void 0===i?void 0:i.total)&&void 0!==t?t:0)-(null!==(n=null===i||void 0===i?void 0:i.current)&&void 0!==n?n:0);return 0===a||i.forceLastRound?(0,r.jsx)(s,{contained:!0,children:(0,r.jsx)(o.vN,{pt:"Essa foi a \xfaltima rodada",en:"No more rounds left"})}):(0,r.jsx)(s,{contained:!0,children:(0,r.jsx)(o.vN,{pt:(0,r.jsxs)(r.Fragment,{children:[(0,l._6)(a,"Falta","Faltam")," ",(0,r.jsx)("strong",{children:a})," ",(0,l._6)(a,"rodada")," para o jogo terminar..."]}),en:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("strong",{children:a})," ",(0,l._6)(a,"round")," left for the game to end..."]})})})}function c(e){var t=e.children,n=e.className;return(0,r.jsx)("span",{className:(0,i.Z)("text-highlight",n),children:t})}var d=function(e){var t=e.children,n=e.white,s=e.icon,o=e.className,l=e.level,u=void 0===l?2:l,c=e.size,d=void 0===c?"medium":c,v=e.align,m=void 0===v?"center":v;return(0,r.jsxs)(a.Z.Title,{level:u,className:(0,i.Z)("title","title--".concat(d),"title--align-".concat(m),n&&"title--white",o),children:[Boolean(s)&&s,t]})}},95090:function(e,t,n){n.d(t,{a:function(){return l}});var i=n(18489),a=n(83738),r=n(30722),s=n(81238),o=["duration","onExpire","disabled"];function l(e){var t=e.duration,n=e.onExpire,l=e.disabled,u=void 0!==l&&l,c=(0,a.Z)(e,o),d=(0,r.useTimer)((0,i.Z)({expiryTimestamp:(0,s.rv)(t),onExpire:u?void 0:n},c)),v=60*d.minutes+d.seconds;return(0,i.Z)((0,i.Z)({},d),{},{timeLeft:v})}},4766:function(e,t,n){n.d(t,{K:function(){return s}});var i=n(50678),a=n(72791),r=n(11087);function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,r.lr)(),n=(0,i.Z)(t,2),s=n[0],o=n[1],l=function(e,t){void 0===t?s.delete(e):s.set(e,String(t)),o(s)},u=function(e){s.delete(e),o(s)};(0,a.useEffect)((function(){Object.entries(e).forEach((function(e){var t=(0,i.Z)(e,2),n=t[0],a=t[1];s.has(n)||l(n,a)}))}),[]);var c=s.toString().split("&").reduce((function(e,t){var n=t.split("="),a=(0,i.Z)(n,2),r=a[0],s=a[1];return r&&void 0!==s&&(e[r]=s),e}),{});return{add:l,remove:u,queryParams:c}}},90879:function(e,t,n){function i(e){var t="https://www.kavispires.com";switch(e){case"tdi":return"".concat(t,"/").concat("tdi/images/");case"tdr":return"".concat(t,"/").concat("tdr/resources");case"tdi-data":return"".concat(t,"/").concat("tdi/data");default:return""}}n.d(t,{c:function(){return i}})},21106:function(e,t,n){n.r(t),n.d(t,{default:function(){return de}});var i=n(50678),a=n(64248),r=n(56698),s=n(79119),o=n(763),l=n(72791),u=n(66509),c=n(34812),d=n(31773),v=n(36473),m=n(1429),f=n(66818),h=n(77128),p={alive:{id:"alive",name:{en:"Alive",pt:"Vivo"}},beautiful:{id:"beautiful",name:{en:"Beautiful",pt:"Bonito"}},big:{id:"big",name:{en:"Big",pt:"Grande"}},bright:{id:"bright",name:{en:"Bright",pt:"Brilho"}},clothes:{id:"clothes",name:{en:"Clothes",pt:"Vestimenta"}},danger:{id:"danger",name:{en:"Danger",pt:"Perigo"}},defense:{id:"defense",name:{en:"Defense",pt:"Defesa"}},fast:{id:"fast",name:{en:"Fast",pt:"R\xe1pido"}},flat:{id:"flat",name:{en:"Flat",pt:"Plano"}},flight:{id:"flight",name:{en:"Flight",pt:"V\xf4o"}},food:{id:"food",name:{en:"Food",pt:"Comida"}},heavy:{id:"heavy",name:{en:"Heavy",pt:"Pesado"}},human:{id:"human",name:{en:"Human",pt:"Humano"}},knowledge:{id:"knowledge",name:{en:"Knowledge",pt:"Conhecimento"}},liquid:{id:"liquid",name:{en:"Liquid",pt:"L\xedquido"}},long:{id:"long",name:{en:"Long",pt:"Longo"}},machine:{id:"machine",name:{en:"Machine",pt:"M\xe1quina"}},metal:{id:"metal",name:{en:"Metal",pt:"Metal"}},odor:{id:"odor",name:{en:"Odor",pt:"Cheiro"}},old:{id:"old",name:{en:"Old",pt:"Velho"}},plant:{id:"plant",name:{en:"Plant",pt:"Planta"}},power:{id:"power",name:{en:"Power",pt:"For\xe7a"}},round:{id:"round",name:{en:"Round",pt:"Redondo"}},sharp:{id:"sharp",name:{en:"Sharp",pt:"Afiado"}},singular:{id:"singular",name:{en:"Singular",pt:"Singular"}},soft:{id:"soft",name:{en:"Soft",pt:"Mole"}},solid:{id:"solid",name:{en:"Solid",pt:"S\xf3lido"}},sound:{id:"sound",name:{en:"Sound",pt:"Som"}},tool:{id:"tool",name:{en:"Tool",pt:"Ferramenta"}},valuable:{id:"valuable",name:{en:"Valuable",pt:"Valioso"}},warm:{id:"warm",name:{en:"Warm",pt:"Quente"}},weapon:{id:"weapon",name:{en:"Weapon",pt:"Arma"}}},x="1",j=n(18489);function Z(e){for(var t=0,n=0,i=Object.values(e.attributes);n<i.length;n++){0!==i[n]&&t++}return t}var b=Object.keys(p).reduce((function(e,t){return e[t]=0,e}),{});var g=n(36222),N=n(33032),y=n(84322),w=n.n(y),S=n(12661),C=n(12481),O=n(90879),P=n(91933),I=n(72913),k=n(80184),_=(0,l.createContext)({isLoading:!1,isSuccess:!1,isError:!1,isSaving:!1,data:{},save:function(){},isDirty:!1,reload:function(){},itemUtils:{latestId:"",create:function(){},updateNameEN:function(){},updateNamePT:function(){},updateAttributeValue:function(){},updateNSFW:function(){}}}),F=function(e){var t=e.children,n=(0,P.useQueryClient)(),a=S.Z.useApp().notification,r="data/alienItems",s=(0,l.useState)({}),u=(0,i.Z)(s,2),c=u[0],d=u[1],v=(0,l.useState)(!1),m=(0,i.Z)(v,2),f=m[0],h=m[1],p=(0,O.c)("tdr"),Z=(0,P.useQuery)({queryKey:"td/alienItems",queryFn:function(){var e=(0,N.Z)(w().mark((function e(){var t;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(p,"/alien-items.json"));case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}),y=Z.isLoading,F=Z.isError,E=Z.data,T=Z.isSuccess,B=(0,P.useQuery)({queryKey:r,queryFn:function(){var e=(0,N.Z)(w().mark((function e(){var t,n,i;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,C.JU)(I.RZ,"data/alienItems"),e.next=3,(0,C.QT)(n);case 3:return i=e.sent,e.abrupt("return",null!==(t=i.data())&&void 0!==t?t:{});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),enabled:T,onSuccess:function(e){a.info({message:"Data loaded",placement:"bottomLeft"});var t=(0,o.merge)({},E,e);Object.values(t).forEach((function(e){if(!e.attributes.soft){var n,i=-1*(null!==(n=e.attributes.hard)&&void 0!==n?n:0);e.attributes.soft=i}e.attributes.solid||(e.attributes.solid=0),e.attributes.singular||(e.attributes.singular=0),delete e.attributes.hard,d(t),"string"===typeof e.name&&(e.name={en:e.name,pt:""})})),h(!1)},onError:function(){a.error({message:"Error loading data",placement:"bottomLeft"})}}),L=B.isLoading,A=B.isSuccess,M=B.isError,D=B.refetch,q=(0,P.useMutation)({mutationKey:r,mutationFn:function(){var e=(0,N.Z)(w().mark((function e(t){var n;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,C.JU)(I.RZ,"data/alienItems"),e.next=3,(0,C.pl)(n,t);case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onSuccess:function(e,t){a.success({message:"Saved",placement:"bottomLeft"}),n.setQueryData(r,t),h(!1)}}),z=q.isLoading,W=q.isError,V=q.isSuccess,U=q.mutate,R=String(function(e){var t=Object.keys(e).map(Number).sort((function(e,t){return e-t}));if(t.length<1)return x;for(var n=1;n<t.length;n++)if(t[n]-t[n-1]!==1)return t[n];return t[t.length-1]}(c));return(0,k.jsx)(_.Provider,{value:{isLoading:y||L,isError:F||M||W,isSuccess:A||V,isSaving:z,data:c,save:U,isDirty:f,reload:D,itemUtils:{latestId:R,create:function(e){h(!0),d((function(t){return(0,j.Z)((0,j.Z)({},t),{},(0,g.Z)({},e,{id:e,name:{en:"",pt:""},attributes:(0,o.cloneDeep)(b)}))}))},updateNameEN:function(e,t){h(!0),d((function(n){var i;return(0,j.Z)((0,j.Z)({},n),{},(0,g.Z)({},e,(0,j.Z)((0,j.Z)({},n[e]),{},{name:{pt:null!==(i=n[e].name.pt)&&void 0!==i?i:"",en:t}})))}))},updateNamePT:function(e,t){h(!0),d((function(n){var i;return(0,j.Z)((0,j.Z)({},n),{},(0,g.Z)({},e,(0,j.Z)((0,j.Z)({},n[e]),{},{name:{en:null!==(i=n[e].name.en)&&void 0!==i?i:"",pt:t}})))}))},updateAttributeValue:function(e,t,n){h(!0),d((function(i){return(0,j.Z)((0,j.Z)({},i),{},(0,g.Z)({},e,(0,j.Z)((0,j.Z)({},i[e]),{},{attributes:(0,j.Z)((0,j.Z)({},i[e].attributes),{},(0,g.Z)({},t,n))})))}))},updateNSFW:function(e,t){h(!0),d((function(n){var i=(0,o.cloneDeep)(n);return t?i[e].nsfw=!0:delete i[e].nsfw,i}))}}},children:t})},E=function(){return(0,l.useContext)(_)};function T(){var e=E().data,t=(0,l.useMemo)((function(){return function(e){var t={},n=[],a=[],r=0,s=0;Object.values(e).forEach((function(e,o){n[o]=0,a[o]=0;var l=!1,u=!1;Object.entries(e.attributes).forEach((function(e){var c=(0,i.Z)(e,2),d=c[0],v=c[1];void 0===t[d]&&(t[d]={"-5":0,"-3":0,"-1":0,0:0,1:0,3:0,5:0}),t[d][String(v)]+=1,v>0?n[o]+=v:a[o]+=v,5!==v||l||(r+=1,l=!0),-1!==v||u||(s+=1,u=!0)}))}));var l=Object.keys(e).length;return{attributeCounts:t,positiveFives:Math.round(100*r/l),negativeFives:Math.round(100*s/l),positiveAttributesMean:(0,o.mean)(n),negativeAttributesMean:(0,o.mean)(a),total:l}}(e)}),[e]),n=(0,l.useState)("name"),a=(0,i.Z)(n,2),r=a[0],s=a[1],u=(0,l.useMemo)((function(){return(0,o.orderBy)(Object.values(p),[function(e){if("name"===r)return e.name.en;var n=t.attributeCounts[e.id];return"positive-five"===r?n[5]:"positive"===r?n[5]+n[3]:"neutral"===r?n[1]+n[-1]:"negative"===r?n[-5]+n[-3]:"negative-five"===r?n[-5]:e.id}],["name"===r?"asc":"desc"])}),[t.attributeCounts,r]);return(0,k.jsx)(d.Z,{className:"container classifier",direction:"vertical",children:(0,k.jsxs)(v.Z,{title:"Stats",children:[(0,k.jsxs)(d.Z,{wrap:!0,size:"large",children:[(0,k.jsx)(m.Z,{title:"Positive Fives",value:t.positiveFives,suffix:"%"}),(0,k.jsx)(m.Z,{title:"Negative Fives",value:t.negativeFives,suffix:"%"}),(0,k.jsx)(m.Z,{title:"Positive Attributes Total Average",value:t.positiveAttributesMean,precision:1}),(0,k.jsx)(m.Z,{title:"Negative Attributes Total Average",value:t.negativeAttributesMean,precision:1}),(0,k.jsxs)("div",{children:[(0,k.jsx)("span",{children:"Sorting"})," ",(0,k.jsxs)(f.Z,{onChange:function(e){return s(e)},value:r,size:"small",style:{minWidth:"15ch"},children:[(0,k.jsx)(f.Z.Option,{value:"name",children:"name"}),(0,k.jsx)(f.Z.Option,{value:"positive-five",children:"Most Positive Five"}),(0,k.jsx)(f.Z.Option,{value:"positive",children:"Most Positive"}),(0,k.jsx)(f.Z.Option,{value:"neutral",children:"Most Neutral"}),(0,k.jsx)(f.Z.Option,{value:"negative",children:"Most Negative"}),(0,k.jsx)(f.Z.Option,{value:"negative-five",children:"Most Negative Five"})]})]})]}),(0,k.jsx)(h.Z,{}),(0,k.jsx)(d.Z,{wrap:!0,size:"small",children:u.map((function(e){var n=t.attributeCounts[e.id];return(0,k.jsxs)(v.Z,{title:"".concat(e.name.en," - ").concat(e.name.pt),children:[(0,k.jsx)(m.Z,{title:"Positive Five",value:100*n[5]/t.total,suffix:"%",precision:1}),(0,k.jsx)(m.Z,{title:"Positive",value:100*(n[5]+n[3])/t.total,suffix:"%",precision:1}),(0,k.jsx)(m.Z,{title:"Neutral",value:100*(n[-1]+n[1])/t.total,suffix:"%",precision:1,className:"stat"}),(0,k.jsx)(m.Z,{title:"Negative",value:100*(n[-5]+n[-3])/t.total,suffix:"%",precision:1}),(0,k.jsx)(m.Z,{title:"Negative Five",value:100*n[-5]/t.total,suffix:"%",precision:1,className:"stat"})]},e.id)}))})]})})}var B=n(2641),L=n(63272),A=n(51678),M=n(40959),D=n(14078),q=n(20952),z=n(63733),W=n(93196),V=n(49274);function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=(0,l.useState)(e),n=(0,i.Z)(t,2),a=n[0],r=n[1],s=function(){r((function(e){return String(Number(e)-1)}))},o=function(){r((function(e){return String(Number(e)+1)}))},u=function(t){r((function(n){if("first"===t)return x;if("last"===t)return e;var i=Number(n),a=t+i;return a>0&&a<=Number(e)+1?String(Number(n)+t):t<0?x:e}))};return{itemId:a,previousItem:s,nextItem:o,setItemId:r,itemNumber:Number(a),goTo:u}}var R=n(74424);function H(e){var t=e.value,n=e.onChange;return(0,k.jsxs)(R.ZP.Group,{value:t,onChange:n,optionType:"button",buttonStyle:"solid",children:[(0,k.jsx)(R.ZP.Button,{type:"primary",value:-5,children:"-5"}),(0,k.jsx)(R.ZP.Button,{value:-3,children:"-3"}),(0,k.jsx)(R.ZP.Button,{value:-1,children:"-1"}),(0,k.jsx)(R.ZP.Button,{value:0,style:{backgroundColor:0===t?"red":"white"},children:"0"}),(0,k.jsx)(R.ZP.Button,{value:1,children:"1"}),(0,k.jsx)(R.ZP.Button,{value:3,children:"3"}),(0,k.jsx)(R.ZP.Button,{value:5,children:"5"})]})}var Q=n(40931),K=n(29864),G=n(65323),J=(0,o.orderBy)(Object.values(p),["name.en"],["asc"]);function X(){var e,t,n=E(),a=n.data,r=n.isDirty,s=n.isSaving,u=n.save,c=n.itemUtils,m=U(""),f=m.itemId,h=m.setItemId,p=(0,l.useState)(null!==(e=null===(t=J[0])||void 0===t?void 0:t.id)&&void 0!==e?e:"alive"),x=(0,i.Z)(p,2),j=x[0],Z=x[1],b=(0,l.useState)("id"),g=(0,i.Z)(b,2),N=g[0],y=g[1],w=(0,l.useState)(">1"),S=(0,i.Z)(w,2),C=S[0],O=S[1],P=(0,l.useState)("all"),I=(0,i.Z)(P,2),_=I[0],F=I[1],T=(0,l.useMemo)((function(){return(0,o.orderBy)(Object.values(a),[function(e){return"id"===N?Number(e.id):(0,o.get)(e,N)}],["asc"])}),[a,N]),R=(0,l.useMemo)((function(){return T.reduce((function(e,t){return function(e,t,n){return">0"===n?e.attributes[t]>0:">1"===n?e.attributes[t]>1:"<0"===n?e.attributes[t]<0:"<1"===n?e.attributes[t]<1:"5"===n?5===e.attributes[t]:"3"===n?3===e.attributes[t]:"1"===n?1===e.attributes[t]:"-1"===n?-1===e.attributes[t]:"-3"===n?-3===e.attributes[t]:"-5"!==n||-5===e.attributes[t]}(t,j,C)&&(e[t.id]=!0),e}),{})}),[T,j,C]),X=a[f];return(0,k.jsx)(d.Z,{className:"container classifier",direction:"vertical",children:(0,k.jsxs)(v.Z,{title:"Grouping",extra:(0,k.jsx)(B.ZP,{type:"primary",onClick:function(){return u(a)},loading:s,disabled:s||!r,children:"Save"}),children:[r&&(0,k.jsx)(L.Z,{type:"primary",onClick:s?function(){}:function(){return u(a)},shape:"square",icon:s?(0,k.jsx)(G.Z,{}):(0,k.jsx)(K.Z,{}),tooltip:"Save"}),(0,k.jsx)(Y,{selection:R,activeAttribute:j,setActiveAttribute:Z,sorting:N,setSorting:y,criteria:C,setCriteria:O,show:_,setShow:F}),(0,k.jsx)(d.Z,{wrap:!0,children:T.map((function(e){var t,n;return"selected"!==_||R[e.id]?"non-selected"===_&&R[e.id]?null:(0,k.jsxs)(V.F6,{className:"classifier__grouping-item",onClick:function(){return t=e.id,void h(t);var t},children:[(0,k.jsx)(A.Z,{count:Number(e.id),size:"small",color:"cyan",overflowCount:1e3,children:(0,k.jsx)(W.q,{id:e.id,width:100,className:(0,z.Z)(R[e.id]&&"classifier__active-item")})}),(0,k.jsx)("span",{className:"classifier__grouping-name",children:"string"===typeof(null===e||void 0===e||null===(t=e.name)||void 0===t?void 0:t.en)?null===e||void 0===e||null===(n=e.name)||void 0===n?void 0:n.en:"?"})]},e.id):null}))}),(0,k.jsx)(M.Z,{title:"Item Quick Edit",open:Boolean(f),onCancel:function(){return h("")},okButtonProps:{style:{display:"none"}},children:Boolean(X)&&(0,k.jsxs)("div",{className:"quick-edit-modal",children:[(0,k.jsx)(W.q,{id:X.id,width:100}),(0,k.jsxs)("div",{children:[(0,k.jsxs)(D.Z.Title,{level:4,children:[(0,k.jsx)(Q.Bw,{children:j}),"- ",X.name.en||"?"," |"," ",X.name.pt||"?"," ",X.nsfw&&(0,k.jsx)(q.Z,{color:"magenta",children:"NSFW"})]}),(0,k.jsx)(H,{value:X.attributes[j],onChange:function(e){c.updateAttributeValue(f,j,e.target.value),h("")}})]})]})})]})})}function Y(e){var t=e.selection,n=e.activeAttribute,i=e.setActiveAttribute,a=e.sorting,r=e.setSorting,s=e.criteria,o=e.setCriteria,l=e.show,u=e.setShow;return(0,k.jsxs)(d.Z,{wrap:!0,className:"margin",children:[(0,k.jsxs)(d.Z,{size:"small",children:[(0,k.jsx)("span",{children:"Attribute"}),(0,k.jsx)(f.Z,{onChange:function(e){return i(e)},value:n,size:"small",style:{minWidth:"15ch"},children:J.map((function(e){return(0,k.jsx)(f.Z.Option,{value:e.id,children:e.name.en},e.id)}))})]}),(0,k.jsxs)(d.Z,{size:"small",children:[(0,k.jsx)("span",{children:"Sorting"}),(0,k.jsxs)(f.Z,{onChange:function(e){return r(e)},value:a,size:"small",style:{minWidth:"15ch"},children:[(0,k.jsx)(f.Z.Option,{value:"id",children:"id"}),(0,k.jsx)(f.Z.Option,{value:"name.en",children:"name"})]})]}),(0,k.jsxs)(d.Z,{size:"small",children:[(0,k.jsx)("span",{children:"Criteria"}),(0,k.jsxs)(f.Z,{onChange:function(e){return o(e)},value:s,size:"small",style:{minWidth:"15ch"},children:[(0,k.jsx)(f.Z.Option,{value:">1",children:"Very Positive"}),(0,k.jsx)(f.Z.Option,{value:">0",children:"Positive"}),(0,k.jsx)(f.Z.Option,{value:"5",children:"5"}),(0,k.jsx)(f.Z.Option,{value:"3",children:"3"}),(0,k.jsx)(f.Z.Option,{value:"1",children:"1"}),(0,k.jsx)(f.Z.Option,{value:"-1",children:"-1"}),(0,k.jsx)(f.Z.Option,{value:"-3",children:"3"}),(0,k.jsx)(f.Z.Option,{value:"-5",children:"-5"}),(0,k.jsx)(f.Z.Option,{value:"<0>",children:"Negative"}),(0,k.jsx)(f.Z.Option,{value:"<1>",children:"Very Negative"})]})]}),(0,k.jsxs)(d.Z,{size:"small",children:[(0,k.jsx)("span",{children:"Show"}),(0,k.jsxs)(f.Z,{onChange:function(e){return u(e)},value:l,size:"small",style:{minWidth:"15ch"},children:[(0,k.jsx)(f.Z.Option,{value:"all",children:"All"}),(0,k.jsx)(f.Z.Option,{value:"selected",children:"Selected Only"}),(0,k.jsx)(f.Z.Option,{value:"non-selected",children:"Non-Selected Only"})]})]}),(0,k.jsxs)(d.Z,{size:"small",children:[(0,k.jsx)("span",{children:"Selected"}),(0,k.jsx)(A.Z,{count:Object.keys(t).length,color:"cyan",overflowCount:1e3})]})]})}function $(e){var t=e.itemId,n=e.itemNumber,i=e.previousItem,a=e.nextItem,r=e.goTo,s=e.save,o=e.isSaving,l=e.data,u=e.latestId,c=e.isDirty;return(0,k.jsxs)(d.Z,{className:"classifier__navigation",wrap:!0,children:[(0,k.jsx)(d.Z,{wrap:!0,children:(0,k.jsx)(B.ZP,{type:"primary",onClick:function(){return s(l)},loading:o,disabled:o||!c,children:"Save"})}),(0,k.jsxs)(d.Z,{wrap:!0,children:[(0,k.jsx)(B.ZP,{onClick:function(){return r("first")},disabled:t===x,children:"First"}),(0,k.jsx)(B.ZP,{onClick:function(){return r(-10)},disabled:n<=10,children:"Previous 10"}),(0,k.jsx)(B.ZP,{onClick:i,disabled:t===x,children:"Previous"}),(0,k.jsx)(h.Z,{type:"vertical"}),(0,k.jsx)(B.ZP,{onClick:a,disabled:"450"===t,children:"Next"}),(0,k.jsx)(B.ZP,{onClick:function(){return r(10)},disabled:n>=Number("450")-10,children:"Next 10"}),(0,k.jsx)(B.ZP,{onClick:function(){return r("last")},disabled:n>=Number(u)-1,children:"Latest"})]}),(0,k.jsx)(d.Z,{wrap:!0,children:(0,k.jsx)(B.ZP,{onClick:function(){return function(e,t){var n=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),i=document.createElement("a");i.href=window.URL.createObjectURL(n),i.download=t,i.click(),window.URL.revokeObjectURL(i.href)}(l,"alien-items")},loading:o,disabled:o,children:"Download JSON"})})]})}var ee=n(86005),te=n(25922);function ne(e){var t=e.itemId,n=e.updateNameEN,i=e.updateNamePT,a=e.activeItem,r=e.updateNSFW;return(0,k.jsxs)(d.Z,{className:"classifier__item",direction:"vertical",children:[(0,k.jsx)(ee.Z,{placeholder:"Type name",onChange:n,value:a.name.en}),(0,k.jsx)(ee.Z,{placeholder:"Type nome",onChange:i,value:a.name.pt}),(0,k.jsx)(W.q,{id:t,width:100}),(0,k.jsx)(te.Z,{checkedChildren:"NSFW",unCheckedChildren:"SFW",onChange:r,checked:null===a||void 0===a?void 0:a.nsfw})]})}var ie=n(20005);function ae(e){var t=e.data,n=e.setItemId,i=Object.values(t).reduce((function(e,t){return e[t.name.en]=t.id,e}),{}),a=Object.keys(i).map((function(e){return{value:e}}));return(0,k.jsx)(d.Z,{children:(0,k.jsx)(ie.Z,{options:a,style:{width:150},onSelect:function(e){i[e]&&n(i[e])},placeholder:"Go to...",filterOption:function(e,t){return-1!==t.value.toUpperCase().indexOf(e.toUpperCase())}})})}var re=n(37557),se=n(11532);function oe(e){var t=e.label,n=e.value;return(0,k.jsxs)("div",{className:"classifier__verifier",children:[t,":"," ",n?(0,k.jsx)(re.Z,{style:{color:"green"}}):(0,k.jsx)(se.Z,{style:{color:"red"}})]})}function le(){var e=E(),t=e.data,n=e.save,i=e.isSaving,a=e.itemUtils,r=e.isDirty,o=U(a.latestId),u=o.itemId,c=o.previousItem,m=o.nextItem,f=o.itemNumber,h=o.goTo,x=o.setItemId,g=t[u];(0,l.useEffect)((function(){g||a.create(u)}),[g]);if(!g)return(0,k.jsx)(d.Z,{className:"space-container",children:(0,k.jsx)(s.gb,{})});var N=function(e,t){var n=Object.values((0,j.Z)((0,j.Z)({},t),e.attributes));return{hasName:Boolean(e.name),hasFive:n.includes(5),hasNoZeroes:!n.includes(0),hasPositive:n.some((function(e){return e>1}))}}(g,b),y=(0,k.jsx)(ne,{itemId:u,activeItem:g,updateNameEN:function(e){a.updateNameEN(u,e.target.value.toLowerCase())},updateNamePT:function(e){a.updateNamePT(u,e.target.value.toLowerCase())},updateNSFW:function(e){a.updateNSFW(u,e)}});return(0,k.jsxs)(d.Z,{className:"container classifier",direction:"vertical",children:[(0,k.jsx)($,{itemId:u,itemNumber:f,previousItem:c,nextItem:m,goTo:h,isSaving:i,save:n,latestId:a.latestId,data:t,isDirty:r}),(0,k.jsxs)(v.Z,{title:"Classifying ".concat(u," - ").concat(g.name.en," - (").concat(Z(g),"/30)"),extra:(0,k.jsx)(ae,{setItemId:x,data:t}),children:[(0,k.jsxs)(d.Z,{className:"classifier__grid",children:[y,(0,k.jsx)(d.Z,{className:"classifier__attributes",wrap:!0,children:Object.values(p).map((function(e){return(0,k.jsxs)(d.Z,{className:"classifier__entry",direction:"vertical",children:[(0,k.jsx)("div",{className:"title",children:"".concat(e.name.en," - ").concat(e.name.pt)}),(0,k.jsx)(H,{value:g.attributes[e.id],onChange:function(t){return n=e.id,i=t.target.value,void a.updateAttributeValue(u,n,i);var n,i}})]},e.id)}))}),y]}),(0,k.jsxs)(d.Z,{className:"classifier__verifiers",children:[(0,k.jsx)(oe,{label:"Has name",value:N.hasName}),(0,k.jsx)(oe,{label:"Has no zeroes",value:N.hasNoZeroes}),(0,k.jsx)(oe,{label:"Has positive values",value:N.hasPositive}),(0,k.jsx)(oe,{label:"Has at least one 5",value:N.hasFive})]})]}),(0,k.jsx)($,{itemId:u,itemNumber:f,previousItem:c,nextItem:m,goTo:h,isSaving:i,save:n,latestId:a.latestId,data:t,isDirty:r})]})}var ue=n(4766);function ce(){var e=E(),t=e.isLoading,n=e.isError,u=e.data,d=(0,l.useState)("default"),v=(0,i.Z)(d,2),m=v[0],f=v[1],h=(0,ue.K)({view:"default"});if((0,l.useEffect)((function(){var e;f(null!==(e=h.queryParams.view)&&void 0!==e?e:"default")}),[h.queryParams.view]),(0,o.isEmpty)(u)&&t)return(0,k.jsx)(s.h2,{});if(n)return(0,k.jsx)(r.S,{message:"Something is wrong"});var p=[{label:"Classifier",value:"default",disabled:"default"===m},{label:"Grouping",value:"grouping",disabled:"grouping"===m},{label:"Stats",value:"stats",disabled:"stats"===m}];return(0,k.jsxs)("div",{children:[(0,k.jsx)(c.B,{title:"Classifier",extra:(0,k.jsx)(a.Z,{options:p,defaultValue:m,onChange:function(e){return h.add("view",e)}})}),"default"===m&&(0,k.jsx)(le,{}),"grouping"===m&&(0,k.jsx)(X,{}),"stats"===m&&(0,k.jsx)(T,{})]})}var de=function(){return(0,u.Z)("Items Classifier | Dev | Tarde Divertida"),(0,k.jsx)(F,{children:(0,k.jsx)(ce,{})})}},34812:function(e,t,n){n.d(t,{B:function(){return l}});var i=n(31773),a=n(64248),r=n(57689),s=n(80184);function o(){var e=(0,r.TH)().pathname,t=(0,r.s0)(),n=[{label:"Home",value:"/",disabled:"/"===e},{label:"Hub",value:"/hub",disabled:"/hub"===e},{label:"Icons",value:"/dev/icons",disabled:"/dev/icons"===e},{label:"Colors",value:"/dev/colors",disabled:"/dev/colors"===e},{label:"Sprites",value:"/dev/sprites",disabled:"/dev/sprites"===e},{label:"Resources",value:"/dev/resources",disabled:"/dev/resources"===e},{label:"Playground",value:"/dev/playground",disabled:"/dev/playground"===e},{label:"Showcase",value:"/showcase",disabled:"/showcase"===e}];return(0,s.jsx)(a.Z,{options:n,defaultValue:e,onChange:function(e){t(e)}})}function l(e){var t=e.title,n=e.subTitle,a=e.extra;return(0,s.jsx)("header",{className:"dev-header",children:(0,s.jsxs)("div",{className:"dev-header__heading",children:[(0,s.jsxs)("div",{className:"dev-header__left",children:[(0,s.jsxs)("span",{className:"dev-header__title",children:[t," "]}),(0,s.jsx)("span",{className:"dev-header__subtitle",children:n})]}),(0,s.jsxs)("div",{className:"dev-header__extra",children:[(0,s.jsx)(i.Z,{className:"dev-header__extra-space",wrap:!0,children:a}),(0,s.jsx)(o,{})]})]})})}}}]);
//# sourceMappingURL=page-dev-classifier.3edfce85.chunk.js.map