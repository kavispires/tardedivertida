"use strict";(self.webpackChunktardedivertida=self.webpackChunktardedivertida||[]).push([[510],{2510:function(e,n,a){a.d(n,{K:function(){return b},S:function(){return A}});var t=a(7360),r=a(3099),s=a(7309),o=a(2791);var i=a.p+"static/media/game-over-title.7073f1c0cec741dc0049d62ea51a879e.svg",l=a(2427),c=a(6591),d=a(5948),u=a(2037),v=a(9439),m=a(8182),g=a(785),h=a(2517),x=a(6005),j=a(3673),p=a(722),f=a(1238),w=a(184),_=x.Z.TextArea;function N(){var e=(0,l.r$)().isLoading,n=(0,l.ZK)().translate,a=(0,l.j1)("userId"),t=(0,v.Z)(a,1)[0],r=(0,l.j1)("gameId"),i=(0,v.Z)(r,1)[0],c=(0,o.useState)(0),u=(0,v.Z)(c,2),x=u[0],N=u[1],C=(0,o.useState)(""),y=(0,v.Z)(C,2),Z=y[0],b=y[1],R=(0,o.useState)(!1),S=(0,v.Z)(R,2),k=S[0],A=S[1],E=(0,o.useState)(!1),I=(0,v.Z)(E,2),P=I[0],T=I[1],W=(0,p.useTimer)({expiryTimestamp:(0,f.rv)(3),onExpire:function(){return A(!0)},autoStart:!1}).start,B=(0,l.Cq)({apiFunction:j.D0.rateGame,actionName:"rating",successMessage:n("Obrigado por avaliar o jogo","Thanks for rating the game"),errorMessage:n("Envio de avalia\xe7\xe3o falhou","Rating submission has failed"),onSuccess:function(){return T(!0)},onError:function(){return T(!0)},onAfterCall:W});return(0,w.jsx)("div",{className:(0,m.Z)("rate-game-widget",P&&"rate-game-widget--thank-you",k?"swirl-out-bck":"swirl-in-fwd"),children:P?(0,w.jsx)(g.Z,{message:n("Obrigado","Thank you"),type:"success",showIcon:!0}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("h3",{children:(0,w.jsx)(d.v,{pt:"O que achou do jogo?",en:"Rate this game"})}),(0,w.jsx)(h.Z,{onChange:N}),(0,w.jsxs)("p",{children:[(0,w.jsx)(d.v,{pt:"Coment\xe1rios",en:"Comments"}),":"]}),(0,w.jsx)(_,{onChange:function(e){return b(e.target.value)},disabled:e}),(0,w.jsx)(s.Z,{type:"primary",disabled:!x||e,onClick:function(){B({ratings:{comments:Z,gameId:i,playerId:t,ratedAt:Date.now(),rating:x}})},size:"small",children:(0,w.jsx)(d.v,{pt:"Enviar",en:"Send"})})]})})}var C=a(6871),y=a(3591),Z=function(){return(0,w.jsx)(d.v,{pt:"Jogo conclu\xeddo",en:"The game is over"})};function b(e){var n,a,o=e.state,v=e.children,m=e.className,g=e.showRateWidgetAfterContent,h=(0,l.ZK)().language,x=(0,C.s0)();return(0,w.jsxs)("div",{className:m,children:[(0,w.jsx)("div",{className:"game-over__title",children:(0,w.jsx)("img",{src:i,alt:"Game Over"})}),Boolean(o.winners)&&o.winners.length>0&&(0,w.jsxs)("div",{className:"game-over__winner-container",children:[(0,w.jsxs)("div",{className:"game-over__text",children:[(0,w.jsx)(Z,{})," ",o.winners.length>1?(0,w.jsx)(d.v,{pt:"e os vencedores s\xe3o",en:"and the winners are"}):(0,w.jsx)(d.v,{pt:"e o vencedor \xe9",en:"and the winner is"}),":"]}),(0,w.jsx)("ul",{className:"game-over__winners",children:o.winners.map((function(e){var n,a;return(0,w.jsxs)("li",{className:"game-over__winner",children:[(0,w.jsx)(u.qE,{className:"game-over__avatar",id:null!==(n=e.avatarId)&&void 0!==n?n:25}),(0,w.jsxs)("div",{className:"game-over__winner-name",children:[(0,w.jsx)("strong",{children:null!==(a=e.name)&&void 0!==a?a:"?"}),", ",c.HC[e.avatarId].description[h]]})]},"winner-".concat(e.name))}))})]}),Boolean(o.group)&&(0,w.jsxs)("div",{className:"game-over__winner",children:[(0,w.jsx)("div",{className:"game-over__text",children:(0,w.jsx)(Z,{})}),(0,w.jsx)(t.Z,{type:"circle",strokeColor:o.group.victory?{"0%":"#4ba226","100%":"#87d068"}:{"0%":"#ff0000","70%":"#ff0000","100%":"#87d068"},percent:null!==(n=o.group.score)&&void 0!==n?n:0}),(0,w.jsx)("div",{className:"game-over__text",children:o.group.victory?(0,w.jsx)(d.v,{pt:"Parab\xe9ns, voc\xeas ganharam!",en:"Congratulations, you won!"}):(0,w.jsx)(d.v,{pt:"N\xe3o foi dessa vez, que vergonha heim!",en:"You lost! What a shame!"})})]}),Boolean(o.team)&&(0,w.jsxs)("div",{className:"game-over__winner",children:[(0,w.jsx)("div",{className:"game-over__text",children:(0,w.jsx)(Z,{})}),(0,w.jsx)(t.Z,{type:"circle",strokeColor:{"0%":"#ff0000","70%":"#ff0000","100%":"#87d068"},percent:null!==(a=o.team.score)&&void 0!==a?a:0}),(0,w.jsx)("div",{className:"game-over__text",children:o.team.victory?(0,w.jsx)(d.v,{pt:"Parab\xe9ns, voc\xeas ganharam!",en:"Congratulations, you won!"}):(0,w.jsx)(d.v,{pt:"N\xe3o foi dessa vez, que vergonha heim!",en:"You lost! What a shame!"})})]}),!Boolean(o.winners)&&!Boolean(o.team)&&!Boolean(o.group)&&(0,w.jsx)("div",{className:"game-over__text",children:(0,w.jsx)(Z,{})}),!g&&(0,w.jsx)(N,{}),v,g&&(0,w.jsx)(N,{}),(0,w.jsxs)(r.Z,{align:"center",direction:"vertical",className:"full-width padding",children:[(0,w.jsx)(s.Z,{onClick:function(){return x("/")},children:(0,w.jsx)(d.v,{pt:"P\xe1gina Inicial",en:"Home Page"})}),(0,w.jsx)(y.c3,{onClick:function(){return x("/hub")},label:"Hub"})]})]})}var R=a(5149),S=a(4716),k=a(5234);function A(e){var n,a=e.info,t=e.state,r=e.announcementIcon,s=void 0===r?"the-end":r,i=e.announcementTitle,c=e.announcementDuration,d=void 0===c?3:c,u=e.announcementContent,m=e.children,g=void 0===m?(0,w.jsx)(w.Fragment,{}):m,h=e.showRateWidgetAfterContent,x=void 0!==h&&h,j=(0,o.useState)(0),p=(0,v.Z)(j,2),f=p[0],_=p[1],N=(0,l.ZK)().translate;return(0,w.jsx)(S.JK,{info:a,phase:null===t||void 0===t?void 0:t.phase,allowedPhase:R.R.DEFAULT.GAME_OVER,className:"game-over__container",children:(0,w.jsxs)(k.p,{step:f,children:[(0,w.jsx)(S.Cl,{type:s,title:N("E o jogo chegou ao fim...","And the game is over...",i),onClose:function(){return _(1)},currentRound:null===t||void 0===t||null===(n=t.round)||void 0===n?void 0:n.current,duration:d,children:Boolean(u)&&u}),(0,w.jsx)(b,{state:t,showRateWidgetAfterContent:x,children:g})]})})}},5234:function(e,n,a){a.d(n,{h:function(){return s},p:function(){return d}});var t=a(8182),r=a(184);function s(e){var n=e.children,a=e.fullWidth,s=void 0!==a&&a,o=e.className;return(0,r.jsx)("div",{className:(0,t.Z)("step",s&&"step--full-width",o),children:n})}var o=a(7891),i=a(9119),l=a(5948),c=function(e){switch(e){case"SERVER":return(0,r.jsx)(l.v,{pt:"Aguardando o servidor dar sinal de vida",en:"Waiting for the server to resuscitate"});case"PLAYERS":return(0,r.jsx)(l.v,{pt:"Vamos aguardar enquanto os outros jogadores terminam!",en:"Please wait while other players finish!"});default:return(0,r.jsx)(l.v,{pt:"Aguardando algo acontecer...",en:"Waiting for something..."})}};function d(e){var n,a=e.children,t=e.step,s=e.conditions,d=e.players,u=e.waitingRoomInstruction,v=e.waitingRoomInstructionType,m=void 0===v?"PLAYERS":v,g=e.waitingRoomContent,h=void 0===g?"":g;return d||console.warn("SetSwitcher is being used without `players`, please add it."),d&&t>=a.length?(0,r.jsx)(o.a1,{players:d,title:(0,r.jsx)(l.v,{pt:"Pronto!",en:"Done!"}),instruction:null!==u&&void 0!==u?u:c(m),children:h}):a[t]?null===(n=null===s||void 0===s?void 0:s[t])||void 0===n||n?a[t]:(0,r.jsx)("div",{}):(0,r.jsx)(i.gb,{})}}}]);
//# sourceMappingURL=510.fd3384a5.chunk.js.map