"use strict";(self.webpackChunktardedivertida=self.webpackChunktardedivertida||[]).push([[458],{30398:function(e,n,s){s.d(n,{Y:function(){return p}});var o=s(28182),a=s(87309);s(72791);var t=s.p+"static/media/round-title-en.2ad07e1f265a85634ad7940a33f96552.svg";var r=s.p+"static/media/round-title-pt.2e3f9c1deb85d58d118aa6e3dfa7af23.svg",i=s(81238),c=s(20670),l=s(64823),u=s(82741),d=s(93028),m=s(80184);function p(e){var n,s,p=e.round,h=e.onPressButton,v=e.buttonText,x=e.time,j=void 0===x?0:x,f=e.className,g=e.children,N=e.unskippable,y=void 0!==N&&N,S=e.circleColor;(0,l.R)();var T=(0,c.Z)().translate,b=S?{borderColor:S}:{};return(0,m.jsx)("div",{className:(0,o.Z)("round-announcement",f),children:(0,m.jsxs)("div",{className:"round-announcement__main",children:[(0,m.jsx)("div",{className:"round-announcement__title",children:(0,m.jsx)("img",{src:T(r,t),alt:T("Rodada","Round")})}),(0,m.jsxs)("div",{className:(0,o.Z)("round-announcement__round-wrapper",(0,i.hL)("zoomIn")),children:[(0,m.jsx)("div",{className:"round-announcement__circle",style:b}),(0,m.jsx)("div",{className:"round-announcement__circle-2",style:b}),(0,m.jsx)("div",{className:"round-announcement__number",children:null!==(n=null!==(s=null===p||void 0===p?void 0:p.current)&&void 0!==s?s:p)&&void 0!==n?n:0})]}),g,Boolean(h)&&!Boolean(j)&&(0,m.jsx)(a.Z,{type:"primary",onClick:h,className:"round-announcement__go-button",children:v}),Boolean(h)&&Boolean(j)&&(0,m.jsx)(d.hn,{type:"primary",onClick:h,onExpire:h,duration:j,disabled:y,children:(0,m.jsx)(u.vN,{pt:"Prosseguir",en:"Continue",custom:v})})]})})}},74531:function(e,n,s){s.d(n,{G7:function(){return a},os:function(){return t},xo:function(){return r},r_:function(){return i}});var o=s(80184);function a(e){var n=e.children;return(0,o.jsx)(o.Fragment,{children:n})}function t(e){var n=e.isVisible,s=void 0!==n&&n,a=e.children;return s?(0,o.jsx)(o.Fragment,{children:a}):(0,o.jsx)(o.Fragment,{})}function r(e){var n=e.orCondition,s=void 0!==n&&n,a=e.children;return s?(0,o.jsx)(o.Fragment,{children:a[0]}):(0,o.jsx)(o.Fragment,{children:a[1]})}function i(e){var n=e.cases,s=e.children;if(n.length>5)throw Error("ViewSwitch only supports up to 5 cases");return n[0]&&s[0]?s[0]:n[1]&&s[1]?s[1]:n[2]&&s[2]?s[2]:n[3]&&s[3]?s[3]:n[4]&&s[4]?s[4]:(console.warn("Rendering all children in the ViewSwitch"),s)}},13235:function(e,n,s){s.r(n),s.d(n,{default:function(){return Ee}});var o=s(55762),a=s(76591),t=s(65149),r=s(44880),i=s(90681),c=s(56698),l=s(72510),u=s(29439),d=s(212),m=s(22852),p=s(26055),h=s(82741),v=s(30398),x=s(25234),j=s(86954),f=s(64823),g=s(90472),N=s(13819),y=s(20670),S=s(80170),T=s(80184),b=function(e){var n=e.location,s=e.role,o=e.header,a=(0,y.Z)().translate,t=a("Local Desconhecido","Unknown Location"),r=a("Voc\xea \xe9 o espi\xe3o","You are the spy"),i=a("Voc\xea \xe9 um(a) ".concat(s),"You are a ".concat(s));return(0,T.jsx)(S.Zb,{color:"SPY"===n?"red":"lime",header:"SPY"===n?t:o,size:"large",footer:"SPY"===s?r:i,className:"e-card",footerClassName:"e-card__footer",children:"SPY"===n?(0,T.jsx)(N.Z,{}):n})},A=s(1413),Z=s(28182),E=s(35945),_=s(87309),O=s(70881),w=s(12056),C=s(81839);function R(e){var n=e.locations,s=(0,y.Z)().translate,o=(0,C.j1)("cache"),a=(0,u.Z)(o,2),t=a[0],r=a[1];return(0,T.jsxs)("div",{className:"e-list",children:[(0,T.jsxs)("h3",{className:"e-list__title",children:[(0,T.jsx)(O.Z,{})," ",(0,T.jsx)(h.vN,{pt:"Poss\xedveis Locais",en:"Possible Locations"}),(0,T.jsx)(E.Z,{title:s("Desmarcar todos","Unselect all"),children:(0,T.jsx)(_.Z,{shape:"circle",ghost:!0,type:"default",size:"small",icon:(0,T.jsx)(w.Z,{}),onClick:function(){r((function(e){var n=(0,A.Z)({},e);return Object.keys(n).forEach((function(e){e.startsWith("_")||delete n[e]})),n}))},className:"e-list__clear-button"})})]}),(0,T.jsx)("ul",{className:(0,Z.Z)("e-list__list","e-list__list--column"),children:n.map((function(e){return(0,T.jsx)("li",{className:(0,Z.Z)("e-list__item",t[e.id]&&"e-list__item--crossed"),role:"button",onClick:function(){return n=e.id,void r((function(e){var s=(0,A.Z)({},e);return s[n]?delete s[n]:s[n]=!0,s}));var n},children:e.name},e.id)}))})]})}function I(){var e=(0,y.Z)().translate;return(0,T.jsx)("textarea",{name:"",id:"",cols:30,rows:10,className:"e-notes",placeholder:e("Escreva anota\xe7\xf5es aqui se quiser, mas cuidado com o teclado fazendo muito barulho","Write your notes here, but don't make too much noise with those key strokes")})}function P(e){var n=e.user,s=e.isUserTheSpy,o=e.locations;return(0,f.R)(),(0,T.jsxs)(x.h,{className:"e-phase-step",children:[(0,T.jsx)(j.Dx,{level:2,className:"e-phase-title",children:(0,T.jsx)(h.vN,{pt:"Voc\xea est\xe1 no(a)...",en:"We are in/at/on..."})}),(0,T.jsx)(b,{location:n.location,role:n.role}),(0,T.jsx)(g.lv,{children:(0,T.jsx)(h.vN,{pt:"Come\xe7ar cron\xf4metro",en:"Start Timer"})}),(0,T.jsx)(j.vr,{className:"e-phase-instruction",children:s?(0,T.jsx)(h.vN,{pt:"Voc\xea ter\xe1 10 minutos para descobrir onde os outros agentes est\xe3o! Pronto?",en:"You have 10 minutes to find out where the other agents are! Ready?"}):(0,T.jsx)(h.vN,{pt:"Voc\xea ter\xe1 10 minutos para descobrir quem \xe9 o espi\xe3o entre n\xf3s! Pronto?",en:"You have 10 minutes to find out who is the spy! Ready?"})}),(0,T.jsx)(j.vr,{className:"e-lists",children:(0,T.jsx)(R,{locations:o})}),(0,T.jsx)(I,{})]})}var k=s(93968),V=s(47639),F=s(70106);var L=function(e){var n,s,o,a,r=e.state,c=e.players,l=e.info,f=(0,d.g)(0),g=f.step,N=f.goToNextStep,y=(0,m.a)(c,r),S=(0,p.R)("currentSpyId",r,c),b=(0,u.Z)(S,2)[1];return(0,T.jsx)(i.JK,{info:l,phase:null===r||void 0===r?void 0:r.phase,allowedPhase:t.R.ESPIAO_ENTRE_NOS.ASSIGNMENT,className:"e-phase",children:(0,T.jsxs)(x.p,{step:g,conditions:[!y.isReady],players:c,children:[(0,T.jsx)(v.Y,{round:r.round,onPressButton:N,time:5,className:"e-round-announcement",circleColor:null===l||void 0===l||null===(n=l.appearance)||void 0===n?void 0:n.color,children:(0,T.jsx)(j.vr,{className:"e-phase-instruction",children:(0,T.jsx)(h.vN,{pt:"H\xe1 um espi\xe3o entre n\xf3s!",en:"There's a spy among us!"})})}),(0,T.jsx)(i.Cl,{icon:(0,T.jsx)(k.H,{}),title:(0,T.jsx)(h.vN,{pt:"Pr\xf3logo",en:"Prologue"}),onClose:N,currentRound:null===r||void 0===r||null===(s=r.round)||void 0===s?void 0:s.current,buttonText:"",className:"e-phase-announcement e-phase-announcement--animated",duration:15,children:(0,T.jsx)(j.vr,{children:(0,T.jsx)(h.vN,{pt:(0,T.jsxs)(T.Fragment,{children:["Estamos todos em um local que somente agentes confi\xe1veis sabem onde \xe9, mas um espi\xe3o conseguiu se infiltrar em nosso sistema.",(0,T.jsx)("br",{}),"Estamos nos comunicando pelo ponto em nossos ouvidos porque somos espi\xf5es hi-tech."]}),en:(0,T.jsxs)(T.Fragment,{children:["We're all in a secret location that only the most trustworthy agents are assigned to, but a spy has hacked our system.",(0,T.jsx)("br",{}),"We are communication through our in-ear spy tech."]})})})}),(0,T.jsx)(i.BK,{goToNextStep:N}),(0,T.jsx)(i.Cl,{icon:(0,T.jsx)(V.v,{}),title:(0,T.jsx)(h.vN,{pt:"Voc\xea tem uma miss\xe3o",en:"You have one mission"}),onClose:N,currentRound:null===r||void 0===r||null===(o=r.round)||void 0===o?void 0:o.current,buttonText:"",className:"e-phase-announcement e-phase-announcement--animated",duration:10,children:(0,T.jsx)(j.vr,{children:(0,T.jsx)(h.vN,{pt:(0,T.jsxs)(T.Fragment,{children:["Se voc\xea \xe9 um agente, sua miss\xe3o \xe9 descobrir quem \xe9 o espi\xe3o.",(0,T.jsx)("br",{}),"Se voc\xea \xe9 o espi\xe3o, sua miss\xe3o \xe9 descobrir qual local os outros est\xe3o."]}),en:(0,T.jsxs)(T.Fragment,{children:["If you are an agent, your mission is to figure out who the spy is.",(0,T.jsx)("br",{}),"If you are the spy, your mission is to find out where the agents are and nuke it!."]})})})}),(0,T.jsx)(i.BK,{goToNextStep:N}),(0,T.jsx)(i.Cl,{icon:(0,T.jsx)(F.$,{}),title:(0,T.jsx)(h.vN,{pt:"Mais detalhes",en:"More details"}),onClose:N,currentRound:null===r||void 0===r||null===(a=r.round)||void 0===a?void 0:a.current,buttonText:"",className:"e-phase-announcement e-phase-announcement--animated",duration:30,children:(0,T.jsx)(j.vr,{children:(0,T.jsx)(h.vN,{pt:(0,T.jsxs)(T.Fragment,{children:["Um jogador faz uma pergunta a outro, qualquer tipo de pergunta, e ent\xe3o esse o jogador responde, de qualquer forma.",(0,T.jsx)("br",{}),"Voc\xea quer ser espec\xedfico o suficiente para que outros jogadores n\xe3o te acusem, mas vago o suficiente para que espi\xe3o n\xe3o sabia onde estamos.",(0,T.jsx)("br",{}),"O jogador que responde se torna o novo 'perguntador'.",(0,T.jsx)("br",{}),"Mas fique esperto, voc\xea s\xf3 pode acusar algu\xe9m (ou tentar descobrir a localiza\xe7\xe3o) uma \xfanica vez durante o jogo."]}),en:(0,T.jsxs)(T.Fragment,{children:["One player will ask a question to another player, any kind of question, then this player will respond, in any way.",(0,T.jsx)("br",{}),"You want to be specific enough so other players don't accuse you, but vague enough so the spy does not figure out where you are.",(0,T.jsx)("br",{}),"The asked player becomes the new questioner.",(0,T.jsx)("br",{}),"But watch out! You can only accuse someone (or guess the location) a single time during the game."]})})})}),(0,T.jsx)(P,{user:y,isUserTheSpy:b,locations:r.locations})]})})},M=s(72791),q=s(13085),U=s(53673),Y=s(2133);function G(e){var n=(0,y.Z)().translate,s=(0,Y.C)({apiFunction:U.sZ.submitAction,actionName:"make-accusation",onBeforeCall:function(){return e(3)},onError:function(){return e(0)},successMessage:n("Acusa\xe7\xe3o submetida com sucesso","Accusation submitted successfully"),errorMessage:n("Vixi, o aplicativo encontrou um erro ao tentar enviar sua acusa\xe7\xe3o","Oops, the application found an error while trying to submit your acusa\xe7\xe3o")});return function(e){s((0,A.Z)({action:"MAKE_ACCUSATION"},e))}}var W=s(83099),z=s(67909),D=s(34571),B=s(77106),J=s(50410);function K(e){var n=e.locations,s=e.onSend,o=(0,y.Z)().translate,a=(0,J.r)().isLoading,t=(0,M.useState)(""),r=(0,u.Z)(t,2),i=r[0],c=r[1],l=(0,M.useMemo)((function(){var e,s;return null!==(e=null===(s=n.find((function(e){return e.id===i})))||void 0===s?void 0:s.name)&&void 0!==e?e:""}),[i,n]);return(0,T.jsxs)(W.Z,{className:"e-select-container e-select-container--locations",children:[(0,T.jsx)(z.Z,{onChange:function(e){return c(e)},placeholder:o("Chute um local","Guess location"),children:n.map((function(e){return(0,T.jsx)(z.Z.Option,{value:e.id,children:e.name},"select-".concat(e.id))}))}),(0,T.jsx)(D.Z,{title:(0,T.jsx)(h.vN,{pt:"Voc\xea s\xf3 pode chutar uma vez durante o jogo! Tem certeza que quer chutar ".concat(l,"?"),en:"You may guess the location only once! Are you sure you want to guess ".concat(l,"?")}),onConfirm:function(){return s({locationId:i})},okText:"Sim",cancelText:"N\xe3o",children:(0,T.jsxs)(_.Z,{type:"primary",disabled:!i||a,icon:a?(0,T.jsx)(B.Z,{}):null,children:[(0,T.jsx)(h.vN,{pt:"Chutar",en:"Guess"}),l?": ".concat(l):""]})})]})}function Q(e){var n,s,o=e.players,a=e.onSend,t=e.isFinalAssessment,r=void 0!==t&&t,i=(0,y.Z)().translate,c=(0,J.r)().isLoading,l=(0,C.j1)("userId"),d=(0,u.Z)(l,1)[0],m=(0,M.useState)(""),p=(0,u.Z)(m,2),v=p[0],x=p[1],j=Object.values(o).filter((function(e){return e.id!==d}));return(0,T.jsxs)(W.Z,{children:[(0,T.jsx)(z.Z,{onChange:function(e){return x(e)},className:"e-select",placeholder:i("Acuse um jogador","Accuse a player"),children:j.map((function(e){return(0,T.jsx)(z.Z.Option,{value:e.id,children:e.name},e.id)}))}),(0,T.jsx)(D.Z,{title:"".concat(r?"":i("Voc\xea s\xf3 pode acusar uma vez durante o jogo!","You may only make one accusation during the game!")," ").concat(i("Tem certeza que quer acusar","Are you sure you want to accuse")," ").concat(null===(n=o[v])||void 0===n?void 0:n.name,"?"),onConfirm:function(){return a({targetId:v})},okText:i("Sim","Yes"),cancelText:i("N\xe3o","No"),children:(0,T.jsxs)(_.Z,{type:"primary",disabled:!v||c,icon:c?(0,T.jsx)(B.Z,{}):null,children:[(0,T.jsx)(h.vN,{pt:"Acusar",en:"Accuse"}),v?": ".concat(null===(s=o[v])||void 0===s?void 0:s.name):""]})})]})}var H=s(29080),$=s(91528),X=s(81238);function ee(e){var n=e.players,s=(0,y.Z)().translate,o=(0,C.j1)("cache"),a=(0,u.Z)(o,2),t=a[0],r=a[1],i=(0,X.II)(n);return(0,T.jsxs)("div",{className:"e-list",children:[(0,T.jsxs)("h3",{className:"e-list__title",children:[(0,T.jsx)(H.Z,{})," ",(0,T.jsx)(h.vN,{pt:"Suspeitos",en:"Suspects"}),(0,T.jsx)(E.Z,{title:s("Desmarcar todos","Unselect all"),children:(0,T.jsx)(_.Z,{shape:"circle",ghost:!0,type:"default",size:"small",icon:(0,T.jsx)(w.Z,{}),onClick:function(){r((function(e){var n=(0,A.Z)({},e);return Object.keys(n).forEach((function(e){e.startsWith("_")&&delete n[e]})),n}))},className:"e-list__clear-button"})})]}),(0,T.jsx)("ul",{className:"e-list__list",children:i.map((function(e){return(0,T.jsxs)("li",{className:(0,Z.Z)("e-list__item",t[e.id]&&"e-list__item--crossed"),role:"button",onClick:function(){return n=e.id,void r((function(e){var s=(0,A.Z)({},e);return s[n]?delete s[n]:s[n]=!0,s}));var n},children:[e.name," ",e.usedAccusation&&(0,T.jsx)(E.Z,{title:"J\xe1 usou acusa\xe7\xe3o",children:(0,T.jsx)($.Z,{size:12})})]},e.id)}))})]})}var ne=s(30722);function se(e){var n=e.timer,s=e.hideAccusationSelect,o=e.setStep,a=(0,ne.useTimer)({expiryTimestamp:(0,X.Ds)(n.timeRemaining-2e3),autoStart:!0,onExpire:function(){s(),o(2)}}),t=a.minutes,r=a.seconds;return(0,T.jsxs)("div",{className:"e-timer",children:[t,":",r<10?"0".concat(r):r]})}function oe(e){var n=e.user,s=e.isUserTheSpy,o=e.locations,a=e.players,t=e.timer,r=e.onGuessLocation,i=e.onMakeAccusation,c=(e.onSendLastQuestioner,e.outcome),l=e.setStep;(0,f.R)();var d=(0,y.Z)().translate,m=(0,M.useState)(!0),p=(0,u.Z)(m,2),v=p[0],g=p[1];(0,M.useEffect)((function(){"VOTE_FAIL"===(null===c||void 0===c?void 0:c.type)&&q.Z.info({message:d("A vota\xe7\xe3o n\xe3o foi un\xe2nime","The voting was not unanimous"),description:c.votedYes?"Votaram sim: ".concat(c.votedYes):"Ningu\xe9m votou sim",duration:10})}),[null===c||void 0===c?void 0:c.type]);return(0,T.jsxs)(x.h,{className:"e-phase-step",children:[(0,T.jsxs)("div",{className:"e-phase-step-header",children:[(0,T.jsx)("div",{className:"e-phase-step-header__timer-container",children:(0,T.jsx)(se,{timer:t,hideAccusationSelect:function(){g(!1)},setStep:l})}),(0,T.jsxs)("div",{className:"e-phase-step-header__center",children:[(0,T.jsx)(j.Dx,{level:2,className:"e-phase-title",children:s?(0,T.jsx)(h.vN,{pt:"Onde eles est\xe3o?",en:"Where are they?"}):(0,T.jsx)(h.vN,{pt:"Quem \xe9 o espi\xe3o?",en:"Who is the spy?"})}),(0,T.jsx)(b,{location:n.location,role:n.role})]})]}),v&&(0,T.jsxs)(W.Z,{className:"space-container",align:"center",children:[s&&(0,T.jsx)(K,{locations:o,onSend:r}),"|",null!==n&&void 0!==n&&n.usedAccusation?(0,T.jsx)(j.vr,{className:"e-phase-instruction",children:(0,T.jsx)(h.vN,{pt:"Voc\xea j\xe1 usou sua chance de acusar",en:"You already used your accusation"})}):(0,T.jsx)(Q,{players:a,onSend:i})]}),(0,T.jsxs)(j.vr,{className:"e-lists",children:[(0,T.jsx)(ee,{players:a}),(0,T.jsx)(R,{locations:o})]}),(0,T.jsx)(I,{})]})}var ae=s(71969),te=s(29529);function re(e){var n=e.onSendLastQuestioner,s=e.players,o=(0,C.j1)("isAdmin"),a=(0,u.Z)(o,1)[0];return(0,T.jsxs)(ae.Z,{open:a,title:(0,T.jsx)(h.vN,{pt:"O Tempo Acabou!",en:"Time's up"}),footer:null,closable:!1,className:"e-modal",children:[(0,T.jsx)(h.vN,{pt:"Quem foi a \xfaltima pessoa a responder uma pergunta?",en:"Who was the last person to answer a question?"}),(0,T.jsx)(W.Z,{className:"space-container",align:"center",wrap:!0,children:Object.entries(s).map((function(e){var s=(0,u.Z)(e,2),o=s[0],a=s[1];return(0,T.jsx)(_.Z,{type:"default",icon:(0,T.jsx)(te.Z,{}),onClick:function(){return n({lastPlayerId:o})},children:a.name},o)}))})]})}var ie=s(39077),ce=s(39607),le=s(94322);var ue=function(e){var n,s,o,a,r=e.state,c=e.players,l=e.info,v=(0,y.Z)().translate,f=(0,d.g)(0),g=f.step,N=f.goToNextStep,S=f.setStep,b=(0,m.a)(c,r),Z=(0,p.R)("currentSpyId",r,c),E=(0,u.Z)(Z,2)[1],_=(0,p.R)("startingPlayerId",r,c),O=(0,u.Z)(_,1)[0],w=function(e){var n=(0,y.Z)().translate,s=(0,Y.C)({apiFunction:U.sZ.submitAction,actionName:"submit-guess",onBeforeCall:function(){return e(3)},onError:function(){return e(0)},successMessage:n("Chute submetido com sucesso","Guess submitted successfully"),errorMessage:n("Vixi, o aplicativo encontrou um erro ao tentar enviar seu chute","Oops, the application found an error while trying to submit your guess")});return function(e){s((0,A.Z)({action:"GUESS_LOCATION"},e))}}(S),C=G(S),R=function(e){var n=(0,y.Z)().translate,s=(0,Y.C)({apiFunction:U.sZ.submitAction,actionName:"submit-last-questioner",onError:function(){return e(1)},successMessage:n("\xdaltimo perguntador submetido com sucesso","Last questioner submitted successfully"),errorMessage:n("Vixi, o aplicativo encontrou um erro ao tentar enviar o \xfaltimo perguntador","Oops, the application found an error while trying to submit the last questioner")});return function(e){s((0,A.Z)({action:"LAST_QUESTIONER"},e))}}(S);return(0,M.useEffect)((function(){r.timeRemaining>59e4&&O.name&&q.Z.info({message:v("10 minutos!","10 minutes!"),description:v("".concat(O.name," come\xe7a perguntando!"),"".concat(O.name," starts questioning!")),duration:10})}),[O.name]),(0,T.jsx)(i.JK,{info:l,phase:null===r||void 0===r?void 0:r.phase,allowedPhase:t.R.ESPIAO_ENTRE_NOS.INVESTIGATION,className:"e-phase",children:(0,T.jsxs)(x.p,{step:g,conditions:[!b.isReady],players:c,children:["VOTE_FAIL"!==(null===r||void 0===r||null===(n=r.outcome)||void 0===n?void 0:n.type)?(0,T.jsx)(i.Cl,{icon:(0,T.jsx)(ie.Z,{}),title:(0,T.jsx)(h.vN,{pt:"Investiga\xe7\xe3o",en:"Investigation"}),onClose:N,currentRound:null===r||void 0===r||null===(s=r.round)||void 0===s?void 0:s.current,buttonText:"",className:"e-phase-announcement",duration:3}):(0,T.jsx)(i.Cl,{icon:(0,T.jsx)(ce.x,{}),title:(0,T.jsx)(h.vN,{pt:"A investiga\xe7\xe3o continua",en:"The investigation continues"}),onClose:N,currentRound:null===r||void 0===r||null===(o=r.round)||void 0===o?void 0:o.current,buttonText:"",className:"e-phase-announcement",duration:3,children:(0,T.jsx)(j.vr,{children:(0,T.jsx)(h.vN,{pt:"A vota\xe7\xe3o n\xe3o foi unanime",en:"The vote wasn't unanimous"})})}),(0,T.jsx)(oe,{user:b,isUserTheSpy:E,locations:r.locations,players:c,timer:r.timer,onGuessLocation:w,onMakeAccusation:C,onSendLastQuestioner:R,outcome:r.outcome,setStep:S}),(0,T.jsxs)(i.Cl,{icon:(0,T.jsx)(le.A,{}),title:(0,T.jsx)(h.vN,{pt:"O tempo acabou!!!",en:"Time's up!!!"}),unskippable:!0,duration:300,onClose:function(){},currentRound:null===r||void 0===r||null===(a=r.round)||void 0===a?void 0:a.current,buttonText:"",className:"e-phase-announcement",children:[(0,T.jsx)(j.vr,{children:(0,T.jsx)(h.vN,{pt:"Preparado para a avalia\xe7\xe3o final?",en:"Are you ready for the final assessment?"})}),(0,T.jsx)(re,{onSendLastQuestioner:R,players:c})]})]})})},de=s(47891),me=s(74531);function pe(e){var n=e.user,s=e.locations,o=e.players,a=e.onSubmitVote,t=e.accuser,r=e.isUserTheAccuser,i=e.target,c=e.isUserTheTarget,l=(0,y.Z)().translate,u=(0,J.r)().isLoading;return(0,T.jsxs)(x.h,{className:"e-phase-step",children:[(0,T.jsx)(j.Dx,{level:2,className:"e-phase-title",children:(0,T.jsx)(h.vN,{pt:"".concat(t.name," est\xe1 acusando ").concat(i.name," de ser o espi\xe3o. Concorda?"),en:"".concat(t.name," is accusing ").concat(i.name," to be the spy. Do you agree?")})}),(0,T.jsxs)(me.r_,{cases:[r,c,!0],children:[(0,T.jsx)(me.G7,{children:(0,T.jsx)(j.vr,{className:"e-phase-instruction",children:(0,T.jsx)(h.vN,{pt:"Voc\xea n\xe3o participa dessa vota\xe7\xe3o, afinal, voc\xea quem acusou!",en:"You do not join the voting, after all, you triggered it!"})})},"accuser"),(0,T.jsx)(me.G7,{children:(0,T.jsx)(j.vr,{className:"e-phase-instruction",children:(0,T.jsx)(h.vN,{pt:"Voc\xea n\xe3o participa dessa vota\xe7\xe3o, afinal, \xe9 voc\xea quem est\xe1 no pared\xe3o!",en:"You do not joint the voting, after all, you are the target"})})},"target"),(0,T.jsx)(me.G7,{children:n.ready?(0,T.jsx)(j.vr,{className:"e-phase-instruction",children:(0,T.jsx)(h.vN,{pt:"Voto computado",en:"Vote accepted"})}):(0,T.jsxs)(W.Z,{children:[(0,T.jsx)(_.Z,{ghost:!0,disabled:u,onClick:function(){return a({vote:!0})},children:(0,T.jsx)(h.vN,{pt:"Tamb\xe9m acho!",en:"Agree!"})}),(0,T.jsx)(_.Z,{ghost:!0,disabled:u,onClick:function(){return a({vote:!1})},children:(0,T.jsx)(h.vN,{pt:"N\xe3o \xe9 ele(a)",en:"It's not them"})})]})},"others")]}),(0,T.jsx)(b,{location:n.location,role:n.role}),(0,T.jsx)(de.qQ,{players:o,readyText:l("Votei","I voted"),readyTextPlural:l("Votamos","We voted"),hideNames:!0}),(0,T.jsxs)(j.vr,{className:"e-lists",children:[(0,T.jsx)(ee,{players:o}),(0,T.jsx)(R,{locations:s})]}),(0,T.jsx)(I,{})]})}var he=s(47817);var ve=function(e){var n,s=e.state,o=e.players,a=e.info,r=(0,d.g)(0),c=r.step,l=r.goToNextStep,v=r.setStep,f=(0,m.a)(o,s),g=(0,p.R)("accuserId",s,o),N=(0,u.Z)(g,2),S=N[0],b=N[1],Z=(0,p.R)("targetId",s,o),E=(0,u.Z)(Z,2),_=E[0],O=E[1],w=function(e){var n=(0,y.Z)().translate,s=(0,Y.C)({apiFunction:U.sZ.submitAction,actionName:"submit-vote",onError:function(){return e(1)},successMessage:n("Voto submetido com sucesso","Vote submitted successfully"),errorMessage:n("Vixi, o aplicativo encontrou um erro ao tentar enviar seu voto","Oops, the application found an error while trying to submit your vote")});return function(e){s((0,A.Z)({action:"SUBMIT_VOTE"},e))}}(v);return(0,T.jsx)(i.JK,{info:a,phase:null===s||void 0===s?void 0:s.phase,allowedPhase:t.R.ESPIAO_ENTRE_NOS.ASSESSMENT,className:"e-phase",children:(0,T.jsxs)(x.p,{step:c,conditions:[!f.isReady],players:o,children:[(0,T.jsx)(i.Cl,{icon:(0,T.jsx)(he.z,{}),title:(0,T.jsx)(h.vN,{pt:"Acusa\xe7\xe3o!",en:"Accusation!"}),onClose:l,currentRound:null===s||void 0===s||null===(n=s.round)||void 0===n?void 0:n.current,buttonText:"",className:"e-phase-announcement e-phase-announcement--alert",duration:5,children:(0,T.jsx)(j.vr,{children:(0,T.jsx)(h.vN,{pt:(0,T.jsxs)(T.Fragment,{children:["Algu\xe9m foi acusado! Bafo!",(0,T.jsx)("br",{}),"Apenas se a vota\xe7\xe3o for unanime que o resultado \xe9 revelado."]}),en:(0,T.jsxs)(T.Fragment,{children:["Someone was accused! Drama!!!",(0,T.jsx)("br",{}),"The solution is revealed only if the voting is unanimous."]})})})}),(0,T.jsx)(pe,{user:f,locations:s.locations,players:o,onSubmitVote:w,accuser:S,isUserTheAccuser:b,target:_,isUserTheTarget:O})]})})};function xe(e){var n=e.players,s=e.target,o=e.resolutionStatus,a=e.currentSpy,t=e.onProgressGame;(0,f.R)();var r=(0,J.r)().isLoading;return(0,T.jsxs)(x.h,{className:"e-phase-step",children:[(0,T.jsx)(j.Dx,{level:2,className:(0,Z.Z)("e-phase-title",!o.isPlayerVictory&&"e-phase-title--fail"),children:o.isPlayerVictory?(0,T.jsx)(h.vN,{pt:"Miss\xe3o Cumprida!",en:"Mission Accomplished!"}):(0,T.jsx)(h.vN,{pt:"Miss\xe3o Fracassada",en:"Mission Failed"})}),o.wasAnAccusationAttempt&&(0,T.jsx)(j.vr,{className:"e-phase-instruction",children:(0,T.jsx)(h.vN,{pt:(0,T.jsxs)(T.Fragment,{children:["Os agentes tentaram incriminar ",s.name,o.didTheSpyWin?" e erraram feio!":" e acertaram na mosca!",(0,T.jsx)("br",{}),o.didTheSpyWin?"O espi\xe3o era ".concat(a.name,"! Todos os segredos da ag\xeancia foram revelados e o mundo vai acabar."):"Parab\xe9ns! O mundo est\xe1 salvo gra\xe7as a voc\xea.",(0,T.jsx)("br",{}),o.wasABadVoting&&"Da pr\xf3xima vez, discutam mais antes de fazerem uma vota\xe7\xe3o precipitada."]}),en:(0,T.jsxs)(T.Fragment,{children:["The agents tried to pin ",s.name,o.didTheSpyWin?" and got it all wrong!":" and hit the bull's eye!",(0,T.jsx)("br",{}),o.didTheSpyWin?"The spy was ".concat(a.name,"! All of the agency secrets were revealed and the world will end."):"Congratulations! The world is safe and sound thanks to you.",(0,T.jsx)("br",{}),o.wasABadVoting&&"Next time, discuss more before making a rash decision."]})})}),o.didSpyGuess&&(0,T.jsx)(j.vr,{className:"e-phase-instruction",children:(0,T.jsx)(h.vN,{pt:(0,T.jsxs)(T.Fragment,{children:["O espi\xe3o disse que o local \xe9 ",o.guess.name,o.didTheSpyWin?" e acertou na mosca!":" e errou feio! Os Agentes est\xe3o num(a) ".concat(o.currentLocation.name,"."),(0,T.jsx)("br",{}),o.didTheSpyWin?"Todos os segredos da ag\xeancia foram revelados e o mundo vai acabar.":"Foi por pouco, mas n\xe3o foi dessa vez que o mal venceu."]}),en:(0,T.jsxs)(T.Fragment,{children:["The spy guessed the location: ",o.guess.name,o.didTheSpyWin?" and hit the bull's eye!":" and got it all wrong! The agents were at a ".concat(o.currentLocation.name,"."),(0,T.jsx)("br",{}),o.didTheSpyWin?"All of the agency secrets were revealed and the world will end...":"That was close... but evil won't win this time."]})})}),(0,T.jsxs)(j.vr,{className:"e-phase-instruction",children:[(0,T.jsx)("h4",{children:o.currentLocation.name}),(0,T.jsx)(h.vN,{pt:"Disfarces dos infiltrados:",en:"Agent's roles:"}),Object.values(n).map((function(e){var n=e.id,s=e.name,o=e.role;return(0,T.jsxs)("li",{children:[s," ",(0,T.jsx)(h.vN,{pt:"como",en:"as"})," ","SPY"===o?(0,T.jsx)(h.vN,{pt:"ESPI\xc3O",en:"SPY"}):o]},"role-list-".concat(n))}))]}),(0,T.jsxs)(g.In,{children:[(0,T.jsx)(g.wg,{onClick:function(){return t({continue:!0})},disabled:r,children:(0,T.jsx)(h.vN,{pt:"Jogar mais uma rodada",en:"Play another round"})}),(0,T.jsx)(g.wg,{onClick:function(){return t({end:!0})},disabled:r,children:(0,T.jsx)(h.vN,{pt:"Terminar Jogo",en:"End Game"})})]})]})}var je=s(32232),fe=s(78150),ge=s(50303),Ne=s(8796);var ye=function(e){var n,s,o,r=e.state,c=e.players,l=e.info,v=(0,m.a)(c,r),j=(0,d.g)(0),f=j.step,g=j.goToNextStep,N=j.setStep,S=(0,p.R)("currentSpyId",r,c),b=(0,u.Z)(S,2),A=b[0],Z=b[1],E=(0,p.R)("targetId",r,c),_=(0,u.Z)(E,1)[0],O=function(e){var n=(0,y.Z)().translate,s=(0,Y.C)({apiFunction:U.c2.performAdminAction,actionName:"progress-game",onError:function(){return e(1)},successMessage:n("Jogo progredido com sucesso","Game progressed successfully"),errorMessage:n("Vixi, o aplicativo encontrou um erro ao tentar continuar","Oops, the application found an error while trying to continue")});return function(e){s({action:e.end?a.ND.FORCE_END_GAME:a.ND.GO_TO_NEXT_PHASE})}}(N),w=(0,M.useMemo)((function(){return function(e,n,s,o){var a,t=null!==(a=o.find((function(n){return n.id===(null===e||void 0===e?void 0:e.guess)})))&&void 0!==a?a:{};return{isPlayerVictory:e.isSpyWin===n,isUserTheSpy:n,wasABadVoting:e.isSpyWin&&Boolean(s>0),wasAnAccusationAttempt:"SPY_FOUND"===e.type,didSpyGuess:"SPY_GUESS"===e.type,didTheSpyWin:e.isSpyWin,phaseIcon:e.isSpyWin?"nuclear-explosion":"handcuffs",guess:t,currentLocation:e.currentLocation}}(r.resolution,Z,r.timeRemaining,r.locations)}),[r.resolution,Z,r.timeRemaining,r.locations]);return(0,T.jsx)(i.JK,{info:l,phase:null===r||void 0===r?void 0:r.phase,allowedPhase:t.R.ESPIAO_ENTRE_NOS.RESOLUTION,className:"e-phase",children:(0,T.jsxs)(x.p,{step:f,conditions:[!v.isReady],players:c,children:[(0,T.jsxs)(me.xo,{orCondition:w.didSpyGuess,children:[(0,T.jsx)(i.Cl,{icon:(0,T.jsx)(je.f,{}),title:(0,T.jsx)(h.vN,{pt:"O espi\xe3o tentou adivinhar o local",en:"The spy tried to guess the location"}),onClose:g,currentRound:null===r||void 0===r||null===(n=r.round)||void 0===n?void 0:n.current,buttonText:"",className:"e-phase-announcement",duration:5}),(0,T.jsx)(i.Cl,{icon:(0,T.jsx)(fe.L,{}),title:(0,T.jsx)(h.vN,{pt:"A vota\xe7\xe3o foi unanime!",en:"The vote was unanimous!"}),onClose:g,currentRound:null===r||void 0===r||null===(s=r.round)||void 0===s?void 0:s.current,buttonText:"",className:"e-phase-announcement",duration:5})]}),(0,T.jsx)(i.BK,{goToNextStep:g}),(0,T.jsx)(i.Cl,{icon:"nuclear-explosion"===w.phaseIcon?(0,T.jsx)(ge.p,{}):(0,T.jsx)(Ne.z,{}),title:(0,T.jsx)(h.vN,{pt:"O fim chegou!",en:"The end is here!"}),onClose:g,currentRound:null===r||void 0===r||null===(o=r.round)||void 0===o?void 0:o.current,buttonText:"",className:"e-phase-announcement",duration:5}),(0,T.jsx)(xe,{players:c,target:_,resolutionStatus:w,currentSpy:A,onProgressGame:O})]})})};function Se(e){var n=e.finalAssessment,s=e.players,o=n.playerOrder,a=n.playerOrderIndex,t=s[o[a]],r=(0,X.Nk)(o,s,!0).join(", ");return(0,T.jsx)(j.vr,{className:"e-phase-instruction",children:(0,T.jsx)(h.vN,{pt:(0,T.jsxs)(T.Fragment,{children:["J\xe1 que voc\xeas falharam em encontrar o espi\xe3o, h\xe1 uma \xfaltima possibilidade!",(0,T.jsxs)("ul",{children:[0===a?(0,T.jsxs)("li",{children:["Cada jogador, come\xe7ando por ",t.name,", faz uma acusa\xe7\xe3o."]}):(0,T.jsxs)("li",{children:["Agora \xe9 a vez de ",t.name," faz uma acusa\xe7\xe3o."]}),(0,T.jsx)("li",{children:"Se a vota\xe7\xe3o for un\xe2nime em qualquer uma das vota\xe7\xf5es, o jogo acaba e revelam-se os pap\xe9is."}),(0,T.jsx)("li",{children:"Sem discuss\xe3o dessa vez, simplesmente acuse algu\xe9m! N\xe3o temos mais tempo!"}),(0,T.jsxs)("li",{children:["A ordem ser\xe1 essa: ",r]})]})]}),en:(0,T.jsxs)(T.Fragment,{children:["Since you've failed to find the spy, here's a last resort!",(0,T.jsxs)("ul",{children:[0===a?(0,T.jsxs)("li",{children:["Each player will, starting with ",t.name,", will make an accusation."]}):(0,T.jsxs)("li",{children:["Now it's time for ",t.name," to make an accusation."]}),(0,T.jsx)("li",{children:"If the voting result is unanimous, the game is over and the roles are revealed."}),(0,T.jsx)("li",{children:"No discussion, just accuse somebody! There's no time anymore!"}),(0,T.jsxs)("li",{children:["The order is: ",r]})]})]})})})}function Te(e){var n=e.isModalVisible,s=e.onMakeAccusation,o=e.players,a=e.finalAssessment;return(0,T.jsxs)(ae.Z,{open:n,title:(0,T.jsx)(h.vN,{pt:"Quem voc\xea vai acusar?",en:"Who are you gonna accuse?"}),footer:null,closable:!1,className:"e-modal",children:[(0,T.jsx)(Se,{finalAssessment:a,players:o}),(0,T.jsx)(h.vN,{pt:"N\xe3o h\xe1 tempo pra pensar, escolha algu\xe9m!",en:"There's no time to think, just choose someone"}),(0,T.jsx)(W.Z,{className:"space-container",align:"center",children:(0,T.jsx)(Q,{players:o,onSend:s,isFinalAssessment:!0})})]})}function be(e){var n=e.finalAssessment,s=e.players,o=e.user,a=e.locations,t=e.isUserTheAccuser,r=e.onMakeAccusation,i=e.outcome;(0,f.R)();var c=(0,y.Z)().translate;return(0,M.useEffect)((function(){"VOTE_FAIL"===(null===i||void 0===i?void 0:i.type)&&q.Z.info({message:c("A vota\xe7\xe3o n\xe3o foi un\xe2nime","The voting was not unanimous"),description:i.votedYes?"Votaram sim: ".concat(i.votedYes):"Ningu\xe9m votou sim",duration:10})}),[null===i||void 0===i?void 0:i.type]),(0,T.jsxs)(x.h,{children:[(0,T.jsx)(j.Dx,{level:2,className:"e-phase-title",children:(0,T.jsx)(h.vN,{pt:"\xdaltima Chance!",en:"Last chance!"})}),(0,T.jsx)(Te,{isModalVisible:t,onMakeAccusation:r,players:s,finalAssessment:n}),(0,T.jsx)(Se,{finalAssessment:n,players:s}),(0,T.jsx)(b,{location:o.location,role:o.role}),(0,T.jsxs)(j.vr,{className:"e-lists",children:[(0,T.jsx)(ee,{players:s}),(0,T.jsx)(R,{locations:a})]}),(0,T.jsx)(I,{})]})}var Ae=s(45647);var Ze=function(e){var n,s,o=e.state,a=e.players,r=e.info,c=(0,d.g)(0),l=c.step,u=c.goToNextStep,p=c.setStep,v=(0,m.a)(a,o),f=G(p),g=o.finalAssessment.playerOrder[o.finalAssessment.playerOrderIndex]===v.id;return(0,T.jsx)(i.JK,{info:r,phase:null===o||void 0===o?void 0:o.phase,allowedPhase:t.R.ESPIAO_ENTRE_NOS.FINAL_ASSESSMENT,className:"e-phase",children:(0,T.jsxs)(x.p,{step:l,conditions:[!v.isReady],players:a,children:[0===o.finalAssessment.playerOrderIndex?(0,T.jsx)(i.Cl,{icon:(0,T.jsx)(Ae.o,{}),title:(0,T.jsx)(h.vN,{pt:"O tempo acabou!",en:"Time's up!"}),onClose:u,currentRound:null===o||void 0===o||null===(n=o.round)||void 0===n?void 0:n.current,buttonText:"",className:"e-phase-announcement",duration:2}):(0,T.jsx)(i.Cl,{icon:(0,T.jsx)(ce.x,{}),title:(0,T.jsx)(h.vN,{pt:"A avalia\xe7\xe3o final continua",en:"The final assessment continues"}),onClose:u,currentRound:null===o||void 0===o||null===(s=o.round)||void 0===s?void 0:s.current,buttonText:"",className:"e-phase-announcement",duration:3,children:(0,T.jsx)(j.vr,{children:(0,T.jsx)(h.vN,{pt:"A vota\xe7\xe3o n\xe3o foi unanime",en:"The vote wasn't unanimous"})})}),(0,T.jsx)(be,{onMakeAccusation:f,players:a,finalAssessment:o.finalAssessment,outcome:o.outcome,user:v,locations:o.locations,isUserTheAccuser:g})]})})};o.ZP.config({theme:{primaryColor:a.kT.LIME}});var Ee=function(e){var n=e.gameId;return(0,T.jsx)(r.z,{gameId:n,gameCollection:a.H$.ESPIAO_ENTRE_NOS,getActiveComponent:function(e){switch(e){case t.R.DEFAULT.LOBBY:return i.Uc;case t.R.DEFAULT.RULES:return i.hj;case t.R.DEFAULT.SETUP:return i.Z8;case t.R.ESPIAO_ENTRE_NOS.ASSIGNMENT:return L;case t.R.ESPIAO_ENTRE_NOS.INVESTIGATION:return ue;case t.R.ESPIAO_ENTRE_NOS.ASSESSMENT:return ve;case t.R.ESPIAO_ENTRE_NOS.FINAL_ASSESSMENT:return Ze;case t.R.ESPIAO_ENTRE_NOS.RESOLUTION:return ye;case t.R.DEFAULT.GAME_OVER:return l.K;default:return c.S}}})}},26055:function(e,n,s){s.d(n,{R:function(){return r}});var o=s(29439),a=s(72791),t=s(81839);function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"activePlayer",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(0,t.j1)("userId"),i=(0,o.Z)(r,1),c=i[0],l=(0,a.useState)({}),u=(0,o.Z)(l,2),d=u[0],m=u[1],p=(0,a.useState)(!1),h=(0,o.Z)(p,2),v=h[0],x=h[1];return(0,a.useEffect)((function(){var o,a=null===n||void 0===n?void 0:n[e];m(null!==(o=null===s||void 0===s?void 0:s[a])&&void 0!==o?o:{}),x((null===n||void 0===n?void 0:n[e])===c)}),[s,e,n,c]),[d,v]}}}]);
//# sourceMappingURL=espiao-entre-nos.96319a9c.chunk.js.map