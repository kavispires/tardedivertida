"use strict";(self.webpackChunktardedivertida=self.webpackChunktardedivertida||[]).push([[7323],{90472:function(e,n,r){r.d(n,{wg:function(){return z},OJ:function(){return B},lv:function(){return H},c3:function(){return K},In:function(){return m}});var a=r(1413),t=r(29439),s=r(44925),i=r(28182),l=r(83099),o=r(28955),c=r(81839),d=r(80184),u=["children","className"],m=function(e){var n=e.children,r=e.className,m=void 0===r?"":r,h=(0,s.Z)(e,u),p=(0,c.j1)("isAdmin"),y=(0,t.Z)(p,1)[0],x=(0,c.j1)("isAdminEnabled"),j=(0,t.Z)(x,1)[0];return y&&j?(0,d.jsxs)("fieldset",{className:(0,i.Z)("admin-only-container",m),children:[(0,d.jsxs)("legend",{className:"admin-only-container__legend",children:[(0,d.jsx)(o.Z,{})," Admin Controls"]}),(0,d.jsx)(l.Z,(0,a.Z)((0,a.Z)({},h),{},{children:n}))]}):(0,d.jsx)("span",{})},h=r(72791),p=r(56847),y=r(34571),x=r(87309),j=r(2133),f=r(50410),v=r(53673),g=r(76591),Z=r(77363),b=["label"],N=function(e){var n=e.label,r=(0,s.Z)(e,b);return(0,d.jsx)(x.Z,(0,a.Z)((0,a.Z)({icon:(0,d.jsx)(o.Z,{}),type:"primary",danger:!0,className:"full-width"},r),{},{children:n}))},_=r(4942),A=r(15861),C=r(87757),P=r.n(C),k=r(33592),w=r(50419),O=r(20005),E=r(67909),T=r(25093),I=r(25581),R=r(86005),F=function(e){switch(e.valueType){case"number":return(0,d.jsx)(k.Z.Item,{label:"Value",name:"value",children:(0,d.jsx)(T.Z,{})});case"boolean":return(0,d.jsx)(k.Z.Item,{label:"Value",name:"value",children:(0,d.jsx)(I.Z,{checkedChildren:"true",unCheckedChildren:"false",defaultChecked:!0})});case"nullish":return(0,d.jsx)(k.Z.Item,{label:"Value",name:"value",children:(0,d.jsx)(I.Z,{checkedChildren:"null",unCheckedChildren:"undefined",defaultChecked:!0})});default:return(0,d.jsx)(k.Z.Item,{label:"Value",name:"value",children:(0,d.jsx)(R.Z,{})})}},M=function(e){var n=e.isLoading,r=e.state,a=e.onPerformAdminAction,s=k.Z.useForm(),i=(0,t.Z)(s,1)[0],l=(0,h.useState)("string"),o=(0,t.Z)(l,2),c=o[0],u=o[1],m=Object.keys(r).map((function(e){return{label:e,value:e}})),p=function(){var e=(0,A.Z)(P().mark((function e(n){var r,t,s;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.value,e.prev=1,"number"===n.valueType&&(r=null!==(t=Number(n.value))&&void 0!==t?t:0),"nullish"===n.valueType&&(r=n.value?null:void 0),s=(0,_.Z)({},n.key,r),!window.confirm("Tem certeza que quer for\xe7ar o estado ".concat(JSON.stringify(s)))){e.next=10;break}return e.next=8,a({state:s,action:g.ND.FORCE_STATE_PROPERTY});case 8:i.resetFields(),u("string");case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),w.ZP.error("Something went wrong",e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(n){return e.apply(this,arguments)}}();return(0,d.jsxs)(k.Z,{name:"basic",form:i,initialValues:{valueType:"string"},onFinish:p,children:[(0,d.jsx)("h3",{children:"Force Property"}),(0,d.jsx)(k.Z.Item,{label:"Key",name:"key",rules:[{required:!0}],children:(0,d.jsx)(O.Z,{options:m})}),(0,d.jsx)(k.Z.Item,{label:"Type",name:"valueType",children:(0,d.jsxs)(E.Z,{onChange:function(e){["boolean","nullish"].includes(e)&&i.setFieldsValue({value:!0}),"number"===e&&i.setFieldsValue({value:0}),"string"===e&&i.setFieldsValue({value:""}),u(e)},children:[(0,d.jsx)(E.Z.Option,{value:"string",children:"string"}),(0,d.jsx)(E.Z.Option,{value:"number",children:"number"}),(0,d.jsx)(E.Z.Option,{value:"boolean",children:"boolean"}),(0,d.jsx)(E.Z.Option,{value:"nullish",children:"nullish"})]})}),(0,d.jsx)(F,{valueType:c}),(0,d.jsx)(x.Z,{type:"primary",htmlType:"submit",disabled:n,danger:!0,children:"Submit"})]})},L=r(37557),S=r(8067);function V(e){var n=e.players,r=Object.values(n).reduce((function(e,n){return n.ready?e.readyPlayers.push(n.name):e.pendingPlayers.push(n.name),e}),{readyPlayers:[],pendingPlayers:[]}),a=r.readyPlayers,t=r.pendingPlayers;return(0,d.jsxs)("li",{className:"admin-players-ready-state",children:[(0,d.jsx)("h3",{children:"Players Ready State"}),(0,d.jsxs)("div",{className:"admin-players-ready-state__entry",children:[(0,d.jsx)(L.Z,{style:{color:"green"},title:"Ready:"}),(0,d.jsx)("ul",{className:"admin-players-ready-state__list",children:a.map((function(e){return(0,d.jsx)("li",{className:"admin-players-ready-state__item",children:e},"admin-player-".concat(e))}))})]}),(0,d.jsxs)("div",{className:"admin-players-ready-state__entry",children:[(0,d.jsx)(S.Z,{style:{color:"orange"},title:"Ready:"}),(0,d.jsx)("ul",{className:"admin-players-ready-state__list",children:t.map((function(e){return(0,d.jsx)("li",{className:"admin-players-ready-state__item",children:e},"admin-player-".concat(e))}))})]})]})}var D=r(93028),G=r(82741),B=function(e){var n=e.state,r=e.players,a=(0,f.r)().isLoading,s=(0,c.j1)("isAdmin"),i=(0,t.Z)(s,1)[0],l=(0,c.j1)("usingEmulators"),u=(0,t.Z)(l,1)[0],m=(0,c.j1)("isAdminEnabled"),b=(0,t.Z)(m,1)[0],_=(0,h.useState)(!1),A=(0,t.Z)(_,2),C=A[0],P=A[1],k=(0,c.j1)("gameMeta"),w=(0,t.Z)(k,1)[0],O=function(){P(!1)},E=(0,j.C)({apiFunction:v.c2.performAdminAction,actionName:"perform-admin-action",successMessage:"Admin action performed successfully",errorMessage:"The selected admin action has failed",onAfterCall:O});return i&&b?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"admin-menu-drawer",children:[(0,d.jsx)(D.fX,{position:-1,icon:(0,d.jsx)(o.Z,{}),type:"button",label:(0,d.jsx)(G.vN,{pt:" Admin",en:" Admin"}),onClick:function(){P(!0)},buttonProps:{type:"primary",danger:!0}}),(0,d.jsx)(p.Z,{title:"Admin Menu",placement:"left",closable:!1,open:C,onClose:O,children:(0,d.jsxs)("ul",{children:[(0,d.jsx)(V,{players:r}),(0,d.jsx)("li",{children:(0,d.jsx)("hr",{})}),(0,d.jsxs)("li",{className:"admin-menu-drawer__buttons",children:[(0,d.jsx)("h3",{children:"Actions"}),(0,d.jsx)(y.Z,{placement:"right",title:"Are you sure you want to go to the next phase?",onConfirm:function(){return E({action:g.ND.GO_TO_NEXT_PHASE})},children:(0,d.jsx)(N,{disabled:a||"GAME_OVER"===n.phase,label:"Force Next Phase",className:"admin-menu-drawer__button"})}),(0,d.jsx)(y.Z,{placement:"right",title:"Are you sure you want to go to play again?",onConfirm:function(){return E({action:g.ND.PLAY_AGAIN})},children:(0,d.jsx)(N,{disabled:!0,label:"Play Again",className:"admin-menu-drawer__button"})}),(0,d.jsx)(y.Z,{placement:"right",title:"Are you sure you want to go to end the game by the end of this round?",onConfirm:function(){return E({action:g.ND.FORCE_END_GAME})},children:(0,d.jsx)(N,{disabled:(null===n||void 0===n?void 0:n.lastRound)||a||["LOBBY","RULES","GAME_OVER"].includes(n.phase),label:"Make this the last round",className:"admin-menu-drawer__button"})})]}),(0,d.jsx)("li",{children:(0,d.jsx)("hr",{})}),(0,d.jsx)("li",{children:(0,d.jsx)(M,{isLoading:a,onPerformAdminAction:E,state:n})}),(0,d.jsx)("li",{children:(0,d.jsx)("hr",{})}),(0,d.jsxs)("li",{children:[(0,d.jsx)("h3",{children:"Firebase"}),(0,d.jsx)(x.Z,{target:"_blank",href:(0,Z.TY)(u,w.gameName,w.gameId),children:"Visit Firebase Collection"})]})]})})]})}):(0,d.jsx)("span",{})},q=r(20670);function J(e){var n=e.round;return e.lastRound||!n||n.current===n.total?(0,d.jsx)(G.vN,{pt:"Tela de Game Over",en:"Game Over Screen"}):(0,d.jsx)(G.vN,{pt:"Pr\xf3xima rodada",en:"Next Round"})}function H(e){var n=e.className,r=void 0===n?"":n,a=e.round,t=e.lastRound,s=void 0!==t&&t,i=e.autoTriggerTime,l=void 0===i?0:i,c=e.children,u=(0,q.Z)().translate,h=(0,f.r)().isLoading,p=(0,j.C)({apiFunction:v.c2.performAdminAction,actionName:"force-next-phase",successMessage:u("Funcionou, pr\xf3xima fase!","It worked, next phase!"),errorMessage:u("Vixi, o aplicativo encontrou um erro ao tentar ir para a pr\xf3xima fase","The application found an error while trying to go to the next phase")}),y=function(){return p({action:g.ND.GO_TO_NEXT_PHASE})};return(0,d.jsx)(m,{className:r,children:(0,d.jsx)(D.hn,{icon:(0,d.jsx)(o.Z,{}),type:"primary",danger:!0,disabled:h,onClick:y,onExpire:y,duration:l,hideTimer:!Boolean(l),children:null!==c&&void 0!==c?c:(0,d.jsx)(J,{round:a,lastRound:s})})})}var Y=r(84094),X=["onClick","children"];function z(e){var n=e.onClick,r=e.children,i=(0,s.Z)(e,X),l=(0,f.r)().isLoading,o=(0,c.j1)("isAdminEnabled");return(0,t.Z)(o,1)[0]?(0,d.jsx)(x.Z,(0,a.Z)((0,a.Z)({icon:(0,d.jsx)(Y.Z,{}),danger:!0,type:"primary",onClick:n,disabled:l},i),{},{children:r})):(0,d.jsx)("span",{})}function K(e){var n=e.onClick,r=e.label,a=(0,c.j1)("isAdminEnabled");return(0,t.Z)(a,1)[0]?(0,d.jsx)(m,{children:(0,d.jsx)(z,{onClick:n,children:r})}):(0,d.jsx)("span",{})}},47891:function(e,n,r){r.d(n,{qQ:function(){return c},Zy:function(){return y},a1:function(){return v}});var a=r(2649),t=r(89644),s=r(47064),i=r(38025),l=r(82741),o=r(80184);function c(e){var n=e.players,r=e.readyText,c=e.readyTextPlural,d=e.hideNames,u=void 0!==d&&d,m=Object.values(n).reduce((function(e,n){return n.ready?e.readyPlayers.push(n):e.notReadyPlayers.push(n.name),e}),{readyPlayers:[],notReadyPlayers:[]}),h=m.readyPlayers,p=m.notReadyPlayers;return 0===h.length?(0,o.jsx)("span",{}):(0,o.jsxs)("div",{className:"ready-player-bar",children:[(0,o.jsxs)("div",{className:"ready-player-bar__bar",children:[(0,o.jsx)(a.C.Group,{size:"small",children:h.map((function(e){return(0,o.jsx)(i.qE,{id:e.avatarId},e.name)}))}),(0,o.jsxs)("span",{className:"ready-player-bar__speech-bubble",children:[(0,o.jsx)(t.Z.Text,{children:h.length>1?(0,o.jsx)(l.vN,{pt:"Estamos prontos!",en:"We're ready!",custom:c}):(0,o.jsx)(l.vN,{pt:"Estou pronto!",en:"I'm ready!",custom:r})}),(0,o.jsx)(s.Z,{className:"ready-player-bar__speech-bubble-icon"})]})]}),!u&&p.length>0&&(0,o.jsxs)("span",{className:"ready-player-bar__names",children:[(0,o.jsx)(l.vN,{pt:"Esperando",en:"Waiting for"}),": ",p.join(", ")]})]})}var d=r(72791),u=r(28182),m=r(65712),h=r(81238),p=r(6093);function y(e){var n=e.players,r=e.order,a=e.activePlayerId,t=e.reorderByUser,s=e.title,c=e.className,y=void 0===c?"":c,x=(0,d.useMemo)((function(){return Boolean(t)?(0,p.H)(r,t):r}),[t,r]);return(0,o.jsxs)("div",{className:(0,u.Z)("turn-order",y),children:[(0,o.jsx)("header",{className:"turn-order__title",children:(0,o.jsx)(l.vN,{en:"Player Order",pt:"Ordem dos Jogadores",custom:s})}),(0,o.jsx)("ol",{className:"turn-order__players",children:x.map((function(e,t){var s=n[e],l=a===e;return(0,o.jsxs)(d.Fragment,{children:[(0,o.jsx)("span",{className:(0,u.Z)("turn-order__player",l&&"turn-order__player--active"),style:l?{backgroundColor:(0,h.n0)(s.avatarId)}:void 0,children:(0,o.jsx)(i.gj,{player:s})}),t<r.length-1&&(0,o.jsx)("span",{className:"turn-order__arrow",children:(0,o.jsx)(m.Z,{})})]},"turn-order-player-".concat(e))}))})]})}var x=r(64823),j=r(86954),f=r(75234);function v(e){var n=e.players,r=e.title,a=e.instruction,t=e.children,s=e.icon;return(0,x.R)(),(0,o.jsxs)("div",{className:"waiting-room",children:[(0,o.jsx)(j.Dx,{children:(0,o.jsx)(l.vN,{pt:"Pronto!",en:"Done!",custom:r})}),null!==s&&void 0!==s?s:(0,o.jsx)(f.L,{style:{width:"6rem"}}),(0,o.jsx)(j.vr,{children:Boolean(a)?a:(0,o.jsx)(l.vN,{pt:"Vamos aguardar os outros jogadores!",en:"Please wait for the other players!"})}),t,(0,o.jsx)(c,{players:n})]})}},6093:function(e,n,r){r.d(n,{H:function(){return t}});var a=r(93433);function t(e,n){var r=e.indexOf(n);return[].concat((0,a.Z)(e.slice(r)),(0,a.Z)(e.slice(0,r)))}},2133:function(e,n,r){r.d(n,{C:function(){return p}});var a=r(1413),t=r(15861),s=r(29439),i=r(87757),l=r.n(i),o=r(72791),c=r(50419),d=r(13085),u=r(50410),m=r(81839),h=void 0;function p(e){var n=e.apiFunction,r=e.actionName,i=void 0===r?"api-action":r,p=e.onBeforeCall,y=void 0===p?function(){}:p,x=e.onAfterCall,j=void 0===x?function(){}:x,f=e.onError,v=void 0===f?function(){}:f,g=e.onSuccess,Z=void 0===g?function(){}:g,b=e.successMessage,N=void 0===b?"API call was successful":b,_=e.errorMessage,A=void 0===_?"API call has failed":_,C=(0,u.r)().setLoader,P=(0,m.j1)("gameId"),k=(0,s.Z)(P,1)[0],w=(0,m.j1)("gameName"),O=(0,s.Z)(w,1)[0],E=(0,m.j1)("userId"),T=(0,s.Z)(E,1)[0],I=function(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return function(){for(var a=arguments.length,t=new Array(a),s=0;s<a;s++)t[s]=arguments[s];clearTimeout(n),n=setTimeout((function(){e.apply(h,t)}),r)}}((0,o.useCallback)(function(){var e=(0,t.Z)(l().mark((function e(r){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,C(i,!0),e.next=4,y();case 4:return e.next=6,n((0,a.Z)({gameId:k,gameName:O,playerId:T},r));case 6:e.sent.data&&(Z(),c.ZP.success(N)),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),d.Z.error({message:A,description:JSON.stringify(e.t0.message),placement:"bottomLeft"}),console.error(e.t0),v();case 15:return e.prev=15,e.next=18,j();case 18:return C(i,!1),e.finish(15);case 20:case"end":return e.stop()}}),e,null,[[0,10,15,20]])})));return function(n){return e.apply(this,arguments)}}(),[i,n,A,k,O,T,C,N,y,j,v,Z]));return I}},64823:function(e,n,r){r.d(n,{R:function(){return i}});var a=r(29439),t=r(72791),s=r(81839);function i(){var e=(0,s.j1)("showPlayersBar"),n=(0,a.Z)(e,2)[1];(0,t.useEffect)((function(){return n(!1),function(){n(!0)}}),[])}},7320:function(e,n,r){r.d(n,{t:function(){return u},E:function(){return m}});var a=r(1413),t=r(99757),s=r(81238),i="Abe,Bob,Cam,Dan,Eva,Fin,Gus,Hal,Ian,Jan,Kim,Leo,Max,Nic,Ole,Pat,Quinn,Roy,Tim".split(","),l={},o={},c={},d=function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a="";!a||r[a]||null!==n&&void 0!==n&&n.includes(a);)a=(0,s.J)(e);return r[a]=!0,a};function u(e){return d(i,e,l)}function m(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=arguments.length>2?arguments[2]:void 0;if(Object.keys(c).length>1)return(0,a.Z)((0,a.Z)({},c),e);var s={},i={};Object.values(e).forEach((function(e){s[e.name]=!0,i[e.avatarId]=!0}));var l=n-Object.keys(e).length,m=Array(l).fill(0).map((function(e,n){var l=u(Object.keys(s));return(0,a.Z)({id:"_".concat(l.toLowerCase()),name:l,avatarId:d(t.q,Object.keys(i),o),updatedAt:Date.now(),ready:!0},r)})),h=(0,a.Z)((0,a.Z)({},m.reduce((function(e,n){return e[n.id]=n,e}),{})),e);return c=h}}}]);
//# sourceMappingURL=7323.8963e069.chunk.js.map