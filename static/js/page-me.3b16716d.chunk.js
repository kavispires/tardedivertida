"use strict";(self.webpackChunktardedivertida=self.webpackChunktardedivertida||[]).push([[2367],{18259:function(e,n,r){r.d(n,{c:function(){return w}});var s=r(33032),a=r(50678),t=r(84322),i=r.n(t),o=r(72791),l=r(91933),u=r(93070),c=r(59425),m=r(86005),d=r(71234),p=r(2641),x=r(12661),f=r(72913),h=r(20670),g=r(36436),j=r(82741),Z=r(40931),v=r(80184);function w(e){var n=e.onSuccess,r=u.Z.useForm(),t=(0,a.Z)(r,1)[0],x=(0,h.Z)().translate,Z=(0,o.useState)(!1),w=(0,a.Z)(Z,2),b=w[0],C=w[1],N=(0,l.useMutation)((0,s.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.zB)(t.getFieldValue("username"),t.getFieldValue("password"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{onSuccess:function(){n()}}),S=N.isLoading,I=N.mutate,E=N.isError;return(0,v.jsxs)("div",{className:"sign-in",children:[(0,v.jsx)("div",{className:"sign-in__logo",children:(0,v.jsx)(c.Z,{src:g.Z,preview:!1})}),(0,v.jsxs)(u.Z,{name:"login",form:t,labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},initialValues:{remember:!0},onFinish:function(){I()},autoComplete:"off",children:[(0,v.jsx)(u.Z.Item,{label:(0,v.jsx)(j.vN,{pt:"E-mail",en:"E-mail"}),name:"username",rules:[{required:!0,message:x("e-mail \xe9 um campo obrigat\xf3rio","e-mail is required")}],children:(0,v.jsx)(m.Z,{})}),(0,v.jsx)(u.Z.Item,{label:(0,v.jsx)(j.vN,{pt:"Senha",en:"Password"}),name:"password",rules:[{required:!0,message:x("e-mail \xe9 um campo obrigat\xf3rio","e-mail is required")}],help:x("M\xednimo 6 caracteres","Minimum of 6 characters"),children:(0,v.jsx)(m.Z.Password,{})}),E&&(0,v.jsx)(u.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,v.jsx)(d.Z,{description:(0,v.jsx)(j.vN,{pt:"Algo deu errado, tente novamente",en:"Something went wrong. Please try again"}),type:"error",showIcon:!0,className:"sign-in__error-alert"})}),(0,v.jsxs)(u.Z.Item,{wrapperCol:{offset:8,span:16},children:[(0,v.jsx)(p.ZP,{type:"primary",htmlType:"submit",loading:S,children:(0,v.jsx)(j.vN,{pt:"Entrar",en:"Submit"})}),(0,v.jsx)(p.ZP,{type:"link",onClick:function(){return C((function(e){return!e}))},children:(0,v.jsx)(j.vN,{pt:"Esqueci minha senha",en:"Forgot my password"})})]})]}),b&&(0,v.jsx)(d.Z,{type:"info",message:(0,v.jsx)(y,{email:t.getFieldValue("username"),onSuccess:function(){return C(!1)}})})]})}function y(e){var n=e.email,r=e.onSuccess,t=x.Z.useApp().message,o=u.Z.useForm(),c=(0,a.Z)(o,1)[0],g=(0,h.Z)().translate,w=(0,l.useMutation)((0,s.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.c0)(c.getFieldValue("username"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{onSuccess:function(){r(),t.success(g("Verifique seu e-mail enviado para redefinir a sua senha","Verify your email to reset your password"))}}),y=w.isLoading,b=w.mutate,C=w.isError;return(0,v.jsxs)(u.Z,{name:"forgot-password",form:c,labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},initialValues:{username:n,remember:!0},onFinish:function(){b()},autoComplete:"off",children:[(0,v.jsx)(u.Z.Item,{children:(0,v.jsx)(Z.Dx,{level:4,size:"xx-small",children:(0,v.jsx)(j.vN,{pt:"Redefinir a senha",en:"Password Reset"})})}),(0,v.jsx)(u.Z.Item,{label:(0,v.jsx)(j.vN,{pt:"E-mail",en:"E-mail"}),name:"username",rules:[{required:!0,message:g("e-mail \xe9 um campo obrigat\xf3rio","e-mail is required")}],children:(0,v.jsx)(m.Z,{})}),C&&(0,v.jsx)(u.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,v.jsx)(d.Z,{description:(0,v.jsx)(j.vN,{pt:"Algo deu errado, provavelmente este e-mail n\xe3o existe no banco de dados da Tarde Divertida",en:"Something went wrong. Please try again"}),type:"error",showIcon:!0,className:"sign-in__error-alert"})}),(0,v.jsx)(u.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,v.jsx)(p.ZP,{type:"primary",htmlType:"submit",disabled:y,children:(0,v.jsx)(j.vN,{pt:"Enviar",en:"Submit"})})})]})}},94094:function(e,n,r){r.r(n);var s=r(50678),a=r(66509),t=r(1918),i=r(10376),o=r(93598),l=(r(76738),r(72791)),u=r(3224),c=r(80184);n.default=function(){(0,a.Z)("Me - Tarde Divertida");var e=(0,t.O)(),n=e.isAuthenticated,r=e.currentUser,m=(0,u.j1)("language"),d=(0,s.Z)(m,2)[1];return(0,l.useEffect)((function(){r.language&&d(r.language)}),[r.language,d]),(0,c.jsx)(o.O,{user:r,additionalContent:(0,c.jsx)(i._,{isAuthenticated:n})})}},10376:function(e,n,r){r.d(n,{_:function(){return l}});var s=r(40959),a=r(76591),t=r(18259),i=r(82741),o=r(80184);function l(e){var n=e.isAuthenticated;return(0,o.jsx)(s.Z,{open:!n,title:(0,o.jsx)(i.vN,{pt:"Logar",en:"LogIn"}),cancelText:(0,o.jsx)(i.vN,{pt:"Cancelar",en:"Cancel"}),onCancel:a.dG,okButtonProps:{style:{display:"none"}},cancelButtonProps:{style:{display:"none"}},closable:!1,children:(0,o.jsx)(t.c,{onSuccess:a.dG})})}}}]);
//# sourceMappingURL=page-me.3b16716d.chunk.js.map