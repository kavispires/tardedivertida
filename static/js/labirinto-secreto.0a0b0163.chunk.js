"use strict";(self.webpackChunktardedivertida=self.webpackChunktardedivertida||[]).push([[3161],{68906:function(e,n,r){r.d(n,{Z:function(){return i}});var a=r(63733),t=r(81238),s=r(80184),i=function(e){var n=e.children,r=e.header,i=void 0===r?"Carta":r,o=e.footer,c=e.color,l=void 0===c?"none":c,d=e.size,u=void 0===d?"medium":d,p=e.randomColor,h=void 0!==p&&p,v=e.className,m=void 0===v?"":v,x=e.headerClassName,j=void 0===x?"":x,f=e.footerClassName,g=void 0===f?"":f,y="card",_=h?(0,t.Ot)("string"===typeof n?n[0].toUpperCase():"Carta"!==i?i[0].toUpperCase():"X"):l;return(0,s.jsxs)("div",{className:(0,a.Z)(y,"".concat(y,"--").concat(u),m),children:[(0,s.jsx)("span",{className:(0,a.Z)("".concat(y,"__header"),"color-background--".concat(_),j),style:l.startsWith("#")?{backgroundColor:l}:{},children:i}),(0,s.jsx)("span",{className:"".concat(y,"__text"),children:n}),o&&(0,s.jsx)("span",{className:(0,a.Z)("".concat(y,"__footer"),g),children:o})]})}},59495:function(e,n,r){r.d(n,{W:function(){return p}});var a=r(18489),t=r(83738),s=r(63733),i=r(31773),o=r(40931),c=r(80184),l=["title","children","className","contained","titleProps","childrenContainerProps"],d=["level","size"],u=["className","wrap","direction"];function p(e){var n=e.title,r=e.children,p=e.className,h=e.contained,v=e.titleProps,m=e.childrenContainerProps,x=(0,t.Z)(e,l),j=null!==v&&void 0!==v?v:{},f=j.level,g=void 0===f?4:f,y=j.size,_=void 0===y?"xx-small":y,N=(0,t.Z)(j,d),b=null!==m&&void 0!==m?m:{},w=b.className,Z=b.wrap,I=void 0===Z||Z,S=b.direction,C=void 0===S?"horizontal":S,P=(0,t.Z)(b,u);return(0,c.jsxs)(i.Z,(0,a.Z)((0,a.Z)({direction:"vertical",className:(0,s.Z)("container-wrapper",p)},x),{},{children:[(0,c.jsx)(o.Dx,(0,a.Z)((0,a.Z)({level:g,size:_},N),{},{children:n})),(0,c.jsx)(i.Z,(0,a.Z)((0,a.Z)({direction:C,wrap:I,className:(0,s.Z)("container-wrapper__children",h&&"container-wrapper__children--contained",w)},P),{},{children:r}))]}))}},21613:function(e,n,r){r.d(n,{K:function(){return i}});var a=r(63733),t=r(94248),s=r(80184);function i(e){var n=e.children,r=e.icon,i=e.type,o=e.className,c=e.iconSize,l=void 0===c?"small":c,d=e.iconPlacement,u=void 0===d?"after":d;return(0,s.jsxs)("span",{className:(0,a.Z)("metric-highlight",i&&"metric-highlight--".concat(i),o),children:["before"===u&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.C,{size:l,icon:r})," "]}),n,"after"===u&&(0,s.jsxs)(s.Fragment,{children:[" ",(0,s.jsx)(t.C,{size:l,icon:r})]})]})}},34876:function(e,n,r){r.d(n,{B:function(){return i}});var a=r(69051),t=r(21613),s=r(80184);function i(e){var n=e.children,r=e.type,i=e.iconSize,o=e.className;return(0,s.jsx)(t.K,{icon:(0,s.jsx)(a.r,{}),type:r,iconSize:i,className:o,children:n})}},19263:function(e,n,r){r.d(n,{l:function(){return g},N:function(){return w}});var a=r(18489),t=r(31303),s=r(50678),i=r(63733),o=r(72791),c=r(763),l=r(20263),d=r(61431),u=r(21290),p=r(95090),h=r(52030),v=r(82741),m=r(40050),x=r(80184);function j(e){var n=e.gainedPoint,r=e.order,a=e.description,t=n>0,s=n<0;return(0,x.jsx)("li",{className:(0,i.Z)("ranking-board__gained-point",t&&"ranking-board__gained-point--plus",s&&"ranking-board__gained-point--minus","ranking-board__gained-point--".concat(r)),children:(0,x.jsxs)(d.Z,{title:null!==a&&void 0!==a?a:(0,x.jsx)(v.vN,{pt:"Pontos ganhos",en:"Gained Points"}),color:t?"gold":s?"red":"gray",children:[t?"+":"",n]})})}function f(e){var n=e.gainedPoints,r=e.playerId,a=e.gainedPointsDescriptions,t=void 0===a?[]:a,s=Array.isArray(n)?n:[n];return(0,x.jsx)("ul",{className:"ranking-board__cell-gained-points",children:s.map((function(e,n){return(0,x.jsx)(j,{gainedPoint:e,order:n,description:t[n]},"gained-point-".concat(r,"-").concat(n))}))})}function g(e){var n=e.players,r=e.ranking,j=e.gainedPointsDescriptions,g=e.hideGainedPoints,y=void 0!==g&&g,_=e.delay,N=void 0===_?0:_,b=(0,o.useState)(0),w=(0,s.Z)(b,2),Z=w[0],I=w[1],S=(0,o.useState)([]),C=(0,s.Z)(S,2),P=C[0],T=C[1],k=(0,o.useState)(0),E=(0,s.Z)(k,2),R=E[0],z=E[1],M=(0,h.B)("ranking-row-0"),F=(0,s.Z)(M,2)[1],B=(0,o.useMemo)((function(){return Math.max.apply(Math,(0,t.Z)(r.map((function(e){return e.newScore}))))}),[r]),L=(0,p.a)({duration:5+N,autoStart:!0,onExpire:function(){z(1),I(3)}}).seconds;return(0,l.Z)((function(){var e={},n=0,t=0,s=(0,c.orderBy)(r,["newScore","name"],["desc","asc"]).reduce((function(r,a,s){return r[a.playerId]=s,(0===t||a.newScore<t)&&(t=a.newScore,n+=1),e[a.playerId]=[0,n],r}),{}),i=(0,c.orderBy)(r,["previousScore","name"],["desc","asc"]);n=0,t=0;var o=i.map((function(r,i){var o=(0,a.Z)({},r);return o.order=[i,s[o.playerId]],o.position=e[o.playerId],(0===t||r.previousScore<t)&&(t=r.previousScore,n+=1),o.position[0]=n,o}));T(o)})),(0,o.useEffect)((function(){L===4+N?I(1):L===2+N&&I(2)}),[L,N]),(0,x.jsx)("div",{className:(0,i.Z)("ranking-board",L>4&&"ranking-board--hidden"),style:{height:"".concat((Math.max(60,F)+8)*P.length,"px")},children:P.map((function(e,r){var a,t,s=e.playerId,i=e.newScore,o=e.previousScore,c=e.gainedPoints,l=e.order,p=e.position,h=(Math.max(60,F)+8)*(null!==(a=l[R])&&void 0!==a?a:0);return(0,x.jsxs)("div",{className:"ranking-board__row ranking-board__row--".concat(r),id:"ranking-row-".concat(r),style:{top:"".concat(h,"px")},children:[(0,x.jsx)("div",{className:"ranking-board__cell-crown",children:i>0&&B===i&&Z>=3&&(0,x.jsx)(u.Z,{className:"ranking-board__crown-icon"})}),(0,x.jsxs)("div",{className:"ranking-board__cell-position",children:["#",null!==(t=p[R])&&void 0!==t?t:""]}),(0,x.jsxs)("div",{className:"ranking-board__cell-player",children:[(0,x.jsx)("div",{className:"ranking-board__avatar",children:(0,x.jsx)(m.qE,{id:n[s].avatarId})}),(0,x.jsx)("div",{className:"ranking-board__name",children:n[s].name})]}),(0,x.jsx)(d.Z,{title:(0,x.jsx)(v.vN,{pt:"Pontos Anteriores",en:"Previous Points"}),color:"gray",children:(0,x.jsx)("div",{className:"ranking-board__cell-points",children:o})}),!y&&Z>=1&&void 0!==c&&(0,x.jsx)(f,{gainedPoints:c,playerId:s,gainedPointsDescriptions:j}),Z>=2&&(0,x.jsx)(d.Z,{title:"Total",color:"gold",children:(0,x.jsx)("span",{className:"ranking-board__cell-points-total",children:i})})]},"ranking-".concat(s))}))})}var y=r(52234),_=r(64823),N=r(25234),b=r(40931);function w(e){var n=e.players,r=e.ranking,a=e.gainedPointsDescriptions,t=e.children,s=e.title,i=e.subtitle,o=e.white;return(0,_.R)(),(0,x.jsxs)(N.h,{children:[(0,x.jsx)(b.Dx,{white:o,children:null!==s&&void 0!==s?s:"Ranking"}),i,(0,x.jsx)(g,{players:n,ranking:r,gainedPointsDescriptions:a}),(0,x.jsxs)(b.vr,{className:"step-ranking-wrapper-gained-points-instruction",children:[(0,x.jsx)(y.Z,{}),(0,x.jsx)(v.vN,{pt:"Passe o mouse em cada um dos pontos para saber como eles foram distribu\xeddos",en:"Hover over the scores to learn how they were granted"}),(0,x.jsx)(y.Z,{})]}),t]})}},44666:function(e,n,r){r.d(n,{Q:function(){return y}});var a=r(72791),t=r(31773),s=r(2641),i=r(87462),o={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M347.6 528.95l383.2 301.02c14.25 11.2 35.2 1.1 35.2-16.95V210.97c0-18.05-20.95-28.14-35.2-16.94L347.6 495.05a21.53 21.53 0 000 33.9M330 864h-64a8 8 0 01-8-8V168a8 8 0 018-8h64a8 8 0 018 8v688a8 8 0 01-8 8"}}]},name:"step-backward",theme:"outlined"},c=r(44279),l=function(e,n){return a.createElement(c.Z,(0,i.Z)({},e,{ref:n,icon:o}))};var d=a.forwardRef(l),u=r(97864),p=r(52273),h={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M676.4 528.95L293.2 829.97c-14.25 11.2-35.2 1.1-35.2-16.95V210.97c0-18.05 20.95-28.14 35.2-16.94l383.2 301.02a21.53 21.53 0 010 33.9M694 864h64a8 8 0 008-8V168a8 8 0 00-8-8h-64a8 8 0 00-8 8v688a8 8 0 008 8"}}]},name:"step-forward",theme:"outlined"},v=function(e,n){return a.createElement(c.Z,(0,i.Z)({},e,{ref:n,icon:h}))};var m=a.forwardRef(v),x=r(68409),j=r(95090),f=r(82741),g=r(80184);function y(e){var n=e.length,r=e.activeIndex,i=e.setActiveIndex,o=e.setStep,c=e.disableControls,l=e.barColor,h=void 0===l?"gray":l,v=e.windowDuration,y=void 0===v?10:v,_=(0,j.a)({duration:y*n,autoStart:!0,onExpire:function(){return o(2)}}),N=_.timeLeft,b=_.isRunning,w=_.pause,Z=_.resume;(0,a.useEffect)((function(){N<y*n&&N>0&&N%y===0&&i((function(e){return Math.min(e+1,n-1)}))}),[N,i,n,y]);return(0,g.jsxs)("div",{className:"slide-show__controls",children:[(0,g.jsxs)("div",{className:"slide-show__controls-timer-bar",children:[(0,g.jsx)("div",{className:"slide-show__controls-timer-bar-base",children:Array(n).fill("").map((function(e,r){return(0,g.jsx)("div",{className:"slide-show__controls-timer-bar-node",style:{width:"".concat(99/n,"%")},children:e},"control-timer-bar-".concat(e+r))}))}),(0,g.jsx)("span",{className:"slide-show__controls-timer-bar-pill",style:{width:"".concat(Math.abs(y*N/n-100),"%"),backgroundColor:h}})]}),!c&&(0,g.jsxs)(t.Z,{children:[(0,g.jsx)(s.ZP,{size:"large",icon:(0,g.jsx)(d,{}),onClick:function(){i((function(e){return Math.max(e-1,0)}))},disabled:c||0===r,children:(0,g.jsx)(f.vN,{pt:"Anterior",en:"Previous"})}),(0,g.jsx)(s.ZP,{size:"large",icon:b?(0,g.jsx)(u.Z,{}):(0,g.jsx)(p.Z,{}),onClick:b?w:Z}),(0,g.jsxs)(s.ZP,{size:"large",onClick:function(){i((function(e){return Math.min(e+1,n-1)}))},disabled:c||r===n-1,children:[(0,g.jsx)(f.vN,{pt:"Pr\xf3ximo",en:"Next"})," ",(0,g.jsx)(m,{})]}),(0,g.jsx)(s.ZP,{size:"large",onClick:function(){return o(2)},icon:(0,g.jsx)(x.Z,{}),disabled:c,children:(0,g.jsx)(f.vN,{pt:"Ver Ranking",en:"See Ranking"})})]})]})}},74531:function(e,n,r){r.d(n,{G7:function(){return t},os:function(){return s},xo:function(){return i},r_:function(){return o}});var a=r(80184);function t(e){var n=e.children;return(0,a.jsx)(a.Fragment,{children:n})}function s(e){var n=e.condition,r=void 0!==n&&n,t=e.children;return r?(0,a.jsx)(a.Fragment,{children:t}):(0,a.jsx)(a.Fragment,{})}function i(e){var n=e.condition,r=void 0!==n&&n,t=e.children;return r?(0,a.jsx)(a.Fragment,{children:t[0]}):(0,a.jsx)(a.Fragment,{children:t[1]})}function o(e){var n=e.cases,r=e.children;if(n.length>5)throw Error("ViewSwitch only supports up to 5 cases");return n[0]&&r[0]?r[0]:n[1]&&r[1]?r[1]:n[2]&&r[2]?r[2]:n[3]&&r[3]?r[3]:n[4]&&r[4]?r[4]:(console.warn("Rendering all children in the ViewSwitch"),r)}},59586:function(e,n,r){r.r(n),r.d(n,{default:function(){return He}});var a=r(18365),t=r(76591),s=r(65149),i=r(39599),o=r(90608),c=r(56698),l=r(79119),d=r(22852),u=r(212),p=r(18489),h=r(72913),v=r(42211),m=r(2133),x=r(20670),j=(0,v.V1)(h.wk,"labirintoSecretoSubmitAction");var f=r(16980),g=r(25234),y=r(40931),_=r(82741),N=r(8618),b=r(50678),w="UP",Z="RIGHT",I="DOWN",S="LEFT",C=function(e){var n=(0,b.Z)(e,2);return n[0]+7*n[1]},P=function(e){return[e%7,Math.floor(e/7)]},T=function(e,n){var r=P(e),a=(0,b.Z)(r,2),t=a[0],s=a[1],i=P(n),o=(0,b.Z)(i,2),c=o[0],l=o[1];return t===c?s<l?I:w:t<c?Z:S},k=function(e,n){var r=P(e),a=(0,b.Z)(r,2),t=a[0],s=a[1],i=[],o=[t,s-1],c=C(o);o[1]>=0&&!n.includes(c)&&i.push(o);var l=[t+1,s],d=C(l);l[0]<7&&!n.includes(d)&&i.push(l);var u=[t,s+1],p=C(u);u[1]<5&&!n.includes(p)&&i.push(u);var h=[t-1,s],v=C(h);return h[0]>=0&&!n.includes(v)&&i.push(h),i.map((function(e){return C(e)}))},E=r(31303),R=r(763),z=r(81238),M=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],t=(0,R.union)(e.filter((function(e){return e.passed})).map((function(e){return e.treeId})),a);return n.map((function(e){var n=k(t[t.length-1],t),a=e.treeId,s=r?(0,z.J)([].concat((0,E.Z)(n),[a])):(0,z.J)(n);return t.push(s),s}))},F=r(11473),B=r(40553),L=r(63733),A=r(49946),O=r(61326),D=r(40050),q=r(93273),V=r(74823),U=r(95169),W=r(11605),G=r(80184);function Y(e){var n,r=e.segment,a=e.tree,t=e.startingTeeId,s=e.finalTreeId,i=e.currentTreeId,o=e.showPath,c=void 0!==o&&o,l=e.showArrow,d=void 0!==l&&l,u=e.className,p=void 0===u?"":u,h=e.hidePassedTreeNames,v=void 0!==h&&h,m=e.width,x=void 0===m?75:m,j=Boolean(r),f=t===a.id,g=function(e){var n=P(e),r=(0,b.Z)(n,2),a=r[0],t=r[1];return 0===a?S:6===a?Z:0===t?w:4===t?I:null}(a.id),y=s===a.id,_=i===a.id,N=null!==(n=(null===r||void 0===r?void 0:r.passed)&&!_)&&void 0!==n&&n;return(0,G.jsxs)("div",{className:(0,L.Z)("forest__tree",f&&"forest__tree--".concat(g),y&&c&&"forest__tree--goal",j&&c&&"forest__tree--segment",N&&"forest__tree--passed",_&&"forest__tree--current",p),children:[(0,G.jsx)(W.Y,{id:String(a.treeType),text:null!==r&&void 0!==r&&r.passed&&v?"":a.card.text,width:x}),c&&y&&(0,G.jsx)(D.Ce,{icon:(0,G.jsx)(U.$,{}),size:"large",className:"forest__end forest__end--".concat(r.direction)}),_&&(0,G.jsx)("div",{className:"forest__compass",children:(0,G.jsx)(D.Ce,{icon:(0,G.jsx)(V.J,{}),size:"large",className:(0,L.Z)("forest__compass-icon",(0,z.hL)("pulse",{infinite:!0}))})}),f&&(0,G.jsx)(D.Ce,{icon:(0,G.jsx)(q.U,{}),size:"large",className:"forest__start forest__start--".concat(g)}),(d||c||N)&&!y&&j&&r.direction&&(0,G.jsx)(D.Ce,{icon:(0,G.jsx)(O.e,{}),size:"large",className:"forest__arrow forest__arrow--".concat(r.direction)})]})}var H=r(31773),J=r(13303),K=r(83738),Q=r(49367),$=r(61431),X=r(86642),ee=["list","user","maxCount","size"];function ne(e){var n=e.list,r=e.user,a=e.maxCount,t=void 0===a?3:a,s=e.size,i=(0,K.Z)(e,ee),o=(0,R.orderBy)(n,[function(e){return e.id===(null===r||void 0===r?void 0:r.id)},"name"],["asc"]);return(0,G.jsx)(Q.C.Group,{maxCount:t,size:s,children:o.map((function(e){return(0,G.jsx)($.Z,{title:e.name,children:(0,G.jsx)(X.q,(0,p.Z)({id:e.avatarId,alt:e.name,size:s},i))},"avatar-group-".concat(e.id))}))})}var re=r(74531);function ae(e){var n,r,a,t,s=e.forest,i=e.map,o=void 0===i?[]:i,c=e.showPath,l=e.actions,d=e.players,u=e.size,p=void 0===u?"large":u,h=e.hidePassedTreeNames,v=void 0!==h&&h,m=e.user,x=void 0===m?{}:m,j=e.forestBorderColor,f=void 0===j?"transparent":j,g=e.playerMapping,y=(0,A.m)(7,{gap:16,minWidth:60,maxWidth:100});if(!s||!o||0===o.length)return(0,G.jsx)(H.Z,{direction:"vertical",className:"space-container",children:(0,G.jsx)(D.Ce,{icon:(0,G.jsx)(J.m,{}),size:"large"})});var _=null===o||void 0===o||null===(n=o[0])||void 0===n?void 0:n.treeId,N=o.reduce((function(e,n){return e[n.treeId]=n,e}),{}),b=null!==(r=null===(a=(0,R.findLast)(o,(function(e){return e.passed})))||void 0===a?void 0:a.treeId)&&void 0!==r?r:_,w=null===(t=o[o.length-1])||void 0===t?void 0:t.treeId;return(0,G.jsx)("div",{className:(0,L.Z)("forest-container","small"===p&&"forest-container--small"),children:(0,G.jsx)("div",{className:"forest",style:{borderColor:f},children:s.map((function(e){var n,r=null===N||void 0===N?void 0:N[e.id];if(l){var a=l.selection,t=void 0===a?[]:a,s=l.clickableTrees,i=l.onSelectTree,o=l.activeTree,u=l.disabled,p=s.includes(e.id),h=p||t.includes(e.id);if(h){var m,j,f=t.includes(e.id),Z=o===e.id,I=t.indexOf(e.id);return(0,G.jsxs)("div",{className:(0,L.Z)("forest__tree-container forest__tree-button",p&&u&&"forest__tree-button--disabled"),onClick:function(){(h&&!u||h&&u&&!p)&&i(e.id)},role:"button",children:[(0,G.jsx)(Y,{segment:r,tree:e,startingTeeId:_,finalTreeId:w,currentTreeId:b,showPath:c,className:(0,L.Z)(p&&!u&&"forest__tree--clickable",f&&"forest__tree--selected",Z&&"forest__tree--active"),width:y}),f&&b!==e.id&&(0,G.jsx)(D.Ce,{icon:(0,G.jsx)(O.e,{}),size:"large",className:(0,L.Z)("forest__arrow-to forest__arrow-to--".concat(T(t[I-1],e.id)))}),p&&!u&&(0,G.jsx)(D.Ce,{icon:(0,G.jsx)(O.e,{}),size:"large",className:(0,L.Z)("forest__arrow-to forest__arrow-to--".concat(T(null!==(m=t[t.length-1])&&void 0!==m?m:o,e.id)))}),(0,G.jsx)(re.os,{condition:!!d&&!(null===g||void 0===g||!g[e.id]),children:(0,G.jsx)("div",{className:"forest__players",children:(0,G.jsx)(te,{players:d,playerIds:null!==(j=null===g||void 0===g?void 0:g[e.id])&&void 0!==j?j:[],user:x})})})]},"tree-".concat(e.id))}}return(0,G.jsxs)("div",{className:"forest__tree-container",children:[(0,G.jsx)(Y,{segment:r,tree:e,startingTeeId:_,finalTreeId:w,currentTreeId:b,showPath:c,hidePassedTreeNames:v,width:y}),(0,G.jsx)(re.os,{condition:!!d&&!(null===g||void 0===g||!g[e.id]),children:(0,G.jsx)("div",{className:"forest__players",children:(0,G.jsx)(te,{players:d,playerIds:null!==(n=null===g||void 0===g?void 0:g[e.id])&&void 0!==n?n:[],user:x})})})]},"tree-".concat(e.id))}))})})}function te(e){var n=e.players,r=e.playerIds,a=e.user,t=r.map((function(e){return n[e]}));return(0,G.jsx)(ne,{list:t,user:a})}var se=r(21613);function ie(e){var n=e.children;return(0,G.jsx)(se.K,{icon:(0,G.jsx)(V.J,{}),children:n})}function oe(e){var n=e.children;return(0,G.jsx)(se.K,{icon:(0,G.jsx)(f.Z,{}),children:n})}function ce(e){var n=e.children;return(0,G.jsx)(se.K,{icon:(0,G.jsx)(B.y,{}),children:n})}var le=r(34876),de=r(72791),ue=r(2641),pe=r(50410),he=r(13507),ve=r(49274),me=r(68906),xe=r(59495);function je(e){var n,r,a,s=e.user,i=e.forest,o=e.onSubmitMap,c=(0,pe.r)().isLoading,l=null!==(n=null===s||void 0===s?void 0:s.map)&&void 0!==n?n:[],d=l.filter((function(e){return!e.passed})),u=d.map((function(e){return e.clues})),h=(0,de.useState)(d.map((function(e){return null}))),v=(0,b.Z)(h,2),m=v[0],x=v[1],j=(0,de.useState)(0),f=(0,b.Z)(j,2),g=f[0],N=f[1],w=m.map((function(e){return null===e||void 0===e?void 0:e.id})).filter(Boolean),Z=function(e,n){var r;if(!n)return[];var a=e.filter((function(e){return e.passed})).map((function(e){return e.treeId}));return k(null!==(r=n.previousTree)&&void 0!==r?r:n.treeId,a).filter((function(e){return e!==n.treeId}))}(l,null===d||void 0===d?void 0:d[g]);return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(H.Z,{className:"space-container map-builder",wrap:!0,children:d.map((function(e,n){var r,a,t,s,o;if(e.passed)return(0,G.jsx)(G.Fragment,{});var c=i[e.treeId];return c?(0,G.jsxs)("div",{className:"map-builder__segment",children:[g===n&&(0,G.jsx)("div",{className:"map-builder__caret",children:(0,G.jsx)(D.Ce,{icon:(0,G.jsx)(he._,{}),className:(0,z.hL)("bounce",{speed:"slow",infinite:!0}),size:"small"})}),Boolean(m[n])&&(0,G.jsx)($.Z,{title:(0,G.jsx)(_.vN,{pt:"Clique para negar: N\xe3o-".concat(null===m||void 0===m||null===(r=m[n])||void 0===r?void 0:r.text),en:"Click to negate: Non-".concat(null===m||void 0===m||null===(a=m[n])||void 0===a?void 0:a.text)}),children:(0,G.jsxs)(ve.F6,{onClick:function(){return function(e){x((function(n){var r,a=(0,E.Z)(n);return a[e]&&(a[e].negate=!(null!==(r=a[e])&&void 0!==r&&r.negate)),a}))}(n)},disabled:!(null!==m&&void 0!==m&&m[n]),className:"map-builder__card map-builder__card--new",children:[(null===m||void 0===m||null===(t=m[n])||void 0===t?void 0:t.negate)&&(0,G.jsx)(D.Ce,{icon:(0,G.jsx)(F.S,{}),size:"small",className:"map-builder__card-no"}),null===m||void 0===m||null===(s=m[n])||void 0===s?void 0:s.text]})}),(null!==(o=null===u||void 0===u?void 0:u[n])&&void 0!==o?o:[]).map((function(e){return(0,G.jsxs)("div",{className:"map-builder__card",children:[(null===e||void 0===e?void 0:e.negate)&&(0,G.jsx)(D.Ce,{icon:(0,G.jsx)(F.S,{}),size:"small",className:"map-builder__card-no"}),e.text]},e.id)})),(0,G.jsx)(ve.F6,{onClick:function(){return function(e){x((function(n){return(0,E.Z)(n).map((function(n,r){return r<e?n:null}))})),N(e)}(n)},disabled:!(null!==m&&void 0!==m&&m[n]),children:(0,G.jsx)(W.Y,{id:String(c.treeType),text:c.card.text})})]},"map-segment-".concat(e.index)):(0,G.jsx)(G.Fragment,{})}))}),Z.length>0&&(0,G.jsxs)(H.Z,{className:"contained",children:[(0,G.jsxs)("strong",{children:[(0,G.jsx)(_.vN,{pt:"Outros poss\xedveis caminhos para a \xe1rvore atual",en:"Other possible paths for the current tree"}),":"]}),Z.map((function(e,n){var r,a;return(0,G.jsx)(y.Bw,{className:(0,z.hL)("tada",{delay:n}),children:null===i||void 0===i||null===(r=i[e])||void 0===r||null===(a=r.card)||void 0===a?void 0:a.text},"highlighted-possibility-".concat(e))}))]}),(0,G.jsxs)(xe.W,{title:(0,G.jsx)(_.vN,{pt:"Cartas",en:"Hand"}),contained:!0,children:[(null!==(r=s.hand)&&void 0!==r?r:[]).map((function(e,n){return(0,G.jsx)(ve.F6,{onClick:function(){return function(e){x((function(n){var r=(0,E.Z)(n);return r[g]=(0,p.Z)({},e),r})),N((function(e){return e+1}))}(e)},disabled:w.includes(e.id)||g>=d.length,className:"map-builder__card-button",children:(0,G.jsx)(me.Z,{header:t.Z$[n],color:(0,z.Ot)(t.Z$[n]),children:e.text})},e.id)})),(0,G.jsx)(ue.ZP,{size:"large",type:"default",onClick:function(){return x((function(e){var n=(0,E.Z)(e);return n[g]=null,n})),void N((function(e){return e+1}))},disabled:!(null!==u&&void 0!==u&&null!==(a=u[g])&&void 0!==a&&a.length),children:(0,G.jsx)(_.vN,{pt:"Pular \xe1rvore",en:"Skip tree"})})]}),(0,G.jsx)(H.Z,{className:"space-container",children:(0,G.jsx)(ue.ZP,{type:"primary",size:"large",disabled:c||0===w.length,onClick:function(){return o({newMap:m})},children:(0,G.jsx)(_.vN,{pt:"Enviar Mapa",en:"Submit Map"})})})]})}function fe(e){var n=e.players,r=e.user,a=e.announcement,t=e.forest,s=e.currentRound,i=e.onSubmitMap;(0,N.M)((function(){var e;i({newMap:(e=r.hand,(0,R.sampleSize)(e,3).map((function(e){return(0,p.Z)((0,p.Z)({},e),{},{negate:Math.random()>.75})})))})}));var o=function(e,n){var r,a=(null!==(r=n.map)&&void 0!==r?r:[]).filter((function(e){return!e.passed})),t={};return Object.values(e).forEach((function(e){var r=e.history[n.id];r&&a.forEach((function(n,a,s){var i=r[n.index];if(i)if(a===s.length-1)i.forEach((function(n){void 0===t[n]&&(t[n]=[]),t[n].push(e.id)}));else{var o=null===i||void 0===i?void 0:i[i.length-1];void 0===t[o]&&(t[o]=[]),t[o].push(e.id)}}))})),t}(n,r);return(0,G.jsxs)(g.h,{fullWidth:!0,announcement:a,children:[(0,G.jsx)(y.Dx,{children:1===s?(0,G.jsx)(_.vN,{pt:"Construa o seu mapa",en:"Build your map"}):(0,G.jsx)(_.vN,{pt:"Expanda seu mapa",en:"Expand your map"})}),(0,G.jsx)(y.vr,{contained:!0,children:(0,G.jsx)(_.vN,{pt:(0,G.jsxs)(G.Fragment,{children:["Voc\xea precisa ajudar os outros jogadores a descobrirem o seu caminho pela floresta.",(0,G.jsx)("br",{}),"Come\xe7ando da ",(0,G.jsx)(ie,{children:"b\xfassola"}),", escolha 1 carta para cada \xe1rvore do caminho.",(0,G.jsx)("br",{}),"Voc\xea ganha ",(0,G.jsx)(le.B,{children:"pontos"})," se jogadores adivinharem seu caminho, ent\xe3o tente fazer um bom trabalho."]}),en:(0,G.jsxs)(G.Fragment,{children:["You need to help the other players to discover your path through the forest.",(0,G.jsx)("br",{}),"Starting from the ",(0,G.jsx)(ie,{children:"compass"}),", choose 1 card for each tree of the path.",(0,G.jsx)("br",{}),"You earn ",(0,G.jsx)(le.B,{children:"points"})," if players guess your path correctly, so try to do a good job."]})})}),(0,G.jsx)(ae,{forest:t,map:r.map,showPath:!0,hidePassedTreeNames:!0,players:n,playerMapping:o}),(0,G.jsx)(y.vr,{contained:!0,children:(0,G.jsx)(_.vN,{pt:(0,G.jsxs)(G.Fragment,{children:["Clique nas cartas em sequ\xeancia para definir seu mapa, uma carta por \xe1rvore.",(0,G.jsx)("br",{}),"Voc\xea pode fazer quantos segmentos quiser desde que pelo menos uma carta esteja em cada \xe1rvore (dessa rodada ou de uma rodada anterior j\xe1 que as cartas s\xe3o cumulativas).",(0,G.jsx)("br",{}),"Na barra abaixo, se quiser negar ",(0,G.jsx)(D.Ce,{icon:(0,G.jsx)(F.S,{}),size:"small"})," um adjectivo selecionado, clique nele acima da \xe1rvore para trocar.",(0,G.jsx)("br",{}),"Se quiser refazer uma \xe1rvore ",(0,G.jsx)(D.Ce,{icon:(0,G.jsx)(B.y,{}),size:"small"}),", clique nela.",(0,G.jsx)("br",{}),"Quando voc\xea estiver pronto, aperte Enviar Mapa."]}),en:(0,G.jsxs)(G.Fragment,{children:["Click on the cards in sequence to define your map, you can't skip any tree.",(0,G.jsx)("br",{}),"You can build as many segments you with as long as there is at least one card on each tree (from this round or a previous one since the cards are cumulative).",(0,G.jsx)("br",{}),"If you want to negate ",(0,G.jsx)(D.Ce,{icon:(0,G.jsx)(F.S,{}),size:"small"})," an adjective you selected, click on it below the tree to change.",(0,G.jsx)("br",{}),"If you want to redo a tree ",(0,G.jsx)(D.Ce,{icon:(0,G.jsx)(B.y,{}),size:"small"}),", click on it.",(0,G.jsx)("br",{}),"When you are ready, press Submit Map."]})})}),(0,G.jsx)(je,{user:r,forest:t,onSubmitMap:i})]})}function ge(e){var n=e.forest,r=e.map,a=e.newMap;if(!a||!r)return(0,G.jsx)(G.Fragment,{});var t=(null!==r&&void 0!==r?r:[]).filter((function(e){return!e.passed}));return(0,G.jsx)(H.Z,{wrap:!0,className:"space-container",children:t.map((function(e,r){var t,s=e.treeId,i=e.passed,o=n[s];return(0,G.jsxs)("div",{className:"map-builder__segment",children:[Boolean(null===a||void 0===a?void 0:a[r])&&(0,G.jsxs)("div",{className:"map-builder__card map-builder__card--new",children:[null===a||void 0===a?void 0:a[r].text,(null===a||void 0===a||null===(t=a[r])||void 0===t?void 0:t.negate)&&(0,G.jsx)(D.Ce,{icon:(0,G.jsx)(F.S,{}),size:"small",className:"map-builder__card-no"})]}),e.clues.map((function(n){return(0,G.jsxs)("div",{className:"map-builder__card",children:[n.text,(null===n||void 0===n?void 0:n.negate)&&(0,G.jsx)(D.Ce,{icon:(0,G.jsx)(F.S,{}),size:"small",className:"map-builder__card-no"})]},"card-".concat(e.index,"-").concat(n.id))})),(0,G.jsx)(W.Y,{id:String(o.treeType),text:i?"":o.card.text})]})}))})}function ye(e){var n=e.user,r=e.announcement,a=e.forest;return(0,G.jsxs)(g.h,{fullWidth:!0,announcement:r,children:[(0,G.jsx)(y.Dx,{children:(0,G.jsx)(_.vN,{pt:"Todos os jogadores j\xe1 descobriam seu mapa completamente",en:"All players have discovered your map completely"})}),(0,G.jsx)(y.vr,{contained:!0,children:(0,G.jsx)(_.vN,{pt:(0,G.jsx)(G.Fragment,{children:"Aguarde pacientemente, voc\xea ainda vai participar na hora de adivinhar."}),en:(0,G.jsx)(G.Fragment,{children:"Sit and wait patiently, you will still participate when it's time to guess."})})}),(0,G.jsx)(ae,{forest:a,map:n.map,showPath:!0})]})}function _e(e){var n,r=e.players,a=e.state,t=e.info,i=(0,d.a)(r,a),c=(0,u.g)(),l=c.step,h=function(e){var n=(0,x.Z)().translate,r=(0,m.C)({apiFunction:j,actionName:"submit-map",onSuccess:function(){return e(2)},onError:function(){return e(0)},successMessage:n("Mapa submetido com sucesso","Map submitted successfully"),errorMessage:n("Vixi, o aplicativo encontrou um erro ao tentar enviar seu mapa","Oops, the application found an error while trying to submit your map")});return function(e){r((0,p.Z)({action:"SUBMIT_MAP"},e))}}(c.setStep),v=(0,G.jsx)(o.Cl,{icon:(0,G.jsx)(f.Z,{}),title:1===a.round.current?(0,G.jsx)(_.vN,{pt:"Construa o seu mapa",en:"Build your map"}):(0,G.jsx)(_.vN,{pt:"Expanda seu mapa",en:"Expand your map"}),currentRound:null===a||void 0===a||null===(n=a.round)||void 0===n?void 0:n.current,type:"overlay",children:(0,G.jsx)(y.vr,{children:(0,G.jsx)(_.vN,{pt:"Voc\xea consegue mapear as \xe1rvores usando apenas adjetivos?",en:"Can you map the tree path using only adjectives?"})})}),N=(null===i||void 0===i?void 0:i.map)&&i.map.every((function(e){return e.passed}));return(0,G.jsx)(o.JK,{info:t,phase:null===a||void 0===a?void 0:a.phase,allowedPhase:s.R.LABIRINTO_SECRETO.MAP_BUILDING,children:(0,G.jsx)(g.p,{step:l,players:r,waitingRoom:{content:(0,G.jsx)(ge,{forest:a.forest,map:i.map,newMap:i.newMap})},children:(0,G.jsxs)(re.xo,{condition:N,children:[(0,G.jsx)(ye,{user:i,announcement:v,forest:a.forest}),(0,G.jsx)(fe,{players:r,user:i,announcement:v,forest:a.forest,currentRound:a.round.current,onSubmitMap:h})]})})})}var Ne=r(32747),be=r(36440),we=r(26055);function Ze(e){var n=e.segment,r=e.tree,a=e.showArrow,t=e.className;return(0,G.jsxs)("div",{className:(0,L.Z)("map-entry",t),children:[r&&(0,G.jsx)(W.Y,{id:String(r.treeType),className:"map-entry__tree",text:r.card.text}),(0,G.jsx)(D.Ce,{icon:(0,G.jsx)(f.Z,{}),size:"large",className:"map-entry__icon"}),n.clues.map((function(e){return(0,G.jsxs)("div",{className:"map-entry__clue",children:[e.text,(null===e||void 0===e?void 0:e.negate)&&(0,G.jsx)(D.Ce,{icon:(0,G.jsx)(F.S,{}),size:"small",className:"map-entry__clue-no"})]},"clue-".concat(n.index,"-").concat(e.id))})),a&&(0,G.jsx)(D.Ce,{icon:(0,G.jsx)(O.e,{}),size:"small",className:"map-entry__arrow"})]},"map-".concat(n.index))}function Ie(e){var n=e.map,r=void 0===n?[]:n,a=e.selectedTrees,t=void 0===a?[]:a,s=e.fullMap,i=void 0!==s&&s?r:r.filter((function(e){return e.active}));return(0,G.jsx)(H.Z,{wrap:!0,className:"space-container player-map",style:{gridTemplateColumns:"repeat(".concat(i.length,", 100px)")},children:i.map((function(e,n,r){var a=t[n+1];return(0,G.jsx)(Ze,{className:"player-map__segment",tree:a,segment:e,showArrow:r.length-1!==n},"map-".concat(e.index))}))})}function Se(e){var n=e.children,r=e.className,a=void 0===r?"":r,t=e.contained,s=void 0!==t&&t;return e.active?(0,G.jsx)(Ce,{className:a,contained:s,children:n}):(0,G.jsx)(G.Fragment,{})}function Ce(e){var n=e.children,r=e.contained,a=e.className,t=void 0===a?"":a,s=(0,de.useRef)(null);return(0,de.useEffect)((function(){var e=function(e){s.current&&(s.current.style.left=e.clientX+16+"px",s.current.style.top=e.clientY+16+"px")};return document.addEventListener("mousemove",e),function(){document.removeEventListener("mousemove",e)}}),[]),(0,G.jsx)("div",{ref:s,className:(0,L.Z)("mouse-following-content",r&&"mouse-following-content--contained",(0,z.hL)("bounceIn"),t),children:n})}var Pe=r(42246);function Te(e){var n,r,a,t,s=e.forest,i=e.map,o=void 0===i?[]:i,c=e.onSubmitPath,l=e.pathId,d=e.user,u=e.players,p=(0,pe.r)().isLoading,h=o.filter((function(e){return!e.passed&&e.clues.length>0})),v=null!==(n=null!==(r=null===(a=(0,R.findLast)(o,(function(e){return e.passed})))||void 0===a?void 0:a.treeId)&&void 0!==r?r:null===o||void 0===o||null===(t=o[0])||void 0===t?void 0:t.treeId)&&void 0!==n?n:0,m=o.filter((function(e){return e.passed})).map((function(e){return e.treeId})),x=function(e,n,r){var a=n[0],t={},s=e.history[r];if(s){var i=s[a.index];i&&i.forEach((function(n){void 0===t[n]&&(t[n]=[]),t[n].push(e.id)}))}return t}(d,h,l),j=(0,de.useState)([v]),f=(0,b.Z)(j,2),g=f[0],y=f[1],w=(0,de.useState)(v),Z=(0,b.Z)(w,2),I=Z[0],S=Z[1],C=k(I,[].concat((0,E.Z)(g),(0,E.Z)(m))),P=g.length>h.length,T=g.map((function(e){return s[e]})),F=null===h||void 0===h?void 0:h[g.length-1];return(0,N.M)((function(){c({guess:M(o,h,!0,Object.values(x).flat().map(Number)),pathId:l,choseRandomly:!0})})),(0,G.jsxs)(H.Z,{direction:"vertical",className:"space-container",children:[(0,G.jsx)(Ie,{map:o,selectedTrees:T}),(0,G.jsx)(Se,{active:Boolean(F),children:(0,G.jsx)(Ze,{segment:F,className:(0,z.hL)("rubberBand")},null===F||void 0===F?void 0:F.treeId)}),(0,G.jsx)(ue.ZP,{type:"primary",size:"large",onClick:function(){return c({guess:g.slice(1),pathId:l,choseRandomly:!1})},disabled:p||g.length-1<h.length,children:(0,G.jsx)(_.vN,{pt:"Enviar",en:"Submit"})}),(0,G.jsx)(Pe.a,{onClick:function(){return c({guess:M(o,h,!0,Object.values(x).flat().map(Number)),pathId:l,choseRandomly:!0})},ghost:!0,children:"Random Dev"}),(0,G.jsx)(ae,{forest:s,map:o,actions:{selection:g,clickableTrees:C,onSelectTree:function(e){S(e);var n=g.indexOf(e);y(n>-1?function(e){return e.slice(0,n+1)}:function(n){return[].concat((0,E.Z)(n),[e])})},activeTree:I,disabled:P},playerMapping:x,players:u})]})}function ke(e){var n=e.players,r=e.announcement,a=e.forest,t=e.activePlayer,s=e.onSubmitPath,i=e.user,o=Object.keys(n).length;return(0,G.jsxs)(g.h,{fullWidth:!0,announcement:r,children:[(0,G.jsx)(y.Dx,{children:(0,G.jsx)(_.vN,{pt:(0,G.jsxs)(G.Fragment,{children:["Siga o mapa de ",(0,G.jsx)(D.gj,{player:t})]}),en:(0,G.jsxs)(G.Fragment,{children:["Follow ",(0,G.jsx)(D.gj,{player:t}),"'s map"]})})}),(0,G.jsx)(y.vr,{contained:!0,children:(0,G.jsx)(_.vN,{pt:(0,G.jsxs)(G.Fragment,{children:["Baseado no ",(0,G.jsx)(oe,{children:"mapa de adjetivos"}),", clique nas"," ",(0,G.jsx)(ce,{children:"\xe1rvores"})," circuladas de pontinhos brancos para escolher aquele caminho.",(0,G.jsx)("br",{}),"Cada \xe1rvore correta vale ",(0,G.jsx)(le.B,{children:"1 ponto"})," por jogador que acertar (Por exemplo, 3 jogadores = 3 pontos).",(0,G.jsx)("br",{}),"Ent\xe3o, talvez valha a pena discutir! Por\xe9m, se somente um jogador acertar o caminho, ele ganha"," ",(0,G.jsxs)(le.B,{children:[o," pontos"]}),".",(0,G.jsx)("br",{}),"O criador do mapa ganha o mesmo n\xfamero de pontos que os jogadores."]}),en:(0,G.jsxs)(G.Fragment,{children:["Based on the ",(0,G.jsx)(oe,{children:"adjectives map"}),", click on the"," ",(0,G.jsx)(ce,{children:"circled trees"})," with white dots to choose that path.",(0,G.jsx)("br",{}),"Each correct tree is worth ",(0,G.jsx)(le.B,{children:"1 point"})," per player that guesses it (For example, 3 players = 3 points).",(0,G.jsx)("br",{}),"So, it might be worth discussing out loud! However, if only one player guesses the path, they earn ",(0,G.jsxs)(le.B,{children:[o," points"]}),".",(0,G.jsx)("br",{}),"The map creator also earns the same number of points as the players."]})})}),Boolean(a)&&t.map&&(0,G.jsx)(Te,{forest:a,map:t.map,onSubmitPath:s,pathId:t.id,user:i,players:n})]})}function Ee(e){var n=e.players,r=e.announcement,a=e.forest,t=e.activePlayer,s=Object.keys(n).length;return(0,G.jsxs)(g.h,{fullWidth:!0,announcement:r,children:[(0,G.jsx)(y.Dx,{children:(0,G.jsx)(_.vN,{pt:(0,G.jsx)(G.Fragment,{children:"Os jogadores est\xe3o seguindo o seu mapa!"}),en:(0,G.jsx)(G.Fragment,{children:"Players are following your map!"})})}),(0,G.jsx)(y.vr,{contained:!0,children:(0,G.jsx)(_.vN,{pt:(0,G.jsxs)(G.Fragment,{children:["Baseado no ",(0,G.jsx)(oe,{children:"mapa de adjetivos"}),", eles v\xe3o clicando nas"," ",(0,G.jsx)(ce,{children:"\xe1rvores"})," para escolher o caminho.",(0,G.jsx)("br",{}),"Cada \xe1rvore correta vale ",(0,G.jsx)(le.B,{children:"1 ponto"})," por jogador que acertar. Por exemplo, 3 jogadores = 3 pontos.",(0,G.jsx)("br",{}),"Se somente um jogador acertar o caminho, ele ganha"," ",(0,G.jsxs)(le.B,{children:[s," pontos"]}),".",(0,G.jsx)("br",{}),"Voc\xea, como criador do mapa ganha o mesmo n\xfamero de pontos que os jogadores."]}),en:(0,G.jsxs)(G.Fragment,{children:["Based on the ",(0,G.jsx)(oe,{children:"adjectives map"}),", players will click on the"," ",(0,G.jsx)(ce,{children:"trees"})," to choose the path.",(0,G.jsx)("br",{}),"Each correct tree is worth ",(0,G.jsx)(le.B,{children:"1 point"})," per player that guesses it. For example, 3 players = 3 points.",(0,G.jsx)("br",{}),"If only one player guesses the path, they earn"," ",(0,G.jsxs)(le.B,{children:[s," points"]}),".",(0,G.jsx)("br",{}),"You as the map creator also earns the same number of points as the players."]})})}),(0,G.jsx)(Ie,{map:t.map}),(0,G.jsx)(ae,{forest:a,map:t.map,showPath:!0})]})}function Re(e){var n,r=e.players,a=e.state,t=e.info,i=(0,d.a)(r,a),c=(0,u.g)(),l=c.step,h=c.setStep,v=(0,we.R)("activePlayerId",a,r),f=(0,b.Z)(v,2),N=f[0],w=f[1],Z=function(e){var n=(0,x.Z)().translate,r=(0,m.C)({apiFunction:j,actionName:"submit-path",onSuccess:function(){return e(2)},onError:function(){return e(0)},successMessage:n("Caminho submetido com sucesso","Path submitted successfully"),errorMessage:n("Vixi, o aplicativo encontrou um erro ao tentar enviar seu caminho","Oops, the application found an error while trying to submit your path")});return function(e){r((0,p.Z)({action:"SUBMIT_PATH"},e))}}(h),I=(0,G.jsx)(o.Cl,{icon:(0,G.jsx)(Ne.o,{}),title:(0,G.jsx)(_.vN,{pt:"Siga os mapas!",en:"Follow the maps!"}),currentRound:null===a||void 0===a||null===(n=a.round)||void 0===n?void 0:n.current,type:"overlay",duration:3,children:(0,G.jsxs)(y.vr,{children:[(0,G.jsx)(_.vN,{pt:"Vamos analisar e tentar seguir o mapa de cada jogador",en:"Let's analise and try to follow the each player's map"}),(0,G.jsx)("br",{}),(0,G.jsx)(be.Zy,{players:r,order:a.turnOrder,activePlayerId:a.activePlayerId})]})});return(0,G.jsx)(o.JK,{info:t,phase:null===a||void 0===a?void 0:a.phase,allowedPhase:s.R.LABIRINTO_SECRETO.PATH_FOLLOWING,children:(0,G.jsx)(g.p,{step:l,players:r,children:(0,G.jsxs)(re.xo,{condition:w,children:[(0,G.jsx)(Ee,{players:r,announcement:I,forest:a.forest,activePlayer:N}),(0,G.jsx)(ke,{players:r,user:i,announcement:I,forest:a.forest,onSubmitPath:Z,activePlayer:N,isTheActivePlayer:w})]})})})}var ze=r(63032);function Me(e){var n=e.info,r=e.state;return(0,G.jsx)(ze.J,{info:n,phase:null===r||void 0===r?void 0:r.phase,allowedPhase:s.R.DEFAULT.WAIT,className:"setup",children:(0,G.jsxs)("div",{className:"phase-announcement",children:[(0,G.jsx)(y.Dx,{children:(0,G.jsx)(_.vN,{pt:"Processando...",en:"Processing..."})}),(0,G.jsx)(J.m,{className:"phase-announcement__icon"}),(0,G.jsx)(y.vr,{children:(0,G.jsx)(_.vN,{pt:"Aguarde um momento",en:"Just a moment"})})]})})}var Fe=r(75041),Be=r(55285),Le=r(19263),Ae=r(49153);function Oe(e){var n=e.players,r=e.ranking,a=e.goToPreviousStep,t=e.round;return(0,G.jsxs)(Le.N,{players:n,ranking:r,gainedPointsDescriptions:[(0,G.jsx)(_.vN,{pt:"Rotas corretos",en:"Correct paths"}),(0,G.jsx)(_.vN,{pt:"Pontos por sua rota",en:"Points for your route"})],children:[(0,G.jsx)(y.vr,{contained:!0,children:(0,G.jsx)(_.vN,{pt:"N\xe3o se preocupe se voc\xea ficou pra tr\xe1s! o jogador mais a frente de cada rota, te gritou e voc\xea conseguiu encontr\xe1-lo.",en:"Don't worry if you were left behind! The player furthest ahead on that route, call you and you caught up"})}),(0,G.jsx)(H.Z,{className:"space-container",align:"center",children:(0,G.jsx)(ue.ZP,{onClick:a,children:(0,G.jsx)(_.vN,{pt:"Ver resultado novamente",en:"See results again"})})}),(0,G.jsx)(Ae.mv,{round:t})]})}var De=r(44666);function qe(e){var n=e.players,r=e.forest,a=e.currentPlayer,t=(e.user,a.map.filter((function(e){return e.active})));return(0,G.jsx)("div",{className:"space-container player-map",style:{gridTemplateColumns:"repeat(".concat(t.length,", 120px)")},children:t.map((function(e,a,t){var s=e.passed?r[e.treeId]:null;return(0,G.jsxs)("div",{className:"player-map__segment",children:[(0,G.jsxs)("div",{className:"player-map__top",children:[s?(0,G.jsx)(W.Y,{id:String(s.treeType),className:"player-map__tree",text:s.card.text,width:75}):(0,G.jsx)(W.Y,{id:"1",className:"player-map__tree-invisible",text:"",width:75}),(0,G.jsx)(D.Ce,{icon:(0,G.jsx)(f.Z,{}),size:"large",className:"player-map__icon"}),(0,G.jsx)("div",{children:e.clues.map((function(n){return(0,G.jsxs)("div",{className:"player-map__clue",children:[n.text,(null===n||void 0===n?void 0:n.negate)&&(0,G.jsx)(D.Ce,{icon:(0,G.jsx)(F.S,{}),size:"small",className:"player-map__clue-no"})]},"clue-".concat(e.index,"-").concat(n.id))}))}),0===e.index&&(0,G.jsx)(D.Ce,{icon:(0,G.jsx)(q.U,{}),size:"small",className:"player-map__starting-flag"}),t.length-1!==a&&(0,G.jsx)(D.Ce,{icon:(0,G.jsx)(O.e,{}),size:"small",className:"player-map__arrow"})]}),(0,G.jsxs)("div",{className:"player-map__scoring",children:[e.playersIds.length>0?(0,G.jsx)("div",{className:"player-map__players",children:e.playersIds.map((function(e){var r=n[e];return(0,G.jsx)($.Z,{title:r.name,children:(0,G.jsx)(D.qE,{size:"small",id:r.avatarId})},"player-".concat(e))}))}):(0,G.jsx)("div",{className:"player-map__no-players",children:(0,G.jsx)(_.vN,{pt:"Nenhum jogador",en:"No players"})}),(0,G.jsx)("div",{children:e.score>0&&(0,G.jsx)(le.B,{children:e.score})})]})]},"map-".concat(e.index))}))})}function Ve(e){var n=e.players,r=e.gallery,a=e.user,t=e.forest,s=e.activeIndex,i=e.setActiveIndex,o=e.setStep,c=e.isFirstGalleryRunThrough,l=Object.keys(n).length,d=r[s],u=(0,z.n0)(d.avatarId),p=function(e,n){var r=n.map,a=r.filter((function(e){return e.active})),t={};if(a[0].index>0){var s=r[a[0].index-1];t[s.treeId]=Object.keys(e).filter((function(e){return e!==n.id}))}return Object.values(e).forEach((function(e){var r=e.history[n.id];r&&a.forEach((function(n,a,s){var i=r[n.index];if(i)if(a===s.length-1)i.forEach((function(n){void 0===t[n]&&(t[n]=[]),t[n].push(e.id)}));else{var o=null===i||void 0===i?void 0:i[i.length-1];void 0===t[o]&&(t[o]=[]),t[o].push(e.id)}}))})),t}(n,d);return(0,G.jsxs)(g.h,{fullWidth:!0,children:[(0,G.jsx)(y.Dx,{children:(0,G.jsx)(_.vN,{pt:(0,G.jsxs)(G.Fragment,{children:["Mapa do(a) ",(0,G.jsx)(D.gj,{player:d})]}),en:(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(D.gj,{player:d}),"'s map"]})})}),(0,G.jsx)(y.vr,{contained:!0,children:(0,G.jsx)(_.vN,{pt:(0,G.jsxs)(G.Fragment,{children:["Voc\xea ganha pontos ao acertar o caminho do mapa. ",(0,G.jsx)("br",{}),"Cada \xe1rvore correta vale ",(0,G.jsx)(le.B,{children:"1 ponto"})," por jogador que acertar."," ",(0,G.jsx)("br",{}),"Se voc\xea for o \xfanico que acertou, voc\xea ganha"," ",(0,G.jsxs)(le.B,{children:[l," pontos"]}),"."]}),en:(0,G.jsxs)(G.Fragment,{children:["You get points by guessing the map path. ",(0,G.jsx)("br",{}),"Each correct tree is worth ",(0,G.jsx)(le.B,{children:"1 point"})," per player who guesses it."," ",(0,G.jsx)("br",{}),"If you are the only one who guessed it, you get"," ",(0,G.jsxs)(le.B,{children:[l," points"]}),"."]})})}),(0,G.jsx)(qe,{players:n,forest:t,currentPlayer:d,user:a}),(0,G.jsxs)("div",{children:[(0,G.jsx)(ae,{forest:t,map:d.map,size:"small",players:n,user:a,forestBorderColor:(0,z.n0)(d.avatarId),playerMapping:p}),(0,G.jsx)(De.Q,{length:r.length,activeIndex:s,setActiveIndex:i,setStep:o,disableControls:c,barColor:u,windowDuration:15})]})]})}function Ue(e){var n,r=e.players,a=e.state,t=e.info,i=(0,d.a)(r,a),c=(0,u.g)(),l=c.step,p=c.setStep,h=c.goToPreviousStep,v=c.goToNextStep,m=(0,de.useMemo)((function(){return(0,z.II)(r).filter((function(e){return e.map.some((function(e){return e.active}))}))}),[r]),x=(0,Fe.L)(m.length),j=x.activeIndex,f=x.setActiveIndex,N=x.isFirstGalleryRunThrough;return(0,G.jsx)(o.JK,{info:t,phase:null===a||void 0===a?void 0:a.phase,allowedPhase:s.R.LABIRINTO_SECRETO.RESULTS,children:(0,G.jsxs)(g.p,{step:l,players:r,children:[(0,G.jsx)(o.Cl,{icon:(0,G.jsx)(Be.o,{}),title:(0,G.jsx)(_.vN,{pt:"Resultado",en:"Results"}),currentRound:null===a||void 0===a||null===(n=a.round)||void 0===n?void 0:n.current,type:"block",onClose:v,unskippable:!0,children:(0,G.jsx)(y.vr,{children:(0,G.jsx)(_.vN,{pt:"Quem \xe9 o melhor em seguir dire\xe7\xf5es?",en:"Who is the best at following directions?"})})}),(0,G.jsx)(Ve,{gallery:m,players:r,activeIndex:j,setActiveIndex:f,isFirstGalleryRunThrough:N,forest:a.forest,setStep:p,user:i}),(0,G.jsx)(Oe,{players:r,round:a.round,ranking:a.ranking,goToPreviousStep:h})]})})}var We=r(2320);function Ge(e){var n,r=e.state,a=e.info,t=e.players,s=(0,z.II)(t),i=null!==(n=r.forest)&&void 0!==n?n:[];return(0,G.jsx)(We.S,{info:a,state:r,players:t,announcementIcon:(0,G.jsx)(q.U,{}),children:(0,G.jsx)(xe.W,{title:(0,G.jsx)(_.vN,{pt:"Mapas dos Jogadores",en:"Players' Maps"}),children:s.map((function(e){var n,r=(null!==(n=e.map)&&void 0!==n?n:[]).map((function(e){return i[e.treeId]}));return(0,G.jsxs)(H.Z,{className:"game-over-strip",style:{borderColor:(0,z.n0)(e.avatarId)},children:[(0,G.jsx)(D.I6,{player:e,withName:!0,className:"game-over-avatar-strip"}),(0,G.jsx)(Ie,{map:e.map,fullMap:!0,selectedTrees:r})]},e.id)}))})})}function Ye(e){if(e&&!e.phase)return l.h2;switch(e.phase){case s.R.DEFAULT.LOBBY:return o.Uc;case s.R.DEFAULT.RULES:return o.hj;case s.R.DEFAULT.SETUP:return o.Z8;case s.R.DEFAULT.WAIT:return Me;case s.R.LABIRINTO_SECRETO.MAP_BUILDING:return _e;case s.R.LABIRINTO_SECRETO.PATH_FOLLOWING:return Re;case s.R.LABIRINTO_SECRETO.RESULTS:return Ue;case s.R.DEFAULT.GAME_OVER:return Ge;default:return c.S}}var He=function(){return(0,G.jsx)(a.ZP,{theme:{token:{colorPrimary:t.kT.FOREST,colorLink:t.kT.FOREST}},children:(0,G.jsx)(i.z,{gameCollection:t.H$.LABIRINTO_SECRETO,getActiveComponent:Ye})})}},75041:function(e,n,r){r.d(n,{L:function(){return s}});var a=r(50678),t=r(72791);function s(e){var n=(0,t.useState)(0),r=(0,a.Z)(n,2),s=r[0],i=r[1],o=(0,t.useState)(!0),c=(0,a.Z)(o,2),l=c[0],d=c[1];return(0,t.useEffect)((function(){l&&s===e-1&&d(!1)}),[l,s,e]),{activeIndex:s,setActiveIndex:i,isFirstGalleryRunThrough:l,setIsFirstGalleryRunThrough:d}}},26055:function(e,n,r){r.d(n,{R:function(){return i}});var a=r(50678),t=r(72791),s=r(3224);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"activePlayer",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=(0,s.j1)("userId"),o=(0,a.Z)(i,1),c=o[0],l=(0,t.useState)({}),d=(0,a.Z)(l,2),u=d[0],p=d[1],h=(0,t.useState)(!1),v=(0,a.Z)(h,2),m=v[0],x=v[1];return(0,t.useEffect)((function(){var a,t=null===n||void 0===n?void 0:n[e];p(null!==(a=null===r||void 0===r?void 0:r[t])&&void 0!==a?a:{}),x((null===n||void 0===n?void 0:n[e])===c)}),[r,e,n,c]),[u,m]}},11473:function(e,n,r){r.d(n,{S:function(){return s}});var a=r(18489),t=r(80184);function s(e){return(0,t.jsxs)("svg",(0,a.Z)((0,a.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e),{},{children:[(0,t.jsx)("path",{fill:"none",d:"M.09.09h512v512H.09z"}),(0,t.jsx)("path",{fill:"#e94444",d:"M256.09 441.78a184.89 184.89 0 01-85.58-20.86c-4.22-2.2-8.36-4.55-12.38-7.05a3.33 3.33 0 01-.62-5.19l251.16-251.17a3.34 3.34 0 015.2.62c2.49 4 4.85 8.16 7.05 12.38a185.75 185.75 0 01-164.83 271.27M98.33 354.09q-3.75-6-7-12.37a184.43 184.43 0 01-20.8-79.76c-3.24-105 82.25-192.47 187.33-191.5a185 185 0 0183.88 20.85q6.33 3.3 12.36 7.06a3.33 3.33 0 01.61 5.19L103.52 354.65a3.33 3.33 0 01-5.19-.61M256.09 7.5C118.8 7.5 7.5 118.8 7.5 256.09s111.3 248.59 248.59 248.59 248.59-111.29 248.59-248.59S393.38 7.5 256.09 7.5"}),(0,t.jsx)("path",{fill:"#d83131",d:"M398.28 52.16a248 248 0 0189.35 190.93c0 137.29-111.29 248.59-248.59 248.59a247.45 247.45 0 01-142.18-44.69 247.53 247.53 0 00159.23 57.69c137.29 0 248.59-111.29 248.59-248.59a248.28 248.28 0 00-106.4-203.93"}),(0,t.jsx)("path",{d:"M256.09 512.18A256.09 256.09 0 0175.01 75.01a256.11 256.11 0 11291.08 412.4 7.5 7.5 0 01-6.45-13.54 239.89 239.89 0 10-31.63 12.4 7.5 7.5 0 114.47 14.32 256.11 256.11 0 01-76.39 11.59z"}),(0,t.jsx)("path",{d:"M101.2 363.09a10.48 10.48 0 01-1.25-.07 10.8 10.8 0 01-8-5 191.8 191.8 0 01-7.34-12.88 191 191 0 01-21.64-83c-1.63-52.89 18-103 55.21-141s86.85-58.74 139.71-58.23a191.22 191.22 0 0187.27 21.7c4.37 2.28 8.69 4.75 12.86 7.34a10.83 10.83 0 011.95 16.86L108.83 359.95a10.76 10.76 0 01-7.63 3.14zM256.09 77.9c-48.12 0-93.22 19-127.16 53.72-34.35 35.1-52.44 81.29-50.94 130.06a176 176 0 0020 76.52c1.29 2.47 2.64 4.94 4.06 7.37l243.54-243.6a175.7 175.7 0 00-7.36-4.06 176.41 176.41 0 00-80.47-20zm0 371.38a193.54 193.54 0 01-89-21.71 192.5 192.5 0 01-12.88-7.34 10.82 10.82 0 01-2-16.86l137.55-137.55a7.5 7.5 0 1110.6 10.61L166.59 410.2c2.42 1.41 4.89 2.77 7.38 4.06a178.52 178.52 0 0082.12 20c98.26 0 178.19-79.93 178.19-178.19a176.22 176.22 0 00-20-82.12c-1.29-2.49-2.65-5-4.06-7.38l-84.87 84.87a7.5 7.5 0 01-10.61-10.6l88.65-88.65a10.83 10.83 0 0116.86 1.95c2.58 4.16 5.05 8.49 7.34 12.89a191.11 191.11 0 0121.71 89c-.02 106.59-86.68 193.25-193.21 193.25z"})]}))}},68409:function(e,n,r){r.d(n,{Z:function(){return c}});var a=r(87462),t=r(72791),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 160h-92v-40c0-4.4-3.6-8-8-8H256c-4.4 0-8 3.6-8 8v40h-92a44 44 0 00-44 44v148c0 81.7 60 149.6 138.2 162C265.7 630.2 359 721.7 476 734.5v105.2H280c-17.7 0-32 14.3-32 32V904c0 4.4 3.6 8 8 8h512c4.4 0 8-3.6 8-8v-32.3c0-17.7-14.3-32-32-32H548V734.5C665 721.7 758.3 630.2 773.8 514 852 501.6 912 433.7 912 352V204a44 44 0 00-44-44zM184 352V232h64v207.6a91.99 91.99 0 01-64-87.6zm520 128c0 49.1-19.1 95.4-53.9 130.1-34.8 34.8-81 53.9-130.1 53.9h-16c-49.1 0-95.4-19.1-130.1-53.9-34.8-34.8-53.9-81-53.9-130.1V184h384v296zm136-128c0 41-26.9 75.8-64 87.6V232h64v120z"}}]},name:"trophy",theme:"outlined"},i=r(44279),o=function(e,n){return t.createElement(i.Z,(0,a.Z)({},e,{ref:n,icon:s}))};var c=t.forwardRef(o)}}]);
//# sourceMappingURL=labirinto-secreto.0a0b0163.chunk.js.map