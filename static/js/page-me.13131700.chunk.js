"use strict";(self.webpackChunktardedivertida=self.webpackChunktardedivertida||[]).push([[2367],{18259:function(e,n,r){r.d(n,{c:function(){return w}});var s=r(33032),a=r(50678),t=r(84322),i=r.n(t),o=r(72791),l=r(91933),u=r(93070),c=r(59425),m=r(86005),d=r(71234),p=r(2641),x=r(12661),f=r(72913),h=r(20670),g=r(36436),j=r(82741),v=r(40931),Z=r(80184);function w(e){var n=e.onSuccess,r=u.Z.useForm(),t=(0,a.Z)(r,1)[0],x=(0,h.Z)().translate,v=(0,o.useState)(!1),w=(0,a.Z)(v,2),b=w[0],C=w[1],N=(0,l.useMutation)((0,s.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.zB)(t.getFieldValue("username"),t.getFieldValue("password"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{onSuccess:function(){n()}}),S=N.isLoading,I=N.mutate,E=N.isError;return(0,Z.jsxs)("div",{className:"sign-in",children:[(0,Z.jsx)("div",{className:"sign-in__logo",children:(0,Z.jsx)(c.Z,{src:g.Z,preview:!1})}),(0,Z.jsxs)(u.Z,{name:"login",form:t,labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},initialValues:{remember:!0},onFinish:function(){I()},autoComplete:"off",children:[(0,Z.jsx)(u.Z.Item,{label:(0,Z.jsx)(j.vN,{pt:"E-mail",en:"E-mail"}),name:"username",rules:[{required:!0,message:x("e-mail \xe9 um campo obrigat\xf3rio","e-mail is required")}],children:(0,Z.jsx)(m.Z,{})}),(0,Z.jsx)(u.Z.Item,{label:(0,Z.jsx)(j.vN,{pt:"Senha",en:"Password"}),name:"password",rules:[{required:!0,message:x("e-mail \xe9 um campo obrigat\xf3rio","e-mail is required")}],help:x("M\xednimo 6 caracteres","Minimum of 6 characters"),children:(0,Z.jsx)(m.Z.Password,{})}),E&&(0,Z.jsx)(u.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,Z.jsx)(d.Z,{description:(0,Z.jsx)(j.vN,{pt:"Algo deu errado, tente novamente",en:"Something went wrong. Please try again"}),type:"error",showIcon:!0,className:"sign-in__error-alert"})}),(0,Z.jsxs)(u.Z.Item,{wrapperCol:{offset:8,span:16},children:[(0,Z.jsx)(p.ZP,{type:"primary",htmlType:"submit",loading:S,children:(0,Z.jsx)(j.vN,{pt:"Entrar",en:"Submit"})}),(0,Z.jsx)(p.ZP,{type:"link",onClick:function(){return C((function(e){return!e}))},children:(0,Z.jsx)(j.vN,{pt:"Esqueci minha senha",en:"Forgot my password"})})]})]}),b&&(0,Z.jsx)(d.Z,{type:"info",message:(0,Z.jsx)(y,{email:t.getFieldValue("username"),onSuccess:function(){return C(!1)}})})]})}function y(e){var n=e.email,r=e.onSuccess,t=x.Z.useApp().message,o=u.Z.useForm(),c=(0,a.Z)(o,1)[0],g=(0,h.Z)().translate,w=(0,l.useMutation)((0,s.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.c0)(c.getFieldValue("username"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{onSuccess:function(){r(),t.success(g("Verifique seu e-mail enviado para redefinir a sua senha","Verify your email to reset your password"))}}),y=w.isLoading,b=w.mutate,C=w.isError;return(0,Z.jsxs)(u.Z,{name:"forgot-password",form:c,labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},initialValues:{username:n,remember:!0},onFinish:function(){b()},autoComplete:"off",children:[(0,Z.jsx)(u.Z.Item,{children:(0,Z.jsx)(v.Dx,{level:4,size:"xx-small",children:(0,Z.jsx)(j.vN,{pt:"Redefinir a senha",en:"Password Reset"})})}),(0,Z.jsx)(u.Z.Item,{label:(0,Z.jsx)(j.vN,{pt:"E-mail",en:"E-mail"}),name:"username",rules:[{required:!0,message:g("e-mail \xe9 um campo obrigat\xf3rio","e-mail is required")}],children:(0,Z.jsx)(m.Z,{})}),C&&(0,Z.jsx)(u.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,Z.jsx)(d.Z,{description:(0,Z.jsx)(j.vN,{pt:"Algo deu errado, provavelmente este e-mail n\xe3o existe no banco de dados da Tarde Divertida",en:"Something went wrong. Please try again"}),type:"error",showIcon:!0,className:"sign-in__error-alert"})}),(0,Z.jsx)(u.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,Z.jsx)(p.ZP,{type:"primary",htmlType:"submit",disabled:y,children:(0,Z.jsx)(j.vN,{pt:"Enviar",en:"Submit"})})})]})}},98641:function(e,n,r){r.r(n),r.d(n,{default:function(){return f}});var s=r(50678),a=r(66509),t=r(1918),i=r(40959),o=r(76591),l=r(18259),u=r(82741),c=r(80184);function m(e){var n=e.isAuthenticated;return(0,c.jsx)(i.Z,{open:!n,title:(0,c.jsx)(u.vN,{pt:"Logar",en:"LogIn"}),cancelText:(0,c.jsx)(u.vN,{pt:"Cancelar",en:"Cancel"}),onCancel:o.dG,okButtonProps:{style:{display:"none"}},cancelButtonProps:{style:{display:"none"}},closable:!1,children:(0,c.jsx)(l.c,{onSuccess:o.dG})})}var d=r(93598),p=(r(76738),r(72791)),x=r(3224);var f=function(){(0,a.Z)("Me - Tarde Divertida");var e=(0,t.O)(),n=e.isAuthenticated,r=e.currentUser,i=(0,x.j1)("language"),o=(0,s.Z)(i,2)[1];return(0,p.useEffect)((function(){r.language&&o(r.language)}),[r.language,o]),(0,c.jsx)(d.O,{user:r,additionalContent:(0,c.jsx)(m,{isAuthenticated:n})})}}}]);
//# sourceMappingURL=page-me.13131700.chunk.js.map