"use strict";(self.webpackChunktardedivertida=self.webpackChunktardedivertida||[]).push([[510],{2510:function(e,n,a){a.d(n,{K:function(){return C},S:function(){return S}});var t=a(7360),r=a(2791);var s=a.p+"static/media/game-over-title.7073f1c0cec741dc0049d62ea51a879e.svg",o=a(2427),i=a(6591),l=a(5948),d=a(9874),c=a(9439),u=a(8182),v=a(785),m=a(2517),g=a(7309),h=a(6005),x=a(3673),j=a(722),p=a(1238),f=a(184),w=h.Z.TextArea;function _(){var e=(0,o.r$)().isLoading,n=(0,o.ZK)().translate,a=(0,o.j1)("userId"),t=(0,c.Z)(a,1)[0],s=(0,o.j1)("gameId"),i=(0,c.Z)(s,1)[0],d=(0,r.useState)(0),h=(0,c.Z)(d,2),_=h[0],N=h[1],C=(0,r.useState)(""),y=(0,c.Z)(C,2),Z=y[0],R=y[1],S=(0,r.useState)(!1),b=(0,c.Z)(S,2),A=b[0],E=b[1],k=(0,r.useState)(!1),I=(0,c.Z)(k,2),T=I[0],W=I[1],B=(0,j.useTimer)({expiryTimestamp:(0,p.rv)(3),onExpire:function(){return E(!0)},autoStart:!1}).start,P=(0,o.Cq)({apiFunction:x.D0.rateGame,actionName:"rating",successMessage:n("Obrigado por avaliar o jogo","Thanks for rating the game"),errorMessage:n("Envio de avalia\xe7\xe3o falhou","Rating submission has failed"),onSuccess:function(){return W(!0)},onError:function(){return W(!0)},onAfterCall:B});return(0,f.jsx)("div",{className:(0,u.Z)("rate-game-widget",T&&"rate-game-widget--thank-you",A?"swirl-out-bck":"swirl-in-fwd"),children:T?(0,f.jsx)(v.Z,{message:n("Obrigado","Thank you"),type:"success",showIcon:!0}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("h3",{children:(0,f.jsx)(l.v,{pt:"O que achou do jogo?",en:"Rate this game"})}),(0,f.jsx)(m.Z,{onChange:N}),(0,f.jsxs)("p",{children:[(0,f.jsx)(l.v,{pt:"Coment\xe1rios",en:"Comments"}),":"]}),(0,f.jsx)(w,{onChange:function(e){return R(e.target.value)},disabled:e}),(0,f.jsx)(g.Z,{type:"primary",disabled:!_||e,onClick:function(){P({ratings:{comments:Z,gameId:i,playerId:t,ratedAt:Date.now(),rating:_}})},size:"small",children:(0,f.jsx)(l.v,{pt:"Enviar",en:"Send"})})]})})}var N=function(){return(0,f.jsx)(l.v,{pt:"Jogo conclu\xeddo",en:"The game is over"})};function C(e){var n,a,r=e.state,c=e.children,u=e.className,v=e.showRateWidgetAfterContent,m=(0,o.ZK)().language;return(0,f.jsxs)("div",{className:u,children:[(0,f.jsx)("div",{className:"game-over__title",children:(0,f.jsx)("img",{src:s,alt:"Game Over"})}),Boolean(r.winners)&&r.winners.length>0&&(0,f.jsxs)("div",{className:"game-over__winner-container",children:[(0,f.jsxs)("div",{className:"game-over__text",children:[(0,f.jsx)(N,{})," ",r.winners.length>1?(0,f.jsx)(l.v,{pt:"e os vencedores s\xe3o",en:"and the winners are"}):(0,f.jsx)(l.v,{pt:"e o vencedor \xe9",en:"and the winner is"}),":"]}),(0,f.jsx)("ul",{className:"game-over__winners",children:r.winners.map((function(e){var n,a;return(0,f.jsxs)("li",{className:"game-over__winner",children:[(0,f.jsx)(d.qE,{className:"game-over__avatar",id:null!==(n=e.avatarId)&&void 0!==n?n:25}),(0,f.jsxs)("div",{className:"game-over__winner-name",children:[(0,f.jsx)("strong",{children:null!==(a=e.name)&&void 0!==a?a:"?"}),", ",i.HC[e.avatarId].description[m]]})]},"winner-".concat(e.name))}))})]}),Boolean(r.group)&&(0,f.jsxs)("div",{className:"game-over__winner",children:[(0,f.jsx)("div",{className:"game-over__text",children:(0,f.jsx)(N,{})}),(0,f.jsx)(t.Z,{type:"circle",strokeColor:r.group.victory?{"0%":"#4ba226","100%":"#87d068"}:{"0%":"#ff0000","70%":"#ff0000","100%":"#87d068"},percent:null!==(n=r.group.score)&&void 0!==n?n:0}),(0,f.jsx)("div",{className:"game-over__text",children:r.group.victory?(0,f.jsx)(l.v,{pt:"Parab\xe9ns, voc\xeas ganharam!",en:"Congratulations, you won!"}):(0,f.jsx)(l.v,{pt:"N\xe3o foi dessa vez, que vergonha heim!",en:"You lost! What a shame!"})})]}),Boolean(r.team)&&(0,f.jsxs)("div",{className:"game-over__winner",children:[(0,f.jsx)("div",{className:"game-over__text",children:(0,f.jsx)(N,{})}),(0,f.jsx)(t.Z,{type:"circle",strokeColor:{"0%":"#ff0000","70%":"#ff0000","100%":"#87d068"},percent:null!==(a=r.team.score)&&void 0!==a?a:0}),(0,f.jsx)("div",{className:"game-over__text",children:r.team.victory?(0,f.jsx)(l.v,{pt:"Parab\xe9ns, voc\xeas ganharam!",en:"Congratulations, you won!"}):(0,f.jsx)(l.v,{pt:"N\xe3o foi dessa vez, que vergonha heim!",en:"You lost! What a shame!"})})]}),!Boolean(r.winners)&&!Boolean(r.team)&&!Boolean(r.group)&&(0,f.jsx)("div",{className:"game-over__text",children:(0,f.jsx)(N,{})}),!v&&(0,f.jsx)(_,{}),c,v&&(0,f.jsx)(_,{})]})}var y=a(5149),Z=a(4716),R=a(5234);function S(e){var n,a=e.info,t=e.state,s=e.announcementIcon,i=void 0===s?"the-end":s,l=e.announcementTitle,d=e.announcementDuration,u=void 0===d?3:d,v=e.announcementContent,m=e.children,g=void 0===m?(0,f.jsx)(f.Fragment,{}):m,h=e.showRateWidgetAfterContent,x=void 0!==h&&h,j=(0,r.useState)(0),p=(0,c.Z)(j,2),w=p[0],_=p[1],N=(0,o.ZK)().translate;return(0,f.jsx)(Z.JK,{info:a,phase:null===t||void 0===t?void 0:t.phase,allowedPhase:y.R.DEFAULT.GAME_OVER,className:"game-over__container",children:(0,f.jsxs)(R.p,{step:w,children:[(0,f.jsx)(Z.Cl,{type:i,title:N("E o jogo chegou ao fim...","And the game is over...",l),onClose:function(){return _(1)},currentRound:null===t||void 0===t||null===(n=t.round)||void 0===n?void 0:n.current,duration:u,children:Boolean(v)&&v}),(0,f.jsx)(C,{state:t,showRateWidgetAfterContent:x,children:g})]})})}},5234:function(e,n,a){a.d(n,{h:function(){return s},p:function(){return c}});var t=a(8182),r=a(184);function s(e){var n=e.children,a=e.fullWidth,s=void 0!==a&&a,o=e.className;return(0,r.jsx)("div",{className:(0,t.Z)("step",s&&"step--full-width",o),children:n})}var o=a(7891),i=a(9119),l=a(5948),d=function(e){switch(e){case"SERVER":return(0,r.jsx)(l.v,{pt:"Aguardando o servidor dar sinal de vida",en:"Waiting for the server to resuscitate"});case"PLAYERS":return(0,r.jsx)(l.v,{pt:"Vamos aguardar enquanto os outros jogadores terminam!",en:"Please wait while other players finish!"});default:return(0,r.jsx)(l.v,{pt:"Aguardando algo acontecer...",en:"Waiting for something..."})}};function c(e){var n,a=e.children,t=e.step,s=e.conditions,c=e.players,u=e.waitingRoomInstruction,v=e.waitingRoomInstructionType,m=void 0===v?"PLAYERS":v,g=e.waitingRoomContent,h=void 0===g?"":g;return c||console.warn("SetSwitcher is being used without `players`, please add it."),c&&t>=a.length?(0,r.jsx)(o.a1,{players:c,title:(0,r.jsx)(l.v,{pt:"Pronto!",en:"Done!"}),instruction:null!==u&&void 0!==u?u:d(m),children:h}):a[t]?null===(n=null===s||void 0===s?void 0:s[t])||void 0===n||n?a[t]:(0,r.jsx)("div",{}):(0,r.jsx)(i.gb,{})}}}]);
//# sourceMappingURL=510.c243ade3.chunk.js.map