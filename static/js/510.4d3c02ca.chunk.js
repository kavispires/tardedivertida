"use strict";(self.webpackChunktardedivertida=self.webpackChunktardedivertida||[]).push([[510],{2510:function(e,n,a){a.d(n,{K:function(){return b},S:function(){return E}});var t=a(8817),s=a(3099),r=a(7309),o=a(2791);var i=a.p+"static/media/game-over-title.7073f1c0cec741dc0049d62ea51a879e.svg",c=a(3142),l=a(9757),d=a(5948),u=a(2037),v=a(9439),m=a(8182),g=a(785),h=a(2517),x=a(6005),j=a(3673),p=a(722),f=a(1238),w=a(184),_=x.Z.TextArea;function C(e){var n=e.customText,a=(0,c.r$)().isLoading,t=(0,c.ZK)().translate,s=(0,c.j1)("userId"),i=(0,v.Z)(s,1)[0],l=(0,c.j1)("gameId"),u=(0,v.Z)(l,1)[0],x=(0,c.j1)("isAdmin"),C=(0,v.Z)(x,1)[0],N=(0,c.j1)("isAdminEnabled"),Z=(0,v.Z)(N,1)[0],y=(0,o.useState)(0),b=(0,v.Z)(y,2),A=b[0],R=b[1],T=(0,o.useState)(""),E=(0,v.Z)(T,2),S=E[0],k=E[1],I=(0,o.useState)(!1),W=(0,v.Z)(I,2),P=W[0],B=W[1],q=(0,o.useState)(!1),D=(0,v.Z)(q,2),K=D[0],O=D[1],F=(0,p.useTimer)({expiryTimestamp:(0,f.rv)(3),onExpire:function(){return B(!0)},autoStart:!1}).start,L=(0,c.Cq)({apiFunction:j.D0.rateGame,actionName:"rating",successMessage:t("Obrigado por avaliar o jogo","Thanks for rating the game"),errorMessage:t("Envio de avalia\xe7\xe3o falhou","Rating submission has failed"),onSuccess:function(){return O(!0)},onError:function(){return O(!0)},onAfterCall:F});return C&&!Z?(0,w.jsx)("span",{}):(0,w.jsx)("div",{className:(0,m.Z)("rate-game-widget",K&&"rate-game-widget--thank-you",P?"swirl-out-bck":"swirl-in-fwd"),children:K?(0,w.jsx)(g.Z,{message:t("Obrigado","Thank you"),type:"success",showIcon:!0}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("h3",{children:(0,w.jsx)(d.v,{pt:"O que achou do jogo?",en:"Rate this game"})}),(0,w.jsx)(h.Z,{onChange:R}),(0,w.jsxs)("p",{children:[(0,w.jsx)(d.v,{pt:"Coment\xe1rios",en:"Comments",custom:n}),":"]}),(0,w.jsx)(_,{onChange:function(e){return k(e.target.value)},disabled:a}),(0,w.jsx)(r.Z,{type:"primary",disabled:!A||a,onClick:function(){L({ratings:{comments:S,gameId:u,playerId:i,ratedAt:Date.now(),rating:A}})},size:"small",children:(0,w.jsx)(d.v,{pt:"Enviar",en:"Send"})})]})})}var N=a(6871),Z=a(3591),y=function(){return(0,w.jsx)(d.v,{pt:"Jogo conclu\xeddo",en:"The game is over"})};function b(e){var n,a,o=e.state,v=e.children,m=e.className,g=e.showRateWidgetAfterContent,h=e.rateWidgetCustomText,x=(0,c.ZK)().language,j=(0,N.s0)();return(0,w.jsxs)("div",{className:m,children:[(0,w.jsx)("div",{className:"game-over__title",children:(0,w.jsx)("img",{src:i,alt:"Game Over"})}),Boolean(o.winners)&&o.winners.length>0&&(0,w.jsxs)("div",{className:"game-over__winner-container",children:[(0,w.jsxs)("div",{className:"game-over__text",children:[(0,w.jsx)(y,{})," ",o.winners.length>1?(0,w.jsx)(d.v,{pt:"e os vencedores s\xe3o",en:"and the winners are"}):(0,w.jsx)(d.v,{pt:"e o vencedor \xe9",en:"and the winner is"}),":"]}),(0,w.jsx)("ul",{className:"game-over__winners",children:o.winners.map((function(e){var n,a;return(0,w.jsxs)("li",{className:"game-over__winner",children:[(0,w.jsx)(u.qE,{className:"game-over__avatar",id:null!==(n=e.avatarId)&&void 0!==n?n:25}),(0,w.jsxs)("div",{className:"game-over__winner-name",children:[(0,w.jsx)("strong",{children:null!==(a=e.name)&&void 0!==a?a:"?"}),", ",l.H[e.avatarId].description[x]]})]},"winner-".concat(e.name))}))})]}),Boolean(o.group)&&(0,w.jsxs)("div",{className:"game-over__winner",children:[(0,w.jsx)("div",{className:"game-over__text",children:(0,w.jsx)(y,{})}),(0,w.jsx)(t.Z,{type:"circle",strokeColor:o.group.victory?{"0%":"#4ba226","100%":"#87d068"}:{"0%":"#ff0000","70%":"#ff0000","100%":"#87d068"},percent:null!==(n=o.group.score)&&void 0!==n?n:0}),(0,w.jsx)("div",{className:"game-over__text",children:o.group.victory?(0,w.jsx)(d.v,{pt:"Parab\xe9ns, voc\xeas ganharam!",en:"Congratulations, you won!"}):(0,w.jsx)(d.v,{pt:"N\xe3o foi dessa vez, que vergonha heim!",en:"You lost! What a shame!"})})]}),Boolean(o.team)&&(0,w.jsxs)("div",{className:"game-over__winner",children:[(0,w.jsx)("div",{className:"game-over__text",children:(0,w.jsx)(y,{})}),(0,w.jsx)(t.Z,{type:"circle",strokeColor:{"0%":"#ff0000","70%":"#ff0000","100%":"#87d068"},percent:null!==(a=o.team.score)&&void 0!==a?a:0}),(0,w.jsx)("div",{className:"game-over__text",children:o.team.victory?(0,w.jsx)(d.v,{pt:"Parab\xe9ns, voc\xeas ganharam!",en:"Congratulations, you won!"}):(0,w.jsx)(d.v,{pt:"N\xe3o foi dessa vez, que vergonha heim!",en:"You lost! What a shame!"})})]}),!Boolean(o.winners)&&!Boolean(o.team)&&!Boolean(o.group)&&(0,w.jsx)("div",{className:"game-over__text",children:(0,w.jsx)(y,{})}),!g&&(0,w.jsx)(C,{customText:h}),v,g&&(0,w.jsx)(C,{customText:h}),(0,w.jsxs)(s.Z,{align:"center",direction:"vertical",className:"full-width padding",children:[(0,w.jsx)(r.Z,{onClick:function(){return j("/")},children:(0,w.jsx)(d.v,{pt:"P\xe1gina Inicial",en:"Home Page"})}),(0,w.jsx)(Z.c3,{onClick:function(){return j("/hub")},label:"Hub"})]})]})}var A=a(5149),R=a(681),T=a(5234);function E(e){var n,a=e.info,t=e.state,s=e.announcementIcon,r=void 0===s?"the-end":s,i=e.announcementTitle,l=e.announcementDuration,d=void 0===l?3:l,u=e.announcementContent,m=e.children,g=void 0===m?(0,w.jsx)(w.Fragment,{}):m,h=e.showRateWidgetAfterContent,x=void 0!==h&&h,j=e.rateWidgetCustomText,p=(0,o.useState)(0),f=(0,v.Z)(p,2),_=f[0],C=f[1],N=(0,c.ZK)().translate;return(0,w.jsx)(R.JK,{info:a,phase:null===t||void 0===t?void 0:t.phase,allowedPhase:A.R.DEFAULT.GAME_OVER,className:"game-over__container",children:(0,w.jsxs)(T.p,{step:_,children:[(0,w.jsx)(R.Cl,{type:r,title:N("E o jogo chegou ao fim...","And the game is over...",i),onClose:function(){return C(1)},currentRound:null===t||void 0===t||null===(n=t.round)||void 0===n?void 0:n.current,duration:d,children:Boolean(u)&&u}),(0,w.jsx)(b,{state:t,showRateWidgetAfterContent:x,rateWidgetCustomText:j,children:g})]})})}},5234:function(e,n,a){a.d(n,{h:function(){return r},p:function(){return d}});var t=a(8182),s=a(184);function r(e){var n=e.children,a=e.fullWidth,r=void 0!==a&&a,o=e.className;return(0,s.jsx)("div",{className:(0,t.Z)("step",r&&"step--full-width",o),children:n})}var o=a(7891),i=a(9119),c=a(5948),l=function(e){switch(e){case"SERVER":return(0,s.jsx)(c.v,{pt:"Aguardando o servidor dar sinal de vida",en:"Waiting for the server to resuscitate"});case"PLAYERS":return(0,s.jsx)(c.v,{pt:"Vamos aguardar enquanto os outros jogadores terminam!",en:"Please wait while other players finish!"});default:return(0,s.jsx)(c.v,{pt:"Aguardando algo acontecer...",en:"Waiting for something..."})}};function d(e){var n,a=e.children,t=e.step,r=e.conditions,d=e.players,u=e.waitingRoomInstruction,v=e.waitingRoomInstructionType,m=void 0===v?"PLAYERS":v,g=e.waitingRoomContent,h=void 0===g?"":g;return d||console.warn("SetSwitcher is being used without `players`, please add it."),d&&t>=a.length?(0,s.jsx)(o.a1,{players:d,title:(0,s.jsx)(c.v,{pt:"Pronto!",en:"Done!"}),instruction:null!==u&&void 0!==u?u:l(m),children:h}):a[t]?null===(n=null===r||void 0===r?void 0:r[t])||void 0===n||n?a[t]:(0,s.jsx)("div",{}):(0,s.jsx)(i.gb,{})}}}]);
//# sourceMappingURL=510.4d3c02ca.chunk.js.map