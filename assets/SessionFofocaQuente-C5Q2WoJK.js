import{d3 as ze,a7 as vt,r as h,cf as Ve,a3 as He,X as g,c as A,cx as z,al as C,d4 as Q,g as yt,m as St,d5 as It,a as ke,am as pe,ap as Ue,aw as We,as as Ot,aM as he,d6 as Ye,cz as $t,u as wt,ca as Ct,c3 as _t,d7 as Et,az as J,d8 as Tt,f as F,j as e,T as d,e as q,q as Xe,B as I,a$ as fe,D as _,bc as O,d9 as Ae,bk as qe,l as Bt,aK as Z,bG as ge,n as V,H as Nt,I as Pt,aY as Rt,aW as Mt,aX as zt}from"./index-Cv4QE8fL.js";import{u as ee,c as xe,P as K,d as je,e as be,S as ve,a as ye,b as Qe,g as At,h as ae,i as qt,j as Ft}from"./StepSwitcher-Dxw9vo_-.js";import{P as Dt}from"./PhasePlaceholder-CXWvImip.js";import{L as Lt}from"./LawIcon-DF9e9rX6.js";import{S as Gt}from"./StepSelectPlayer-BOWsNvNQ.js";import{u as ie}from"./useWhichPlayerIsThe-BWEcFHRP.js";import{L as Vt}from"./LocationIcon-BmJwylny.js";import{P as Ht}from"./PeopleAssessmentIcon-ldXuCeCP.js";import{I as k}from"./Instruction-DjcHfDrP.js";import{V as kt}from"./ViewOr-DjfYJ4yp.js";import{C as Ut}from"./CheckMarkIcon-B_4g66Jr.js";import{R as W}from"./RuleInstruction-B2cqpzc3.js";import{T as Wt,a as Yt,u as Xt,R as Ze,b as Ke,c as Qt}from"./index.esm-C7WIidH0.js";import{u as Zt}from"./useTDBaseUrl-BF9foKiS.js";import{R as Kt}from"./CloseOutlined-CtiLEKRf.js";import{R as Jt,a as eo}from"./RotateRightOutlined-DQHLhKsk.js";/* empty css                             */import{I as to}from"./ImageCard-4M3zmEfW.js";import{a as oo}from"./useBlurCards-CY_WeUQc.js";import{C as Je}from"./index-D9XjZyB7.js";import{T as R}from"./DoubleRightOutlined-UZoL-GoT.js";import{D as no}from"./index-CEn2LyBF.js";import{R as le}from"./AimOutlined-Bc3NmnG1.js";import{V as so}from"./VerticalAlignTopOutlined-v_ZPtoJ9.js";import{s as ro,g as ao}from"./scrollTo-BZCxBy8z.js";import{B as io}from"./index-B9QQI9z-.js";import{R as lo}from"./BarChartOutlined-CykF7rL2.js";import{S as co}from"./index-BvttcvOb.js";import{T as uo}from"./TDIcon-CsMzmkvi.js";import"./speech-BoB5_Wzo.js";import"./useDevFeatures-CNKoJv0l.js";import"./RulesModal-BIdOPEFG.js";import"./WritingIcon-DUQXoZJl.js";import"./Game-Dp6RC-lQ.js";import"./WaitingRoomIcon-BMMq__xe.js";import"./AnimatedClockIcon-DPHujuvp.js";import"./useMutation-Cyt-mstu.js";import"./index-CrJzsnSl.js";import"./useBubbleLock-D2WHetRJ.js";import"./PurePanel-CJBE0-7h.js";import"./index-DVsTbh9-.js";import"./Avatar-BLRN-xHT.js";import"./GameBanner-BIl1q-vR.js";import"./index-DfAodAzM.js";import"./InfoCircleOutlined-C09FCIs3.js";import"./SignIn-B0Eu0Skm.js";import"./GoogleIcon-BZYYIft5.js";import"./Loading-Bkn7hsik.js";import"./AnimatedLoaderIcon-CUCA02Cw.js";import"./LikeFilled-C8ajn-Pn.js";import"./AvatarCard-2seB6GuZ.js";import"./StarFilled-a2JVfQPy.js";import"./StarFilled-CNctUIhy.js";import"./index-DhCMGkfd.js";import"./EllipsisOutlined-DXPpuPgu.js";import"./PlusOutlined-ByZyTB3m.js";import"./Overflow-CYna01Wl.js";import"./useEvent-yev6kO80.js";function mo(t){let o;const n=r=>()=>{o=null,t.apply(void 0,vt(r))},s=function(){if(o==null){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];o=ze(n(a))}};return s.cancel=()=>{ze.cancel(o),o=null},s}var po=function(o,n){return h.createElement(Ve,He({},o,{ref:n,icon:so}))},ho=h.forwardRef(po);const Se=g.createContext(void 0),{Provider:fo}=Se;var go={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}}]},name:"file-text",theme:"outlined"},xo=function(o,n){return h.createElement(Ve,He({},o,{ref:n,icon:go}))},et=h.forwardRef(xo),jo=function(t,o){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&o.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)o.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};const bo=t=>{const{icon:o,description:n,prefixCls:s,className:r}=t,a=jo(t,["icon","description","prefixCls","className"]),i=g.createElement("div",{className:`${s}-icon`},g.createElement(et,null));return g.createElement("div",Object.assign({},a,{className:A(r,`${s}-content`)}),o||n?g.createElement(g.Fragment,null,o&&g.createElement("div",{className:`${s}-icon`},o),n&&g.createElement("div",{className:`${s}-description`},n)):i)},vo=h.memo(bo),Fe=t=>t===0?0:t-Math.sqrt(Math.pow(t,2)/2),yo=t=>{const{componentCls:o,floatButtonSize:n,motionDurationSlow:s,motionEaseInOutCirc:r,calc:a}=t,i=new z("antFloatButtonMoveTopIn",{"0%":{transform:`translate3d(0, ${C(n)}, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),c=new z("antFloatButtonMoveTopOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(0, ${C(n)}, 0)`,transformOrigin:"0 0",opacity:0}}),m=new z("antFloatButtonMoveRightIn",{"0%":{transform:`translate3d(${C(a(n).mul(-1).equal())}, 0, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),p=new z("antFloatButtonMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(${C(a(n).mul(-1).equal())}, 0, 0)`,transformOrigin:"0 0",opacity:0}}),u=new z("antFloatButtonMoveBottomIn",{"0%":{transform:`translate3d(0, ${C(a(n).mul(-1).equal())}, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),l=new z("antFloatButtonMoveBottomOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(0, ${C(a(n).mul(-1).equal())}, 0)`,transformOrigin:"0 0",opacity:0}}),j=new z("antFloatButtonMoveLeftIn",{"0%":{transform:`translate3d(${C(n)}, 0, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),b=new z("antFloatButtonMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(${C(n)}, 0, 0)`,transformOrigin:"0 0",opacity:0}}),f=`${o}-group`;return[{[f]:{[`&${f}-top ${f}-wrap`]:Q(`${f}-wrap`,i,c,s,!0),[`&${f}-bottom ${f}-wrap`]:Q(`${f}-wrap`,u,l,s,!0),[`&${f}-left ${f}-wrap`]:Q(`${f}-wrap`,j,b,s,!0),[`&${f}-right ${f}-wrap`]:Q(`${f}-wrap`,m,p,s,!0)}},{[`${f}-wrap`]:{[`&${f}-wrap-enter, &${f}-wrap-appear`]:{opacity:0,animationTimingFunction:r},[`&${f}-wrap-leave`]:{opacity:1,animationTimingFunction:r}}}]},So=t=>{const{antCls:o,componentCls:n,floatButtonSize:s,margin:r,borderRadiusLG:a,borderRadiusSM:i,badgeOffset:c,floatButtonBodyPadding:m,zIndexPopupBase:p,calc:u}=t,l=`${n}-group`;return{[l]:Object.assign(Object.assign({},ke(t)),{zIndex:p,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:"none",position:"fixed",height:"auto",boxShadow:"none",minWidth:s,minHeight:s,insetInlineEnd:t.floatButtonInsetInlineEnd,bottom:t.floatButtonInsetBlockEnd,borderRadius:a,[`${l}-wrap`]:{zIndex:-1,display:"flex",justifyContent:"center",alignItems:"center",position:"absolute"},[`&${l}-rtl`]:{direction:"rtl"},[n]:{position:"static"}}),[`${l}-top > ${l}-wrap`]:{flexDirection:"column",top:"auto",bottom:u(s).add(r).equal(),"&::after":{content:'""',position:"absolute",width:"100%",height:r,bottom:u(r).mul(-1).equal()}},[`${l}-bottom > ${l}-wrap`]:{flexDirection:"column",top:u(s).add(r).equal(),bottom:"auto","&::after":{content:'""',position:"absolute",width:"100%",height:r,top:u(r).mul(-1).equal()}},[`${l}-right > ${l}-wrap`]:{flexDirection:"row",left:{_skip_check_:!0,value:u(s).add(r).equal()},right:{_skip_check_:!0,value:"auto"},"&::after":{content:'""',position:"absolute",width:r,height:"100%",left:{_skip_check_:!0,value:u(r).mul(-1).equal()}}},[`${l}-left > ${l}-wrap`]:{flexDirection:"row",left:{_skip_check_:!0,value:"auto"},right:{_skip_check_:!0,value:u(s).add(r).equal()},"&::after":{content:'""',position:"absolute",width:r,height:"100%",right:{_skip_check_:!0,value:u(r).mul(-1).equal()}}},[`${l}-circle`]:{gap:r,[`${l}-wrap`]:{gap:r}},[`${l}-square`]:{[`${n}-square`]:{padding:0,borderRadius:0,[`&${l}-trigger`]:{borderRadius:a},"&:first-child":{borderStartStartRadius:a,borderStartEndRadius:a},"&:last-child":{borderEndStartRadius:a,borderEndEndRadius:a},"&:not(:last-child)":{borderBottom:`${C(t.lineWidth)} ${t.lineType} ${t.colorSplit}`},[`${o}-badge`]:{[`${o}-badge-count`]:{top:u(u(m).add(c)).mul(-1).equal(),insetInlineEnd:u(u(m).add(c)).mul(-1).equal()}}},[`${l}-wrap`]:{borderRadius:a,boxShadow:t.boxShadowSecondary,[`${n}-square`]:{boxShadow:"none",borderRadius:0,padding:m,[`${n}-body`]:{width:t.floatButtonBodySize,height:t.floatButtonBodySize,borderRadius:i}}}},[`${l}-top > ${l}-wrap, ${l}-bottom > ${l}-wrap`]:{[`> ${n}-square`]:{"&:first-child":{borderStartStartRadius:a,borderStartEndRadius:a},"&:last-child":{borderEndStartRadius:a,borderEndEndRadius:a},"&:not(:last-child)":{borderBottom:`${C(t.lineWidth)} ${t.lineType} ${t.colorSplit}`}}},[`${l}-left > ${l}-wrap, ${l}-right > ${l}-wrap`]:{[`> ${n}-square`]:{"&:first-child":{borderStartStartRadius:a,borderEndStartRadius:a},"&:last-child":{borderStartEndRadius:a,borderEndEndRadius:a},"&:not(:last-child)":{borderInlineEnd:`${C(t.lineWidth)} ${t.lineType} ${t.colorSplit}`}}},[`${l}-circle-shadow`]:{boxShadow:"none"},[`${l}-square-shadow`]:{boxShadow:t.boxShadowSecondary,[`${n}-square`]:{boxShadow:"none",padding:m,[`${n}-body`]:{width:t.floatButtonBodySize,height:t.floatButtonBodySize,borderRadius:i}}}}},Io=t=>{const{antCls:o,componentCls:n,floatButtonBodyPadding:s,floatButtonIconSize:r,floatButtonSize:a,borderRadiusLG:i,badgeOffset:c,dotOffsetInSquare:m,dotOffsetInCircle:p,zIndexPopupBase:u,calc:l}=t;return{[n]:Object.assign(Object.assign({},ke(t)),{border:"none",position:"fixed",cursor:"pointer",zIndex:u,display:"block",width:a,height:a,insetInlineEnd:t.floatButtonInsetInlineEnd,bottom:t.floatButtonInsetBlockEnd,boxShadow:t.boxShadowSecondary,"&-pure":{position:"relative",inset:"auto"},"&:empty":{display:"none"},[`${o}-badge`]:{width:"100%",height:"100%",[`${o}-badge-count`]:{transform:"translate(0, 0)",transformOrigin:"center",top:l(c).mul(-1).equal(),insetInlineEnd:l(c).mul(-1).equal()}},[`${n}-body`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",transition:`all ${t.motionDurationMid}`,[`${n}-content`]:{overflow:"hidden",textAlign:"center",minHeight:a,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:`${C(l(s).div(2).equal())} ${C(s)}`,[`${n}-icon`]:{textAlign:"center",margin:"auto",width:r,fontSize:r,lineHeight:1}}}}),[`${n}-rtl`]:{direction:"rtl"},[`${n}-circle`]:{height:a,borderRadius:"50%",[`${o}-badge`]:{[`${o}-badge-dot`]:{top:p,insetInlineEnd:p}},[`${n}-body`]:{borderRadius:"50%"}},[`${n}-square`]:{height:"auto",minHeight:a,borderRadius:i,[`${o}-badge`]:{[`${o}-badge-dot`]:{top:m,insetInlineEnd:m}},[`${n}-body`]:{height:"auto",borderRadius:i}},[`${n}-default`]:{backgroundColor:t.floatButtonBackgroundColor,transition:`background-color ${t.motionDurationMid}`,[`${n}-body`]:{backgroundColor:t.floatButtonBackgroundColor,transition:`background-color ${t.motionDurationMid}`,"&:hover":{backgroundColor:t.colorFillContent},[`${n}-content`]:{[`${n}-icon`]:{color:t.colorText},[`${n}-description`]:{display:"flex",alignItems:"center",lineHeight:C(t.fontSizeLG),color:t.colorText,fontSize:t.fontSizeSM}}}},[`${n}-primary`]:{backgroundColor:t.colorPrimary,[`${n}-body`]:{backgroundColor:t.colorPrimary,transition:`background-color ${t.motionDurationMid}`,"&:hover":{backgroundColor:t.colorPrimaryHover},[`${n}-content`]:{[`${n}-icon`]:{color:t.colorTextLightSolid},[`${n}-description`]:{display:"flex",alignItems:"center",lineHeight:C(t.fontSizeLG),color:t.colorTextLightSolid,fontSize:t.fontSizeSM}}}}}},Oo=t=>({dotOffsetInCircle:Fe(t.controlHeightLG/2),dotOffsetInSquare:Fe(t.borderRadiusLG)}),tt=yt("FloatButton",t=>{const{colorTextLightSolid:o,colorBgElevated:n,controlHeightLG:s,marginXXL:r,marginLG:a,fontSize:i,fontSizeIcon:c,controlItemBgHover:m,paddingXXS:p,calc:u}=t,l=St(t,{floatButtonBackgroundColor:n,floatButtonColor:o,floatButtonHoverBackgroundColor:m,floatButtonFontSize:i,floatButtonIconSize:u(c).mul(1.5).equal(),floatButtonSize:s,floatButtonInsetBlockEnd:r,floatButtonInsetInlineEnd:a,floatButtonBodySize:u(s).sub(u(p).mul(2)).equal(),floatButtonBodyPadding:p,badgeOffset:u(p).mul(1.5).equal()});return[So(l),Io(l),It(t),yo(l)]},Oo);var $o=function(t,o){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&o.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)o.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};const te="float-btn",wo=g.forwardRef((t,o)=>{const{prefixCls:n,className:s,rootClassName:r,style:a,type:i="default",shape:c="circle",icon:m,description:p,tooltip:u,htmlType:l="button",badge:j={}}=t,b=$o(t,["prefixCls","className","rootClassName","style","type","shape","icon","description","tooltip","htmlType","badge"]),{getPrefixCls:f,direction:y}=h.useContext(pe),v=h.useContext(Se),S=f(te,n),x=Ue(S),[E,U,D]=tt(S,x),L=v||c,G=A(U,D,x,S,s,r,`${S}-${i}`,`${S}-${L}`,{[`${S}-rtl`]:y==="rtl"}),[w]=We("FloatButton",a==null?void 0:a.zIndex),$=Object.assign(Object.assign({},a),{zIndex:w}),T=Ot(j,["title","children","status","text"]);let N=g.createElement("div",{className:`${S}-body`},g.createElement(vo,{prefixCls:S,description:p,icon:m}));return"badge"in t&&(N=g.createElement(io,Object.assign({},T),N)),"tooltip"in t&&(N=g.createElement(he,{title:u,placement:y==="rtl"?"right":"left"},N)),E(t.href?g.createElement("a",Object.assign({ref:o},b,{className:G,style:$}),N):g.createElement("button",Object.assign({ref:o},b,{className:G,style:$,type:l}),N))}),B=wo;var Co=function(t,o){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&o.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)o.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};const ot=g.forwardRef((t,o)=>{const{prefixCls:n,className:s,type:r="default",shape:a="circle",visibilityHeight:i=400,icon:c=g.createElement(ho,null),target:m,onClick:p,duration:u=450}=t,l=Co(t,["prefixCls","className","type","shape","visibilityHeight","icon","target","onClick","duration"]),[j,b]=h.useState(i===0),f=g.useRef(null);g.useImperativeHandle(o,()=>({nativeElement:f.current}));const y=()=>{var w;return((w=f.current)===null||w===void 0?void 0:w.ownerDocument)||window},v=mo(w=>{const $=ao(w.target);b($>=i)});h.useEffect(()=>{const $=(m||y)();return v({target:$}),$==null||$.addEventListener("scroll",v),()=>{v.cancel(),$==null||$.removeEventListener("scroll",v)}},[m]);const S=w=>{ro(0,{getContainer:m||y,duration:u}),p==null||p(w)},{getPrefixCls:x}=h.useContext(pe),E=x(te,n),U=x(),L=h.useContext(Se)||a,G=Object.assign({prefixCls:E,icon:c,type:r,shape:L},l);return g.createElement(Ye,{visible:j,motionName:`${U}-fade`},(w,$)=>{let{className:T}=w;return g.createElement(B,Object.assign({ref:$t(f,$)},G,{onClick:S,className:A(s,T)}))})});var _o=function(t,o){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&o.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)o.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};const nt=t=>{var o;const{prefixCls:n,className:s,style:r,shape:a="circle",type:i="default",placement:c="top",icon:m=g.createElement(et,null),closeIcon:p,description:u,trigger:l,children:j,onOpenChange:b,open:f,onClick:y}=t,v=_o(t,["prefixCls","className","style","shape","type","placement","icon","closeIcon","description","trigger","children","onOpenChange","open","onClick"]),{direction:S,getPrefixCls:x,closeIcon:E}=wt("floatButtonGroup"),U=(o=p??E)!==null&&o!==void 0?o:g.createElement(Et,null),D=x(te,n),L=Ue(D),[G,w,$]=tt(D,L),T=`${D}-group`,N=l&&["click","hover"].includes(l),ut=c&&["top","left","right","bottom"].includes(c),mt=A(T,w,$,L,s,{[`${T}-rtl`]:S==="rtl",[`${T}-${a}`]:a,[`${T}-${a}-shadow`]:!N,[`${T}-${c}`]:N&&ut}),[pt]=We("FloatButton",r==null?void 0:r.zIndex),ht=Object.assign(Object.assign({},r),{zIndex:pt}),ft=A(w,`${T}-wrap`),[Y,gt]=Ct(!1,{value:f}),Re=g.useRef(null),Me=l==="hover",ne=l==="click",X=_t(P=>{Y!==P&&(gt(P),b==null||b(P))}),xt=()=>{Me&&X(!0)},jt=()=>{Me&&X(!1)},bt=P=>{ne&&X(!Y),y==null||y(P)};return g.useEffect(()=>{if(ne){const P=se=>{var re;!((re=Re.current)===null||re===void 0)&&re.contains(se.target)||X(!1)};return document.addEventListener("click",P,{capture:!0}),()=>document.removeEventListener("click",P,{capture:!0})}},[ne]),G(g.createElement(fo,{value:a},g.createElement("div",{ref:Re,className:mt,style:ht,onMouseEnter:xt,onMouseLeave:jt},N?g.createElement(g.Fragment,null,g.createElement(Ye,{visible:Y,motionName:`${T}-wrap`},P=>{let{className:se}=P;return g.createElement("div",{className:A(se,ft)},j)}),g.createElement(B,Object.assign({type:i,icon:Y?U:m,description:u,"aria-label":t["aria-label"],className:`${T}-trigger`,onClick:bt},v))):j)))};var st=function(t,o){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&o.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)o.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};const De=t=>{var{backTop:o}=t,n=st(t,["backTop"]);return o?h.createElement(ot,Object.assign({},n,{visibilityHeight:0})):h.createElement(B,Object.assign({},n))},Eo=t=>{var{className:o,items:n}=t,s=st(t,["className","items"]);const{prefixCls:r}=s,{getPrefixCls:a}=h.useContext(pe),c=`${a(te,r)}-pure`;return n?h.createElement(nt,Object.assign({className:A(o,c)},s),n.map((m,p)=>h.createElement(De,Object.assign({key:p},m)))):h.createElement(De,Object.assign({className:A(o,c)},s))};B.BackTop=ot;B.Group=nt;B._InternalPanelDoNotUseOrYouWillBeFired=Eo;var To={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 128c-212.1 0-384 171.9-384 384v360c0 13.3 10.7 24 24 24h184c35.3 0 64-28.7 64-64V624c0-35.3-28.7-64-64-64H200v-48c0-172.3 139.7-312 312-312s312 139.7 312 312v48H688c-35.3 0-64 28.7-64 64v208c0 35.3 28.7 64 64 64h184c13.3 0 24-10.7 24-24V512c0-212.1-171.9-384-384-384zM328 632v192H200V632h128zm496 192H696V632h128v192z"}}]},name:"customer-service",theme:"outlined"},Bo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.7L639.4 73.4c-6-6-14.2-9.4-22.7-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.6-9.4-22.6zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM402 549c0 5.4 4.4 9.5 9.8 9.5h32.4c5.4 0 9.8-4.2 9.8-9.4 0-28.2 25.8-51.6 58-51.6s58 23.4 58 51.5c0 25.3-21 47.2-49.3 50.9-19.3 2.8-34.5 20.3-34.7 40.1v32c0 5.5 4.5 10 10 10h32c5.5 0 10-4.5 10-10v-12.2c0-6 4-11.5 9.7-13.3 44.6-14.4 75-54 74.3-98.9-.8-55.5-49.2-100.8-108.5-101.6-61.4-.7-111.5 45.6-111.5 103zm78 195a32 32 0 1064 0 32 32 0 10-64 0z"}}]},name:"file-unknown",theme:"outlined"},No={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M920 760H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-568H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM216 712H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h72.4v20.5h-35.7c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h35.7V838H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4V716c0-2.2-1.8-4-4-4zM100 188h38v120c0 2.2 1.8 4 4 4h40c2.2 0 4-1.8 4-4V152c0-4.4-3.6-8-8-8h-78c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4zm116 240H100c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4h68.4l-70.3 77.7a8.3 8.3 0 00-2.1 5.4V592c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4v-36c0-2.2-1.8-4-4-4h-68.4l70.3-77.7a8.3 8.3 0 002.1-5.4V432c0-2.2-1.8-4-4-4z"}}]},name:"ordered-list",theme:"outlined"};function ce(){return ce=Object.assign?Object.assign.bind():function(t){for(var o=1;o<arguments.length;o++){var n=arguments[o];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ce.apply(this,arguments)}const Po=(t,o)=>h.createElement(J,ce({},t,{ref:o,icon:To})),Ro=h.forwardRef(Po);function de(){return de=Object.assign?Object.assign.bind():function(t){for(var o=1;o<arguments.length;o++){var n=arguments[o];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},de.apply(this,arguments)}const Mo=(t,o)=>h.createElement(J,de({},t,{ref:o,icon:Bo})),zo=h.forwardRef(Mo);function ue(){return ue=Object.assign?Object.assign.bind():function(t){for(var o=1;o<arguments.length;o++){var n=arguments[o];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ue.apply(this,arguments)}const Ao=(t,o)=>h.createElement(J,ue({},t,{ref:o,icon:No})),qo=h.forwardRef(Ao);function me(){return me=Object.assign?Object.assign.bind():function(t){for(var o=1;o<arguments.length;o++){var n=arguments[o];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},me.apply(this,arguments)}const Fo=(t,o)=>h.createElement(J,me({},t,{ref:o,icon:Tt})),Le=h.forwardRef(Fo),H={ROLES_SELECTION:"ROLES_SELECTION",BOARD_SETUP:"BOARD_SETUP",INTIMIDATION:"INTIMIDATION"},oe={SUBMIT_PLAYERS_ROLES:"SUBMIT_PLAYERS_ROLES",SUBMIT_SOCIAL_GROUP:"SUBMIT_SOCIAL_GROUP",SUBMIT_INTIMIDATION:"SUBMIT_INTIMIDATION",UPDATE_DETECTIVE_POSITION:"UPDATE_DETECTIVE_POSITION"},Ie={junior:15,sophomore:16,senior:17},Oe={short:{en:"Short",pt:"Baixa"},medium:{en:"Medium",pt:"Média"},tall:{en:"Tall",pt:"Alta"}},$e={small:{en:"Small",pt:"Pequeno"},medium:{en:"Medium",pt:"Mediano"},large:{en:"Large",pt:"Grande"}},we={female:{en:"Female",pt:"Feminino"},male:{en:"Male",pt:"Masculino"},both:{en:"Non-binary",pt:"Não-binário"}},rt={INTIMIDATE:"INTIMIDATE"};function Do(t){const{translate:o}=F(),n=ee({actionName:"submit-player-roles",onSuccess:()=>t(2),onError:()=>t(0),successMessage:o("Ação submetida com sucesso","Action submitted successfully"),errorMessage:o("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return s=>{n({action:oe.SUBMIT_PLAYERS_ROLES,...s})}}function Lo(){const{translate:t}=F(),o=ee({actionName:"submit-social-group",successMessage:t("Ação submetida com sucesso","Action submitted successfully"),errorMessage:t("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return n=>{o({action:oe.SUBMIT_SOCIAL_GROUP,...n})}}function Go(){const{translate:t}=F(),o=ee({actionName:"update-detective-location",successMessage:t("Ação submetida com sucesso","Action submitted successfully"),errorMessage:t("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return n=>{o({action:oe.UPDATE_DETECTIVE_POSITION,...n})}}function Vo(){const{translate:t}=F(),o=ee({actionName:"submit-intimidation",successMessage:t("Ação submetida com sucesso","Action submitted successfully"),errorMessage:t("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return n=>{o({action:oe.SUBMIT_INTIMIDATION,...n})}}function Ho({players:t,state:o}){var p;const{step:n,setStep:s}=xe(),r=Do(s),a=u=>{var j;const l=((j=Object.values(t).find(b=>b.id!==u))==null?void 0:j.id)??"";r({gossiperPlayerId:u,detectivePlayerId:l})},i=e.jsx(K,{icon:e.jsx(Lt,{}),title:e.jsx(d,{pt:"Quem quer ser o fofoqueiro?",en:"Who will be the gossiper?"}),currentRound:(p=o==null?void 0:o.round)==null?void 0:p.current,type:"overlay",duration:4}),c=e.jsx(d,{pt:"Quem quer ser o fofoqueiro?",en:"Who will be the gossiper?"}),m=e.jsx(d,{en:e.jsx(e.Fragment,{children:"The gossiper will have to intimidate students and spread rumors about them while the detective tries to figure out who the gossiper is."}),pt:e.jsx(e.Fragment,{children:"O fofoqueiro terá que intimidar estudantes e espalhar rumores sobre eles enquanto o detetive tenta descobrir quem é o fofoqueiro."})});return e.jsx(je,{phase:o==null?void 0:o.phase,allowedPhase:H.ROLES_SELECTION,children:e.jsx(be,{step:n,players:t,children:e.jsx(Gt,{players:t,announcement:i,titleProps:{children:e.jsx(e.Fragment,{children:c}),size:"small"},ruleInstructionProps:{children:e.jsx(e.Fragment,{children:m}),type:"lore"},onSubmitPlayer:a})})})}function at(t){return h.useMemo(()=>{const o={},n={},s={},r={},a={};return Object.values(t).forEach(({gender:i,age:c,build:m,height:p,socialGroupId:u})=>{o[i]=(o[i]??0)+1,n[m]=(n[m]??0)+1,s[p]=(s[p]??0)+1,r[c]=(r[c]??0)+1,a[u]=(a[u]??0)+1}),{gendersDict:o,buildsDict:n,heightsDict:s,agesDict:r,socialGroupsDict:a}},[t])}function ko({maxWidth:t,maxHeight:o,children:n,transformWrapperProps:s,hideControls:r=!1,contentStyle:a={},wrapperClassName:i,contentClassName:c}){const{initialScale:m=1,minScale:p=.25,maxScale:u=4,wheel:l={step:.5},centerOnInit:j=!0,...b}=s??{};return e.jsx(Wt,{initialScale:m,minScale:p,maxScale:u,wheel:l,centerOnInit:j,...b,children:e.jsxs(h.Fragment,{children:[!r&&e.jsx(Ge,{position:"top"}),e.jsx(Yt,{wrapperClass:q("zoom-pan-pinch-wrapper",i),wrapperStyle:{maxWidth:t,maxHeight:o},contentClass:q("zoom-pan-pinch-content",c),contentStyle:a,children:e.jsx("div",{style:{maxWidth:t,maxHeight:o},children:n})}),!r&&e.jsx(Ge,{position:"bottom"})]})})}function Ge({position:t}){const{zoomIn:o,zoomOut:n,resetTransform:s}=Xt();return e.jsxs(Xe.Compact,{size:"small",className:q("zoom-pan-pinch-controls",`zoom-pan-pinch-controls--${t}`),children:[e.jsx(I,{onClick:()=>o(),children:e.jsx(Ze,{})}),e.jsx(I,{onClick:()=>n(),children:e.jsx(Ke,{})}),e.jsx(I,{onClick:()=>s(),children:e.jsx(Qt,{})})]})}const Uo="/tardedivertida/assets/student-icons-Dw5W8zN6.svg";function M({iconId:t,tooltip:o,...n}){return e.jsx(he,{title:o&&e.jsx(_,{children:o}),children:e.jsx(fe,{shape:"square",...n,src:e.jsx("svg",{viewBox:"0 0 512 512",style:{width:"32px",height:"32px"},children:e.jsx("use",{href:`${Uo}#${t}`})})})})}function it({socialGroup:t,size:o}){return e.jsx(M,{iconId:t.id,tooltip:t.name,style:{backgroundColor:t.colors.primary},shape:"circle",size:o})}function Ce({gender:t,size:o}){const n=we[t];return e.jsx(M,{iconId:t,shape:"circle",size:o,tooltip:{en:`Gender ${n.en}`,pt:`Gênero ${n.pt}`},className:q("student-icon__gender",`student-icon__gender--${t}`)})}function _e({age:t,size:o}){const n=Ie[t];return e.jsx(he,{title:e.jsx(d,{en:`Age ${n} years old`,pt:`Idade ${n} anos`}),children:e.jsx(fe,{className:q("student-icon__age",`student-icon__age--${t}`),shape:"circle",size:o,children:n})})}function Ee({build:t,size:o}){const n=$e[t];return e.jsx(M,{iconId:`build-${t}`,shape:"circle",size:o,tooltip:{en:`Build ${n.en}`,pt:`Corpo ${n.pt}`},className:q("student-icon__build",`student-icon__build--${t}`)})}function Te({height:t,size:o}){const n=Oe[t];return e.jsx(M,{iconId:`height-${t}`,shape:"circle",size:o,tooltip:{en:`Height ${n.en}`,pt:`Altura ${n.pt}`},className:q("student-icon__height",`student-icon__height--${t}`)})}function lt({student:t,socialGroup:o,showInfo:n,className:s}){var c;const r=Zt("images"),a=t.id.replace(/-/g,"/"),{translate:i}=F();return e.jsx("div",{className:q("student-card",{"student-card--intimidated":t.intimidated},s),style:{backgroundImage:`url(${r}/${a}.jpg)`,backgroundSize:"cover",backgroundPosition:"center",borderColor:(c=o==null?void 0:o.colors)==null?void 0:c.primary},children:n&&e.jsxs("div",{className:"student-card__info",children:[e.jsxs(O,{gap:2,align:"center",vertical:!0,className:"student-card__icons",children:[e.jsx(it,{socialGroup:o,size:"small"}),e.jsx(Ce,{gender:t.gender,size:"small"}),e.jsx(_e,{age:t.age,size:"small"}),e.jsx(Ee,{build:t.build,size:"small"}),e.jsx(Te,{height:t.height,size:"small"})]}),e.jsx("div",{className:"student-card__name",children:i(t.name.pt,t.name.en).split(" ")[0]})]})})}const ct=({children:t,onClose:o,open:n})=>{const[s,r]=h.useState(1),[a,i]=h.useState(0),[c,m]=h.useState(!1),[p,u]=h.useState(!1),l=()=>r(x=>Math.min(x+.1,2)),j=()=>r(x=>Math.max(x-.1,.5)),b=()=>i(x=>x-45),f=()=>i(x=>x+45),y=()=>m(x=>!x),v=()=>u(x=>!x);if(!n)return null;const S=x=>{x.target===x.currentTarget&&o()};return e.jsx(Ae,{children:e.jsx(qe.div,{className:"simple-modal-overlay",onClick:S,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.1},children:e.jsx(Ae,{children:e.jsxs(qe.div,{className:"simple-modal-overlay__content",initial:{opacity:0,scale:.85},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.3},transition:{duration:.05},children:[e.jsx(I,{shape:"circle",size:"large",ghost:!0,variant:"outlined",className:"simple-modal-overlay__close",onClick:o,icon:e.jsx(Kt,{})}),e.jsx("div",{className:"simple-modal-overlay__body",style:{transform:`scale(${s}) rotate(${a}deg) scaleX(${c?-1:1}) scaleY(${p?-1:1})`},children:t}),e.jsx("div",{className:"simple-modal-overlay__controls-container",children:e.jsxs(Xe.Compact,{className:"simple-modal-overlay__controls",children:[e.jsx(I,{onClick:l,ghost:!0,icon:e.jsx(Ze,{})}),e.jsx(I,{onClick:j,ghost:!0,icon:e.jsx(Ke,{})}),e.jsx(I,{onClick:b,ghost:!0,icon:e.jsx(Jt,{})}),e.jsx(I,{onClick:f,ghost:!0,icon:e.jsx(eo,{})}),e.jsx(I,{onClick:y,ghost:!0,icon:e.jsx(Le,{})}),e.jsx(I,{onClick:v,ghost:!0,icon:e.jsx(Le,{style:{rotate:"90deg"}})})]})})]})})})})};function Wo({id:t,staffMembers:o}){const n=o[t],[s,r]=oo(!1);return e.jsxs("div",{className:"staff-member",children:[e.jsx(I,{onClick:r,size:"small",icon:e.jsx(M,{iconId:n.type}),type:"text"}),e.jsx(Yo,{staffMember:n,open:s,onClose:r})]})}function Yo({staffMember:t,open:o,onClose:n}){return e.jsx(ct,{onClose:n,open:o,children:e.jsx(Je,{children:e.jsxs("div",{className:"student-details",children:[e.jsx(to,{id:t.id}),e.jsxs("div",{children:[e.jsxs("div",{className:"student-details__name",children:[e.jsx(M,{iconId:t.type})," ",e.jsx(_,{children:t.name})]}),e.jsxs("div",{className:"student-details__title",children:[e.jsx(R,{color:"blue-inverse",children:e.jsx(d,{en:"Action for the Detective",pt:"Ação para o Detetive"})}),e.jsx(_,{children:t.description})]})]})]})})})}const Xo="/tardedivertida/assets/school-board-QFBmmufZ.jpg";function Be({schoolBoard:t,students:o,socialGroups:n,selectStudent:s,staff:r}){return e.jsx(ko,{maxWidth:256*4,transformWrapperProps:{minScale:.5,maxScale:2,smooth:!0},children:e.jsx("div",{className:"school-board",style:{backgroundImage:`url(${Xo})`,backgroundSize:"cover",backgroundPosition:"center",width:4*256,height:4*256,gridTemplateColumns:"repeat(4, 250px)",gridTemplateRows:"repeat(4, 250px)"},children:t.map(i=>e.jsxs("div",{className:"school-location",children:[e.jsxs("div",{className:"school-location__header",children:[e.jsx("div",{className:"school-location__name",children:e.jsx(_,{children:i.name})}),i.staff&&e.jsxs("div",{className:"school-location__staff-member",children:[e.jsx(Wo,{id:i.staff,staffMembers:r})," "]})]}),e.jsx("div",{className:"school-location__students",children:i.students.map(c=>e.jsx(Bt,{onClick:()=>s(c),hoverType:"tint",className:"school-location__student-button",children:e.jsx(lt,{student:o[c],socialGroup:n[o[c].socialGroupId],showInfo:!0},c)},c))}),e.jsx("div",{className:"school-location__footer",children:"D"})]},i.id))})})}function Ne({student:t,socialGroups:o,gossiperId:n,bestFriendId:s,closeModal:r,showSecrets:a,actionType:i,onPerformAction:c}){const m=o[t.socialGroupId];return e.jsx(ct,{onClose:r,open:!0,children:e.jsx(Je,{children:e.jsxs("div",{className:"student-details",children:[e.jsx(lt,{student:t,socialGroup:o[t.socialGroupId],className:"student-details__student-card"}),e.jsxs("div",{children:[e.jsxs("div",{className:"student-details__header",children:[e.jsxs("div",{className:"student-details__identification",children:[e.jsx("div",{className:"student-details__name",children:e.jsx(_,{children:t.name})}),e.jsx("div",{className:"student-details__title",children:e.jsx(_,{children:t.title})}),e.jsxs(O,{align:"center",className:"student-details__social-group",children:[e.jsx(M,{iconId:t.socialGroupId,tooltip:{en:"Social Group",pt:"Grupo Social"},style:{backgroundColor:m.colors.primary},shape:"circle",size:"large"}),e.jsx(R,{color:m.colors.primary,className:"student-details__social-group-name",bordered:!0,children:e.jsx(_,{children:m.name})})]})]}),e.jsxs(O,{gap:6,vertical:!0,className:"student-details__icons",children:[e.jsxs("span",{children:[e.jsx(_,{children:we[t.gender]})," ",e.jsx(Ce,{gender:t.gender})]}),e.jsxs("span",{children:[Ie[t.age]," ",e.jsx(d,{en:"years old",pt:"anos"})," ",e.jsx(_e,{age:t.age})]}),e.jsxs("span",{children:[e.jsx(_,{children:$e[t.build]})," ",e.jsx(Ee,{build:t.build})]}),e.jsxs("span",{children:[e.jsx(_,{children:Oe[t.height]})," ",e.jsx(Te,{height:t.height})]})]})]}),e.jsx(no,{}),e.jsx(O,{vertical:!0,gap:3,className:"student-details__secrets",children:t.intimidated&&e.jsx(Z,{message:e.jsx(d,{en:"This student has been intimidated. They cannot be questioned unless the detective first comfort them",pt:"Esse estudante está intimidado. Ele(a) não pode ser questionado(a) a menos que o detetive o(a) console primeiro"}),showIcon:!0,icon:e.jsx(M,{iconId:"intimidated"}),banner:!0})}),a&&e.jsxs(O,{vertical:!0,gap:3,className:"student-details__secrets",children:[t.id===n&&e.jsx(Z,{message:e.jsx(d,{en:"This student is the gossiper",pt:"Esse estudante é o fofoqueiro"}),type:"error",showIcon:!0,banner:!0}),t.id===s&&e.jsx(Z,{message:e.jsx(d,{en:"This student is the best friend",pt:"Esse estudante é o melhor amigo"}),type:"warning",showIcon:!0,banner:!0}),t.canLie&&e.jsx(Z,{message:e.jsx(d,{en:"This student can lie for you",pt:"Esse estudante pode mentir"}),type:"info",showIcon:!0,banner:!0})]}),i===rt.INTIMIDATE&&Qo(t)&&e.jsx(O,{justify:"center",children:e.jsx(ge,{onClick:()=>c==null?void 0:c(t.id),type:"primary",size:"large",block:!0,children:e.jsx(d,{en:"Intimidate",pt:"Intimidar"})})})]})]})})})}const Qo=t=>!t.rumored&&!t.intimidated;function Pe({students:t,socialGroups:o}){const{language:n}=F(),s=at(t),r=h.useMemo(()=>({ages:V.orderBy(Object.entries(s.agesDict).map(([a,i])=>({id:a,label:Ie[a],count:i})),"label","asc"),builds:V.orderBy(Object.entries(s.buildsDict).map(([a,i])=>({id:a,label:$e[a],count:i})),`label.${n}`,"asc"),genders:V.orderBy(Object.entries(s.gendersDict).map(([a,i])=>({id:a,label:we[a],count:i})),`label.${n}`,"asc"),heights:V.orderBy(Object.entries(s.heightsDict).map(([a,i])=>({id:a,label:Oe[a],count:i})),`label.${n}`,"asc"),socialGroups:V.orderBy(Object.entries(s.socialGroupsDict).map(([a,i])=>({id:a,label:o[a].name,count:i})),`label.${n}`,"asc")}),[s,n,o]);return e.jsxs("div",{className:"board-summary",children:[e.jsx(Nt.Title,{level:4,children:e.jsx(d,{en:"Summary",pt:"Resumo"})}),e.jsxs("div",{className:"board-summary__data",children:[e.jsxs(O,{vertical:!0,gap:3,children:[e.jsx("div",{className:"board-summary__label",children:e.jsx(d,{en:"Social Groups",pt:"Grupos Sociais"})}),r.socialGroups.map(({id:a,label:i,count:c})=>e.jsxs("div",{children:[e.jsx(it,{socialGroup:o[a]})," ",c]},i.en))]}),e.jsxs(O,{vertical:!0,gap:6,children:[e.jsx("div",{className:"board-summary__label",children:e.jsx(d,{en:"Genders",pt:"Gêneros"})}),e.jsx(O,{vertical:!0,gap:3,children:r.genders.map(({id:a,count:i})=>e.jsxs("span",{children:[e.jsx(Ce,{gender:a,size:"small"})," ",i]},a))}),e.jsx("div",{className:"board-summary__label",children:e.jsx(d,{en:"Ages",pt:"Idades"})}),e.jsx(O,{vertical:!0,gap:3,children:r.ages.map(({id:a,count:i})=>e.jsxs("span",{children:[e.jsx(_e,{age:a,size:"small"})," ",i]},a))})]}),e.jsxs(O,{vertical:!0,gap:6,children:[e.jsx("div",{className:"board-summary__label",children:e.jsx(d,{en:"Builds",pt:"Corpos"})}),e.jsx(O,{vertical:!0,gap:3,children:r.builds.map(({id:a,count:i})=>e.jsxs("span",{children:[e.jsx(Ee,{build:a,size:"small"})," ",i]},a))}),e.jsx("div",{className:"board-summary__label",children:e.jsx(d,{en:"Alturas",pt:"Heights"})}),e.jsx(O,{vertical:!0,gap:3,children:r.heights.map(({id:a,count:i})=>e.jsxs("span",{children:[e.jsx(Te,{height:a,size:"small"})," ",i]},a))})]})]})]})}function Zo({students:t,gossiperId:o,bestFriendId:n,motivation:s,onOpenStudentModal:r}){return e.jsxs(e.Fragment,{children:[e.jsxs(W,{type:"lore",className:"text-left",children:[e.jsx(d,{en:"You are the gossiper and must spread rumors about 5 of your classmates, one round at a time.",pt:"Você é o fofoqueiro e deve espalhar boatos sobre 5 de seus colegas de classe, uma vez por rodada."}),e.jsx("br",{}),e.jsx(R,{color:"red",children:e.jsx(d,{en:"You",pt:"Você"})})," ",e.jsx(I,{size:"small",onClick:()=>r(o),icon:e.jsx(le,{}),children:e.jsx(_,{children:t[o].name})}),n&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx(d,{en:"You have a best friend that will lie for you if needed.",pt:"Você tem um melhor amigo que mentirá por você se necessário."}),e.jsx("br",{}),e.jsx(R,{color:"orange",children:e.jsx(d,{en:"Best Friend",pt:"Melhor Amigo"})})," ",e.jsx(I,{size:"small",onClick:()=>r(n),icon:e.jsx(le,{}),children:e.jsx(_,{children:t[n].name})})]})]}),e.jsxs(W,{type:"event",className:"text-left",children:[e.jsx(d,{en:"Your motivation determines how you can spread gossip and figuring it out is one of the Detective's goals.",pt:"Sua motivação determina como você pode espalhar boatos e descobri-la é um dos objetivos do Detetive."}),e.jsx("br",{}),e.jsxs("span",{children:[e.jsx(R,{color:"blue",children:e.jsx(d,{en:"Motivation",pt:"Motivação"})})," ",e.jsx(_,{children:s.title}),":"," ",e.jsx("i",{children:e.jsx(_,{children:s.description})})]}),e.jsx("br",{})]})]})}function Ko({user:t,announcement:o,schoolBoard:n,socialGroups:s,students:r,gossiperId:a,bestFriendId:i,staff:c,motivations:m,gossiperMotivationIndex:p,onSubmitAssociatedSocialGroup:u}){var x;const[l,j]=h.useState(null),b=m[p],[f,y]=h.useState(null),v=at(r),S=()=>{f&&u({associatedSocialGroupId:f})};return e.jsxs(ve,{fullWidth:!0,announcement:o,children:[e.jsx(ye,{children:e.jsx(d,{pt:e.jsx(e.Fragment,{children:"Preparando a escola"}),en:e.jsx(e.Fragment,{children:"Setting up the school"})})}),e.jsx(Be,{schoolBoard:n,students:r,socialGroups:s,selectStudent:j,staff:c}),e.jsx(k,{contained:!0,children:e.jsxs(O,{justify:"center",children:[e.jsx(Pe,{students:r,socialGroups:s}),e.jsxs("div",{children:[e.jsx(Zo,{motivation:b,students:r,gossiperId:a,bestFriendId:i,onOpenStudentModal:y}),e.jsxs(W,{type:"action",className:"text-left",children:[e.jsx(d,{en:"To help you with your chaos, select one of these social groups to be associated with you. They also will be able to lie for you. The numbers are how many students are in each group.",pt:"Para te ajudar com seu caos, selecione um desses grupos sociais para ser associado a você. Eles também poderão mentir por você. Os números são quantos alunos estão em cada grupo."}),e.jsx("br",{}),e.jsx(O,{gap:8,children:(x=t==null?void 0:t.socialGroupOptions)==null?void 0:x.map(E=>e.jsxs(I,{onClick:()=>y(E),icon:e.jsx(Pt,{icon:f===E?e.jsx(Ut,{}):e.jsx(M,{iconId:E})}),type:f===E?"default":"dashed",style:{background:s[E].colors.primary,color:"white"},children:[e.jsx(_,{children:s[E].name})," ",e.jsx(fe,{size:"small",children:v.socialGroupsDict[E]})]},E))}),e.jsx("br",{}),f&&e.jsx(ge,{onClick:S,block:!0,disabled:!f||!!t.associatedSocialGroupId,children:e.jsx(d,{en:"Submit",pt:"Enviar"})})]})]})]})}),l&&e.jsx(Ne,{student:r[l],socialGroups:s,gossiperId:a,bestFriendId:i,closeModal:()=>j(null),showSecrets:t.role==="gossiper"})]})}function dt({bestFriendId:t}){return e.jsxs(W,{type:"lore",className:"text-left",children:[e.jsx(d,{en:e.jsxs(e.Fragment,{children:["You are detective and must ",e.jsx("strong",{children:"find out which student is the gossiper"}),"."]}),pt:e.jsxs(e.Fragment,{children:["Você é o detetive e deve descobrir ",e.jsx("strong",{children:"qual aluno é o fofoqueiro."})]})}),e.jsx("br",{}),e.jsx(R,{color:"red",children:e.jsx(d,{en:"Gossiper",pt:"Fofoqueiro"})})," ",e.jsx(I,{size:"small",children:"?"}),e.jsx("br",{}),e.jsx(d,{en:e.jsxs(e.Fragment,{children:["You will also need to figure out ",e.jsx("strong",{children:"which of the 6 motivations"})," the gossiper has."]}),pt:e.jsxs(e.Fragment,{children:["Você também precisará descobrir ",e.jsx("strong",{children:"qual das 6 motivações"})," o fofoqueiro tem."]})}),e.jsx("br",{}),e.jsx(R,{color:"red",children:e.jsx(d,{en:"Motivation",pt:"Motivação"})})," ",e.jsx(I,{size:"small",children:"?"}),t&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx(d,{en:"The gossiper also has a best friend who will lie for them. You don't need to figure out who it is, but keep it in mind.",pt:"O fofoqueiro também tem um melhor amigo que mentirá por ele. Você não precisa descobrir quem é, mas mantenha isso em mente."}),e.jsx("br",{}),e.jsx(R,{color:"orange",children:e.jsx(d,{en:"Best Friend",pt:"Melhor Amigo"})})," ",e.jsx(I,{size:"small",children:"-"})]}),e.jsx("br",{}),e.jsx(d,{en:"The gossiper will also have an allied social group that could lie for them.",pt:"O fofoqueiro também terá um grupo social aliado que poderá mentir por ele."}),e.jsx("br",{}),e.jsx(R,{color:"orange",children:e.jsx(d,{en:"Allied Social Group",pt:"Grupo Social Aliado"})})," ",e.jsx(I,{size:"small",children:"-"})]})}function Jo(){return e.jsxs(B.Group,{trigger:"hover",type:"primary",shape:"square",icon:e.jsx(Ro,{}),children:[e.jsx(B,{tooltip:e.jsx(d,{en:"Game Phases",pt:"Fases do Jogo"}),icon:e.jsx(qo,{})}),e.jsx(B,{tooltip:e.jsx(d,{en:"Board Summary",pt:"Resumo"}),icon:e.jsx(lo,{})}),e.jsx(B,{tooltip:e.jsx(d,{en:"Motivations",pt:"Motivações"}),icon:e.jsx(le,{})}),e.jsx(B,{tooltip:e.jsx(d,{en:"Questions",pt:"Sugestões de Perguntas"}),icon:e.jsx(zo,{})}),e.jsx(B,{tooltip:e.jsx(d,{en:"Notebook",pt:"Blocos de Notas"})})]})}function en({user:t,announcement:o,schoolBoard:n,socialGroups:s,students:r,gossiperId:a,bestFriendId:i,staff:c,onSubmitDetectiveLocation:m}){const{dualTranslate:p}=F(),[u,l]=h.useState(null),[j,b]=h.useState(null),f=()=>{j!==null&&m({locationId:j,shouldReady:!0})},y=V.orderBy(n.map((S,x)=>({label:p(S.name),value:x})),"label"),v=t.locationId!==null&&t.locationId!==void 0;return e.jsxs(ve,{fullWidth:!0,announcement:o,children:[e.jsx(ye,{children:e.jsx(d,{pt:e.jsx(e.Fragment,{children:"Preparando a escola"}),en:e.jsx(e.Fragment,{children:"Setting up the school"})})}),e.jsx(Jo,{}),e.jsx(Be,{schoolBoard:n,students:r,socialGroups:s,selectStudent:l,staff:c}),e.jsx(k,{contained:!0,children:e.jsxs(O,{justify:"center",children:[e.jsx(Pe,{students:r,socialGroups:s}),e.jsxs("div",{children:[e.jsx(dt,{bestFriendId:i}),e.jsxs(W,{type:"action",className:"text-left",children:[e.jsx(d,{en:"To start the game, first select which location on the school map you want to start.",pt:"Para começar o jogo, primeiro selecione em qual localização do mapa da escola você quer começar."}),e.jsx("br",{}),e.jsx(co,{options:y,onChange:b,placeholder:e.jsx(d,{en:"Select a location",pt:"Selecione um local"}),style:{width:200},disabled:v}),e.jsx("br",{}),j!==null&&e.jsx(ge,{onClick:f,block:!0,disabled:v,children:e.jsx(d,{en:"Submit",pt:"Enviar"})})]})]})]})}),u&&e.jsx(Ne,{student:r[u],socialGroups:s,gossiperId:a,bestFriendId:i,closeModal:()=>l(null),showSecrets:t.role==="gossiper"})]})}function tn({players:t,state:o}){var p,u;const n=Qe(t,o),{step:s}=xe(),[,r]=ie("gossiperPlayerId",o,t),a=Lo(),i=Go(),c=e.jsx(K,{icon:e.jsx(Ht,{}),title:e.jsx(d,{pt:"Quem são seus aliados",en:"Who are your allies?"}),currentRound:(p=o==null?void 0:o.round)==null?void 0:p.current,type:"overlay",children:e.jsx(k,{children:e.jsx(d,{en:"After looking what character you are, select one of 3 social groups to be your allies and eventually lie for you",pt:"Depois de ver qual personagem você é, selecione um dos 3 grupos sociais para serem seus aliados e eventualmente mentirem por você"})})}),m=e.jsx(K,{icon:e.jsx(Vt,{}),title:e.jsx(d,{pt:"Onde você começa investigando?",en:"Where do you start investigating?"}),currentRound:(u=o==null?void 0:o.round)==null?void 0:u.current,type:"overlay",children:e.jsx(k,{children:e.jsx(d,{en:"Select one location as your starting position",pt:"Selecione uma localização como sua posição inicial"})})});return e.jsx(je,{phase:o==null?void 0:o.phase,allowedPhase:H.BOARD_SETUP,children:e.jsx(be,{step:s,players:t,children:e.jsxs(kt,{condition:r,children:[e.jsx(Ko,{user:n,players:t,announcement:c,schoolBoard:o.schoolBoard,students:o.students,socialGroups:o.socialGroups,gossiperId:o.gossiperId,bestFriendId:o.bestFriendId,staff:o.staff,motivations:o.motivations,gossiperMotivationIndex:o.gossiperMotivationIndex,onSubmitAssociatedSocialGroup:a}),e.jsx(en,{user:n,players:t,announcement:m,schoolBoard:o.schoolBoard,students:o.students,socialGroups:o.socialGroups,gossiperId:o.gossiperId,bestFriendId:o.bestFriendId,staff:o.staff,motivations:o.motivations,onSubmitDetectiveLocation:i})]})})})}function on({user:t,announcement:o,schoolBoard:n,socialGroups:s,students:r,gossiperId:a,bestFriendId:i,staff:c,onSubmitIntimidation:m,isTheGossiperPlayer:p}){const[u,l]=h.useState(null),[j,b]=h.useState(0),f=h.useMemo(()=>Object.values(r).filter(v=>!v.rumored&&!v.intimidated).length,[r]),y=v=>{b(j+1),m({intimidatedStudentId:v,shouldGoToTheNextPhase:j>=f})};return e.jsxs(ve,{fullWidth:!0,announcement:o,children:[e.jsx(ye,{children:e.jsx(d,{pt:e.jsx(e.Fragment,{children:"Intimidação de dois estudantes"}),en:e.jsx(e.Fragment,{children:"Intimidating two students"})})}),e.jsx(Be,{schoolBoard:n,students:r,socialGroups:s,selectStudent:l,staff:c}),e.jsx(k,{contained:!0,children:e.jsxs(O,{justify:"center",children:[e.jsx(Pe,{students:r,socialGroups:s}),e.jsx("div",{children:e.jsx(dt,{bestFriendId:i})})]})}),u&&e.jsx(Ne,{student:r[u],socialGroups:s,gossiperId:a,bestFriendId:i,closeModal:()=>l(null),showSecrets:t.role==="gossiper",actionType:p?rt.INTIMIDATE:void 0,onPerformAction:p?y:void 0})]})}function nn({players:t,state:o}){var m;const n=Qe(t,o),{step:s}=xe(),[,r]=ie("gossiperPlayerId",o,t),[,a]=ie("detectivePlayerId",o,t),i=Vo(),c=e.jsx(K,{icon:e.jsx(uo,{}),title:e.jsx(d,{pt:"Intimidação",en:"Intimidation"}),currentRound:(m=o==null?void 0:o.round)==null?void 0:m.current,type:"overlay",children:e.jsx(k,{children:e.jsx(d,{en:"The gossiper will have to intimidate two students",pt:"O fofoqueiro terá que intimidar dois estudantes"})})});return e.jsx(je,{phase:o==null?void 0:o.phase,allowedPhase:H.INTIMIDATION,children:e.jsx(be,{step:s,players:t,children:e.jsx(on,{user:n,players:t,announcement:c,schoolBoard:o.schoolBoard,students:o.students,socialGroups:o.socialGroups,gossiperId:o.gossiperId,bestFriendId:o.bestFriendId,staff:o.staff,motivations:o.motivations,onSubmitIntimidation:i,isTheGossiperPlayer:r,isTheDetectivePlayer:a})})})}function sn(t){if(t&&!t.phase)return Mt;switch(t.phase){case ae.DEFAULT.LOBBY:return Ft;case ae.DEFAULT.SETUP:return qt;case H.ROLES_SELECTION:return Ho;case H.BOARD_SETUP:return tn;case H.INTIMIDATION:return nn;case ae.DEFAULT.GAME_OVER:return Dt;default:return zt}}function ds(){return e.jsx(At,{gameCollection:Rt.FOFOCA_QUENTE,getActiveComponent:sn})}export{ds as default};
