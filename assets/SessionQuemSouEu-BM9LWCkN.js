import{h as W,q as O,aM as pe,n as R,j as e,T as n,x as _,o as C,aP as S,ch as k,e as Z,I as N,aQ as oe,P as fe,r as F,ce as I,cp as be,B as me,D as Ce,ci as _e,b0 as Re}from"./index-B7FVv3jX.js";import{u as se,S as U,a as B,b as H,P as D,c as L,d as $,i as Ee,j as Ie,f as Ne,g as Pe,h as qe}from"./StepSwitcher-Cjzlfjh5.js";import{F as we}from"./FilterIcon-SzCGUoX-.js";import{I as z}from"./useDevFeatures-D0Hwj-2g.js";import{u as ee}from"./useBooleanDictionary-Dst-jzxA.js";import{u as re}from"./useMock-BlnD8wIm.js";import{C as V}from"./CharacterCard-BfxQqWhU.js";import{C as ne}from"./CardHighlight-DafbF3Bp.js";import{R as M}from"./RuleInstruction-D3L5yls0.js";import{B as Ae}from"./index-CLDDIIez.js";import{P as Te}from"./PlayerIconsIcon-8t7F9nws.js";import{R as Ge}from"./RoundAnnouncement-DLrPANcF.js";import{P as te,p as Fe,g as ke,a as Me,b as We}from"./PlayerGlyphs-3MZhqo1p.js";import{N as Q}from"./NoIcon-BU0umY4p.js";import{Y,M as Oe}from"./YesIcon-DRQGHWBP.js";import{G as P}from"./GlyphCard-IT6x2tBj.js";/* empty css                             */import{I as Ue}from"./ImageBlurButtonContainer-dihganXS.js";import{I as ue}from"./ImageCard-CPKnj7bm.js";import{M as xe}from"./MetricHighlight-D9-WOJsF.js";import{E as Be}from"./WritingIcon-DfPFfAV8.js";import{P as G}from"./PointsHighlight-C-12lPnQ.js";import{u as He}from"./useVotingMatch-DAqcW4ma.js";import"./Ribbon-BZQ-AsSh.js";import{R as De}from"./RibbonGroup-1T4OY8cx.js";import{R as Le}from"./ThunderboltOutlined-DSuSiHFz.js";import{u as $e}from"./SlideShowControls-DX7es4tY.js";import{P as ze}from"./PlayerAvatarName-BIp1nI-z.js";import{P as je}from"./PopoverRule-Ca9LCdm5.js";import{S as Ve}from"./SlideShow-C7qkmqN3.js";import{S as ie}from"./StarPoints-CxzyM_Pt.js";import{S as ce,a as Qe,b as X,c as Ye}from"./SlideShowComposableComponents-CIw7X2gY.js";import{S as Ke}from"./StepRankingWrapper-D6DDDnQc.js";import{R as Je}from"./RoundsLeftInstruction-BmhpDvL6.js";import{R as Xe}from"./PictureOutlined-DGkCpfi5.js";import{T as Ze}from"./TrophyIcon-DFI5Ueq2.js";import"./GameBanner-D9_pxv_t.js";import{G as es}from"./GameOverWrapper-BCXtkRNm.js";import{A as ss}from"./Achievements-B77bLgnB.js";import{a as rs}from"./achievements-BW6l1tk2.js";import{P as ts}from"./PlayerAvatarStrip--yoPLp1R.js";import"./DebugOnly-D9y-BwkJ.js";import"./speech-BuvO9BqZ.js";import"./RulesModal-8Q6zwIFD.js";import"./index-DKRItngE.js";import"./PurePanel-B386D80u.js";import"./Game-DSpJno7T.js";import"./useMutation-CjtsXZ3j.js";import"./index-CmMHabpk.js";import"./index-DF-Pwyr9.js";import"./Overflow-31jpmjeX.js";import"./index-B8iX5lxe.js";import"./PlayerAvatar-BGUT8Cak.js";import"./useTDBaseUrl-BF9foKiS.js";import"./index-Cl-caKpr.js";import"./Loading-D8DTCUWd.js";import"./useBubbleLock-B5zd9kpx.js";import"./AnimatedLoaderIcon-B0Gxb3ma.js";import"./InfoCircleOutlined-DFq3paBE.js";import"./index-DBnF44WP.js";import"./SignIn-Opysd4zt.js";import"./GoogleIcon-ChltZFxq.js";import"./WaitingRoomIcon-CUwP4iTB.js";import"./AnimatedClockIcon-GycZWL2V.js";import"./LikeFilled-Dgprn6aX.js";import"./StarFilled-BP7P5gqM.js";import"./BoxCheckMarkIcon-Y1AK7SHp.js";import"./Sprite-CfKBwDUt.js";import"./WarningOutlined-BK0vVI-V.js";import"./ImageBlurButton-uk0mDRZB.js";import"./StarIcon-BUwQsvds.js";import"./StepBackwardOutlined-D1V_VmmC.js";import"./TrophyOutlined-CY_aLAQG.js";import"./GarbageIcon-ZlVxOHH-.js";import"./RankingBoard-BQNFDS3T.js";import"./CaretUpOutlined-CjYIrPXG.js";import"./TheEndIcon-DJ1KGvIf.js";import"./ArrowRightOutlined-CqcflkC2.js";import"./progress-DOO7QNuo.js";import"./TitledContainer-CVVAMypJ.js";import"./Medal-DMpAps-K.js";const b={CHARACTER_FILTERING:"CHARACTER_FILTERING",CHARACTER_DESCRIPTION:"CHARACTER_DESCRIPTION",GUESSING:"GUESSING",RESULTS:"RESULTS"},ae={SUBMIT_CHARACTERS:"SUBMIT_CHARACTERS",SUBMIT_GLYPHS:"SUBMIT_GLYPHS",SUBMIT_GUESSES:"SUBMIT_GUESSES"},as=10;function os(s){const{translate:r}=W(),t=se({actionName:"submit-characters",onSuccess:()=>s(2),onError:()=>s(0),successMessage:r("Ação submetida com sucesso","Action submitted successfully"),errorMessage:r("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return a=>{t({action:ae.SUBMIT_CHARACTERS,...a})}}function ns(s){const{translate:r}=W(),t=se({actionName:"submit-glyphs",onSuccess:()=>s(2),onError:()=>s(0),successMessage:r("Ação submetida com sucesso","Action submitted successfully"),errorMessage:r("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return a=>{t({action:ae.SUBMIT_GLYPHS,...a})}}function is(s){const{translate:r}=W(),t=se({actionName:"submit-guesses",onSuccess:()=>s(2),onError:()=>s(0),successMessage:r("Ação submetida com sucesso","Action submitted successfully"),errorMessage:r("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return a=>{t({action:ae.SUBMIT_GUESSES,...a})}}const cs=s=>O.sampleSize(s,6).map(r=>r.id);function ls({user:s,announcement:r,onSelectCharacters:t}){const{isLoading:a}=pe(),i=R(12,{gap:16,minWidth:100,maxWidth:200}),{dict:o,updateDict:c,length:d,keys:h}=ee({}),p=s.availableCharacters??[];return re(),e.jsxs(U,{fullWidth:!0,announcement:r,children:[e.jsx(B,{children:e.jsx(n,{pt:e.jsxs(e.Fragment,{children:["Selecione ",e.jsx(ne,{children:"6"})," cartas"]}),en:e.jsxs(e.Fragment,{children:["Select ",e.jsx(ne,{children:"6"})," cards"]})})}),e.jsx(M,{type:"action",children:e.jsx(n,{pt:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Selecione"})," 6 personagens/celebridades abaixo, dessas 5 serão usadas no jogo.",e.jsx("br",{}),"Essa etapa é necessária para que você não receba um personagem que não conheça."]}),en:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Select"})," 6 characters/celebrities below, 5 of them will be used in the game.",e.jsx("br",{}),"This step is necessary so that you don't receive a character you don't know."]})})}),e.jsx(_,{className:"grid-container grid-template-6 gap-4",wrap:!0,children:p.map(l=>e.jsx(C,{disabled:s.ready||a,onClick:()=>c(l.id),active:o[l.id],activeClass:"q-character-player",children:e.jsx(V,{size:i,character:l})},l.id))}),e.jsxs(S,{children:[e.jsx(k,{size:"large",type:"dashed",onClick:()=>t({characters:cs(p)}),loading:a,disabled:a||s.ready,children:e.jsx(n,{pt:e.jsx(e.Fragment,{children:"Escolha pra mim"}),en:e.jsx(e.Fragment,{children:"Choose for me"})})}),e.jsx(Ae,{count:d,children:e.jsx(k,{size:"large",onClick:()=>t({characters:h}),loading:a,disabled:s.ready||d!==6,children:e.jsx(n,{pt:"Enviar cartas",en:"Submit cards"})})})]})]})}function ds({state:s,players:r,user:t}){const{step:a,setStep:i}=H(),o=os(i),c=e.jsx(D,{icon:e.jsx(we,{}),title:e.jsx(n,{pt:"Quem você conhece?",en:"Who do you know?"}),currentRound:s?.round?.current,type:"overlay",children:e.jsx(z,{children:e.jsx(n,{pt:e.jsx(e.Fragment,{children:"Selecione personagens/pessoas que você conhece"}),en:e.jsx(e.Fragment,{children:"Select characters/people you know"})})})});return e.jsx(L,{phase:s?.phase,allowedPhase:b.CHARACTER_FILTERING,children:e.jsx($,{step:a,players:r,children:e.jsx(ls,{user:t,onSelectCharacters:o,announcement:c})})})}function hs({user:s}){return s.selectedGlyphs?e.jsxs(_,{wrap:!0,children:[e.jsx(V,{size:100,character:s.character}),e.jsx(te,{player:s,glyphWidth:60})]}):null}function q({character:s,width:r,imageCardMode:t,className:a}){return t?e.jsx(Ue,{cardId:s.id,children:e.jsx(ue,{cardId:s.id,cardWidth:r,className:a,preview:!1})}):e.jsx(V,{character:s,size:r,className:a})}function ps({characters:s,playerCharacterId:r,tableOrder:t,showAll:a=!0,imageCardMode:i=!1}){const o=R(8,{gap:16,minWidth:150,maxWidth:200}),c=t.slice(0,Math.floor(t.length/2)),d=t.slice(Math.floor(t.length/2));return a?e.jsxs(S,{className:"q-table",wrap:!0,children:[e.jsx(S,{wrap:!0,children:c.map(h=>e.jsx(q,{character:s[h],width:o,imageCardMode:i,className:Z(h===r&&"q-character-player")},h))}),e.jsx(S,{wrap:!0,children:d.map(h=>e.jsx(q,{character:s[h],width:o,imageCardMode:i,className:Z(h===r&&"q-character-player")},h))})]}):e.jsx(S,{className:"q-table",children:e.jsx(V,{character:s[r],size:o,className:"q-character-player"})})}function le({children:s,type:r,iconSize:t,className:a}){return e.jsx(xe,{icon:e.jsx(Y,{}),type:r,iconSize:t,className:a,children:s})}function de({children:s,type:r,iconSize:t,className:a}){return e.jsx(xe,{icon:e.jsx(Q,{}),type:r,iconSize:t,className:a,children:s})}const he=[0,1,2];function ms({user:s,announcement:r,onSelectGlyphs:t,characters:a,tableOrder:i,roundType:o,imageCardMode:c}){const{translate:d}=W(),h=R(20,{gap:16,minWidth:50,maxWidth:75}),p=h+15,{dict:l,updateDict:m,keys:x}=ee({}),{dict:f,updateDict:A,keys:E}=ee({}),K=s.glyphs??[];return re(),e.jsxs(U,{fullWidth:!0,announcement:r,children:[e.jsx(B,{children:e.jsx(n,{pt:e.jsx(e.Fragment,{children:"Descreva seu personagem com ícones"}),en:e.jsx(e.Fragment,{children:"Describe your character with glyphs"})})}),e.jsxs(M,{type:"rule",children:[e.jsx(n,{pt:e.jsxs(e.Fragment,{children:["Dos ícones abaixo, você pode selecionar até ",e.jsx(le,{children:"3"})," positivos e até ",e.jsx(de,{children:"3"})," negativos.",e.jsx("br",{})," Quando você clica em ícone, você determina se ele é relacionado ao seu personagem ou não.",e.jsx("br",{}),e.jsx("strong",{children:"A sua carta é a que tem a borda de bolinhas amarelas!"})]}),en:e.jsxs(e.Fragment,{children:["From the glyphs below, you may select up to ",e.jsx(le,{children:"3"})," positive and ",e.jsx(de,{children:"3"})," negative glyphs.",e.jsx("br",{}),"When you click on a glyph, you will determine if it's related or not to your character.",e.jsx("br",{}),e.jsx("strong",{children:"Your card is highlighted with the dotted yellow border!"})]})}),o==="SHOW"&&e.jsx(n,{pt:e.jsxs(e.Fragment,{children:[e.jsx("br",{}),"Você também pode ver todos os personagens abaixo caso queira evitar conflito com outros jogadores."]}),en:e.jsxs(e.Fragment,{children:[e.jsx("br",{}),"You can also take a look at all the characters for this round so you don't give clues that match others."]})})]}),o!=="SHOW"&&e.jsx(M,{type:"event",children:e.jsx(n,{pt:e.jsx(e.Fragment,{children:"De agora em diante, você vê apenas o seu personagem."}),en:e.jsx(e.Fragment,{children:"From now on, you only see your own character."})})}),e.jsx(ps,{characters:a,playerCharacterId:s.character?.id,tableOrder:i,showAll:o==="SHOW",imageCardMode:c}),e.jsxs(S,{className:"q-selections",children:[e.jsx("div",{className:"q-selections__section q-selections__section--positive",children:he.map(j=>{const g=x[j];return e.jsx("div",{className:"q-selections__positive",children:e.jsxs("div",{className:"q-selections__entry",children:[e.jsx(N,{icon:e.jsx(Y,{})}),g!==void 0?e.jsx(C,{onClick:()=>m(g),title:d("Remover","Remove"),children:e.jsx(oe,{title:e.jsx(n,{pt:"Remover",en:"Remove"}),children:e.jsx(P,{width:p,glyphId:g})})}):e.jsx("div",{className:"q-selections__no-glyph",style:{width:`${p}px`,height:`${p}px`}})]})},`pos-${j}-${g}`)})}),e.jsx("div",{className:"q-selections__section q-selections__section--negative",children:he.map(j=>{const g=E[j];return e.jsx("div",{className:"q-selections__positive",children:e.jsxs("div",{className:"q-selections__entry",children:[e.jsx(N,{icon:e.jsx(Q,{})}),g!==void 0?e.jsx(C,{onClick:()=>A(g),children:e.jsx(oe,{title:e.jsx(n,{pt:"Remover",en:"Remove"}),trigger:"hover",children:e.jsx(P,{width:p,glyphId:g})})}):e.jsx("div",{className:"q-selections__no-glyph",style:{width:`${p}px`,height:`${p}px`}})]})},`neg-${j}-${g}`)})})]}),e.jsx(_,{className:"glyphs",wrap:!0,children:K.map(j=>e.jsx(fe,{content:e.jsx(us,{id:j,updatePositive:m,updateNegative:A,disablePositive:x.length===3,disableNegative:E.length===3}),title:e.jsx(n,{pt:"Positivo ou Negativo?",en:"Positive or Negative"}),trigger:"click",children:e.jsx(C,{children:e.jsx(P,{width:h,glyphId:j})})},j))}),e.jsx(S,{children:e.jsx(k,{size:"large",onClick:()=>t({glyphs:Fe(l,f)}),disabled:s.ready||x.length<1&&E.length<1,children:e.jsx(n,{pt:e.jsx(e.Fragment,{children:"Enviar ícones"}),en:e.jsx(e.Fragment,{children:"Submit glyphs"})})})})]})}function us({id:s,updatePositive:r,updateNegative:t,disablePositive:a,disableNegative:i}){return e.jsxs(_,{children:[e.jsx(C,{onClick:()=>r(s),disabled:a,children:e.jsx(N,{icon:e.jsx(Y,{}),size:"large"})}),e.jsx(C,{onClick:()=>t(s),disabled:i,children:e.jsx(N,{icon:e.jsx(Q,{}),size:"large"})})]})}function xs({state:s,players:r,user:t}){const{step:a,goToNextStep:i,setStep:o}=H(),c=ns(o),d=e.jsx(D,{icon:e.jsx(Te,{}),title:e.jsx(n,{pt:"Descreva seu personagem com ícones",en:"Describe your character with glyphs"}),currentRound:s?.round?.current,type:"overlay",children:e.jsx(z,{children:e.jsx(n,{pt:e.jsx(e.Fragment,{children:"Selecione até 6 ícones que ajudem os outros jogadores a adivinhar o seu personagem"}),en:e.jsx(e.Fragment,{children:"Select up to 6 glyphs that would help other players to guess who your character is"})})})});return e.jsx(L,{phase:s?.phase,allowedPhase:b.CHARACTER_DESCRIPTION,children:e.jsxs($,{step:a,players:r,waitingRoom:{content:e.jsx(hs,{user:t})},children:[e.jsx(Ge,{round:s?.round,onPressButton:i,buttonText:" ",time:5}),e.jsx(ms,{user:t,onSelectGlyphs:c,characters:s.characters,tableOrder:s.tableOrder,announcement:d,roundType:s.roundType,imageCardMode:s.mode==="imageCards"})]})})}function w({currentRound:s}){return e.jsx(n,{pt:e.jsxs(e.Fragment,{children:["Você ganha ",e.jsx(G,{children:s}),"ponto para cada par que acertar e também"," ",e.jsx(G,{children:s}),"ponto para cada jogador que acertar o seu."]}),en:e.jsxs(e.Fragment,{children:["You get ",e.jsx(G,{children:s}),"point for each pair you get correctly and also ",e.jsx(G,{children:s}),"point for each player who gets your character correctly"]})})}function js({user:s,announcement:r,onSubmitGuesses:t,players:a,characters:i,tableOrder:o,round:c,imageCardMode:d}){const{isLoading:h}=pe(),p=R(20,{gap:16,minWidth:45,maxWidth:60}),l=R(8,{gap:16,minWidth:120,maxWidth:200}),{votes:m,setVotes:x,activateItem:f,isVotingComplete:A,isItemActive:E}=He("player",!0,Object.keys(a).length,{}),[K,j]=F.useState(!1),g=()=>{j(!0);const u=Object.keys(m),y=Object.values(m),J=Object.keys(a).map(v=>I(["player",v])).filter(v=>!u.includes(v)),ve=O.shuffle(Object.keys(i).map(v=>I(["char",v])).filter(v=>!y.includes(v))),T={...m};return J.forEach((v,Se)=>{T[v]||(T[v]=ve[Se])}),x(T),T},ge=F.useCallback(()=>{if(s.character)return{[I(["player",s.id])]:I(["char",s.character.id])}},[s]);re(),F.useEffect(()=>{const u=ge();u&&x(y=>({...y,...u}))},[s?.character?.id]);const ye=ke(a,m);return e.jsxs(U,{fullWidth:!0,announcement:r,children:[e.jsx(B,{children:e.jsx(n,{pt:e.jsx(e.Fragment,{children:"Pareie os cada personagem com um jogador"}),en:e.jsx(e.Fragment,{children:"Pair player and characters"})})}),e.jsxs(M,{type:"rule",children:[e.jsx(n,{pt:e.jsxs(e.Fragment,{children:["De acordo com a seleção de ícones de cada jogador, tente adivinhar todos os pares.",e.jsx("br",{}),e.jsx("strong",{children:"Clique"})," em uma das barras de ícones então no personagem correspondente.",e.jsx("br",{}),"Para desfazer, basta selecionar normalmente que sua escolha era sobreposta."]}),en:e.jsxs(e.Fragment,{children:["Based on each player's glyphs selection, try to guess the pairs.",e.jsx("br",{}),e.jsx("strong",{children:"Click"})," on one of the glyph bars and then on the corresponding character.",e.jsx("br",{}),"To undo, just select normally that your choice was overridden."]})}),e.jsx("br",{}),e.jsx(w,{currentRound:c.current})]}),e.jsxs("div",{className:"q-voting-container",children:[e.jsx("div",{className:"q-voting-characters",children:o.map(u=>{const y=I(["char",u]),J=ye[u]??[];return e.jsxs(C,{onClick:()=>f(y),active:E(y),className:"q-voting-characters__button",children:[e.jsx(De,{labels:J}),e.jsx(q,{character:i[u],width:l,className:Z(u==="a"&&"q-character-player"),imageCardMode:d})]},u)})}),e.jsx("div",{className:"q-players-glyphs",children:be(a).map(u=>{const y=I(["player",u.id]);return e.jsx(C,{onClick:()=>f(y),active:E(y),children:e.jsx(te,{player:u,glyphWidth:p,done:!!m[y]})},`glyphs-for-${u.id}`)})})]}),e.jsxs(S,{children:[e.jsx(k,{size:"large",onClick:()=>t({guesses:Me(m),choseRandomly:K}),disabled:s.ready||!A,children:e.jsx(n,{pt:e.jsx(e.Fragment,{children:"Enviar pares"}),en:e.jsx(e.Fragment,{children:"Submit guesses"})})}),e.jsx(me,{size:"large",type:"dashed",onClick:()=>g(),disabled:h||s.ready,icon:e.jsx(Le,{}),children:e.jsx(n,{pt:e.jsx(e.Fragment,{children:"Desistir"}),en:e.jsx(e.Fragment,{children:"Guess for me"})})})]})]})}function gs({state:s,players:r,user:t}){const{step:a,setStep:i}=H(),o=is(i),c=e.jsx(D,{icon:e.jsx(Be,{}),title:e.jsx(n,{pt:"Pareie os personagens e símbolos",en:"Pair characters with the players' glyphs"}),currentRound:s?.round?.current,type:"overlay",children:e.jsx(z,{children:e.jsx(w,{currentRound:s.round.current})})});return e.jsx(L,{phase:s?.phase,allowedPhase:b.GUESSING,children:e.jsx($,{step:a,players:r,children:e.jsx(js,{user:t,onSubmitGuesses:o,characters:s.characters,tableOrder:s.tableOrder,players:r,announcement:c,round:s.round,imageCardMode:s.mode==="imageCards"})})})}function ys({players:s,playersSay:r,playersPoints:t,characters:a,currentColor:i,currentPlayer:o,round:c,imageCardMode:d}){const h=O.orderBy(Object.entries(r).map(([l,m])=>({cardId:l,character:a[l],playersIds:m,count:m.length,isCorrect:o.character.id===l})),["isCorrect","count","card.text"],["desc","desc","asc"]),p=r[o.character.id];return e.jsxs(_,{className:"q-gallery__info-container",direction:"vertical",children:[e.jsxs(_,{className:"q-gallery__votes",direction:"vertical",children:[e.jsx(ce,{children:e.jsx(n,{pt:"Jogadores votaram",en:"Players voted"})}),h.map((l,m)=>e.jsxs("div",{className:"q-gallery__guess",children:[e.jsx(Qe,{winner:l.isCorrect,backgroundColor:i,children:d?e.jsx(ue,{cardId:l.character.id,cardWidth:35,className:"inline"}):e.jsx(Ce,{children:l.character.name})}),e.jsx(X,{playersIds:l.playersIds,players:s})]},`guess-${l.cardId}-${m}`))]}),e.jsxs(_,{className:"q-gallery__votes",direction:"vertical",children:[e.jsx(ce,{children:e.jsx(n,{pt:"Pontos",en:"Points"})}),p.length?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"q-gallery__players",children:e.jsx(X,{playersIds:p,players:s,children:e.jsx(ie,{quantity:c.current,keyPrefix:`guessers-points-${o.id}`})})}),e.jsx("div",{className:"q-gallery__player-points",children:e.jsx(X,{playersIds:[o.id],players:s,children:e.jsx(ie,{quantity:t?.[o.id],keyPrefix:`artist-points-${o.id}`})})})]}):e.jsx(Ye,{children:e.jsx(n,{pt:"Esses ícones devem ter sido uma bosta, heim.",en:"It must have been a very crappy glyphs. What a shame..."})})]})]})}function vs({players:s,gallery:r,characters:t,slideShowConfig:a,round:i,imageCardMode:o}){Ee();const c=R(20,{gap:16,minWidth:45,maxWidth:60}),d=R(8,{gap:16,minWidth:120,maxWidth:200}),{playerId:h,characterId:p,playersPoints:l,playersSay:m}=r[a.slideIndex],x=s[h],f=_e(x.avatarId);return e.jsxs(U,{className:"l-step-album",children:[e.jsx(B,{children:e.jsx(n,{pt:"Galeria",en:"Gallery"})}),e.jsx(je,{content:e.jsx(w,{currentRound:i.current})}),e.jsxs(Ve,{config:a,barColor:f,leftClassName:"q-gallery__result",rightClassName:"q-gallery__info",children:[e.jsxs("div",{className:"q-gallery__result-container",children:[e.jsx("div",{className:"q-gallery__player",style:{backgroundColor:f},children:e.jsx(ze,{player:x,size:"large"})}),e.jsxs(S,{vertical:!0,children:[e.jsx(q,{character:t[p],width:d,imageCardMode:o}),e.jsx(te,{player:x,glyphWidth:c})]})]}),e.jsx(ys,{players:s,playersSay:m,playersPoints:l,characters:t,currentColor:f,currentPlayer:x,round:i,imageCardMode:o})]})]})}function Ss({players:s,ranking:r,round:t,onGoBack:a}){return e.jsxs(Ke,{players:s,ranking:r,gainedPointsDescriptions:[e.jsx(n,{pt:"Votos corretos",en:"Correct guesses"},"1"),e.jsx(n,{pt:"Votos corretos em seu personagem por outros jogadores",en:"Correct guesses on your character by other players"},"2")],children:[e.jsx(je,{content:e.jsx(w,{currentRound:t.current})}),e.jsx(Je,{round:t}),e.jsx(me,{size:"large",onClick:a,icon:e.jsx(Xe,{}),children:e.jsx(n,{pt:"Ver Galeria Novamente",en:"See Gallery Again"})}),e.jsx(Ie,{round:t})]})}function fs({state:s,players:r}){const{step:t,goToPreviousStep:a,goToNextStep:i}=H(),o=$e({length:s.gallery.length,slideDuration:as,onExpire:i}),c=()=>{o.reset(),a()};return e.jsx(L,{phase:s?.phase,allowedPhase:b.RESULTS,children:e.jsxs($,{step:t,players:r,children:[e.jsx(D,{icon:e.jsx(Oe,{}),title:e.jsx(n,{pt:"Resultado",en:"Results"}),onClose:i,currentRound:s?.round?.current,unskippable:!0,type:"block",children:e.jsx(z,{children:e.jsx(w,{currentRound:s.round.current})})}),e.jsx(vs,{players:r,gallery:s.gallery,characters:s.characters,slideShowConfig:o,round:s.round,imageCardMode:s.mode==="imageCards"}),e.jsx(Ss,{players:r,ranking:s.ranking,round:s.round,onGoBack:c})]})})}function bs({players:s,character:r,glyphWidth:t,imageCardsMode:a}){const[i,o]=F.useMemo(()=>We(r.glyphs??{}),[r.glyphs]);return e.jsxs("div",{className:"q-player-glyphs q-final-character",children:[e.jsx(ts,{player:s[r.playerId],withName:!0,className:"q-player-glyphs__strip"}),e.jsx(q,{width:100,character:r,imageCardMode:a}),i.map((c,d)=>e.jsxs("div",{className:"q-player-glyphs__entry q-player-glyphs__entry--positive",children:[e.jsx(N,{icon:e.jsx(Y,{}),size:"small"}),c?e.jsx(P,{width:t,glyphId:c}):e.jsx("div",{className:"q-selections__no-glyph",style:{width:`${t}px`,height:`${t}px`}})]},`pos-${r.id}-${c}-${d}`)),o.map((c,d)=>e.jsxs("div",{className:"q-player-glyphs__entry q-player-glyphs__entry--negative",children:[e.jsx(N,{icon:e.jsx(Q,{}),size:"small"}),c?e.jsx(P,{width:t,glyphId:c}):e.jsx("div",{className:"q-selections__no-glyph",style:{width:`${t}px`,height:`${t}px`}})]},`neg-${r.id}-${c}-${d}`))]})}function Cs({state:s,players:r,meta:t}){return e.jsxs(es,{state:s,players:r,announcementIcon:e.jsx(Ze,{}),children:[e.jsx(ss,{players:r,achievements:s.achievements,reference:rs}),e.jsx(S,{wrap:!0,children:O.orderBy(s.gallery,`name.${t.language}`).map(a=>e.jsx(bs,{players:r,character:a,glyphWidth:30,imageCardsMode:!!t.options?.imageCardsMode},a.id))})]})}function _s(s){switch(s.phase){case b.CHARACTER_FILTERING:return ds;case b.CHARACTER_DESCRIPTION:return xs;case b.GUESSING:return gs;case b.RESULTS:return fs;case qe.DEFAULT.GAME_OVER:return Cs;default:return Pe}}function Xr(){return e.jsx(Ne,{gameCollection:Re.QUEM_SOU_EU,getActiveComponent:_s})}export{Xr as default};
