import{w as Ne,ab as xt,$ as g,r as f,aF as ee,a7 as te,c as q,cU as z,as as _,cV as Z,g as gt,m as jt,cW as bt,a as Fe,at as le,aw as De,aC as Le,ai as vt,aQ as de,cX as yt,u as Ge,cY as ke,a5 as St,ag as It,b as Ot,cZ as He,h as F,j as e,T as l,e as A,x as Ve,B as S,c_ as Ue,c$ as We,b5 as ue,D as w,F as O,d0 as Pe,bI as Re,d1 as $t,d2 as Ct,d3 as Me,o as _t,aO as J,ch as me,q as k,N as wt,I as Et,b0 as Tt}from"./index-BO8o3uJJ.js";import{u as oe,c as pe,P as K,d as he,e as fe,S as xe,a as ge,b as Ye,g as Bt,h as Nt,i as Pt}from"./StepSwitcher-ifKLfq4i.js";import{P as Rt}from"./PhasePlaceholder-DJ9nHsaX.js";import{L as Mt}from"./LawIcon-CFHAZ8tW.js";import{S as zt}from"./StepSelectPlayer-CayhR6vJ.js";import{u as ie}from"./useWhichPlayerIsThe-IMAmBv91.js";import{L as qt}from"./LocationIcon-D1o_tYAp.js";import{P as At}from"./PeopleAssessmentIcon-RCVysZmV.js";import{I as V}from"./useDevFeatures-0Y-iseFW.js";import{V as Ft}from"./ViewOr-Bx1kDirb.js";import{C as Dt}from"./CheckMarkIcon-DwsoF-9U.js";import{R as Y}from"./RuleInstruction-DzQmwXQG.js";import{T as Lt,a as Gt,u as kt,R as Ht}from"./index.esm-DHOOdk4f.js";import{u as Vt}from"./useTDBaseUrl-BF9foKiS.js";/* empty css                             */import{I as Ut}from"./ImageCard-Mawq-Abl.js";import{a as Wt}from"./DebugOnly-CVvDyvXp.js";import{C as Qe}from"./index-Bi8X-2Bp.js";import{T as N}from"./index-BUXxwF7q.js";import{D as Yt}from"./index-CTKn8IR6.js";import{R as ce}from"./AimOutlined-C6ChIm8r.js";import{R as Qt}from"./VerticalAlignTopOutlined-uvgpe4ZZ.js";import{s as Xt,g as Zt}from"./scrollTo-ISBziAKf.js";import{B as Jt}from"./index-BcbeZ3Ai.js";import{R as Kt}from"./BarChartOutlined-DwPr4b56.js";import{S as eo}from"./index-DBcOTiOR.js";import{T as to}from"./TDIcon-CihLpwVP.js";import"./speech-CPKO-81P.js";import"./RulesModal-_TyPmn7J.js";import"./WritingIcon-DBvERseS.js";import"./Game-Bx-wkJW2.js";import"./useMutation-CAyvgnnF.js";import"./index-zoUXMVHW.js";import"./PurePanel-BIV7dXcV.js";import"./index-DaOOh7EP.js";import"./Avatar-C4LJ1Wrd.js";import"./GameBanner-CyNOTwV2.js";import"./index-DOG1G6sG.js";import"./Loading-BaMK6ogi.js";import"./useBubbleLock-C26udfNm.js";import"./AnimatedLoaderIcon-CEAeuelg.js";import"./InfoCircleOutlined-CJPxb-5P.js";import"./SignIn-CkOxuyVk.js";import"./GoogleIcon-HqrSZq6c.js";import"./WaitingRoomIcon-DaqIalBS.js";import"./AnimatedClockIcon-CNnKxZop.js";import"./LikeFilled-CcK88sT3.js";import"./AvatarCard-aUyVv1oJ.js";import"./StarFilled-BRC_8MIu.js";import"./index-D51uj4YP.js";import"./EllipsisOutlined-9mtnSM80.js";import"./PlusOutlined-CEFog01o.js";import"./Overflow-IgEnRps0.js";function oo(t){let o=null;const n=r=>()=>{o=null,t.apply(void 0,xt(r))},s=(...r)=>{o===null&&(o=Ne(n(r)))};return s.cancel=()=>{Ne.cancel(o),o=null},s}const je=g.createContext(void 0),{Provider:no}=je;var so={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}}]},name:"file-text",theme:"outlined"},ro=function(o,n){return f.createElement(ee,te({},o,{ref:n,icon:so}))},Xe=f.forwardRef(ro),ao=function(t,o){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&o.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)o.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};const io=t=>{const{icon:o,description:n,prefixCls:s,className:r}=t,a=ao(t,["icon","description","prefixCls","className"]),i=g.createElement("div",{className:`${s}-icon`},g.createElement(Xe,null));return g.createElement("div",Object.assign({},a,{className:q(r,`${s}-content`)}),o||n?g.createElement(g.Fragment,null,o&&g.createElement("div",{className:`${s}-icon`},o),n&&g.createElement("div",{className:`${s}-description`},n)):i)},co=f.memo(io),ze=t=>t===0?0:t-Math.sqrt(Math.pow(t,2)/2),lo=t=>{const{componentCls:o,floatButtonSize:n,motionDurationSlow:s,motionEaseInOutCirc:r,calc:a}=t,i=new z("antFloatButtonMoveTopIn",{"0%":{transform:`translate3d(0, ${_(n)}, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),d=new z("antFloatButtonMoveTopOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(0, ${_(n)}, 0)`,transformOrigin:"0 0",opacity:0}}),m=new z("antFloatButtonMoveRightIn",{"0%":{transform:`translate3d(${_(a(n).mul(-1).equal())}, 0, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),p=new z("antFloatButtonMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(${_(a(n).mul(-1).equal())}, 0, 0)`,transformOrigin:"0 0",opacity:0}}),u=new z("antFloatButtonMoveBottomIn",{"0%":{transform:`translate3d(0, ${_(a(n).mul(-1).equal())}, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),c=new z("antFloatButtonMoveBottomOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(0, ${_(a(n).mul(-1).equal())}, 0)`,transformOrigin:"0 0",opacity:0}}),j=new z("antFloatButtonMoveLeftIn",{"0%":{transform:`translate3d(${_(n)}, 0, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),v=new z("antFloatButtonMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(${_(n)}, 0, 0)`,transformOrigin:"0 0",opacity:0}}),h=`${o}-group`;return[{[h]:{[`&${h}-top ${h}-wrap`]:Z(`${h}-wrap`,i,d,s,!0),[`&${h}-bottom ${h}-wrap`]:Z(`${h}-wrap`,u,c,s,!0),[`&${h}-left ${h}-wrap`]:Z(`${h}-wrap`,j,v,s,!0),[`&${h}-right ${h}-wrap`]:Z(`${h}-wrap`,m,p,s,!0)}},{[`${h}-wrap`]:{[`&${h}-wrap-enter, &${h}-wrap-appear`]:{opacity:0,animationTimingFunction:r},[`&${h}-wrap-leave`]:{opacity:1,animationTimingFunction:r}}}]},uo=t=>{const{antCls:o,componentCls:n,floatButtonSize:s,margin:r,borderRadiusLG:a,borderRadiusSM:i,badgeOffset:d,floatButtonBodyPadding:m,zIndexPopupBase:p,calc:u}=t,c=`${n}-group`;return{[c]:Object.assign(Object.assign({},Fe(t)),{zIndex:p,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:"none",position:"fixed",height:"auto",boxShadow:"none",minWidth:s,minHeight:s,insetInlineEnd:t.floatButtonInsetInlineEnd,bottom:t.floatButtonInsetBlockEnd,borderRadius:a,[`${c}-wrap`]:{zIndex:-1,display:"flex",justifyContent:"center",alignItems:"center",position:"absolute"},[`&${c}-rtl`]:{direction:"rtl"},[n]:{position:"static"}}),[`${c}-top > ${c}-wrap`]:{flexDirection:"column",top:"auto",bottom:u(s).add(r).equal(),"&::after":{content:'""',position:"absolute",width:"100%",height:r,bottom:u(r).mul(-1).equal()}},[`${c}-bottom > ${c}-wrap`]:{flexDirection:"column",top:u(s).add(r).equal(),bottom:"auto","&::after":{content:'""',position:"absolute",width:"100%",height:r,top:u(r).mul(-1).equal()}},[`${c}-right > ${c}-wrap`]:{flexDirection:"row",left:{_skip_check_:!0,value:u(s).add(r).equal()},right:{_skip_check_:!0,value:"auto"},"&::after":{content:'""',position:"absolute",width:r,height:"100%",left:{_skip_check_:!0,value:u(r).mul(-1).equal()}}},[`${c}-left > ${c}-wrap`]:{flexDirection:"row",left:{_skip_check_:!0,value:"auto"},right:{_skip_check_:!0,value:u(s).add(r).equal()},"&::after":{content:'""',position:"absolute",width:r,height:"100%",right:{_skip_check_:!0,value:u(r).mul(-1).equal()}}},[`${c}-circle`]:{gap:r,[`${c}-wrap`]:{gap:r}},[`${c}-square`]:{[`${n}-square`]:{padding:0,borderRadius:0,[`&${c}-trigger`]:{borderRadius:a},"&:first-child":{borderStartStartRadius:a,borderStartEndRadius:a},"&:last-child":{borderEndStartRadius:a,borderEndEndRadius:a},"&:not(:last-child)":{borderBottom:`${_(t.lineWidth)} ${t.lineType} ${t.colorSplit}`},[`${o}-badge`]:{[`${o}-badge-count`]:{top:u(u(m).add(d)).mul(-1).equal(),insetInlineEnd:u(u(m).add(d)).mul(-1).equal()}}},[`${c}-wrap`]:{borderRadius:a,boxShadow:t.boxShadowSecondary,[`${n}-square`]:{boxShadow:"none",borderRadius:0,padding:m,[`${n}-body`]:{width:t.floatButtonBodySize,height:t.floatButtonBodySize,borderRadius:i}}}},[`${c}-top > ${c}-wrap, ${c}-bottom > ${c}-wrap`]:{[`> ${n}-square`]:{"&:first-child":{borderStartStartRadius:a,borderStartEndRadius:a},"&:last-child":{borderEndStartRadius:a,borderEndEndRadius:a},"&:not(:last-child)":{borderBottom:`${_(t.lineWidth)} ${t.lineType} ${t.colorSplit}`}}},[`${c}-left > ${c}-wrap, ${c}-right > ${c}-wrap`]:{[`> ${n}-square`]:{"&:first-child":{borderStartStartRadius:a,borderEndStartRadius:a},"&:last-child":{borderStartEndRadius:a,borderEndEndRadius:a},"&:not(:last-child)":{borderBottom:"none",borderInlineEnd:`${_(t.lineWidth)} ${t.lineType} ${t.colorSplit}`}}},[`${c}-circle-shadow`]:{boxShadow:"none"},[`${c}-square-shadow`]:{boxShadow:t.boxShadowSecondary,[`${n}-square`]:{boxShadow:"none",padding:m,[`${n}-body`]:{width:t.floatButtonBodySize,height:t.floatButtonBodySize,borderRadius:i}}}}},mo=t=>{const{antCls:o,componentCls:n,floatButtonBodyPadding:s,floatButtonIconSize:r,floatButtonSize:a,borderRadiusLG:i,badgeOffset:d,dotOffsetInSquare:m,dotOffsetInCircle:p,zIndexPopupBase:u,calc:c}=t;return{[n]:Object.assign(Object.assign({},Fe(t)),{border:"none",position:"fixed",cursor:"pointer",zIndex:u,display:"block",width:a,height:a,insetInlineEnd:t.floatButtonInsetInlineEnd,bottom:t.floatButtonInsetBlockEnd,boxShadow:t.boxShadowSecondary,"&-pure":{position:"relative",inset:"auto"},"&:empty":{display:"none"},[`${o}-badge`]:{width:"100%",height:"100%",[`${o}-badge-count`]:{transform:"translate(0, 0)",transformOrigin:"center",top:c(d).mul(-1).equal(),insetInlineEnd:c(d).mul(-1).equal()}},[`${n}-body`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",transition:`all ${t.motionDurationMid}`,[`${n}-content`]:{overflow:"hidden",textAlign:"center",minHeight:a,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:`${_(c(s).div(2).equal())} ${_(s)}`,[`${n}-icon`]:{textAlign:"center",margin:"auto",width:r,fontSize:r,lineHeight:1}}}}),[`${n}-rtl`]:{direction:"rtl"},[`${n}-circle`]:{height:a,borderRadius:"50%",[`${o}-badge`]:{[`${o}-badge-dot`]:{top:p,insetInlineEnd:p}},[`${n}-body`]:{borderRadius:"50%"}},[`${n}-square`]:{height:"auto",minHeight:a,borderRadius:i,[`${o}-badge`]:{[`${o}-badge-dot`]:{top:m,insetInlineEnd:m}},[`${n}-body`]:{height:"auto",borderRadius:i}},[`${n}-default`]:{backgroundColor:t.floatButtonBackgroundColor,transition:`background-color ${t.motionDurationMid}`,[`${n}-body`]:{backgroundColor:t.floatButtonBackgroundColor,transition:`background-color ${t.motionDurationMid}`,"&:hover":{backgroundColor:t.colorFillContent},[`${n}-content`]:{[`${n}-icon`]:{color:t.colorText},[`${n}-description`]:{display:"flex",alignItems:"center",lineHeight:_(t.fontSizeLG),color:t.colorText,fontSize:t.fontSizeSM}}}},[`${n}-primary`]:{backgroundColor:t.colorPrimary,[`${n}-body`]:{backgroundColor:t.colorPrimary,transition:`background-color ${t.motionDurationMid}`,"&:hover":{backgroundColor:t.colorPrimaryHover},[`${n}-content`]:{[`${n}-icon`]:{color:t.colorTextLightSolid},[`${n}-description`]:{display:"flex",alignItems:"center",lineHeight:_(t.fontSizeLG),color:t.colorTextLightSolid,fontSize:t.fontSizeSM}}}}}},po=t=>({dotOffsetInCircle:ze(t.controlHeightLG/2),dotOffsetInSquare:ze(t.borderRadiusLG)}),Ze=gt("FloatButton",t=>{const{colorTextLightSolid:o,colorBgElevated:n,controlHeightLG:s,marginXXL:r,marginLG:a,fontSize:i,fontSizeIcon:d,controlItemBgHover:m,paddingXXS:p,calc:u}=t,c=jt(t,{floatButtonBackgroundColor:n,floatButtonColor:o,floatButtonHoverBackgroundColor:m,floatButtonFontSize:i,floatButtonIconSize:u(d).mul(1.5).equal(),floatButtonSize:s,floatButtonInsetBlockEnd:r,floatButtonInsetInlineEnd:a,floatButtonBodySize:u(s).sub(u(p).mul(2)).equal(),floatButtonBodyPadding:p,badgeOffset:u(p).mul(1.5).equal()});return[uo(c),mo(c),bt(t),lo(c)]},po);var ho=function(t,o){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&o.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)o.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};const ne="float-btn",fo=g.forwardRef((t,o)=>{const{prefixCls:n,className:s,rootClassName:r,style:a,type:i="default",shape:d="circle",icon:m,description:p,tooltip:u,htmlType:c="button",badge:j={}}=t,v=ho(t,["prefixCls","className","rootClassName","style","type","shape","icon","description","tooltip","htmlType","badge"]),{getPrefixCls:h,direction:$}=f.useContext(le),I=f.useContext(je),y=h(ne,n),x=De(y),[R,U,M]=Ze(y,x),D=I||d,L=q(U,M,x,y,s,r,`${y}-${i}`,`${y}-${D}`,{[`${y}-rtl`]:$==="rtl"}),[W]=Le("FloatButton",a?.zIndex),G=Object.assign(Object.assign({},a),{zIndex:W}),E=vt(j,["title","children","status","text"]);let b=g.createElement("div",{className:`${y}-body`},g.createElement(co,{prefixCls:y,description:p,icon:m}));"badge"in t&&(b=g.createElement(Jt,Object.assign({},E),b));const C=yt(u);return C&&(b=g.createElement(de,Object.assign({},C),b)),R(t.href?g.createElement("a",Object.assign({ref:o},v,{className:L,style:G}),b):g.createElement("button",Object.assign({ref:o},v,{className:L,style:G,type:c}),b))}),T=fo;var xo=function(t,o){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&o.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)o.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};const go=g.createElement(Qt,null),Je=g.forwardRef((t,o)=>{var n;const{backTopIcon:s}=Ge("floatButton"),{prefixCls:r,className:a,type:i="default",shape:d="circle",visibilityHeight:m=400,icon:p,target:u,onClick:c,duration:j=450}=t,v=xo(t,["prefixCls","className","type","shape","visibilityHeight","icon","target","onClick","duration"]),h=(n=p??s)!==null&&n!==void 0?n:go,[$,I]=f.useState(m===0),y=g.useRef(null);g.useImperativeHandle(o,()=>({nativeElement:y.current}));const x=()=>{var b;return((b=y.current)===null||b===void 0?void 0:b.ownerDocument)||window},R=oo(b=>{const C=Zt(b.target);I(C>=m)});f.useEffect(()=>{const C=(u||x)();return R({target:C}),C?.addEventListener("scroll",R),()=>{R.cancel(),C?.removeEventListener("scroll",R)}},[u]);const U=b=>{Xt(0,{getContainer:u||x,duration:j}),c?.(b)},{getPrefixCls:M}=f.useContext(le),D=M(ne,r),L=M(),G=f.useContext(je)||d,E=Object.assign({prefixCls:D,icon:h,type:i,shape:G},v);return g.createElement(ke,{visible:$,motionName:`${L}-fade`},({className:b},C)=>g.createElement(T,Object.assign({ref:St(y,C)},E,{onClick:U,className:q(a,b)})))});var jo=function(t,o){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&o.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)o.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};const Ke=t=>{var o;const{prefixCls:n,className:s,style:r,shape:a="circle",type:i="default",placement:d="top",icon:m=g.createElement(Xe,null),closeIcon:p,description:u,trigger:c,children:j,onOpenChange:v,open:h,onClick:$}=t,I=jo(t,["prefixCls","className","style","shape","type","placement","icon","closeIcon","description","trigger","children","onOpenChange","open","onClick"]),{direction:y,getPrefixCls:x,closeIcon:R}=Ge("floatButtonGroup"),U=(o=p??R)!==null&&o!==void 0?o:g.createElement(He,null),M=x(ne,n),D=De(M),[L,W,G]=Ze(M,D),E=`${M}-group`,b=c&&["click","hover"].includes(c),C=d&&["top","left","right","bottom"].includes(d),it=q(E,W,G,D,s,{[`${E}-rtl`]:y==="rtl",[`${E}-${a}`]:a,[`${E}-${a}-shadow`]:!b,[`${E}-${d}`]:b&&C}),[ct]=Le("FloatButton",r?.zIndex),lt=Object.assign(Object.assign({},r),{zIndex:ct}),dt=q(W,`${E}-wrap`),[Q,ut]=It(!1,{value:h}),Te=g.useRef(null),Be=c==="hover",re=c==="click",X=Ot(B=>{Q!==B&&(ut(B),v?.(B))}),mt=()=>{Be&&X(!0)},pt=()=>{Be&&X(!1)},ht=B=>{re&&X(!Q),$?.(B)};return g.useEffect(()=>{if(re){const B=ft=>{var ae;!((ae=Te.current)===null||ae===void 0)&&ae.contains(ft.target)||X(!1)};return document.addEventListener("click",B,{capture:!0}),()=>document.removeEventListener("click",B,{capture:!0})}},[re]),L(g.createElement(no,{value:a},g.createElement("div",{ref:Te,className:it,style:lt,onMouseEnter:mt,onMouseLeave:pt},b?g.createElement(g.Fragment,null,g.createElement(ke,{visible:Q,motionName:`${E}-wrap`},({className:B})=>g.createElement("div",{className:q(B,dt)},j)),g.createElement(T,Object.assign({type:i,icon:Q?U:m,description:u,"aria-label":t["aria-label"],className:`${E}-trigger`,onClick:ht},I))):j)))};var et=function(t,o){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&o.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)o.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};const qe=t=>{var{backTop:o}=t,n=et(t,["backTop"]);return o?f.createElement(Je,Object.assign({},n,{visibilityHeight:0})):f.createElement(T,Object.assign({},n))},bo=t=>{var{className:o,items:n}=t,s=et(t,["className","items"]);const{prefixCls:r}=s,{getPrefixCls:a}=f.useContext(le),d=`${a(ne,r)}-pure`;return n?f.createElement(Ke,Object.assign({className:q(o,d)},s),n.map((m,p)=>f.createElement(qe,Object.assign({key:p},m)))):f.createElement(qe,Object.assign({className:q(o,d)},s))};T.BackTop=Je;T.Group=Ke;T._InternalPanelDoNotUseOrYouWillBeFired=bo;var vo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 128c-212.1 0-384 171.9-384 384v360c0 13.3 10.7 24 24 24h184c35.3 0 64-28.7 64-64V624c0-35.3-28.7-64-64-64H200v-48c0-172.3 139.7-312 312-312s312 139.7 312 312v48H688c-35.3 0-64 28.7-64 64v208c0 35.3 28.7 64 64 64h184c13.3 0 24-10.7 24-24V512c0-212.1-171.9-384-384-384zM328 632v192H200V632h128zm496 192H696V632h128v192z"}}]},name:"customer-service",theme:"outlined"},yo=function(o,n){return f.createElement(ee,te({},o,{ref:n,icon:vo}))},So=f.forwardRef(yo),Io={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.7L639.4 73.4c-6-6-14.2-9.4-22.7-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.6-9.4-22.6zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM402 549c0 5.4 4.4 9.5 9.8 9.5h32.4c5.4 0 9.8-4.2 9.8-9.4 0-28.2 25.8-51.6 58-51.6s58 23.4 58 51.5c0 25.3-21 47.2-49.3 50.9-19.3 2.8-34.5 20.3-34.7 40.1v32c0 5.5 4.5 10 10 10h32c5.5 0 10-4.5 10-10v-12.2c0-6 4-11.5 9.7-13.3 44.6-14.4 75-54 74.3-98.9-.8-55.5-49.2-100.8-108.5-101.6-61.4-.7-111.5 45.6-111.5 103zm78 195a32 32 0 1064 0 32 32 0 10-64 0z"}}]},name:"file-unknown",theme:"outlined"},Oo=function(o,n){return f.createElement(ee,te({},o,{ref:n,icon:Io}))},$o=f.forwardRef(Oo),Co={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M920 760H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-568H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM216 712H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h72.4v20.5h-35.7c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h35.7V838H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4V716c0-2.2-1.8-4-4-4zM100 188h38v120c0 2.2 1.8 4 4 4h40c2.2 0 4-1.8 4-4V152c0-4.4-3.6-8-8-8h-78c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4zm116 240H100c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4h68.4l-70.3 77.7a8.3 8.3 0 00-2.1 5.4V592c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4v-36c0-2.2-1.8-4-4-4h-68.4l70.3-77.7a8.3 8.3 0 002.1-5.4V432c0-2.2-1.8-4-4-4z"}}]},name:"ordered-list",theme:"outlined"},_o=function(o,n){return f.createElement(ee,te({},o,{ref:n,icon:Co}))},wo=f.forwardRef(_o);const H={ROLES_SELECTION:"ROLES_SELECTION",BOARD_SETUP:"BOARD_SETUP",INTIMIDATION:"INTIMIDATION"},se={SUBMIT_PLAYERS_ROLES:"SUBMIT_PLAYERS_ROLES",SUBMIT_SOCIAL_GROUP:"SUBMIT_SOCIAL_GROUP",SUBMIT_INTIMIDATION:"SUBMIT_INTIMIDATION",UPDATE_DETECTIVE_POSITION:"UPDATE_DETECTIVE_POSITION"},be={junior:15,sophomore:16,senior:17},ve={short:{en:"Short",pt:"Baixa"},medium:{en:"Medium",pt:"Média"},tall:{en:"Tall",pt:"Alta"}},ye={small:{en:"Small",pt:"Pequeno"},medium:{en:"Medium",pt:"Mediano"},large:{en:"Large",pt:"Grande"}},Se={female:{en:"Female",pt:"Feminino"},male:{en:"Male",pt:"Masculino"},both:{en:"Non-binary",pt:"Não-binário"}},tt={INTIMIDATE:"INTIMIDATE"};function Eo(t){const{translate:o}=F(),n=oe({actionName:"submit-player-roles",onSuccess:()=>t(2),onError:()=>t(0),successMessage:o("Ação submetida com sucesso","Action submitted successfully"),errorMessage:o("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return s=>{n({action:se.SUBMIT_PLAYERS_ROLES,...s})}}function To(){const{translate:t}=F(),o=oe({actionName:"submit-social-group",successMessage:t("Ação submetida com sucesso","Action submitted successfully"),errorMessage:t("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return n=>{o({action:se.SUBMIT_SOCIAL_GROUP,...n})}}function Bo(){const{translate:t}=F(),o=oe({actionName:"update-detective-location",successMessage:t("Ação submetida com sucesso","Action submitted successfully"),errorMessage:t("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return n=>{o({action:se.UPDATE_DETECTIVE_POSITION,...n})}}function No(){const{translate:t}=F(),o=oe({actionName:"submit-intimidation",successMessage:t("Ação submetida com sucesso","Action submitted successfully"),errorMessage:t("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return n=>{o({action:se.SUBMIT_INTIMIDATION,...n})}}function Po({players:t,state:o}){const{step:n,setStep:s}=pe(),r=Eo(s),a=p=>{const u=Object.values(t).find(c=>c.id!==p)?.id??"";r({gossiperPlayerId:p,detectivePlayerId:u})},i=e.jsx(K,{icon:e.jsx(Mt,{}),title:e.jsx(l,{pt:"Quem quer ser o fofoqueiro?",en:"Who will be the gossiper?"}),currentRound:o?.round?.current,type:"overlay",duration:4}),d=e.jsx(l,{pt:"Quem quer ser o fofoqueiro?",en:"Who will be the gossiper?"}),m=e.jsx(l,{en:e.jsx(e.Fragment,{children:"The gossiper will have to intimidate students and spread rumors about them while the detective tries to figure out who the gossiper is."}),pt:e.jsx(e.Fragment,{children:"O fofoqueiro terá que intimidar estudantes e espalhar rumores sobre eles enquanto o detetive tenta descobrir quem é o fofoqueiro."})});return e.jsx(he,{phase:o?.phase,allowedPhase:H.ROLES_SELECTION,children:e.jsx(fe,{step:n,players:t,children:e.jsx(zt,{players:t,announcement:i,titleProps:{children:e.jsx(e.Fragment,{children:d}),size:"small"},ruleInstructionProps:{children:e.jsx(e.Fragment,{children:m}),type:"lore"},onSubmitPlayer:a})})})}function ot(t){return f.useMemo(()=>{const o={},n={},s={},r={},a={};return Object.values(t).forEach(({gender:i,age:d,build:m,height:p,socialGroupId:u})=>{o[i]=(o[i]??0)+1,n[m]=(n[m]??0)+1,s[p]=(s[p]??0)+1,r[d]=(r[d]??0)+1,a[u]=(a[u]??0)+1}),{gendersDict:o,buildsDict:n,heightsDict:s,agesDict:r,socialGroupsDict:a}},[t])}function Ro({maxWidth:t,maxHeight:o,children:n,transformWrapperProps:s,hideControls:r=!1,contentStyle:a={},wrapperClassName:i,contentClassName:d}){const{initialScale:m=1,minScale:p=.25,maxScale:u=4,wheel:c={step:.5},centerOnInit:j=!0,...v}=s??{};return e.jsx(Lt,{initialScale:m,minScale:p,maxScale:u,wheel:c,centerOnInit:j,...v,children:e.jsxs(f.Fragment,{children:[!r&&e.jsx(Ae,{position:"top"}),e.jsx(Gt,{wrapperClass:A("zoom-pan-pinch-wrapper",i),wrapperStyle:{maxWidth:t,maxHeight:o},contentClass:A("zoom-pan-pinch-content",d),contentStyle:a,children:e.jsx("div",{style:{maxWidth:t,maxHeight:o},children:n})}),!r&&e.jsx(Ae,{position:"bottom"})]})})}function Ae({position:t}){const{zoomIn:o,zoomOut:n,resetTransform:s}=kt();return e.jsxs(Ve.Compact,{size:"small",className:A("zoom-pan-pinch-controls",`zoom-pan-pinch-controls--${t}`),children:[e.jsx(S,{onClick:()=>o(),children:e.jsx(Ue,{})}),e.jsx(S,{onClick:()=>n(),children:e.jsx(We,{})}),e.jsx(S,{onClick:()=>s(),children:e.jsx(Ht,{})})]})}const Mo="/tardedivertida/assets/student-icons-Dw5W8zN6.svg";function P({iconId:t,tooltip:o,...n}){return e.jsx(de,{title:o&&e.jsx(w,{children:o}),children:e.jsx(ue,{shape:"square",...n,src:e.jsx("svg",{viewBox:"0 0 512 512",style:{width:"32px",height:"32px"},children:e.jsx("use",{href:`${Mo}#${t}`})})})})}function nt({socialGroup:t,size:o}){return e.jsx(P,{iconId:t.id,tooltip:t.name,style:{backgroundColor:t.colors.primary},shape:"circle",size:o})}function Ie({gender:t,size:o}){const n=Se[t];return e.jsx(P,{iconId:t,shape:"circle",size:o,tooltip:{en:`Gender ${n.en}`,pt:`Gênero ${n.pt}`},className:A("student-icon__gender",`student-icon__gender--${t}`)})}function Oe({age:t,size:o}){const n=be[t];return e.jsx(de,{title:e.jsx(l,{en:`Age ${n} years old`,pt:`Idade ${n} anos`}),children:e.jsx(ue,{className:A("student-icon__age",`student-icon__age--${t}`),shape:"circle",size:o,children:n})})}function $e({build:t,size:o}){const n=ye[t];return e.jsx(P,{iconId:`build-${t}`,shape:"circle",size:o,tooltip:{en:`Build ${n.en}`,pt:`Corpo ${n.pt}`},className:A("student-icon__build",`student-icon__build--${t}`)})}function Ce({height:t,size:o}){const n=ve[t];return e.jsx(P,{iconId:`height-${t}`,shape:"circle",size:o,tooltip:{en:`Height ${n.en}`,pt:`Altura ${n.pt}`},className:A("student-icon__height",`student-icon__height--${t}`)})}function st({student:t,socialGroup:o,showInfo:n,className:s}){const r=Vt("images"),a=t.id.replace(/-/g,"/"),{translate:i}=F();return e.jsx("div",{className:A("student-card",{"student-card--intimidated":t.intimidated},s),style:{backgroundImage:`url(${r}/${a}.jpg)`,backgroundSize:"cover",backgroundPosition:"center",borderColor:o?.colors?.primary},children:n&&e.jsxs("div",{className:"student-card__info",children:[e.jsxs(O,{gap:2,align:"center",vertical:!0,className:"student-card__icons",children:[e.jsx(nt,{socialGroup:o,size:"small"}),e.jsx(Ie,{gender:t.gender,size:"small"}),e.jsx(Oe,{age:t.age,size:"small"}),e.jsx($e,{build:t.build,size:"small"}),e.jsx(Ce,{height:t.height,size:"small"})]}),e.jsx("div",{className:"student-card__name",children:i(t.name.pt,t.name.en).split(" ")[0]})]})})}const rt=({children:t,onClose:o,open:n})=>{const[s,r]=f.useState(1),[a,i]=f.useState(0),[d,m]=f.useState(!1),[p,u]=f.useState(!1),c=()=>r(x=>Math.min(x+.1,2)),j=()=>r(x=>Math.max(x-.1,.5)),v=()=>i(x=>x-45),h=()=>i(x=>x+45),$=()=>m(x=>!x),I=()=>u(x=>!x);if(!n)return null;const y=x=>{x.target===x.currentTarget&&o()};return e.jsx(Pe,{children:e.jsx(Re.div,{className:"simple-modal-overlay",onClick:y,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.1},children:e.jsx(Pe,{children:e.jsxs(Re.div,{className:"simple-modal-overlay__content",initial:{opacity:0,scale:.85},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.3},transition:{duration:.05},children:[e.jsx(S,{shape:"circle",size:"large",ghost:!0,variant:"outlined",className:"simple-modal-overlay__close",onClick:o,icon:e.jsx(He,{})}),e.jsx("div",{className:"simple-modal-overlay__body",style:{transform:`scale(${s}) rotate(${a}deg) scaleX(${d?-1:1}) scaleY(${p?-1:1})`},children:t}),e.jsx("div",{className:"simple-modal-overlay__controls-container",children:e.jsxs(Ve.Compact,{className:"simple-modal-overlay__controls",children:[e.jsx(S,{onClick:c,ghost:!0,icon:e.jsx(Ue,{})}),e.jsx(S,{onClick:j,ghost:!0,icon:e.jsx(We,{})}),e.jsx(S,{onClick:v,ghost:!0,icon:e.jsx($t,{})}),e.jsx(S,{onClick:h,ghost:!0,icon:e.jsx(Ct,{})}),e.jsx(S,{onClick:$,ghost:!0,icon:e.jsx(Me,{})}),e.jsx(S,{onClick:I,ghost:!0,icon:e.jsx(Me,{style:{rotate:"90deg"}})})]})})]})})})})};function zo({id:t,staffMembers:o}){const n=o[t],[s,r]=Wt(!1);return e.jsxs("div",{className:"staff-member",children:[e.jsx(S,{onClick:r,size:"small",icon:e.jsx(P,{iconId:n.type}),type:"text"}),e.jsx(qo,{staffMember:n,open:s,onClose:r})]})}function qo({staffMember:t,open:o,onClose:n}){return e.jsx(rt,{onClose:n,open:o,children:e.jsx(Qe,{children:e.jsxs("div",{className:"student-details",children:[e.jsx(Ut,{id:t.id}),e.jsxs("div",{children:[e.jsxs("div",{className:"student-details__name",children:[e.jsx(P,{iconId:t.type})," ",e.jsx(w,{children:t.name})]}),e.jsxs("div",{className:"student-details__title",children:[e.jsx(N,{color:"blue-inverse",children:e.jsx(l,{en:"Action for the Detective",pt:"Ação para o Detetive"})}),e.jsx(w,{children:t.description})]})]})]})})})}const Ao="/tardedivertida/assets/school-board-QFBmmufZ.jpg";function _e({schoolBoard:t,students:o,socialGroups:n,selectStudent:s,staff:r}){return e.jsx(Ro,{maxWidth:256*4,transformWrapperProps:{minScale:.5,maxScale:2,smooth:!0},children:e.jsx("div",{className:"school-board",style:{backgroundImage:`url(${Ao})`,backgroundSize:"cover",backgroundPosition:"center",width:4*256,height:4*256,gridTemplateColumns:"repeat(4, 250px)",gridTemplateRows:"repeat(4, 250px)"},children:t.map(i=>e.jsxs("div",{className:"school-location",children:[e.jsxs("div",{className:"school-location__header",children:[e.jsx("div",{className:"school-location__name",children:e.jsx(w,{children:i.name})}),i.staff&&e.jsxs("div",{className:"school-location__staff-member",children:[e.jsx(zo,{id:i.staff,staffMembers:r})," "]})]}),e.jsx("div",{className:"school-location__students",children:i.students.map(d=>e.jsx(_t,{onClick:()=>s(d),hoverType:"tint",className:"school-location__student-button",children:e.jsx(st,{student:o[d],socialGroup:n[o[d].socialGroupId],showInfo:!0},d)},d))}),e.jsx("div",{className:"school-location__footer",children:"D"})]},i.id))})})}function we({student:t,socialGroups:o,gossiperId:n,bestFriendId:s,closeModal:r,showSecrets:a,actionType:i,onPerformAction:d}){const m=o[t.socialGroupId];return e.jsx(rt,{onClose:r,open:!0,children:e.jsx(Qe,{children:e.jsxs("div",{className:"student-details",children:[e.jsx(st,{student:t,socialGroup:o[t.socialGroupId],className:"student-details__student-card"}),e.jsxs("div",{children:[e.jsxs("div",{className:"student-details__header",children:[e.jsxs("div",{className:"student-details__identification",children:[e.jsx("div",{className:"student-details__name",children:e.jsx(w,{children:t.name})}),e.jsx("div",{className:"student-details__title",children:e.jsx(w,{children:t.title})}),e.jsxs(O,{align:"center",className:"student-details__social-group",children:[e.jsx(P,{iconId:t.socialGroupId,tooltip:{en:"Social Group",pt:"Grupo Social"},style:{backgroundColor:m.colors.primary},shape:"circle",size:"large"}),e.jsx(N,{color:m.colors.primary,className:"student-details__social-group-name",bordered:!0,children:e.jsx(w,{children:m.name})})]})]}),e.jsxs(O,{gap:6,vertical:!0,className:"student-details__icons",children:[e.jsxs("span",{children:[e.jsx(w,{children:Se[t.gender]})," ",e.jsx(Ie,{gender:t.gender})]}),e.jsxs("span",{children:[be[t.age]," ",e.jsx(l,{en:"years old",pt:"anos"})," ",e.jsx(Oe,{age:t.age})]}),e.jsxs("span",{children:[e.jsx(w,{children:ye[t.build]})," ",e.jsx($e,{build:t.build})]}),e.jsxs("span",{children:[e.jsx(w,{children:ve[t.height]})," ",e.jsx(Ce,{height:t.height})]})]})]}),e.jsx(Yt,{}),e.jsx(O,{vertical:!0,gap:3,className:"student-details__secrets",children:t.intimidated&&e.jsx(J,{message:e.jsx(l,{en:"This student has been intimidated. They cannot be questioned unless the detective first comfort them",pt:"Esse estudante está intimidado. Ele(a) não pode ser questionado(a) a menos que o detetive o(a) console primeiro"}),showIcon:!0,icon:e.jsx(P,{iconId:"intimidated"}),banner:!0})}),a&&e.jsxs(O,{vertical:!0,gap:3,className:"student-details__secrets",children:[t.id===n&&e.jsx(J,{message:e.jsx(l,{en:"This student is the gossiper",pt:"Esse estudante é o fofoqueiro"}),type:"error",showIcon:!0,banner:!0}),t.id===s&&e.jsx(J,{message:e.jsx(l,{en:"This student is the best friend",pt:"Esse estudante é o melhor amigo"}),type:"warning",showIcon:!0,banner:!0}),t.canLie&&e.jsx(J,{message:e.jsx(l,{en:"This student can lie for you",pt:"Esse estudante pode mentir"}),type:"info",showIcon:!0,banner:!0})]}),i===tt.INTIMIDATE&&Fo(t)&&e.jsx(O,{justify:"center",children:e.jsx(me,{onClick:()=>d?.(t.id),type:"primary",size:"large",block:!0,children:e.jsx(l,{en:"Intimidate",pt:"Intimidar"})})})]})]})})})}const Fo=t=>!t.rumored&&!t.intimidated;function Ee({students:t,socialGroups:o}){const{language:n}=F(),s=ot(t),r=f.useMemo(()=>({ages:k.orderBy(Object.entries(s.agesDict).map(([a,i])=>({id:a,label:be[a],count:i})),"label","asc"),builds:k.orderBy(Object.entries(s.buildsDict).map(([a,i])=>({id:a,label:ye[a],count:i})),`label.${n}`,"asc"),genders:k.orderBy(Object.entries(s.gendersDict).map(([a,i])=>({id:a,label:Se[a],count:i})),`label.${n}`,"asc"),heights:k.orderBy(Object.entries(s.heightsDict).map(([a,i])=>({id:a,label:ve[a],count:i})),`label.${n}`,"asc"),socialGroups:k.orderBy(Object.entries(s.socialGroupsDict).map(([a,i])=>({id:a,label:o[a].name,count:i})),`label.${n}`,"asc")}),[s,n,o]);return e.jsxs("div",{className:"board-summary",children:[e.jsx(wt.Title,{level:4,children:e.jsx(l,{en:"Summary",pt:"Resumo"})}),e.jsxs("div",{className:"board-summary__data",children:[e.jsxs(O,{vertical:!0,gap:3,children:[e.jsx("div",{className:"board-summary__label",children:e.jsx(l,{en:"Social Groups",pt:"Grupos Sociais"})}),r.socialGroups.map(({id:a,label:i,count:d})=>e.jsxs("div",{children:[e.jsx(nt,{socialGroup:o[a]})," ",d]},i.en))]}),e.jsxs(O,{vertical:!0,gap:6,children:[e.jsx("div",{className:"board-summary__label",children:e.jsx(l,{en:"Genders",pt:"Gêneros"})}),e.jsx(O,{vertical:!0,gap:3,children:r.genders.map(({id:a,count:i})=>e.jsxs("span",{children:[e.jsx(Ie,{gender:a,size:"small"})," ",i]},a))}),e.jsx("div",{className:"board-summary__label",children:e.jsx(l,{en:"Ages",pt:"Idades"})}),e.jsx(O,{vertical:!0,gap:3,children:r.ages.map(({id:a,count:i})=>e.jsxs("span",{children:[e.jsx(Oe,{age:a,size:"small"})," ",i]},a))})]}),e.jsxs(O,{vertical:!0,gap:6,children:[e.jsx("div",{className:"board-summary__label",children:e.jsx(l,{en:"Builds",pt:"Corpos"})}),e.jsx(O,{vertical:!0,gap:3,children:r.builds.map(({id:a,count:i})=>e.jsxs("span",{children:[e.jsx($e,{build:a,size:"small"})," ",i]},a))}),e.jsx("div",{className:"board-summary__label",children:e.jsx(l,{en:"Alturas",pt:"Heights"})}),e.jsx(O,{vertical:!0,gap:3,children:r.heights.map(({id:a,count:i})=>e.jsxs("span",{children:[e.jsx(Ce,{height:a,size:"small"})," ",i]},a))})]})]})]})}function Do({students:t,gossiperId:o,bestFriendId:n,motivation:s,onOpenStudentModal:r}){return e.jsxs(e.Fragment,{children:[e.jsxs(Y,{type:"lore",className:"text-left",children:[e.jsx(l,{en:"You are the gossiper and must spread rumors about 5 of your classmates, one round at a time.",pt:"Você é o fofoqueiro e deve espalhar boatos sobre 5 de seus colegas de classe, uma vez por rodada."}),e.jsx("br",{}),e.jsx(N,{color:"red",children:e.jsx(l,{en:"You",pt:"Você"})})," ",e.jsx(S,{size:"small",onClick:()=>r(o),icon:e.jsx(ce,{}),children:e.jsx(w,{children:t[o].name})}),n&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx(l,{en:"You have a best friend that will lie for you if needed.",pt:"Você tem um melhor amigo que mentirá por você se necessário."}),e.jsx("br",{}),e.jsx(N,{color:"orange",children:e.jsx(l,{en:"Best Friend",pt:"Melhor Amigo"})})," ",e.jsx(S,{size:"small",onClick:()=>r(n),icon:e.jsx(ce,{}),children:e.jsx(w,{children:t[n].name})})]})]}),e.jsxs(Y,{type:"event",className:"text-left",children:[e.jsx(l,{en:"Your motivation determines how you can spread gossip and figuring it out is one of the Detective's goals.",pt:"Sua motivação determina como você pode espalhar boatos e descobri-la é um dos objetivos do Detetive."}),e.jsx("br",{}),e.jsxs("span",{children:[e.jsx(N,{color:"blue",children:e.jsx(l,{en:"Motivation",pt:"Motivação"})})," ",e.jsx(w,{children:s.title}),":"," ",e.jsx("i",{children:e.jsx(w,{children:s.description})})]}),e.jsx("br",{})]})]})}function Lo({user:t,announcement:o,schoolBoard:n,socialGroups:s,students:r,gossiperId:a,bestFriendId:i,staff:d,motivations:m,gossiperMotivationIndex:p,onSubmitAssociatedSocialGroup:u}){const[c,j]=f.useState(null),v=m[p],[h,$]=f.useState(null),I=ot(r),y=()=>{h&&u({associatedSocialGroupId:h})};return e.jsxs(xe,{fullWidth:!0,announcement:o,children:[e.jsx(ge,{children:e.jsx(l,{pt:e.jsx(e.Fragment,{children:"Preparando a escola"}),en:e.jsx(e.Fragment,{children:"Setting up the school"})})}),e.jsx(_e,{schoolBoard:n,students:r,socialGroups:s,selectStudent:j,staff:d}),e.jsx(V,{contained:!0,children:e.jsxs(O,{justify:"center",children:[e.jsx(Ee,{students:r,socialGroups:s}),e.jsxs("div",{children:[e.jsx(Do,{motivation:v,students:r,gossiperId:a,bestFriendId:i,onOpenStudentModal:$}),e.jsxs(Y,{type:"action",className:"text-left",children:[e.jsx(l,{en:"To help you with your chaos, select one of these social groups to be associated with you. They also will be able to lie for you. The numbers are how many students are in each group.",pt:"Para te ajudar com seu caos, selecione um desses grupos sociais para ser associado a você. Eles também poderão mentir por você. Os números são quantos alunos estão em cada grupo."}),e.jsx("br",{}),e.jsx(O,{gap:8,children:t?.socialGroupOptions?.map(x=>e.jsxs(S,{onClick:()=>$(x),icon:e.jsx(Et,{icon:h===x?e.jsx(Dt,{}):e.jsx(P,{iconId:x})}),type:h===x?"default":"dashed",style:{background:s[x].colors.primary,color:"white"},children:[e.jsx(w,{children:s[x].name})," ",e.jsx(ue,{size:"small",children:I.socialGroupsDict[x]})]},x))}),e.jsx("br",{}),h&&e.jsx(me,{onClick:y,block:!0,disabled:!h||!!t.associatedSocialGroupId,children:e.jsx(l,{en:"Submit",pt:"Enviar"})})]})]})]})}),c&&e.jsx(we,{student:r[c],socialGroups:s,gossiperId:a,bestFriendId:i,closeModal:()=>j(null),showSecrets:t.role==="gossiper"})]})}function at({bestFriendId:t}){return e.jsxs(Y,{type:"lore",className:"text-left",children:[e.jsx(l,{en:e.jsxs(e.Fragment,{children:["You are detective and must ",e.jsx("strong",{children:"find out which student is the gossiper"}),"."]}),pt:e.jsxs(e.Fragment,{children:["Você é o detetive e deve descobrir ",e.jsx("strong",{children:"qual aluno é o fofoqueiro."})]})}),e.jsx("br",{}),e.jsx(N,{color:"red",children:e.jsx(l,{en:"Gossiper",pt:"Fofoqueiro"})})," ",e.jsx(S,{size:"small",children:"?"}),e.jsx("br",{}),e.jsx(l,{en:e.jsxs(e.Fragment,{children:["You will also need to figure out ",e.jsx("strong",{children:"which of the 6 motivations"})," the gossiper has."]}),pt:e.jsxs(e.Fragment,{children:["Você também precisará descobrir ",e.jsx("strong",{children:"qual das 6 motivações"})," o fofoqueiro tem."]})}),e.jsx("br",{}),e.jsx(N,{color:"red",children:e.jsx(l,{en:"Motivation",pt:"Motivação"})})," ",e.jsx(S,{size:"small",children:"?"}),t&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx(l,{en:"The gossiper also has a best friend who will lie for them. You don't need to figure out who it is, but keep it in mind.",pt:"O fofoqueiro também tem um melhor amigo que mentirá por ele. Você não precisa descobrir quem é, mas mantenha isso em mente."}),e.jsx("br",{}),e.jsx(N,{color:"orange",children:e.jsx(l,{en:"Best Friend",pt:"Melhor Amigo"})})," ",e.jsx(S,{size:"small",children:"-"})]}),e.jsx("br",{}),e.jsx(l,{en:"The gossiper will also have an allied social group that could lie for them.",pt:"O fofoqueiro também terá um grupo social aliado que poderá mentir por ele."}),e.jsx("br",{}),e.jsx(N,{color:"orange",children:e.jsx(l,{en:"Allied Social Group",pt:"Grupo Social Aliado"})})," ",e.jsx(S,{size:"small",children:"-"})]})}function Go(){return e.jsxs(T.Group,{trigger:"hover",type:"primary",shape:"square",icon:e.jsx(So,{}),children:[e.jsx(T,{tooltip:e.jsx(l,{en:"Game Phases",pt:"Fases do Jogo"}),icon:e.jsx(wo,{})}),e.jsx(T,{tooltip:e.jsx(l,{en:"Board Summary",pt:"Resumo"}),icon:e.jsx(Kt,{})}),e.jsx(T,{tooltip:e.jsx(l,{en:"Motivations",pt:"Motivações"}),icon:e.jsx(ce,{})}),e.jsx(T,{tooltip:e.jsx(l,{en:"Questions",pt:"Sugestões de Perguntas"}),icon:e.jsx($o,{})}),e.jsx(T,{tooltip:e.jsx(l,{en:"Notebook",pt:"Blocos de Notas"})})]})}function ko({user:t,announcement:o,schoolBoard:n,socialGroups:s,students:r,gossiperId:a,bestFriendId:i,staff:d,onSubmitDetectiveLocation:m}){const{dualTranslate:p}=F(),[u,c]=f.useState(null),[j,v]=f.useState(null),h=()=>{j!==null&&m({locationId:j,shouldReady:!0})},$=k.orderBy(n.map((y,x)=>({label:p(y.name),value:x})),"label"),I=t.locationId!==null&&t.locationId!==void 0;return e.jsxs(xe,{fullWidth:!0,announcement:o,children:[e.jsx(ge,{children:e.jsx(l,{pt:e.jsx(e.Fragment,{children:"Preparando a escola"}),en:e.jsx(e.Fragment,{children:"Setting up the school"})})}),e.jsx(Go,{}),e.jsx(_e,{schoolBoard:n,students:r,socialGroups:s,selectStudent:c,staff:d}),e.jsx(V,{contained:!0,children:e.jsxs(O,{justify:"center",children:[e.jsx(Ee,{students:r,socialGroups:s}),e.jsxs("div",{children:[e.jsx(at,{bestFriendId:i}),e.jsxs(Y,{type:"action",className:"text-left",children:[e.jsx(l,{en:"To start the game, first select which location on the school map you want to start.",pt:"Para começar o jogo, primeiro selecione em qual localização do mapa da escola você quer começar."}),e.jsx("br",{}),e.jsx(eo,{options:$,onChange:v,placeholder:e.jsx(l,{en:"Select a location",pt:"Selecione um local"}),style:{width:200},disabled:I}),e.jsx("br",{}),j!==null&&e.jsx(me,{onClick:h,block:!0,disabled:I,children:e.jsx(l,{en:"Submit",pt:"Enviar"})})]})]})]})}),u&&e.jsx(we,{student:r[u],socialGroups:s,gossiperId:a,bestFriendId:i,closeModal:()=>c(null),showSecrets:t.role==="gossiper"})]})}function Ho({players:t,state:o}){const n=Ye(t,o),{step:s}=pe(),[,r]=ie("gossiperPlayerId",o,t),a=To(),i=Bo(),d=e.jsx(K,{icon:e.jsx(At,{}),title:e.jsx(l,{pt:"Quem são seus aliados",en:"Who are your allies?"}),currentRound:o?.round?.current,type:"overlay",children:e.jsx(V,{children:e.jsx(l,{en:"After looking what character you are, select one of 3 social groups to be your allies and eventually lie for you",pt:"Depois de ver qual personagem você é, selecione um dos 3 grupos sociais para serem seus aliados e eventualmente mentirem por você"})})}),m=e.jsx(K,{icon:e.jsx(qt,{}),title:e.jsx(l,{pt:"Onde você começa investigando?",en:"Where do you start investigating?"}),currentRound:o?.round?.current,type:"overlay",children:e.jsx(V,{children:e.jsx(l,{en:"Select one location as your starting position",pt:"Selecione uma localização como sua posição inicial"})})});return e.jsx(he,{phase:o?.phase,allowedPhase:H.BOARD_SETUP,children:e.jsx(fe,{step:s,players:t,children:e.jsxs(Ft,{condition:r,children:[e.jsx(Lo,{user:n,players:t,announcement:d,schoolBoard:o.schoolBoard,students:o.students,socialGroups:o.socialGroups,gossiperId:o.gossiperId,bestFriendId:o.bestFriendId,staff:o.staff,motivations:o.motivations,gossiperMotivationIndex:o.gossiperMotivationIndex,onSubmitAssociatedSocialGroup:a}),e.jsx(ko,{user:n,players:t,announcement:m,schoolBoard:o.schoolBoard,students:o.students,socialGroups:o.socialGroups,gossiperId:o.gossiperId,bestFriendId:o.bestFriendId,staff:o.staff,motivations:o.motivations,onSubmitDetectiveLocation:i})]})})})}function Vo({user:t,announcement:o,schoolBoard:n,socialGroups:s,students:r,gossiperId:a,bestFriendId:i,staff:d,onSubmitIntimidation:m,isTheGossiperPlayer:p}){const[u,c]=f.useState(null),[j,v]=f.useState(0),h=f.useMemo(()=>Object.values(r).filter(I=>!I.rumored&&!I.intimidated).length,[r]),$=I=>{v(j+1),m({intimidatedStudentId:I,shouldGoToTheNextPhase:j>=h})};return e.jsxs(xe,{fullWidth:!0,announcement:o,children:[e.jsx(ge,{children:e.jsx(l,{pt:e.jsx(e.Fragment,{children:"Intimidação de dois estudantes"}),en:e.jsx(e.Fragment,{children:"Intimidating two students"})})}),e.jsx(_e,{schoolBoard:n,students:r,socialGroups:s,selectStudent:c,staff:d}),e.jsx(V,{contained:!0,children:e.jsxs(O,{justify:"center",children:[e.jsx(Ee,{students:r,socialGroups:s}),e.jsx("div",{children:e.jsx(at,{bestFriendId:i})})]})}),u&&e.jsx(we,{student:r[u],socialGroups:s,gossiperId:a,bestFriendId:i,closeModal:()=>c(null),showSecrets:t.role==="gossiper",actionType:p?tt.INTIMIDATE:void 0,onPerformAction:p?$:void 0})]})}function Uo({players:t,state:o}){const n=Ye(t,o),{step:s}=pe(),[,r]=ie("gossiperPlayerId",o,t),[,a]=ie("detectivePlayerId",o,t),i=No(),d=e.jsx(K,{icon:e.jsx(to,{}),title:e.jsx(l,{pt:"Intimidação",en:"Intimidation"}),currentRound:o?.round?.current,type:"overlay",children:e.jsx(V,{children:e.jsx(l,{en:"The gossiper will have to intimidate two students",pt:"O fofoqueiro terá que intimidar dois estudantes"})})});return e.jsx(he,{phase:o?.phase,allowedPhase:H.INTIMIDATION,children:e.jsx(fe,{step:s,players:t,children:e.jsx(Vo,{user:n,players:t,announcement:d,schoolBoard:o.schoolBoard,students:o.students,socialGroups:o.socialGroups,gossiperId:o.gossiperId,bestFriendId:o.bestFriendId,staff:o.staff,motivations:o.motivations,onSubmitIntimidation:i,isTheGossiperPlayer:r,isTheDetectivePlayer:a})})})}function Wo(t){switch(t.phase){case H.ROLES_SELECTION:return Po;case H.BOARD_SETUP:return Ho;case H.INTIMIDATION:return Uo;case Pt.DEFAULT.GAME_OVER:return Rt;default:return Nt}}function Yn(){return e.jsx(Bt,{gameCollection:Tt.FOFOCA_QUENTE,getActiveComponent:Wo})}export{Yn as default};
