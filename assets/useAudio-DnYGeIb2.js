import{r as d}from"./index-COXNih-K.js";import{u as V}from"./useSetState-S6mCaPkB.js";var c=function(){return c=Object.assign||function(i){for(var r,n=1,v=arguments.length;n<v;n++){r=arguments[n];for(var f in r)Object.prototype.hasOwnProperty.call(r,f)&&(i[f]=r[f])}return i},c.apply(this,arguments)};function S(l){for(var i=[],r=0;r<l.length;r++)i.push({start:l.start(r),end:l.end(r)});return i}function D(l){return function(i){var r,n;d.isValidElement(i)?(r=i,n=r.props):n=i;var v=V({buffered:[],time:0,duration:0,paused:!0,muted:!1,volume:1,playing:!1}),f=v[0],o=v[1],t=d.useRef(null),a=function(e,u){return function(s){try{u&&u(s)}finally{e&&e(s)}}},p=function(){return o({paused:!1})},g=function(){return o({playing:!0})},y=function(){return o({playing:!1})},P=function(){return o({paused:!0,playing:!1})},h=function(){var e=t.current;e&&o({muted:e.muted,volume:e.volume})},C=function(){var e=t.current;if(e){var u=e.duration,s=e.buffered;o({duration:u,buffered:S(s)})}},b=function(){var e=t.current;e&&o({time:e.currentTime})},T=function(){var e=t.current;e&&o({buffered:S(e.buffered)})};r?r=d.cloneElement(r,c(c({controls:!1},n),{ref:t,onPlay:a(n.onPlay,p),onPlaying:a(n.onPlaying,g),onWaiting:a(n.onWaiting,y),onPause:a(n.onPause,P),onVolumeChange:a(n.onVolumeChange,h),onDurationChange:a(n.onDurationChange,C),onTimeUpdate:a(n.onTimeUpdate,b),onProgress:a(n.onProgress,T)})):r=d.createElement(l,c(c({controls:!1},n),{ref:t,onPlay:a(n.onPlay,p),onPlaying:a(n.onPlaying,g),onWaiting:a(n.onWaiting,y),onPause:a(n.onPause,P),onVolumeChange:a(n.onVolumeChange,h),onDurationChange:a(n.onDurationChange,C),onTimeUpdate:a(n.onTimeUpdate,b),onProgress:a(n.onProgress,T)}));var m=!1,E={play:function(){var e=t.current;if(e&&!m){var u=e.play(),s=typeof u=="object";if(s){m=!0;var M=function(){m=!1};u.then(M,M)}return u}},pause:function(){var e=t.current;if(e&&!m)return e.pause()},seek:function(e){var u=t.current;!u||f.duration===void 0||(e=Math.min(f.duration,Math.max(0,e)),u.currentTime=e)},volume:function(e){var u=t.current;u&&(e=Math.min(1,Math.max(0,e)),u.volume=e,o({volume:e}))},mute:function(){var e=t.current;e&&(e.muted=!0)},unmute:function(){var e=t.current;e&&(e.muted=!1)}};return d.useEffect(function(){var e=t.current;e&&(o({volume:e.volume,muted:e.muted,paused:e.paused}),n.autoPlay&&e.paused&&E.play())},[n.src]),[r,f,E,t]}}var _=D("audio");export{_ as u};
