import{r as o,fh as We,eu as me,c as S,a3 as fe,a1 as je,fi as xe,a4 as de,fx as Se,e7 as Ae,u as Ee,b as ke,f6 as Fe,f8 as we,S as _e,g as Xe,m as Ke,a7 as K,fk as Ue,g4 as Ye,cF as Ge,ai as Ve,g5 as Ze,fI as qe,g6 as Je,aj as Ce,a8 as Qe}from"./index-D4gYTKsU.js";import{u as et}from"./useId-Dq2w_V9U.js";const ve=o.createContext(null),Ne=o.createContext({});function pe(){return pe=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},pe.apply(this,arguments)}const tt=e=>{const{prefixCls:n,className:t,containerRef:r,...a}=e,{panel:i}=o.useContext(Ne),s=We(i,r);return o.createElement("div",pe({className:S(`${n}-section`,t),role:"dialog",ref:s},me(e,{aria:!0}),{"aria-modal":"true"},a))};function nt(e){const{prefixCls:n,direction:t,className:r,style:a,maxSize:i,containerRef:s,currentSize:b,onResize:w,onResizeEnd:$,onResizeStart:y}=e,[c,C]=o.useState(!1),[v,k]=o.useState(0),[N,R]=o.useState(0),x=t==="left"||t==="right",z=fe(p=>{p.preventDefault(),p.stopPropagation(),C(!0),k(x?p.clientX:p.clientY);let l;if(typeof b=="number")l=b;else if(s?.current){const d=s.current.getBoundingClientRect();l=x?d.width:d.height}R(l),y?.(l)}),m=fe(p=>{if(!c)return;let d=(x?p.clientX:p.clientY)-v;(t==="right"||t==="bottom")&&(d=-d);let g=N+d;g<0&&(g=0),i&&g>i&&(g=i),w?.(g)}),f=o.useCallback(()=>{if(c&&(C(!1),s?.current)){const p=s.current.getBoundingClientRect(),l=x?p.width:p.height;$?.(l)}},[c,s,$,x]);return o.useEffect(()=>{if(c)return document.addEventListener("mousemove",m),document.addEventListener("mouseup",f),()=>{document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",f)}},[c,m,f]),{dragElementProps:{className:S(`${n}-dragger`,`${n}-dragger-${t}`,{[`${n}-dragger-dragging`]:c,[`${n}-dragger-horizontal`]:x,[`${n}-dragger-vertical`]:!x},r),style:a,onMouseDown:z},isDragging:c}}function ue(e){if(typeof e=="string"){const n=Number(e.replace(/px$/i,""));if(parseFloat(e)===n&&je(!1,"Invalid value type of `width` or `height` which should be number type instead."),!Number.isNaN(n))return n}return e}function U(){return U=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},U.apply(this,arguments)}const $e={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"},ot=(e,n)=>{const{prefixCls:t,open:r,placement:a,inline:i,push:s,forceRender:b,autoFocus:w,keyboard:$,classNames:y,rootClassName:c,rootStyle:C,zIndex:v,className:k,id:N,style:R,motion:x,width:z,height:m,size:f,maxSize:E,children:p,mask:l,maskClosable:d,maskMotion:g,maskClassName:I,maskStyle:h,afterOpenChange:D,onClose:P,onMouseEnter:A,onMouseOver:L,onMouseLeave:Y,onClick:G,onKeyDown:ne,onKeyUp:M,styles:O,drawerRender:oe,resizable:V,defaultSize:re}=e,Z=o.useRef(null),q=o.useRef(null),J=o.useRef(null);o.useImperativeHandle(n,()=>Z.current);const se=u=>{const{keyCode:j,shiftKey:X}=u;switch(j){case de.TAB:{j===de.TAB&&(!X&&document.activeElement===J.current?q.current?.focus({preventScroll:!0}):X&&document.activeElement===q.current&&J.current?.focus({preventScroll:!0}));break}case de.ESC:{P&&$&&(u.stopPropagation(),P(u));break}}};o.useEffect(()=>{r&&w&&Z.current?.focus({preventScroll:!0})},[r]);const[Q,ae]=o.useState(!1),F=o.useContext(ve);let ee;typeof s=="boolean"?ee=s?{}:{distance:0}:ee=s||{};const H=ee?.distance??F?.pushDistance??180,te=o.useMemo(()=>({pushDistance:H,push:()=>{ae(!0)},pull:()=>{ae(!1)}}),[H]);o.useEffect(()=>{r?F?.push?.():F?.pull?.()},[r]),o.useEffect(()=>()=>{F?.pull?.()},[]);const le=o.createElement(xe,U({key:"mask"},g,{visible:l&&r}),({className:u,style:j},X)=>o.createElement("div",{className:S(`${t}-mask`,u,y?.mask,I),style:{...j,...h,...O?.mask},onClick:d&&r?P:void 0,ref:X})),ie=typeof x=="function"?x(a):x,[B,T]=o.useState(),W=a==="left"||a==="right",_=o.useMemo(()=>ue(f??(W?z:m)??B??re??(W?378:void 0)),[f,z,m,re,W,B]),Me=o.useMemo(()=>{const u={};if(Q&&H)switch(a){case"top":u.transform=`translateY(${H}px)`;break;case"bottom":u.transform=`translateY(${-H}px)`;break;case"left":u.transform=`translateX(${H}px)`;break;default:u.transform=`translateX(${-H}px)`;break}return W?u.width=ue(_):u.height=ue(_),u},[Q,H,a,W,_]),ge=o.useRef(null),Oe=!!V,ce=typeof V=="object"&&V||{},He=fe(u=>{T(u),ce.onResize?.(u)}),{dragElementProps:Le,isDragging:he}=nt({prefixCls:`${t}-resizable`,direction:a,className:y?.dragger,style:O?.dragger,maxSize:E,containerRef:ge,currentSize:_,onResize:He,onResizeStart:ce.onResizeStart,onResizeEnd:ce.onResizeEnd}),Be={onMouseEnter:A,onMouseOver:L,onMouseLeave:Y,onClick:G,onKeyDown:ne,onKeyUp:M},Te=o.createElement(xe,U({key:"panel"},ie,{visible:r,forceRender:b,onVisibleChanged:u=>{D?.(u)},removeOnLeave:!1,leavedClassName:`${t}-content-wrapper-hidden`}),({className:u,style:j},X)=>{const ye=o.createElement(tt,U({id:N,containerRef:X,prefixCls:t,className:S(k,y?.section),style:{...R,...O?.section}},me(e,{aria:!0}),Be),p);return o.createElement("div",U({ref:ge,className:S(`${t}-content-wrapper`,he&&`${t}-content-wrapper-dragging`,y?.wrapper,!he&&u),style:{...j,...Me,...O?.wrapper}},me(e,{data:!0})),Oe&&o.createElement("div",Le),oe?oe(ye):ye)}),be={...C};return v&&(be.zIndex=v),o.createElement(ve.Provider,{value:te},o.createElement("div",{className:S(t,`${t}-${a}`,c,{[`${t}-open`]:r,[`${t}-inline`]:i}),style:be,tabIndex:-1,ref:Z,onKeyDown:se},le,o.createElement("div",{tabIndex:0,ref:q,style:$e,"aria-hidden":"true","data-sentinel":"start"}),Te,o.createElement("div",{tabIndex:0,ref:J,style:$e,"aria-hidden":"true","data-sentinel":"end"})))},rt=o.forwardRef(ot),at=e=>{const{open:n=!1,prefixCls:t="rc-drawer",placement:r="right",autoFocus:a=!0,keyboard:i=!0,width:s,height:b,size:w,maxSize:$,mask:y=!0,maskClosable:c=!0,getContainer:C,forceRender:v,afterOpenChange:k,destroyOnHidden:N,onMouseEnter:R,onMouseOver:x,onMouseLeave:z,onClick:m,onKeyDown:f,onKeyUp:E,resizable:p,defaultSize:l,panelRef:d}=e,[g,I]=o.useState(!1),[h,D]=o.useState(!1);Se(()=>{D(!0)},[]);const P=h?n:!1,A=o.useRef(null),L=o.useRef(null);Se(()=>{P&&(L.current=document.activeElement)},[P]);const Y=O=>{I(O),k?.(O),!O&&L.current&&!A.current?.contains(L.current)&&L.current?.focus({preventScroll:!0})},G=o.useMemo(()=>({panel:d}),[d]);if(!v&&!g&&!P&&N)return null;const M={...e,open:P,prefixCls:t,placement:r,autoFocus:a,keyboard:i,width:s,height:b,size:w,maxSize:$,defaultSize:l,mask:y,maskClosable:c,inline:C===!1,afterOpenChange:Y,ref:A,resizable:p,...{onMouseEnter:R,onMouseOver:x,onMouseLeave:z,onClick:m,onKeyDown:f,onKeyUp:E}};return o.createElement(Ne.Provider,{value:G},o.createElement(Ae,{open:P||v||g,autoDestroy:!1,getContainer:C,autoLock:y&&(P||g)},o.createElement(rt,M)))},Re=e=>{const{prefixCls:n,ariaId:t,title:r,footer:a,extra:i,closable:s,loading:b,onClose:w,headerStyle:$,bodyStyle:y,footerStyle:c,children:C,classNames:v,styles:k}=e,N=Ee("drawer"),{classNames:R,styles:x,closable:z}=N,[m,f]=ke([R,v],[x,k],{props:{...e,closable:s??z}}),E=o.useMemo(()=>{const h=s??z;if(h!==!1)return typeof h=="object"&&h&&h.placement==="end"?"end":"start"},[s,z]),p=o.useCallback(h=>o.createElement("button",{type:"button",onClick:w,className:S(`${n}-close`,{[`${n}-close-${E}`]:E==="end"},m.close),style:f.close},h),[w,n,E,m.close,f.close]),[l,d]=Fe(we(e),we(N),{closable:!0,closeIconRender:p}),g=()=>!r&&!l?null:o.createElement("div",{style:{...f.header,...$},className:S(`${n}-header`,m.header,{[`${n}-header-close-only`]:l&&!r&&!i})},o.createElement("div",{className:`${n}-header-title`},E==="start"&&d,r&&o.createElement("div",{className:S(`${n}-title`,m.title),style:f.title,id:t},r)),i&&o.createElement("div",{className:S(`${n}-extra`,m.extra),style:f.extra},i),E==="end"&&d),I=()=>a?o.createElement("div",{className:S(`${n}-footer`,m.footer),style:{...f.footer,...c}},a):null;return o.createElement(o.Fragment,null,g(),o.createElement("div",{className:S(`${n}-body`,m.body),style:{...f.body,...y}},b?o.createElement(_e,{active:!0,title:!1,paragraph:{rows:5},className:`${n}-body-skeleton`}):C),I())},st=e=>{const n="100%";return{left:`translateX(-${n})`,right:`translateX(${n})`,top:`translateY(-${n})`,bottom:`translateY(${n})`}[e]},Pe=(e,n)=>({"&-enter, &-appear":{...e,"&-active":n},"&-leave":{...n,"&-active":e}}),Ie=(e,n)=>({"&-enter, &-appear, &-leave":{"&-start":{transition:"none"},"&-active":{transition:`all ${n}`}},...Pe({opacity:e},{opacity:1})}),lt=(e,n)=>[Ie(.7,n),Pe({transform:st(e)},{transform:"none"})],it=e=>{const{componentCls:n,motionDurationSlow:t}=e;return{[n]:{[`${n}-mask-motion`]:Ie(0,t),[`${n}-panel-motion`]:["left","right","top","bottom"].reduce((r,a)=>({...r,[`&-${a}`]:lt(a,t)}),{})}}},ct=e=>{const{borderRadiusSM:n,componentCls:t,zIndexPopup:r,colorBgMask:a,colorBgElevated:i,motionDurationSlow:s,motionDurationMid:b,paddingXS:w,padding:$,paddingLG:y,fontSizeLG:c,lineHeightLG:C,lineWidth:v,lineType:k,colorSplit:N,marginXS:R,colorIcon:x,colorIconHover:z,colorBgTextHover:m,colorBgTextActive:f,colorText:E,fontWeightStrong:p,footerPaddingBlock:l,footerPaddingInline:d,draggerSize:g,calc:I}=e,h=`${t}-content-wrapper`,D=`${t}-resizable-dragger`;return{[t]:{position:"fixed",inset:0,zIndex:r,pointerEvents:"none",color:E,"&-pure":{position:"relative",background:i,display:"flex",flexDirection:"column",pointerEvents:"auto",[`&${t}-left`]:{boxShadow:e.boxShadowDrawerLeft},[`&${t}-right`]:{boxShadow:e.boxShadowDrawerRight},[`&${t}-top`]:{boxShadow:e.boxShadowDrawerUp},[`&${t}-bottom`]:{boxShadow:e.boxShadowDrawerDown}},"&-inline":{position:"absolute"},[`${t}-mask`]:{position:"absolute",inset:0,zIndex:r,background:a,pointerEvents:"auto",[`&${t}-mask-blur`]:{backdropFilter:"blur(4px)"}},[h]:{position:"absolute",zIndex:r,maxWidth:"100vw",transition:`all ${s}`,"&-hidden":{display:"none"}},[`&-left > ${h}`]:{top:0,bottom:0,left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowDrawerLeft},[`&-right > ${h}`]:{top:0,right:{_skip_check_:!0,value:0},bottom:0,boxShadow:e.boxShadowDrawerRight},[`&-top > ${h}`]:{top:0,insetInline:0,boxShadow:e.boxShadowDrawerUp},[`&-bottom > ${h}`]:{bottom:0,insetInline:0,boxShadow:e.boxShadowDrawerDown},[`${t}-section`]:{display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"auto",background:i,pointerEvents:"auto"},[`${t}-header`]:{display:"flex",flex:0,alignItems:"center",padding:`${K($)} ${K(y)}`,fontSize:c,lineHeight:C,borderBottom:`${K(v)} ${k} ${N}`,"&-title":{display:"flex",flex:1,alignItems:"center",minWidth:0,minHeight:0}},[`${t}-extra`]:{flex:"none"},[`${t}-close`]:{display:"inline-flex",width:I(c).add(w).equal(),height:I(c).add(w).equal(),borderRadius:n,justifyContent:"center",alignItems:"center",color:x,fontWeight:p,fontSize:c,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textDecoration:"none",background:"transparent",border:0,cursor:"pointer",transition:`all ${b}`,textRendering:"auto",[`&${t}-close-end`]:{marginInlineStart:R},[`&:not(${t}-close-end)`]:{marginInlineEnd:R},"&:hover":{color:z,backgroundColor:m,textDecoration:"none"},"&:active":{backgroundColor:f},...Ue(e)},[`${t}-title`]:{flex:1,margin:0,fontWeight:e.fontWeightStrong,fontSize:c,lineHeight:C},[`${t}-body`]:{flex:1,minWidth:0,minHeight:0,padding:y,overflow:"auto",[`${t}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center"}},[`${t}-footer`]:{flexShrink:0,padding:`${K(l)} ${K(d)}`,borderTop:`${K(v)} ${k} ${N}`},[D]:{position:"absolute",zIndex:1,backgroundColor:"transparent",userSelect:"none",pointerEvents:"auto","&:hover":{backgroundColor:e.colorPrimary,opacity:.2},"&-dragging":{backgroundColor:e.colorPrimary,opacity:.3}},[`${D}-left`]:{top:0,bottom:0,insetInlineEnd:0,width:g,cursor:"col-resize"},[`${D}-right`]:{top:0,bottom:0,insetInlineStart:0,width:g,cursor:"col-resize"},[`${D}-top`]:{insetInline:0,bottom:0,height:g,cursor:"row-resize"},[`${D}-bottom`]:{insetInline:0,top:0,height:g,cursor:"row-resize"},[`${h}-dragging`]:{userSelect:"none",transition:"none",willChange:"width, height",[`${t}-content`]:{pointerEvents:"none"},[`${t}-section`]:{pointerEvents:"none"}},"&-rtl":{direction:"rtl"}}}},dt=e=>({zIndexPopup:e.zIndexPopupBase,footerPaddingBlock:e.paddingXS,footerPaddingInline:e.padding,draggerSize:4}),De=Xe("Drawer",e=>{const n=Ke(e,{});return[ct(n),it(n)]},dt),ut={distance:180},ze=378,mt=e=>{const{rootClassName:n,size:t,defaultSize:r=ze,height:a,width:i,mask:s,push:b=ut,open:w,afterOpenChange:$,onClose:y,prefixCls:c,getContainer:C,panelRef:v=null,style:k,className:N,resizable:R,"aria-labelledby":x,maskStyle:z,drawerStyle:m,contentWrapperStyle:f,destroyOnClose:E,destroyOnHidden:p,...l}=e,{placement:d}=l,g=et(),I=l.title?g:void 0,{getPopupContainer:h,getPrefixCls:D,direction:P,className:A,style:L,classNames:Y,styles:G,mask:ne}=Ee("drawer"),M=D("drawer",c),[O,oe]=De(M),V=C===void 0&&h?()=>h(document.body):C,re=o.useMemo(()=>typeof t=="number"?t:t==="large"?736:t==="default"?ze:!d||d==="left"||d==="right"?i:a,[t,d,i,a]),Z={motionName:Ce(M,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},q=_=>({motionName:Ce(M,`panel-motion-${_}`),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500}),J=Ye(),se=Ge(v,J),[Q,ae]=Ve("Drawer",l.zIndex),{classNames:F,styles:ee,rootStyle:H}=l,[te,le]=Ze(s,ne,M),ie={...e,zIndex:Q,panelRef:v,mask:te,defaultSize:r,push:b},[B,T]=ke([Y,F],[G,ee],{props:ie}),W=S({"no-mask":!te,[`${M}-rtl`]:P==="rtl"},n,O,oe,B.root);return o.createElement(qe,{form:!0,space:!0},o.createElement(Je.Provider,{value:ae},o.createElement(at,{prefixCls:M,onClose:y,maskMotion:Z,motion:q,...l,classNames:{mask:S(B.mask,le.mask),section:B.section,wrapper:B.wrapper,dragger:B.dragger},styles:{mask:{...T.mask,...z},section:{...T.section,...m},wrapper:{...T.wrapper,...f},dragger:T.dragger},open:w,mask:te,push:b,size:re,defaultSize:r,style:{...L,...k},rootStyle:{...H,...T.root},className:S(A,N),rootClassName:W,getContainer:V,afterOpenChange:$,panelRef:se,zIndex:Q,...R?{resizable:R}:{},"aria-labelledby":x??I,destroyOnHidden:p??E},o.createElement(Re,{prefixCls:M,size:t,...l,ariaId:I,onClose:y}))))},ft=e=>{const{prefixCls:n,style:t,className:r,placement:a="right",...i}=e,{getPrefixCls:s}=o.useContext(Qe),b=s("drawer",n),[w,$]=De(b),y=S(b,`${b}-pure`,`${b}-${a}`,w,$,r);return o.createElement("div",{className:y,style:t},o.createElement(Re,{prefixCls:b,...i}))};mt._InternalPanelDoNotUseOrYouWillBeFired=ft;var pt=function(e,n){return typeof n=="boolean"?n:!e},bt=function(e){return o.useReducer(pt,e)};export{mt as D,bt as u};
