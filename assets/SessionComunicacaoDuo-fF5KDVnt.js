import{r as v,aA as ae,a4 as oe,f as C,bL as Xe,H as Je,o as De,bH as Ne,j as e,D as K,K as Be,aL as H,b3 as Ze,e as j,aZ as er,n as rr,T as u,b1 as se,B as nr,I as Ee,bq as _,aH as Fe,aK as F,c9 as ie,i as X,aX as tr}from"./index-DpcDa7xh.js";import{u as de,S as ce,a as le,b as U,c as ue,P as me,d as he,e as pe,k as sr,g as ir,h as ar,i as or}from"./StepSwitcher-B2umwKdg.js";import{u as Le}from"./useWhichPlayerIsThe-IfPOkGAk.js";import{Q as dr}from"./QuestionIcon-DU87M5Qj.js";import{I as k}from"./Instruction-Rg0TtN26.js";import{c as cr,r as lr,b as Ve}from"./isObject-CQfuDXmK.js";import{S as Me}from"./SignCard-Crnr9DUi.js";import{u as ur}from"./useTDBaseUrl-BF9foKiS.js";import{S as Pe}from"./index-U5c8yg1F.js";import{V as mr}from"./VerticalAlignTopOutlined-v_ZPtoJ9.js";import{R as hr}from"./StepBackwardOutlined-CIo1taHk.js";import{A as L}from"./AvatarName-By8Yhw4g.js";import{R}from"./RuleInstruction-EEw81YTT.js";import{V as w}from"./ViewIf-B5IBMuvE.js";import{A as pr,a as xr}from"./AlienStarEyesIcon-4Idgbinr.js";import{A as Se}from"./AlienNeutralIcon-yC1QCrTV.js";import{C as qe}from"./Card-S62BAfHd.js";import{C as He}from"./CharacterCard-C13Coe9K.js";import{I as Ue}from"./ItemCard-CwGn0jG1.js";import{S as Ge}from"./SuspectCard-BFpdjvRz.js";/* empty css                             */import{I as We}from"./ImageCard-CPgNPhAS.js";import{P as jr}from"./index-B6OOOeBw.js";import{R as fr}from"./CloseCircleOutlined-DxhKn9Jh.js";import{a as yr}from"./useBlurCards-D60r85UQ.js";import{C as gr}from"./Collapse-Gm9vTB2m.js";import{F as vr}from"./Table-BcuLiQwn.js";import{T as Te}from"./index-COSWzedB.js";import{N as Ir}from"./NuclearExplosionIcon-B_BXO6XJ.js";import{T}from"./TextHighlight-DwtxKyds.js";import{V as xe}from"./ViewOr-EY2C_B1I.js";import{M as br}from"./MysteryBoxIcon-DZ1-vRju.js";import{T as _e}from"./DoubleRightOutlined-BkdWNHIl.js";import{T as Nr}from"./TheEndIcon-B8dC4GkH.js";import{G as Er}from"./GameOverWrapper-Cf2Fo76N.js";import{A as Sr}from"./Achievements-LBvEKVZO.js";import{a as Tr}from"./achievements-BSYlXBla.js";import"./speech-DGtmlMHA.js";import"./useDevFeatures-ZO00SOQg.js";import"./RulesModal-C-ZF220-.js";import"./WritingIcon-BL8Gk87y.js";import"./Game-WtprwCx4.js";import"./useMutation-DJvcYZ1N.js";import"./PurePanel-Qr_SrLcH.js";import"./index-DOOyoAB-.js";import"./Overflow-CsapQ__r.js";import"./useEvent-BF7gAsY5.js";import"./index-CjmohlH6.js";import"./Avatar-Bos0Aidt.js";import"./GameBanner-BRwoUUs3.js";import"./Loading-CEa1tXYj.js";import"./useBubbleLock-BRlITi2Y.js";import"./AnimatedLoaderIcon-BEmXVmDn.js";import"./InfoCircleOutlined-DzPtpeDm.js";import"./index-CcXiYZ0h.js";import"./SignIn-Bm58H9Qb.js";import"./GoogleIcon-DdOv9ey3.js";import"./WaitingRoomIcon-DcdVHLqt.js";import"./AnimatedClockIcon-Du4sdv8B.js";import"./LikeFilled-BsTM2AF7.js";import"./Sprite-CkRPcuP-.js";import"./WarningOutlined-B5vbt446.js";import"./StarFilled-CzBob0T8.js";import"./StarFilled-CNctUIhy.js";import"./ImageBlurButtonContainer-D8dXCoHy.js";import"./ImageBlurButton-C5SkxMKF.js";import"./EllipsisOutlined-B1eHWG21.js";import"./index-BE-1lR2h.js";import"./useId-ChMxzhqM.js";import"./scrollTo-WSGC5IPN.js";import"./FilterFilled-B9EqEaba.js";import"./iconUtil-BcgCSSrw.js";import"./CaretDownOutlined-Dv3U9ShB.js";import"./CaretUpOutlined-CTN4lzvm.js";import"./ArrowRightOutlined-DuDHRfe-.js";import"./useMergedState-CHAMc7zo.js";import"./progress-DL-YXokP.js";import"./TitledContainer-Bj_GH0E3.js";import"./Medal-DRJkL2w9.js";import"./QuestionCircleOutlined-B85xih4S.js";var _r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M112 476h160v72H112zm320 0h160v72H432zm320 0h160v72H752z"}}]},name:"dash",theme:"outlined"},Ar={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 780H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM505.7 669a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V176c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8z"}}]},name:"vertical-align-bottom",theme:"outlined"},Or=function(r,s){return v.createElement(ae,oe({},r,{ref:s,icon:_r}))},Cr=v.forwardRef(Or),wr=function(r,s){return v.createElement(ae,oe({},r,{ref:s,icon:Ar}))},$r=v.forwardRef(wr),kr=function(r,s){return v.createElement(ae,oe({},r,{ref:s,icon:mr}))},Rr=v.forwardRef(kr);const $={ASKING_FOR_SOMETHING:"ASKING_FOR_SOMETHING",DELIVER_SOMETHING:"DELIVER_SOMETHING",VERIFICATION:"VERIFICATION"},je={SUBMIT_REQUEST:"SUBMIT_REQUEST",SUBMIT_DELIVERY:"SUBMIT_DELIVERY",STOP_DELIVERY:"STOP_DELIVERY"},D={A:"A",B:"B",TABOO:"TABOO"},fe=[D.A,D.B],N={IDLE:"IDLE",WIN:"WIN",LOSE:"LOSE",CONTINUE:"CONTINUE"},J={IDLE:"IDLE",A:D.A,B:D.B};function Dr(){const{translate:n}=C(),r=de({actionName:"submit-request",successMessage:n("Ação submetida com sucesso","Action submitted successfully"),errorMessage:n("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return s=>{r({action:je.SUBMIT_REQUEST,...s})}}function Br(){const{translate:n}=C(),r=de({actionName:"submit-delivery",successMessage:n("Ação submetida com sucesso","Action submitted successfully"),errorMessage:n("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return s=>{r({action:je.SUBMIT_DELIVERY,...s})}}function Fr(){const{translate:n}=C(),r=de({actionName:"stop-delivery",successMessage:n("Ação submetida com sucesso","Action submitted successfully"),errorMessage:n("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return()=>{r({action:je.STOP_DELIVERY})}}var Z,Ae;function Lr(){if(Ae)return Z;Ae=1;var n=cr(),r=function(){return n.Date.now()};return Z=r,Z}var ee,Oe;function Vr(){if(Oe)return ee;Oe=1;var n=/\s/;function r(s){for(var i=s.length;i--&&n.test(s.charAt(i)););return i}return ee=r,ee}var re,Ce;function Mr(){if(Ce)return re;Ce=1;var n=Vr(),r=/^\s+/;function s(i){return i&&i.slice(0,n(i)+1).replace(r,"")}return re=s,re}var ne,we;function Pr(){if(we)return ne;we=1;var n=Mr(),r=Ve(),s=lr(),i=NaN,a=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,p=/^0o[0-7]+$/i,x=parseInt;function d(t){if(typeof t=="number")return t;if(s(t))return i;if(r(t)){var l=typeof t.valueOf=="function"?t.valueOf():t;t=r(l)?l+"":l}if(typeof t!="string")return t===0?t:+t;t=n(t);var h=c.test(t);return h||p.test(t)?x(t.slice(2),h?2:8):a.test(t)?i:+t}return ne=d,ne}var te,$e;function qr(){if($e)return te;$e=1;var n=Ve(),r=Lr(),s=Pr(),i="Expected a function",a=Math.max,c=Math.min;function p(x,d,t){var l,h,m,g,o,f,I=0,A=!1,E=!1,S=!0;if(typeof x!="function")throw new TypeError(i);d=s(d)||0,n(t)&&(A=!!t.leading,E="maxWait"in t,m=E?a(s(t.maxWait)||0,d):m,S="trailing"in t?!!t.trailing:S);function b(y){var O=l,B=h;return l=h=void 0,I=y,g=x.apply(B,O),g}function z(y){return I=y,o=setTimeout(M,d),A?b(y):g}function ze(y){var O=y-f,B=y-I,be=d-O;return E?c(be,m-B):be}function ve(y){var O=y-f,B=y-I;return f===void 0||O>=d||O<0||E&&B>=m}function M(){var y=r();if(ve(y))return Ie(y);o=setTimeout(M,ze(y))}function Ie(y){return o=void 0,S&&l?b(y):(l=h=void 0,g)}function Qe(){o!==void 0&&clearTimeout(o),I=0,l=f=h=o=void 0}function Ke(){return o===void 0?g:Ie(r())}function Q(){var y=r(),O=ve(y);if(l=arguments,h=this,f=y,O){if(o===void 0)return z(f);if(E)return clearTimeout(o),o=setTimeout(M,d),b(f)}return o===void 0&&(o=setTimeout(M,d)),g}return Q.cancel=Qe,Q.flush=Ke,Q}return te=p,te}var Hr=qr();const Ur=Xe(Hr);function Ye(n){const r=ur("resources");return Je({queryKey:["items-attributes"],queryFn:async()=>await(await fetch(`${r}/items-attributes.json`)).json(),enabled:n,staleTime:Number.POSITIVE_INFINITY})}function ye({value:n,onChange:r,availableAttributeKeys:s,disabled:i}){const{language:a}=C(),{isLoading:c,data:p={}}=Ye(!0),[x,d]=v.useState(""),t=v.useCallback(Ur(o=>{d(o)},300),[]),l=v.useMemo(()=>De.orderBy(s?Object.values(p).filter(o=>s.includes(o.id)):Object.values(p),[`name.${a}`],["asc"]),[p,s,a]),h=v.useMemo(()=>l.reduce((o,f)=>(o[f.id]=Ne(`${f.name[a]} ${f.description[a]} ${f.keywords}`).toLowerCase(),o),{}),[l,a]),m=v.useMemo(()=>l.filter(o=>x===""||h[o.id].includes(Ne(x.toLowerCase()))),[l,h,x]),g=(o,f)=>{r(Wr(n,o,f))};return e.jsx(Pe,{spinning:c,children:e.jsxs("div",{className:"alien-keyboard",style:{width:"100%"},children:[e.jsxs("div",{className:"alien-keyboard__keys",children:[Gr.map(o=>e.jsxs("button",{type:"button",className:"alien-keyboard__key alien-keyboard__key--helper",onClick:()=>g(o.id,"helper"),disabled:i,children:[o.icon,e.jsx("small",{children:e.jsx(K,{children:o.name})})]},o.id)),e.jsx("div",{className:"alien-keyboard__search",children:e.jsx(Be.Search,{placeholder:"Search",onChange:o=>t(o.target.value),onSearch:o=>t(o),style:{width:156},disabled:i,allowClear:!0})})]}),e.jsx("div",{className:"alien-keyboard__keys",children:m.map(o=>e.jsx(H,{title:e.jsx("div",{className:"center",children:e.jsx(K,{children:o.description})}),children:e.jsxs("button",{type:"button",className:"alien-keyboard__key",onClick:()=>g(o.id,"attribute"),disabled:i,children:[e.jsx(Me,{width:32,id:`${o.spriteId.split("-")[1]}`,className:"transparent"}),e.jsx("small",{children:e.jsx(K,{children:o.name})})]})},o.id))})]})})}const Gr=[{id:"^",name:{en:"NOT",pt:"NÃO"},icon:e.jsx(Rr,{}),type:"helper"},{id:"~",name:{en:"SORTA",pt:"MEIO"},icon:e.jsx(Cr,{}),type:"helper"},{id:"*",name:{en:"VERY",pt:"MUITO"},icon:e.jsx($r,{}),type:"helper"},{id:"<",name:{en:"Backspace",pt:"Apagar"},icon:e.jsx(hr,{})}],Wr=(n,r,s)=>{const i=n[n.length-1]??"",a=!Ze.includes(i.toUpperCase());return s==="attribute"?a?`${n}${r}`:n.includes(r)?n:`${n}+${r}`:s==="helper"?r==="<"?a?n.slice(0,-1):n.slice(0,-4):a?`${n.slice(0,-1)}${r}`:`${n}${r}`:n};function V({value:n,withTranslation:r=!1,className:s,...i}){const{isLoading:a,data:c={}}=Ye(!0),{dualTranslate:p}=C(),x=v.useMemo(()=>Yr(n).map(t=>{const l=t[0],h=t.substring(1);if(h&&(c!=null&&c[h])){const m=c[h];return{spriteId:m==null?void 0:m.spriteId,variant:ke[l],name:{pt:`${P[l].pt}${m==null?void 0:m.name.pt}`.trim().toLowerCase(),en:`${P[l].en}${m==null?void 0:m.name.en}`.trim().toLowerCase()},description:{en:(m==null?void 0:m.description.en)??"",pt:(m==null?void 0:m.description.pt)??""}}}return{spriteId:"",variant:ke[l],name:{pt:`${P[l].pt} `,en:`${P[l].en} `},description:{pt:"",en:""}}}),[n,c]);return e.jsxs(Pe,{spinning:a,children:[e.jsx("div",{className:j("alien-text",s),...i,children:x.map(d=>e.jsx(H,{title:p(d.name),children:e.jsx("div",{className:j("alien-text__character",`alien-text__character--${d.variant}`),children:e.jsx(Me,{width:48,id:`${d.spriteId.split("-")[1]}`,className:"transparent"})})},`${d.spriteId}-${d.variant}`))}),r&&e.jsx("div",{className:"alien-text-translation",children:x.map(d=>e.jsx(H,{title:p(d.description),children:e.jsx("span",{className:"alien-text-translation__text",children:p(d.name)})},`${d.spriteId}-${d.variant}`))})]})}function Yr(n){const r=[];for(let s=0;s<n.length;s+=4)r.push(n.substring(s,s+4));return r}const P={"+":{en:"",pt:""},"^":{en:"not ",pt:"não "},"~":{en:"sorta ",pt:"meio "},"*":{en:"very ",pt:"muito "}},ke={"+":"normal","^":"not","~":"sorta","*":"very"};function q({entry:n,deckType:r,userSide:s}){const{dualTranslate:i}=C(),a=fe.indexOf(s);return r==="items"?e.jsx("div",{className:j("cd-board-entry",`cd-board-entry--${n.affiliation[a]}`),children:e.jsx(Ue,{id:`${n.data.id}`,title:n.data.name?i(n.data.name):void 0})},`cd-board-entry-${n.data.id}`):r==="images"?e.jsx("div",{className:j("cd-board-entry",`cd-board-entry--${n.affiliation[a]}`),children:e.jsx(We,{id:n.data.id,cardWidth:72,className:"board-entry-image-card"})},`cd-board-entry-${n.data.id}`):r==="contenders"?e.jsx("div",{className:j("cd-board-entry",`cd-board-entry--${n.affiliation[a]}`),children:e.jsx(He,{character:n.data,size:96,className:"board-entry-image-card"})},`cd-board-entry-${n.data.id}`):r==="suspects"?e.jsx("div",{className:j("cd-board-entry",`cd-board-entry--${n.affiliation[a]}`),children:e.jsx(Ge,{suspect:n.data,width:72,hideName:!0})},`cd-board-entry-${n.data.id}`):r==="words"?e.jsx("div",{className:j("cd-board-entry",`cd-board-entry--${n.affiliation[a]}`),children:e.jsx(qe,{hideHeader:!0,children:n.data.text})},`cd-board-entry-${n.data.id}`):e.jsx("div",{className:j("cd-board-entry",`cd-board-entry--${n.affiliation[a]}`),children:n.id},`cd-board-entry-${n.id}`)}function G({deck:n,deckType:r,userId:s,userSide:i,onClick:a,animateEntries:c=[],disabled:p}){const x=fe.indexOf(i),d=v.useMemo(()=>{const t=x===0?1:0,l=ge(i);return n.some(h=>{var m;return h.affiliation[x]===D.TABOO&&h.affiliation[t]===l&&((m=h.deliveredBy)==null?void 0:m.length)})},[n,i,x]);return e.jsx(er.PreviewGroup,{children:e.jsx("div",{className:"cd-board",children:n.map(t=>{var h,m;const l=t.affiliation[x]===D.TABOO&&d;return a&&t.status===J.IDLE&&!((h=t.deliveredBy)!=null&&h.includes(s))&&!l?e.jsx(jr,{title:e.jsx(u,{en:"Are you sure you want to deliver this item?",pt:"Você tem certeza que deseja entregar este item?"}),trigger:r==="images"?"hover":"click",onConfirm:()=>a(t),children:e.jsx(rr,{disabled:p,className:"cd-board-entry-entry-wrapper",children:e.jsx(Re,{entry:t,userId:s,userSide:i,animateEntries:c,children:e.jsx(q,{entry:t,deckType:r,userSide:i})})},t.id)},t.id):t.status===J.A||t.status===J.B?e.jsx("span",{className:j(c.includes(t.id)&&se("slideInDown")),children:e.jsx(zr,{side:t.status,children:e.jsx(q,{entry:t,deckType:r,userSide:i})})},t.id):(((m=t==null?void 0:t.deliveredBy)==null?void 0:m.length)??0)>0?e.jsx("div",{className:"cd-board-entry-entry-wrapper",children:e.jsx(Re,{entry:t,userId:s,userSide:i,animateEntries:c,children:e.jsx(q,{entry:t,deckType:r,userSide:i})})},t.id):e.jsxs("div",{className:j("cd-board-entry-entry-wrapper",l&&a&&"cd-board-entry-entry-wrapper--not-allowed"),children:[l&&e.jsx("div",{className:"cd-board-entry-taboo",children:e.jsx(H,{title:e.jsx(u,{en:"You already found the other player's item that matches one of your taboos so none of these other ones can be an item for the other player anymore.",pt:"Você já encontrou o item do outro jogador que corresponde a um dos seus tabus, então nenhum desses outros tabus seus pode ser um item para o outro jogador."}),children:e.jsx(nr,{shape:"circle",size:"small",icon:e.jsx(fr,{})})})}),e.jsx(q,{entry:t,deckType:r,userSide:i})]},t.id)})})})}function zr({side:n,children:r}){const[s,i]=yr(!1);return e.jsxs("div",{className:"cd-board-entry-cover",onClick:i,children:[e.jsx("div",{className:j("cd-board-entry-cover__alien",`cd-board-entry-cover__alien--${ge(n)}`,s&&"cd-board-entry-cover__alien--open"),children:n==="A"?e.jsx(pr,{style:{width:36}}):e.jsx(xr,{style:{width:36}})}),r]})}function Re({children:n,entry:r,userId:s,userSide:i,animateEntries:a}){var x,d,t,l;if((((x=r==null?void 0:r.deliveredBy)==null?void 0:x.length)??0)===0)return e.jsx(e.Fragment,{children:n});const c=(d=r.deliveredBy)==null?void 0:d.includes(s),p=!!((t=r.deliveredBy)!=null&&t.filter(h=>h!==s).length);return e.jsxs("div",{className:j("cd-board-entry-neutral",((l=r.deliveredBy)==null?void 0:l.includes(s))&&"cd-board-entry-neutral--not-allowed"),children:[c&&e.jsx("span",{className:j(a.includes(r.id)&&se("tada")),children:e.jsx(Ee,{className:j("cd-board-entry-neutral-item",`cd-board-entry-neutral-item--${i}`),icon:e.jsx(Se,{color:i==="A"?"teal":"orange"})})}),p&&e.jsx("span",{className:j(a.includes(r.id)&&se("tada")),children:e.jsx(Ee,{className:j("cd-board-entry-neutral-item",`cd-board-entry-neutral-item--${ge(i)}`),icon:e.jsx(Se,{color:i==="A"?"orange":"teal"})})}),n]})}const ge=n=>n==="A"?"B":"A";function W({summary:n,players:r,round:s}){const i=Object.values(r).find(c=>c.side==="A"),a=Object.values(r).find(c=>c.side==="B");return!i||!a?null:e.jsxs("div",{className:"cd-summary",children:[e.jsxs("div",{className:"cd-summary__entry",children:[e.jsx("div",{className:"cd-summary__number",children:s.total-s.current+1}),e.jsx("div",{className:"cd-summary__entry-label",children:e.jsx(u,{en:"Rounds left",pt:"Rodadas restantes"})})]}),e.jsxs("div",{className:"cd-summary__entry",children:[e.jsx("div",{className:"cd-summary__number cd-summary__number--left",children:n.deliverablesLeft}),e.jsx("div",{className:"cd-summary__entry-label",children:e.jsx(u,{en:"Items left",pt:"Itens restantes"})})]}),e.jsxs("div",{className:"cd-summary__entry",children:[e.jsx("div",{className:"cd-summary__number cd-summary__number--A",children:n.deliverablesLeftForA}),e.jsx("div",{className:"cd-summary__entry-label",children:e.jsx(L,{player:i})})]}),e.jsxs("div",{className:"cd-summary__entry",children:[e.jsx("div",{className:"cd-summary__number cd-summary__number--B",children:n.deliverablesLeftForB}),e.jsx("div",{className:"cd-summary__entry-label",children:e.jsx(L,{player:a})})]})]})}function Qr({deliverable:n,deckType:r,userSide:s}){const{dualTranslate:i}=C(),a=fe.indexOf(s);return r==="items"?e.jsx("div",{className:j("cd-history-entry",`cd-history-entry--${n.affiliation[a]}`),children:e.jsx(Ue,{id:`${n.data.id}`,title:n.data.name?i(n.data.name):void 0,width:64})},`cd-history-entry-${n.data.id}`):r==="images"?e.jsx("div",{className:j("cd-history-entry",`cd-history-entry--${n.affiliation[a]}`),children:e.jsx(We,{id:n.data.id,cardWidth:48,className:"history-entry-image-card"})},`cd-history-entry-${n.data.id}`):r==="contenders"?e.jsx("div",{className:j("cd-history-entry",`cd-history-entry--${n.affiliation[a]}`),children:e.jsx(He,{character:n.data,size:96,className:"history-entry-image-card"})},`cd-history-entry-${n.data.id}`):r==="suspects"?e.jsx("div",{className:j("cd-history-entry",`cd-history-entry--${n.affiliation[a]}`),children:e.jsx(Ge,{suspect:n.data,width:72,hideName:!0})},`cd-history-entry-${n.data.id}`):r==="words"?e.jsx("div",{className:j("cd-history-entry",`cd-history-entry--${n.affiliation[a]}`),children:e.jsx(qe,{hideHeader:!0,children:n.data.text})},`cd-history-entry-${n.data.id}`):e.jsx("div",{className:"cd-board-entry",children:n.id})}function Y({history:n,players:r,deck:s,deckType:i,clueInputType:a,userSide:c}){const p=v.useMemo(()=>De.keyBy(s,"id"),[s]),x=[{key:"player",title:e.jsx(u,{pt:"Jogador",en:"Player"}),dataIndex:"requesterId",render:t=>e.jsx(L,{player:r[t]})},{key:"clue",title:e.jsx(u,{pt:"Pedido",en:"Dica"}),dataIndex:"clue",render:t=>a==="alien-keyboard"?e.jsx(V,{value:t,withTranslation:!0}):t},{key:"quantity",title:e.jsx(u,{pt:"Quantidade",en:"Quantity"}),dataIndex:"quantity"},{key:"deliverables",title:e.jsx(u,{pt:"Itens",en:"Items"}),dataIndex:"deliverables",render:t=>e.jsx(_,{wrap:"wrap",gap:8,children:t.map(l=>e.jsx(Qr,{deliverable:p[l],deckType:i,userSide:c},l))})}],d=[{key:"history",label:e.jsx(u,{pt:"Histórico de Perguntas",en:"Inquiry History"}),children:e.jsx(vr,{dataSource:n,columns:x,pagination:!1})}];return e.jsx(k,{contained:!0,children:e.jsx(gr,{items:d})})}function Kr({players:n,user:r,announcement:s,deckType:i,deck:a,status:c,history:p,requester:x,isTheRequester:d,summary:t,clueInputType:l,round:h,onSubmitRequest:m}){const{isLoading:g}=Fe(),[o,f]=v.useState(""),[I,A]=v.useState(1),{dualTranslate:E}=C(),S=()=>{m({clue:o,clueQuantity:I})};return e.jsxs(ce,{fullWidth:!0,announcement:s,children:[e.jsx(le,{size:"small",wait:d,children:d?e.jsx(u,{pt:e.jsx(e.Fragment,{children:"Peça algo!"}),en:e.jsx(e.Fragment,{children:"Ask for something!"})}):e.jsx(u,{pt:e.jsxs(e.Fragment,{children:["Aguarde ",e.jsx(L,{player:x})," pedir algo"]}),en:e.jsxs(e.Fragment,{children:["Wait for ",e.jsx(L,{player:x})," to ask for something"]})})}),e.jsx(R,{type:"rule",children:c===N.IDLE?e.jsx(u,{en:"It's the first round, so any of you can give the first clue",pt:"É a primeira rodada, então qualquer um de vocês pode dar a primeira dica"}):e.jsx(u,{en:"Players alternate asking for items, unless one player is done asking for all of their items",pt:"Os jogadores alternam pedindo itens, a menos que um jogador tenha terminado de pedir todos os seus itens"})}),e.jsxs(_,{gap:8,align:"center",children:[e.jsx(G,{deck:a,deckType:i,userId:r.id,userSide:r.side}),e.jsx(W,{summary:t,players:n,round:h})]}),e.jsxs(w,{condition:l==="alien-keyboard",children:[e.jsx(w,{condition:d,children:e.jsx(R,{type:"action",children:e.jsx(u,{en:"Use the keyboard below to type your request and add the number of items you want",pt:"Use o teclado abaixo para digitar seu pedido e adicione o número de itens que deseja"})})}),e.jsxs(F,{vertical:!0,children:[e.jsx(w,{condition:d,children:e.jsxs(_,{gap:8,align:"center",children:[e.jsx(V,{value:o,withTranslation:!0}),e.jsxs("strong",{children:[e.jsx(u,{en:"Quantity",pt:"Quantidade"}),":"]}),e.jsx(Te,{value:I,onChange:b=>A(b??1),min:0,max:6,size:"large"}),e.jsx(ie,{size:"large",loading:g,disabled:!o,onClick:S,children:e.jsx(u,{en:"Submit",pt:"Enviar"})})]})}),e.jsx(ye,{value:o,onChange:f,disabled:!d||r.ready})]})]}),e.jsxs(w,{condition:l!=="alien-keyboard"&&d,children:[e.jsx(R,{type:"rule",children:e.jsx(u,{en:"You can ask for items by typing your request in the input box",pt:"Você pode pedir itens digitando seu pedido no campo de entrada"})}),e.jsxs(F,{vertical:!0,children:[e.jsxs(_,{gap:8,align:"center",children:[e.jsx(Be,{size:"large",value:o,onChange:b=>f(b.target.value),placeholder:E({pt:"Digite seu pedido aqui",en:"Type your request here"})}),e.jsxs("strong",{children:[e.jsx(u,{en:"Quantity",pt:"Quantidade"}),":"]}),e.jsx(Te,{value:I,onChange:b=>A(b??1),min:0,max:6,size:"large"})]}),e.jsx(ie,{size:"large",loading:g,disabled:!o,onClick:S,children:e.jsx(u,{en:"Submit",pt:"Enviar"})})]})]}),e.jsx(Y,{history:p,players:n,deck:a,deckType:i,clueInputType:l,userSide:r.side})]})}function Xr({players:n,state:r}){var d;const s=U(n,r),{step:i}=ue(),[a,c]=r.status===N.IDLE?[s,!0]:Le("requesterId",r,n),p=Dr(),x=e.jsx(me,{icon:e.jsx(dr,{}),title:c?e.jsx(u,{pt:"Peça algo",en:"Ask for something"}):e.jsx(u,{pt:"O outro jogador pede algo",en:"The other player asks for something"}),currentRound:(d=r==null?void 0:r.round)==null?void 0:d.current,type:"overlay",children:e.jsx(k,{children:e.jsx(u,{pt:e.jsx(e.Fragment,{children:"Cada alienígena deve dar dicar para todos os itens marcados com sua cor"}),en:e.jsx(e.Fragment,{children:"Each alien must give clues for all items marked with their color"})})})});return e.jsx(he,{phase:r==null?void 0:r.phase,allowedPhase:$.ASKING_FOR_SOMETHING,children:e.jsx(pe,{step:i,players:n,children:e.jsx(Kr,{user:s,players:n,announcement:x,deckType:r.deckType,deck:r.deck,status:r.status,history:r.history,requester:a,isTheRequester:c,summary:r.summary,clueInputType:r.clueInputType,onSubmitRequest:p,round:r.round})})})}function Jr({announcement:n,players:r,user:s,deckType:i,deck:a,status:c,history:p,summary:x,clueInputType:d,round:t,clue:l,clueQuantity:h,entryIdToAnimate:m,nextPhase:g}){const o=v.useMemo(()=>c===N.CONTINUE&&!m?{en:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Skip!"})," All done for this round, let's try another clue"]}),pt:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Passa!"})," Tudo certo para esta rodada, vamos tentar outra dica"]})}:c===N.WIN?{en:e.jsx(e.Fragment,{children:"All items have been found!"}),pt:e.jsx(e.Fragment,{children:"Todos os itens foram encontrados!"})}:c===N.LOSE?{en:e.jsxs(e.Fragment,{children:["Nooooo, a ",e.jsx(T,{children:"taboo"})," item has been selected!"]}),pt:e.jsxs(e.Fragment,{children:["Nãããão, um item ",e.jsx(T,{children:"taboo"})," foi selecionado!"]})}:c===N.CONTINUE&&g===$.ASKING_FOR_SOMETHING?{en:e.jsxs(e.Fragment,{children:[e.jsx(T,{children:"Neutral!"})," All done fir this round, let's try another clue."]}),pt:e.jsxs(e.Fragment,{children:[e.jsx(T,{children:"Neutro!"})," Vamos para a próxima rodada."]})}:{en:e.jsxs(e.Fragment,{children:[e.jsx(T,{children:"Correct!"})," Want to try one more item?"]}),pt:e.jsxs(e.Fragment,{children:[e.jsx(T,{children:"Correto!"})," Quer tentar outro item?"]})},[c,m,g]);return e.jsxs(ce,{fullWidth:!0,announcement:n,children:[e.jsx(le,{size:"small",children:e.jsx(u,{en:"Results",pt:"Resultado"})}),e.jsx(R,{type:"event",children:e.jsx(u,{en:o.en,pt:o.pt})}),e.jsx(sr,{round:t,autoTriggerTime:c!==N.CONTINUE?5:2,withWaitingTimeBar:!0}),e.jsxs(_,{gap:8,align:"center",className:"mb-4",children:[e.jsx("div",{className:"cd-clue-quantity",children:h}),e.jsxs(xe,{condition:d==="alien-keyboard",children:[e.jsx(V,{value:l,withTranslation:!0}),e.jsx(T,{style:{fontSize:"1.5rem",background:"white"},children:l})]})]}),e.jsxs(_,{gap:8,align:"center",children:[e.jsx(G,{deck:a,deckType:i,userId:s.id,userSide:s.side,animateEntries:m?[m]:[]}),e.jsx(W,{summary:x,players:r,round:t})]}),e.jsx(w,{condition:d==="alien-keyboard",children:e.jsx(F,{children:e.jsx(ye,{value:"",onChange:()=>{},disabled:!0})})}),e.jsx(Y,{history:p,players:r,deck:a,deckType:i,clueInputType:d,userSide:s.side})]})}function Zr({players:n,state:r}){var c;const s=U(n,r),{step:i}=ue(),a=r.status===N.LOSE?e.jsx(me,{icon:e.jsx(Ir,{}),title:e.jsx(u,{pt:"Nãaaaaaooooooo",en:"Nooooooooo"}),currentRound:(c=r==null?void 0:r.round)==null?void 0:c.current,type:"overlay",duration:4}):void 0;return e.jsx(he,{phase:r==null?void 0:r.phase,allowedPhase:$.VERIFICATION,children:e.jsx(pe,{step:i,players:n,children:e.jsx(Jr,{user:s,players:n,deckType:r.deckType,deck:r.deck,status:r.status,history:r.history,summary:r.summary,clueInputType:r.clueInputType,clue:r.clue,clueQuantity:r.clueQuantity,round:r.round,entryIdToAnimate:r.entryIdToAnimate,nextPhase:r.nextPhase,announcement:a})})})}function en({players:n,user:r,announcement:s,deckType:i,deck:a,history:c,isTheRequester:p,summary:x,clueInputType:d,round:t,onSubmitDelivery:l,onStopDelivery:h,clue:m,clueQuantity:g}){var A,E,S,b;const{isLoading:o}=Fe(),f=z=>{l({delivery:z.id})},I=c[c.length-1];return e.jsxs(ce,{fullWidth:!0,announcement:s,children:[e.jsx(le,{size:"small",wait:p,children:p?e.jsx(u,{pt:e.jsx(e.Fragment,{children:"Aguarde o outro jogador responder com alguma coisa"}),en:e.jsx(e.Fragment,{children:"Wait for the other player to answer with something"})}):e.jsx(u,{pt:e.jsx(e.Fragment,{children:"Dê um item"}),en:e.jsx(e.Fragment,{children:"Give an item"})})}),e.jsx(R,{type:p?"wait":"action",children:p?e.jsxs(e.Fragment,{children:[e.jsx(u,{en:"You asked for an item and the other player now must deliver at least one item. If they are correct, they can try another",pt:"Você pediu um item e o outro jogador agora deve entregar pelo menos um deles. Se eles acertarem, podem tentar outro"}),e.jsx("br",{}),e.jsx(u,{en:"After delivering at least one, the player may stop and skip to the next turn",pt:"Depois de entregar pelo menos um, o jogador pode parar e pular para a próxima rodada"})]}):e.jsxs(e.Fragment,{children:[e.jsx(u,{en:"The other player asked for an item and you must deliver at least one item. If you are correct, you can try another",pt:"O outro jogador pediu um item e você deve entregar pelo menos um deles. Se você acertar, você pode tentar outro"}),e.jsx("br",{}),e.jsx(u,{en:"Click on the item one by one to deliver them. After delivering at least one, you will able to stop and skip to the next turn",pt:"Clique nos itens um por um para entregá-los. Depois de entregar pelo menos um, você poderá parar e pular para a próxima rodada"})]})}),e.jsx(w,{condition:((A=I.deliverables)==null?void 0:A.length)>0&&!p,children:e.jsxs(R,{type:"rule",children:[((E=I.deliverables)==null?void 0:E.length)>=g?e.jsx(u,{en:"You have delivered all the items you needed in this round. You can stop now or try to deliver more",pt:"Você entregou todos os itens que precisava nesta rodada. Você pode parar agora ou tentar entregar mais"}):e.jsx(u,{en:e.jsxs(e.Fragment,{children:["You have delivered ",e.jsx(_e,{children:(S=I.deliverables)==null?void 0:S.length}),"things this round. You may stop now and skip to the next turn"]}),pt:e.jsxs(e.Fragment,{children:["Você entregou ",e.jsx(_e,{children:(b=I.deliverables)==null?void 0:b.length}),"coisas essa rodada. Você pode parar agora e pular para a próxima rodada"]})}),e.jsx("br",{}),e.jsx(ie,{onClick:h,type:"default",loading:o,block:!0,children:e.jsx(u,{en:"Stop",pt:"Parar"})})]})}),e.jsxs(_,{gap:8,align:"center",className:"mb-4",children:[e.jsx("div",{className:"cd-clue-quantity",children:g}),e.jsxs(xe,{condition:d==="alien-keyboard",children:[e.jsx(V,{value:m,withTranslation:!0}),e.jsx(T,{style:{fontSize:"1.5rem",background:"white"},children:m})]})]}),e.jsxs(_,{gap:8,align:"center",children:[e.jsx(G,{deck:a,deckType:i,userId:r.id,userSide:r.side,onClick:p?void 0:f,disabled:o}),e.jsx(W,{summary:x,players:n,round:t})]}),e.jsx(w,{condition:d==="alien-keyboard",children:e.jsx(F,{children:e.jsx(ye,{value:"",onChange:()=>{},disabled:!0})})}),e.jsx(Y,{history:c,players:n,deck:a,deckType:i,clueInputType:d,userSide:r.side})]})}function rn({players:n,state:r}){var h;const s=U(n,r),{step:i}=ue(),[a,c]=Le("requesterId",r,n),p=Br(),x=Fr(),t=r.history[r.history.length-1].deliverables.length>0,l=e.jsx(me,{icon:e.jsx(br,{}),title:c?e.jsx(u,{pt:"Você pediu!",en:"You asked for"}):e.jsx(u,{pt:"Por favor, me vê aí...",en:"Please give me..."}),currentRound:(h=r==null?void 0:r.round)==null?void 0:h.current,type:"overlay",duration:3,children:e.jsx(k,{children:e.jsxs(xe,{condition:r.clueInputType==="alien-keyboard",children:[e.jsx(V,{value:r.clue??""}),e.jsx(T,{style:{fontSize:"1.5rem"},children:r.clue})]})})});return e.jsx(he,{phase:r==null?void 0:r.phase,allowedPhase:$.DELIVER_SOMETHING,children:e.jsx(pe,{step:i,players:n,children:e.jsx(en,{user:s,players:n,announcement:t?void 0:l,deckType:r.deckType,deck:r.deck,status:r.status,history:r.history,requester:a,isTheRequester:c,summary:r.summary,clueInputType:r.clueInputType,clue:r.clue,clueQuantity:r.clueQuantity,onSubmitDelivery:p,onStopDelivery:x,round:r.round})})})}function nn({state:n,players:r}){const s=U(r,n);return e.jsxs(Er,{state:n,players:r,announcementIcon:e.jsx(Nr,{}),children:[e.jsxs(F,{vertical:!0,children:[n.status===N.WIN&&e.jsxs(e.Fragment,{children:[e.jsx(X,{level:3,children:e.jsx(u,{pt:"Vocês venceram!",en:"You won!"})}),e.jsx(k,{contained:!0,children:e.jsx(u,{pt:"Vocês comunicaram todos os items",en:"You communicated all items"})})]}),n.status===N.LOSE&&e.jsxs(e.Fragment,{children:[e.jsx(X,{level:3,children:e.jsx(u,{pt:"Vocês perderam!",en:"You lost!"})}),e.jsx(k,{contained:!0,children:e.jsx(u,{pt:"Alguém clicou em  um tabu",en:"Someone selected a taboo"})})]}),n.status===N.CONTINUE&&e.jsxs(e.Fragment,{children:[e.jsx(X,{level:3,children:e.jsx(u,{pt:"Vocês perderam!",en:"You lost!"})}),e.jsx(k,{contained:!0,children:e.jsx(u,{pt:"As rodadas acabaram antes que vocês comunicassem todos os itens",en:"The rounds ended before you communicated all items"})})]})]}),e.jsx(Sr,{players:r,achievements:n.achievements,reference:Tr}),e.jsxs(_,{gap:8,align:"center",children:[e.jsx(G,{deck:n.deck,deckType:n.deckType,userId:s.id,userSide:s.side}),e.jsx(W,{summary:n.summary,players:r,round:n.round})]}),e.jsx(Y,{history:n.history,players:r,deck:n.deck,deckType:n.deckType,clueInputType:n.clueInputType,userSide:s.side})]})}function tn(n){switch(n.phase){case $.ASKING_FOR_SOMETHING:return Xr;case $.DELIVER_SOMETHING:return rn;case $.VERIFICATION:return Zr;case or.DEFAULT.GAME_OVER:return nn;default:return ar}}function wt(){return e.jsx(ir,{gameCollection:tr.COMUNICACAO_DUO,getActiveComponent:tn})}export{wt as default};
