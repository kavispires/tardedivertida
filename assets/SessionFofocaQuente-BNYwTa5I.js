import{dx as Ne,a9 as ft,r as h,cL as Fe,a5 as U,Z as x,c as A,d1 as z,an as w,dy as Z,g as xt,m as gt,dz as jt,a as De,ao as ce,ar as Le,ay as Ge,au as bt,aM as de,dA as ke,dB as vt,u as yt,cG as St,cz as It,dC as Ot,aB as ee,dD as $t,f as F,j as e,T as d,e as q,v as Ve,B as I,b1 as ue,D as _,F as O,dE as Pe,bC as Re,n as Ct,aK as K,ca as me,o as k,K as wt,I as _t,aY as Et}from"./index-Dm_UHQ4O.js";import{u as te,c as pe,P as J,d as he,e as fe,S as xe,a as ge,b as He,g as Tt,h as Bt,i as Nt}from"./StepSwitcher-C1rNj3Il.js";import{P as Pt}from"./PhasePlaceholder-DVnlt3yK.js";import{L as Rt}from"./LawIcon-Dhs5fTEs.js";import{S as Mt}from"./StepSelectPlayer-BiXi9BIx.js";import{u as ae}from"./useWhichPlayerIsThe-ESXBFfjL.js";import{L as zt}from"./LocationIcon-CZ_UthDZ.js";import{P as At}from"./PeopleAssessmentIcon-CsS0XrDK.js";import{I as H}from"./Instruction-3TD49R6O.js";import{V as qt}from"./ViewOr-UuZItLmd.js";import{C as Ft}from"./CheckMarkIcon-PrOppdOg.js";import{R as Y}from"./RuleInstruction-EoOuyZWC.js";import{T as Dt,a as Lt,u as Gt,R as Ue,b as We,c as kt}from"./index.esm-CZZYED2h.js";import{u as Vt}from"./useTDBaseUrl-BF9foKiS.js";import{R as Ht}from"./CloseOutlined-rhm7BVdd.js";import{R as Ut,a as Wt}from"./RotateRightOutlined-aIPA9atI.js";/* empty css                             */import{I as Yt}from"./ImageCard-BsCkgU_w.js";import{a as Qt}from"./useBlurCards-Dou37FW1.js";import{C as Ye}from"./index-Bj52pdvJ.js";import{T as R}from"./DoubleRightOutlined-F2KGzHcJ.js";import{D as Xt}from"./index-01ayNNVt.js";import{R as le}from"./AimOutlined-_jBKH6nD.js";import{V as Zt}from"./VerticalAlignTopOutlined-v_ZPtoJ9.js";import{s as Kt,g as Jt}from"./scrollTo-D3vkaPED.js";import{B as eo}from"./index-C6eCzh3R.js";import{R as to}from"./BarChartOutlined-B2X1yk_S.js";import{S as oo}from"./index-BBFKY4BY.js";import{T as no}from"./TDIcon-DJuC3nNj.js";import"./speech-DwlQKZT1.js";import"./useDevFeatures-BY5Qfybd.js";import"./RulesModal-9Gcq0IMb.js";import"./WritingIcon-7-iVGVns.js";import"./Game-zrPI-3Ak.js";import"./useMutation-BWYwC_y4.js";import"./index-GvOotJfy.js";import"./PurePanel-CwyEwXYb.js";import"./index-DpMFwQiI.js";import"./Avatar-DJSzwcCP.js";import"./GameBanner-D0szQhT0.js";import"./index-k4yE05KB.js";import"./Loading-BDYp4Rcj.js";import"./useBubbleLock-CyAlzzIV.js";import"./AnimatedLoaderIcon-B_d-ls5r.js";import"./InfoCircleOutlined-DfmYjuV9.js";import"./SignIn-DpTlrk_R.js";import"./GoogleIcon-DCqBc0La.js";import"./WaitingRoomIcon-C-6ndyRq.js";import"./AnimatedClockIcon-DyOFtPJd.js";import"./LikeFilled-DubUuXvb.js";import"./AvatarCard-Dp4GcfeT.js";import"./StarFilled-B7VkVV-6.js";import"./StarFilled-CNctUIhy.js";import"./index-BRbQCW8c.js";import"./EllipsisOutlined-21m9GH1U.js";import"./PlusOutlined-ByZyTB3m.js";import"./Overflow-D9NtC3E5.js";import"./useEvent-Bh26DhPS.js";function so(t){let o;const n=r=>()=>{o=null,t.apply(void 0,ft(r))},s=function(){if(o==null){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];o=Ne(n(i))}};return s.cancel=()=>{Ne.cancel(o),o=null},s}var ro=function(o,n){return h.createElement(Fe,U({},o,{ref:n,icon:Zt}))},io=h.forwardRef(ro);const je=x.createContext(void 0),{Provider:ao}=je;var lo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}}]},name:"file-text",theme:"outlined"},co=function(o,n){return h.createElement(Fe,U({},o,{ref:n,icon:lo}))},Qe=h.forwardRef(co),uo=function(t,o){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&o.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)o.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};const mo=t=>{const{icon:o,description:n,prefixCls:s,className:r}=t,i=uo(t,["icon","description","prefixCls","className"]),a=x.createElement("div",{className:`${s}-icon`},x.createElement(Qe,null));return x.createElement("div",Object.assign({},i,{className:A(r,`${s}-content`)}),o||n?x.createElement(x.Fragment,null,o&&x.createElement("div",{className:`${s}-icon`},o),n&&x.createElement("div",{className:`${s}-description`},n)):a)},po=h.memo(mo),Me=t=>t===0?0:t-Math.sqrt(Math.pow(t,2)/2),ho=t=>{const{componentCls:o,floatButtonSize:n,motionDurationSlow:s,motionEaseInOutCirc:r,calc:i}=t,a=new z("antFloatButtonMoveTopIn",{"0%":{transform:`translate3d(0, ${w(n)}, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),c=new z("antFloatButtonMoveTopOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(0, ${w(n)}, 0)`,transformOrigin:"0 0",opacity:0}}),m=new z("antFloatButtonMoveRightIn",{"0%":{transform:`translate3d(${w(i(n).mul(-1).equal())}, 0, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),p=new z("antFloatButtonMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(${w(i(n).mul(-1).equal())}, 0, 0)`,transformOrigin:"0 0",opacity:0}}),u=new z("antFloatButtonMoveBottomIn",{"0%":{transform:`translate3d(0, ${w(i(n).mul(-1).equal())}, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),l=new z("antFloatButtonMoveBottomOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(0, ${w(i(n).mul(-1).equal())}, 0)`,transformOrigin:"0 0",opacity:0}}),j=new z("antFloatButtonMoveLeftIn",{"0%":{transform:`translate3d(${w(n)}, 0, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),b=new z("antFloatButtonMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(${w(n)}, 0, 0)`,transformOrigin:"0 0",opacity:0}}),f=`${o}-group`;return[{[f]:{[`&${f}-top ${f}-wrap`]:Z(`${f}-wrap`,a,c,s,!0),[`&${f}-bottom ${f}-wrap`]:Z(`${f}-wrap`,u,l,s,!0),[`&${f}-left ${f}-wrap`]:Z(`${f}-wrap`,j,b,s,!0),[`&${f}-right ${f}-wrap`]:Z(`${f}-wrap`,m,p,s,!0)}},{[`${f}-wrap`]:{[`&${f}-wrap-enter, &${f}-wrap-appear`]:{opacity:0,animationTimingFunction:r},[`&${f}-wrap-leave`]:{opacity:1,animationTimingFunction:r}}}]},fo=t=>{const{antCls:o,componentCls:n,floatButtonSize:s,margin:r,borderRadiusLG:i,borderRadiusSM:a,badgeOffset:c,floatButtonBodyPadding:m,zIndexPopupBase:p,calc:u}=t,l=`${n}-group`;return{[l]:Object.assign(Object.assign({},De(t)),{zIndex:p,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:"none",position:"fixed",height:"auto",boxShadow:"none",minWidth:s,minHeight:s,insetInlineEnd:t.floatButtonInsetInlineEnd,bottom:t.floatButtonInsetBlockEnd,borderRadius:i,[`${l}-wrap`]:{zIndex:-1,display:"flex",justifyContent:"center",alignItems:"center",position:"absolute"},[`&${l}-rtl`]:{direction:"rtl"},[n]:{position:"static"}}),[`${l}-top > ${l}-wrap`]:{flexDirection:"column",top:"auto",bottom:u(s).add(r).equal(),"&::after":{content:'""',position:"absolute",width:"100%",height:r,bottom:u(r).mul(-1).equal()}},[`${l}-bottom > ${l}-wrap`]:{flexDirection:"column",top:u(s).add(r).equal(),bottom:"auto","&::after":{content:'""',position:"absolute",width:"100%",height:r,top:u(r).mul(-1).equal()}},[`${l}-right > ${l}-wrap`]:{flexDirection:"row",left:{_skip_check_:!0,value:u(s).add(r).equal()},right:{_skip_check_:!0,value:"auto"},"&::after":{content:'""',position:"absolute",width:r,height:"100%",left:{_skip_check_:!0,value:u(r).mul(-1).equal()}}},[`${l}-left > ${l}-wrap`]:{flexDirection:"row",left:{_skip_check_:!0,value:"auto"},right:{_skip_check_:!0,value:u(s).add(r).equal()},"&::after":{content:'""',position:"absolute",width:r,height:"100%",right:{_skip_check_:!0,value:u(r).mul(-1).equal()}}},[`${l}-circle`]:{gap:r,[`${l}-wrap`]:{gap:r}},[`${l}-square`]:{[`${n}-square`]:{padding:0,borderRadius:0,[`&${l}-trigger`]:{borderRadius:i},"&:first-child":{borderStartStartRadius:i,borderStartEndRadius:i},"&:last-child":{borderEndStartRadius:i,borderEndEndRadius:i},"&:not(:last-child)":{borderBottom:`${w(t.lineWidth)} ${t.lineType} ${t.colorSplit}`},[`${o}-badge`]:{[`${o}-badge-count`]:{top:u(u(m).add(c)).mul(-1).equal(),insetInlineEnd:u(u(m).add(c)).mul(-1).equal()}}},[`${l}-wrap`]:{borderRadius:i,boxShadow:t.boxShadowSecondary,[`${n}-square`]:{boxShadow:"none",borderRadius:0,padding:m,[`${n}-body`]:{width:t.floatButtonBodySize,height:t.floatButtonBodySize,borderRadius:a}}}},[`${l}-top > ${l}-wrap, ${l}-bottom > ${l}-wrap`]:{[`> ${n}-square`]:{"&:first-child":{borderStartStartRadius:i,borderStartEndRadius:i},"&:last-child":{borderEndStartRadius:i,borderEndEndRadius:i},"&:not(:last-child)":{borderBottom:`${w(t.lineWidth)} ${t.lineType} ${t.colorSplit}`}}},[`${l}-left > ${l}-wrap, ${l}-right > ${l}-wrap`]:{[`> ${n}-square`]:{"&:first-child":{borderStartStartRadius:i,borderEndStartRadius:i},"&:last-child":{borderStartEndRadius:i,borderEndEndRadius:i},"&:not(:last-child)":{borderInlineEnd:`${w(t.lineWidth)} ${t.lineType} ${t.colorSplit}`}}},[`${l}-circle-shadow`]:{boxShadow:"none"},[`${l}-square-shadow`]:{boxShadow:t.boxShadowSecondary,[`${n}-square`]:{boxShadow:"none",padding:m,[`${n}-body`]:{width:t.floatButtonBodySize,height:t.floatButtonBodySize,borderRadius:a}}}}},xo=t=>{const{antCls:o,componentCls:n,floatButtonBodyPadding:s,floatButtonIconSize:r,floatButtonSize:i,borderRadiusLG:a,badgeOffset:c,dotOffsetInSquare:m,dotOffsetInCircle:p,zIndexPopupBase:u,calc:l}=t;return{[n]:Object.assign(Object.assign({},De(t)),{border:"none",position:"fixed",cursor:"pointer",zIndex:u,display:"block",width:i,height:i,insetInlineEnd:t.floatButtonInsetInlineEnd,bottom:t.floatButtonInsetBlockEnd,boxShadow:t.boxShadowSecondary,"&-pure":{position:"relative",inset:"auto"},"&:empty":{display:"none"},[`${o}-badge`]:{width:"100%",height:"100%",[`${o}-badge-count`]:{transform:"translate(0, 0)",transformOrigin:"center",top:l(c).mul(-1).equal(),insetInlineEnd:l(c).mul(-1).equal()}},[`${n}-body`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",transition:`all ${t.motionDurationMid}`,[`${n}-content`]:{overflow:"hidden",textAlign:"center",minHeight:i,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:`${w(l(s).div(2).equal())} ${w(s)}`,[`${n}-icon`]:{textAlign:"center",margin:"auto",width:r,fontSize:r,lineHeight:1}}}}),[`${n}-rtl`]:{direction:"rtl"},[`${n}-circle`]:{height:i,borderRadius:"50%",[`${o}-badge`]:{[`${o}-badge-dot`]:{top:p,insetInlineEnd:p}},[`${n}-body`]:{borderRadius:"50%"}},[`${n}-square`]:{height:"auto",minHeight:i,borderRadius:a,[`${o}-badge`]:{[`${o}-badge-dot`]:{top:m,insetInlineEnd:m}},[`${n}-body`]:{height:"auto",borderRadius:a}},[`${n}-default`]:{backgroundColor:t.floatButtonBackgroundColor,transition:`background-color ${t.motionDurationMid}`,[`${n}-body`]:{backgroundColor:t.floatButtonBackgroundColor,transition:`background-color ${t.motionDurationMid}`,"&:hover":{backgroundColor:t.colorFillContent},[`${n}-content`]:{[`${n}-icon`]:{color:t.colorText},[`${n}-description`]:{display:"flex",alignItems:"center",lineHeight:w(t.fontSizeLG),color:t.colorText,fontSize:t.fontSizeSM}}}},[`${n}-primary`]:{backgroundColor:t.colorPrimary,[`${n}-body`]:{backgroundColor:t.colorPrimary,transition:`background-color ${t.motionDurationMid}`,"&:hover":{backgroundColor:t.colorPrimaryHover},[`${n}-content`]:{[`${n}-icon`]:{color:t.colorTextLightSolid},[`${n}-description`]:{display:"flex",alignItems:"center",lineHeight:w(t.fontSizeLG),color:t.colorTextLightSolid,fontSize:t.fontSizeSM}}}}}},go=t=>({dotOffsetInCircle:Me(t.controlHeightLG/2),dotOffsetInSquare:Me(t.borderRadiusLG)}),Xe=xt("FloatButton",t=>{const{colorTextLightSolid:o,colorBgElevated:n,controlHeightLG:s,marginXXL:r,marginLG:i,fontSize:a,fontSizeIcon:c,controlItemBgHover:m,paddingXXS:p,calc:u}=t,l=gt(t,{floatButtonBackgroundColor:n,floatButtonColor:o,floatButtonHoverBackgroundColor:m,floatButtonFontSize:a,floatButtonIconSize:u(c).mul(1.5).equal(),floatButtonSize:s,floatButtonInsetBlockEnd:r,floatButtonInsetInlineEnd:i,floatButtonBodySize:u(s).sub(u(p).mul(2)).equal(),floatButtonBodyPadding:p,badgeOffset:u(p).mul(1.5).equal()});return[fo(l),xo(l),jt(t),ho(l)]},go);var jo=function(t,o){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&o.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)o.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};const oe="float-btn",bo=x.forwardRef((t,o)=>{const{prefixCls:n,className:s,rootClassName:r,style:i,type:a="default",shape:c="circle",icon:m,description:p,tooltip:u,htmlType:l="button",badge:j={}}=t,b=jo(t,["prefixCls","className","rootClassName","style","type","shape","icon","description","tooltip","htmlType","badge"]),{getPrefixCls:f,direction:y}=h.useContext(ce),v=h.useContext(je),S=f(oe,n),g=Le(S),[E,W,D]=Xe(S,g),L=v||c,G=A(W,D,g,S,s,r,`${S}-${a}`,`${S}-${L}`,{[`${S}-rtl`]:y==="rtl"}),[C]=Ge("FloatButton",i==null?void 0:i.zIndex),$=Object.assign(Object.assign({},i),{zIndex:C}),T=bt(j,["title","children","status","text"]);let N=x.createElement("div",{className:`${S}-body`},x.createElement(po,{prefixCls:S,description:p,icon:m}));return"badge"in t&&(N=x.createElement(eo,Object.assign({},T),N)),"tooltip"in t&&(N=x.createElement(de,{title:u,placement:y==="rtl"?"right":"left"},N)),E(t.href?x.createElement("a",Object.assign({ref:o},b,{className:G,style:$}),N):x.createElement("button",Object.assign({ref:o},b,{className:G,style:$,type:l}),N))}),B=bo;var vo=function(t,o){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&o.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)o.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};const Ze=x.forwardRef((t,o)=>{const{prefixCls:n,className:s,type:r="default",shape:i="circle",visibilityHeight:a=400,icon:c=x.createElement(io,null),target:m,onClick:p,duration:u=450}=t,l=vo(t,["prefixCls","className","type","shape","visibilityHeight","icon","target","onClick","duration"]),[j,b]=h.useState(a===0),f=x.useRef(null);x.useImperativeHandle(o,()=>({nativeElement:f.current}));const y=()=>{var C;return((C=f.current)===null||C===void 0?void 0:C.ownerDocument)||window},v=so(C=>{const $=Jt(C.target);b($>=a)});h.useEffect(()=>{const $=(m||y)();return v({target:$}),$==null||$.addEventListener("scroll",v),()=>{v.cancel(),$==null||$.removeEventListener("scroll",v)}},[m]);const S=C=>{Kt(0,{getContainer:m||y,duration:u}),p==null||p(C)},{getPrefixCls:g}=h.useContext(ce),E=g(oe,n),W=g(),L=h.useContext(je)||i,G=Object.assign({prefixCls:E,icon:c,type:r,shape:L},l);return x.createElement(ke,{visible:j,motionName:`${W}-fade`},(C,$)=>{let{className:T}=C;return x.createElement(B,Object.assign({ref:vt(f,$)},G,{onClick:S,className:A(s,T)}))})});var yo=function(t,o){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&o.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)o.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};const Ke=t=>{var o;const{prefixCls:n,className:s,style:r,shape:i="circle",type:a="default",placement:c="top",icon:m=x.createElement(Qe,null),closeIcon:p,description:u,trigger:l,children:j,onOpenChange:b,open:f,onClick:y}=t,v=yo(t,["prefixCls","className","style","shape","type","placement","icon","closeIcon","description","trigger","children","onOpenChange","open","onClick"]),{direction:S,getPrefixCls:g,closeIcon:E}=yt("floatButtonGroup"),W=(o=p??E)!==null&&o!==void 0?o:x.createElement(Ot,null),D=g(oe,n),L=Le(D),[G,C,$]=Xe(D,L),T=`${D}-group`,N=l&&["click","hover"].includes(l),it=c&&["top","left","right","bottom"].includes(c),at=A(T,C,$,L,s,{[`${T}-rtl`]:S==="rtl",[`${T}-${i}`]:i,[`${T}-${i}-shadow`]:!N,[`${T}-${c}`]:N&&it}),[lt]=Ge("FloatButton",r==null?void 0:r.zIndex),ct=Object.assign(Object.assign({},r),{zIndex:lt}),dt=A(C,`${T}-wrap`),[Q,ut]=St(!1,{value:f}),Te=x.useRef(null),Be=l==="hover",se=l==="click",X=It(P=>{Q!==P&&(ut(P),b==null||b(P))}),mt=()=>{Be&&X(!0)},pt=()=>{Be&&X(!1)},ht=P=>{se&&X(!Q),y==null||y(P)};return x.useEffect(()=>{if(se){const P=re=>{var ie;!((ie=Te.current)===null||ie===void 0)&&ie.contains(re.target)||X(!1)};return document.addEventListener("click",P,{capture:!0}),()=>document.removeEventListener("click",P,{capture:!0})}},[se]),G(x.createElement(ao,{value:i},x.createElement("div",{ref:Te,className:at,style:ct,onMouseEnter:mt,onMouseLeave:pt},N?x.createElement(x.Fragment,null,x.createElement(ke,{visible:Q,motionName:`${T}-wrap`},P=>{let{className:re}=P;return x.createElement("div",{className:A(re,dt)},j)}),x.createElement(B,Object.assign({type:a,icon:Q?W:m,description:u,"aria-label":t["aria-label"],className:`${T}-trigger`,onClick:ht},v))):j)))};var Je=function(t,o){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&o.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)o.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};const ze=t=>{var{backTop:o}=t,n=Je(t,["backTop"]);return o?h.createElement(Ze,Object.assign({},n,{visibilityHeight:0})):h.createElement(B,Object.assign({},n))},So=t=>{var{className:o,items:n}=t,s=Je(t,["className","items"]);const{prefixCls:r}=s,{getPrefixCls:i}=h.useContext(ce),c=`${i(oe,r)}-pure`;return n?h.createElement(Ke,Object.assign({className:A(o,c)},s),n.map((m,p)=>h.createElement(ze,Object.assign({key:p},m)))):h.createElement(ze,Object.assign({className:A(o,c)},s))};B.BackTop=Ze;B.Group=Ke;B._InternalPanelDoNotUseOrYouWillBeFired=So;var Io={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 128c-212.1 0-384 171.9-384 384v360c0 13.3 10.7 24 24 24h184c35.3 0 64-28.7 64-64V624c0-35.3-28.7-64-64-64H200v-48c0-172.3 139.7-312 312-312s312 139.7 312 312v48H688c-35.3 0-64 28.7-64 64v208c0 35.3 28.7 64 64 64h184c13.3 0 24-10.7 24-24V512c0-212.1-171.9-384-384-384zM328 632v192H200V632h128zm496 192H696V632h128v192z"}}]},name:"customer-service",theme:"outlined"},Oo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.7L639.4 73.4c-6-6-14.2-9.4-22.7-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.6-9.4-22.6zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM402 549c0 5.4 4.4 9.5 9.8 9.5h32.4c5.4 0 9.8-4.2 9.8-9.4 0-28.2 25.8-51.6 58-51.6s58 23.4 58 51.5c0 25.3-21 47.2-49.3 50.9-19.3 2.8-34.5 20.3-34.7 40.1v32c0 5.5 4.5 10 10 10h32c5.5 0 10-4.5 10-10v-12.2c0-6 4-11.5 9.7-13.3 44.6-14.4 75-54 74.3-98.9-.8-55.5-49.2-100.8-108.5-101.6-61.4-.7-111.5 45.6-111.5 103zm78 195a32 32 0 1064 0 32 32 0 10-64 0z"}}]},name:"file-unknown",theme:"outlined"},$o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M920 760H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-568H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM216 712H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h72.4v20.5h-35.7c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h35.7V838H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4V716c0-2.2-1.8-4-4-4zM100 188h38v120c0 2.2 1.8 4 4 4h40c2.2 0 4-1.8 4-4V152c0-4.4-3.6-8-8-8h-78c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4zm116 240H100c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4h68.4l-70.3 77.7a8.3 8.3 0 00-2.1 5.4V592c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4v-36c0-2.2-1.8-4-4-4h-68.4l70.3-77.7a8.3 8.3 0 002.1-5.4V432c0-2.2-1.8-4-4-4z"}}]},name:"ordered-list",theme:"outlined"},Co=function(o,n){return h.createElement(ee,U({},o,{ref:n,icon:Io}))},wo=h.forwardRef(Co),_o=function(o,n){return h.createElement(ee,U({},o,{ref:n,icon:Oo}))},Eo=h.forwardRef(_o),To=function(o,n){return h.createElement(ee,U({},o,{ref:n,icon:$o}))},Bo=h.forwardRef(To),No=function(o,n){return h.createElement(ee,U({},o,{ref:n,icon:$t}))},Ae=h.forwardRef(No);const V={ROLES_SELECTION:"ROLES_SELECTION",BOARD_SETUP:"BOARD_SETUP",INTIMIDATION:"INTIMIDATION"},ne={SUBMIT_PLAYERS_ROLES:"SUBMIT_PLAYERS_ROLES",SUBMIT_SOCIAL_GROUP:"SUBMIT_SOCIAL_GROUP",SUBMIT_INTIMIDATION:"SUBMIT_INTIMIDATION",UPDATE_DETECTIVE_POSITION:"UPDATE_DETECTIVE_POSITION"},be={junior:15,sophomore:16,senior:17},ve={short:{en:"Short",pt:"Baixa"},medium:{en:"Medium",pt:"Média"},tall:{en:"Tall",pt:"Alta"}},ye={small:{en:"Small",pt:"Pequeno"},medium:{en:"Medium",pt:"Mediano"},large:{en:"Large",pt:"Grande"}},Se={female:{en:"Female",pt:"Feminino"},male:{en:"Male",pt:"Masculino"},both:{en:"Non-binary",pt:"Não-binário"}},et={INTIMIDATE:"INTIMIDATE"};function Po(t){const{translate:o}=F(),n=te({actionName:"submit-player-roles",onSuccess:()=>t(2),onError:()=>t(0),successMessage:o("Ação submetida com sucesso","Action submitted successfully"),errorMessage:o("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return s=>{n({action:ne.SUBMIT_PLAYERS_ROLES,...s})}}function Ro(){const{translate:t}=F(),o=te({actionName:"submit-social-group",successMessage:t("Ação submetida com sucesso","Action submitted successfully"),errorMessage:t("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return n=>{o({action:ne.SUBMIT_SOCIAL_GROUP,...n})}}function Mo(){const{translate:t}=F(),o=te({actionName:"update-detective-location",successMessage:t("Ação submetida com sucesso","Action submitted successfully"),errorMessage:t("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return n=>{o({action:ne.UPDATE_DETECTIVE_POSITION,...n})}}function zo(){const{translate:t}=F(),o=te({actionName:"submit-intimidation",successMessage:t("Ação submetida com sucesso","Action submitted successfully"),errorMessage:t("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return n=>{o({action:ne.SUBMIT_INTIMIDATION,...n})}}function Ao({players:t,state:o}){var p;const{step:n,setStep:s}=pe(),r=Po(s),i=u=>{var j;const l=((j=Object.values(t).find(b=>b.id!==u))==null?void 0:j.id)??"";r({gossiperPlayerId:u,detectivePlayerId:l})},a=e.jsx(J,{icon:e.jsx(Rt,{}),title:e.jsx(d,{pt:"Quem quer ser o fofoqueiro?",en:"Who will be the gossiper?"}),currentRound:(p=o==null?void 0:o.round)==null?void 0:p.current,type:"overlay",duration:4}),c=e.jsx(d,{pt:"Quem quer ser o fofoqueiro?",en:"Who will be the gossiper?"}),m=e.jsx(d,{en:e.jsx(e.Fragment,{children:"The gossiper will have to intimidate students and spread rumors about them while the detective tries to figure out who the gossiper is."}),pt:e.jsx(e.Fragment,{children:"O fofoqueiro terá que intimidar estudantes e espalhar rumores sobre eles enquanto o detetive tenta descobrir quem é o fofoqueiro."})});return e.jsx(he,{phase:o==null?void 0:o.phase,allowedPhase:V.ROLES_SELECTION,children:e.jsx(fe,{step:n,players:t,children:e.jsx(Mt,{players:t,announcement:a,titleProps:{children:e.jsx(e.Fragment,{children:c}),size:"small"},ruleInstructionProps:{children:e.jsx(e.Fragment,{children:m}),type:"lore"},onSubmitPlayer:i})})})}function tt(t){return h.useMemo(()=>{const o={},n={},s={},r={},i={};return Object.values(t).forEach(({gender:a,age:c,build:m,height:p,socialGroupId:u})=>{o[a]=(o[a]??0)+1,n[m]=(n[m]??0)+1,s[p]=(s[p]??0)+1,r[c]=(r[c]??0)+1,i[u]=(i[u]??0)+1}),{gendersDict:o,buildsDict:n,heightsDict:s,agesDict:r,socialGroupsDict:i}},[t])}function qo({maxWidth:t,maxHeight:o,children:n,transformWrapperProps:s,hideControls:r=!1,contentStyle:i={},wrapperClassName:a,contentClassName:c}){const{initialScale:m=1,minScale:p=.25,maxScale:u=4,wheel:l={step:.5},centerOnInit:j=!0,...b}=s??{};return e.jsx(Dt,{initialScale:m,minScale:p,maxScale:u,wheel:l,centerOnInit:j,...b,children:e.jsxs(h.Fragment,{children:[!r&&e.jsx(qe,{position:"top"}),e.jsx(Lt,{wrapperClass:q("zoom-pan-pinch-wrapper",a),wrapperStyle:{maxWidth:t,maxHeight:o},contentClass:q("zoom-pan-pinch-content",c),contentStyle:i,children:e.jsx("div",{style:{maxWidth:t,maxHeight:o},children:n})}),!r&&e.jsx(qe,{position:"bottom"})]})})}function qe({position:t}){const{zoomIn:o,zoomOut:n,resetTransform:s}=Gt();return e.jsxs(Ve.Compact,{size:"small",className:q("zoom-pan-pinch-controls",`zoom-pan-pinch-controls--${t}`),children:[e.jsx(I,{onClick:()=>o(),children:e.jsx(Ue,{})}),e.jsx(I,{onClick:()=>n(),children:e.jsx(We,{})}),e.jsx(I,{onClick:()=>s(),children:e.jsx(kt,{})})]})}const Fo="/tardedivertida/assets/student-icons-Dw5W8zN6.svg";function M({iconId:t,tooltip:o,...n}){return e.jsx(de,{title:o&&e.jsx(_,{children:o}),children:e.jsx(ue,{shape:"square",...n,src:e.jsx("svg",{viewBox:"0 0 512 512",style:{width:"32px",height:"32px"},children:e.jsx("use",{href:`${Fo}#${t}`})})})})}function ot({socialGroup:t,size:o}){return e.jsx(M,{iconId:t.id,tooltip:t.name,style:{backgroundColor:t.colors.primary},shape:"circle",size:o})}function Ie({gender:t,size:o}){const n=Se[t];return e.jsx(M,{iconId:t,shape:"circle",size:o,tooltip:{en:`Gender ${n.en}`,pt:`Gênero ${n.pt}`},className:q("student-icon__gender",`student-icon__gender--${t}`)})}function Oe({age:t,size:o}){const n=be[t];return e.jsx(de,{title:e.jsx(d,{en:`Age ${n} years old`,pt:`Idade ${n} anos`}),children:e.jsx(ue,{className:q("student-icon__age",`student-icon__age--${t}`),shape:"circle",size:o,children:n})})}function $e({build:t,size:o}){const n=ye[t];return e.jsx(M,{iconId:`build-${t}`,shape:"circle",size:o,tooltip:{en:`Build ${n.en}`,pt:`Corpo ${n.pt}`},className:q("student-icon__build",`student-icon__build--${t}`)})}function Ce({height:t,size:o}){const n=ve[t];return e.jsx(M,{iconId:`height-${t}`,shape:"circle",size:o,tooltip:{en:`Height ${n.en}`,pt:`Altura ${n.pt}`},className:q("student-icon__height",`student-icon__height--${t}`)})}function nt({student:t,socialGroup:o,showInfo:n,className:s}){var c;const r=Vt("images"),i=t.id.replace(/-/g,"/"),{translate:a}=F();return e.jsx("div",{className:q("student-card",{"student-card--intimidated":t.intimidated},s),style:{backgroundImage:`url(${r}/${i}.jpg)`,backgroundSize:"cover",backgroundPosition:"center",borderColor:(c=o==null?void 0:o.colors)==null?void 0:c.primary},children:n&&e.jsxs("div",{className:"student-card__info",children:[e.jsxs(O,{gap:2,align:"center",vertical:!0,className:"student-card__icons",children:[e.jsx(ot,{socialGroup:o,size:"small"}),e.jsx(Ie,{gender:t.gender,size:"small"}),e.jsx(Oe,{age:t.age,size:"small"}),e.jsx($e,{build:t.build,size:"small"}),e.jsx(Ce,{height:t.height,size:"small"})]}),e.jsx("div",{className:"student-card__name",children:a(t.name.pt,t.name.en).split(" ")[0]})]})})}const st=({children:t,onClose:o,open:n})=>{const[s,r]=h.useState(1),[i,a]=h.useState(0),[c,m]=h.useState(!1),[p,u]=h.useState(!1),l=()=>r(g=>Math.min(g+.1,2)),j=()=>r(g=>Math.max(g-.1,.5)),b=()=>a(g=>g-45),f=()=>a(g=>g+45),y=()=>m(g=>!g),v=()=>u(g=>!g);if(!n)return null;const S=g=>{g.target===g.currentTarget&&o()};return e.jsx(Pe,{children:e.jsx(Re.div,{className:"simple-modal-overlay",onClick:S,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.1},children:e.jsx(Pe,{children:e.jsxs(Re.div,{className:"simple-modal-overlay__content",initial:{opacity:0,scale:.85},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.3},transition:{duration:.05},children:[e.jsx(I,{shape:"circle",size:"large",ghost:!0,variant:"outlined",className:"simple-modal-overlay__close",onClick:o,icon:e.jsx(Ht,{})}),e.jsx("div",{className:"simple-modal-overlay__body",style:{transform:`scale(${s}) rotate(${i}deg) scaleX(${c?-1:1}) scaleY(${p?-1:1})`},children:t}),e.jsx("div",{className:"simple-modal-overlay__controls-container",children:e.jsxs(Ve.Compact,{className:"simple-modal-overlay__controls",children:[e.jsx(I,{onClick:l,ghost:!0,icon:e.jsx(Ue,{})}),e.jsx(I,{onClick:j,ghost:!0,icon:e.jsx(We,{})}),e.jsx(I,{onClick:b,ghost:!0,icon:e.jsx(Ut,{})}),e.jsx(I,{onClick:f,ghost:!0,icon:e.jsx(Wt,{})}),e.jsx(I,{onClick:y,ghost:!0,icon:e.jsx(Ae,{})}),e.jsx(I,{onClick:v,ghost:!0,icon:e.jsx(Ae,{style:{rotate:"90deg"}})})]})})]})})})})};function Do({id:t,staffMembers:o}){const n=o[t],[s,r]=Qt(!1);return e.jsxs("div",{className:"staff-member",children:[e.jsx(I,{onClick:r,size:"small",icon:e.jsx(M,{iconId:n.type}),type:"text"}),e.jsx(Lo,{staffMember:n,open:s,onClose:r})]})}function Lo({staffMember:t,open:o,onClose:n}){return e.jsx(st,{onClose:n,open:o,children:e.jsx(Ye,{children:e.jsxs("div",{className:"student-details",children:[e.jsx(Yt,{id:t.id}),e.jsxs("div",{children:[e.jsxs("div",{className:"student-details__name",children:[e.jsx(M,{iconId:t.type})," ",e.jsx(_,{children:t.name})]}),e.jsxs("div",{className:"student-details__title",children:[e.jsx(R,{color:"blue-inverse",children:e.jsx(d,{en:"Action for the Detective",pt:"Ação para o Detetive"})}),e.jsx(_,{children:t.description})]})]})]})})})}const Go="/tardedivertida/assets/school-board-QFBmmufZ.jpg";function we({schoolBoard:t,students:o,socialGroups:n,selectStudent:s,staff:r}){return e.jsx(qo,{maxWidth:256*4,transformWrapperProps:{minScale:.5,maxScale:2,smooth:!0},children:e.jsx("div",{className:"school-board",style:{backgroundImage:`url(${Go})`,backgroundSize:"cover",backgroundPosition:"center",width:4*256,height:4*256,gridTemplateColumns:"repeat(4, 250px)",gridTemplateRows:"repeat(4, 250px)"},children:t.map(a=>e.jsxs("div",{className:"school-location",children:[e.jsxs("div",{className:"school-location__header",children:[e.jsx("div",{className:"school-location__name",children:e.jsx(_,{children:a.name})}),a.staff&&e.jsxs("div",{className:"school-location__staff-member",children:[e.jsx(Do,{id:a.staff,staffMembers:r})," "]})]}),e.jsx("div",{className:"school-location__students",children:a.students.map(c=>e.jsx(Ct,{onClick:()=>s(c),hoverType:"tint",className:"school-location__student-button",children:e.jsx(nt,{student:o[c],socialGroup:n[o[c].socialGroupId],showInfo:!0},c)},c))}),e.jsx("div",{className:"school-location__footer",children:"D"})]},a.id))})})}function _e({student:t,socialGroups:o,gossiperId:n,bestFriendId:s,closeModal:r,showSecrets:i,actionType:a,onPerformAction:c}){const m=o[t.socialGroupId];return e.jsx(st,{onClose:r,open:!0,children:e.jsx(Ye,{children:e.jsxs("div",{className:"student-details",children:[e.jsx(nt,{student:t,socialGroup:o[t.socialGroupId],className:"student-details__student-card"}),e.jsxs("div",{children:[e.jsxs("div",{className:"student-details__header",children:[e.jsxs("div",{className:"student-details__identification",children:[e.jsx("div",{className:"student-details__name",children:e.jsx(_,{children:t.name})}),e.jsx("div",{className:"student-details__title",children:e.jsx(_,{children:t.title})}),e.jsxs(O,{align:"center",className:"student-details__social-group",children:[e.jsx(M,{iconId:t.socialGroupId,tooltip:{en:"Social Group",pt:"Grupo Social"},style:{backgroundColor:m.colors.primary},shape:"circle",size:"large"}),e.jsx(R,{color:m.colors.primary,className:"student-details__social-group-name",bordered:!0,children:e.jsx(_,{children:m.name})})]})]}),e.jsxs(O,{gap:6,vertical:!0,className:"student-details__icons",children:[e.jsxs("span",{children:[e.jsx(_,{children:Se[t.gender]})," ",e.jsx(Ie,{gender:t.gender})]}),e.jsxs("span",{children:[be[t.age]," ",e.jsx(d,{en:"years old",pt:"anos"})," ",e.jsx(Oe,{age:t.age})]}),e.jsxs("span",{children:[e.jsx(_,{children:ye[t.build]})," ",e.jsx($e,{build:t.build})]}),e.jsxs("span",{children:[e.jsx(_,{children:ve[t.height]})," ",e.jsx(Ce,{height:t.height})]})]})]}),e.jsx(Xt,{}),e.jsx(O,{vertical:!0,gap:3,className:"student-details__secrets",children:t.intimidated&&e.jsx(K,{message:e.jsx(d,{en:"This student has been intimidated. They cannot be questioned unless the detective first comfort them",pt:"Esse estudante está intimidado. Ele(a) não pode ser questionado(a) a menos que o detetive o(a) console primeiro"}),showIcon:!0,icon:e.jsx(M,{iconId:"intimidated"}),banner:!0})}),i&&e.jsxs(O,{vertical:!0,gap:3,className:"student-details__secrets",children:[t.id===n&&e.jsx(K,{message:e.jsx(d,{en:"This student is the gossiper",pt:"Esse estudante é o fofoqueiro"}),type:"error",showIcon:!0,banner:!0}),t.id===s&&e.jsx(K,{message:e.jsx(d,{en:"This student is the best friend",pt:"Esse estudante é o melhor amigo"}),type:"warning",showIcon:!0,banner:!0}),t.canLie&&e.jsx(K,{message:e.jsx(d,{en:"This student can lie for you",pt:"Esse estudante pode mentir"}),type:"info",showIcon:!0,banner:!0})]}),a===et.INTIMIDATE&&ko(t)&&e.jsx(O,{justify:"center",children:e.jsx(me,{onClick:()=>c==null?void 0:c(t.id),type:"primary",size:"large",block:!0,children:e.jsx(d,{en:"Intimidate",pt:"Intimidar"})})})]})]})})})}const ko=t=>!t.rumored&&!t.intimidated;function Ee({students:t,socialGroups:o}){const{language:n}=F(),s=tt(t),r=h.useMemo(()=>({ages:k.orderBy(Object.entries(s.agesDict).map(([i,a])=>({id:i,label:be[i],count:a})),"label","asc"),builds:k.orderBy(Object.entries(s.buildsDict).map(([i,a])=>({id:i,label:ye[i],count:a})),`label.${n}`,"asc"),genders:k.orderBy(Object.entries(s.gendersDict).map(([i,a])=>({id:i,label:Se[i],count:a})),`label.${n}`,"asc"),heights:k.orderBy(Object.entries(s.heightsDict).map(([i,a])=>({id:i,label:ve[i],count:a})),`label.${n}`,"asc"),socialGroups:k.orderBy(Object.entries(s.socialGroupsDict).map(([i,a])=>({id:i,label:o[i].name,count:a})),`label.${n}`,"asc")}),[s,n,o]);return e.jsxs("div",{className:"board-summary",children:[e.jsx(wt.Title,{level:4,children:e.jsx(d,{en:"Summary",pt:"Resumo"})}),e.jsxs("div",{className:"board-summary__data",children:[e.jsxs(O,{vertical:!0,gap:3,children:[e.jsx("div",{className:"board-summary__label",children:e.jsx(d,{en:"Social Groups",pt:"Grupos Sociais"})}),r.socialGroups.map(({id:i,label:a,count:c})=>e.jsxs("div",{children:[e.jsx(ot,{socialGroup:o[i]})," ",c]},a.en))]}),e.jsxs(O,{vertical:!0,gap:6,children:[e.jsx("div",{className:"board-summary__label",children:e.jsx(d,{en:"Genders",pt:"Gêneros"})}),e.jsx(O,{vertical:!0,gap:3,children:r.genders.map(({id:i,count:a})=>e.jsxs("span",{children:[e.jsx(Ie,{gender:i,size:"small"})," ",a]},i))}),e.jsx("div",{className:"board-summary__label",children:e.jsx(d,{en:"Ages",pt:"Idades"})}),e.jsx(O,{vertical:!0,gap:3,children:r.ages.map(({id:i,count:a})=>e.jsxs("span",{children:[e.jsx(Oe,{age:i,size:"small"})," ",a]},i))})]}),e.jsxs(O,{vertical:!0,gap:6,children:[e.jsx("div",{className:"board-summary__label",children:e.jsx(d,{en:"Builds",pt:"Corpos"})}),e.jsx(O,{vertical:!0,gap:3,children:r.builds.map(({id:i,count:a})=>e.jsxs("span",{children:[e.jsx($e,{build:i,size:"small"})," ",a]},i))}),e.jsx("div",{className:"board-summary__label",children:e.jsx(d,{en:"Alturas",pt:"Heights"})}),e.jsx(O,{vertical:!0,gap:3,children:r.heights.map(({id:i,count:a})=>e.jsxs("span",{children:[e.jsx(Ce,{height:i,size:"small"})," ",a]},i))})]})]})]})}function Vo({students:t,gossiperId:o,bestFriendId:n,motivation:s,onOpenStudentModal:r}){return e.jsxs(e.Fragment,{children:[e.jsxs(Y,{type:"lore",className:"text-left",children:[e.jsx(d,{en:"You are the gossiper and must spread rumors about 5 of your classmates, one round at a time.",pt:"Você é o fofoqueiro e deve espalhar boatos sobre 5 de seus colegas de classe, uma vez por rodada."}),e.jsx("br",{}),e.jsx(R,{color:"red",children:e.jsx(d,{en:"You",pt:"Você"})})," ",e.jsx(I,{size:"small",onClick:()=>r(o),icon:e.jsx(le,{}),children:e.jsx(_,{children:t[o].name})}),n&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx(d,{en:"You have a best friend that will lie for you if needed.",pt:"Você tem um melhor amigo que mentirá por você se necessário."}),e.jsx("br",{}),e.jsx(R,{color:"orange",children:e.jsx(d,{en:"Best Friend",pt:"Melhor Amigo"})})," ",e.jsx(I,{size:"small",onClick:()=>r(n),icon:e.jsx(le,{}),children:e.jsx(_,{children:t[n].name})})]})]}),e.jsxs(Y,{type:"event",className:"text-left",children:[e.jsx(d,{en:"Your motivation determines how you can spread gossip and figuring it out is one of the Detective's goals.",pt:"Sua motivação determina como você pode espalhar boatos e descobri-la é um dos objetivos do Detetive."}),e.jsx("br",{}),e.jsxs("span",{children:[e.jsx(R,{color:"blue",children:e.jsx(d,{en:"Motivation",pt:"Motivação"})})," ",e.jsx(_,{children:s.title}),":"," ",e.jsx("i",{children:e.jsx(_,{children:s.description})})]}),e.jsx("br",{})]})]})}function Ho({user:t,announcement:o,schoolBoard:n,socialGroups:s,students:r,gossiperId:i,bestFriendId:a,staff:c,motivations:m,gossiperMotivationIndex:p,onSubmitAssociatedSocialGroup:u}){var g;const[l,j]=h.useState(null),b=m[p],[f,y]=h.useState(null),v=tt(r),S=()=>{f&&u({associatedSocialGroupId:f})};return e.jsxs(xe,{fullWidth:!0,announcement:o,children:[e.jsx(ge,{children:e.jsx(d,{pt:e.jsx(e.Fragment,{children:"Preparando a escola"}),en:e.jsx(e.Fragment,{children:"Setting up the school"})})}),e.jsx(we,{schoolBoard:n,students:r,socialGroups:s,selectStudent:j,staff:c}),e.jsx(H,{contained:!0,children:e.jsxs(O,{justify:"center",children:[e.jsx(Ee,{students:r,socialGroups:s}),e.jsxs("div",{children:[e.jsx(Vo,{motivation:b,students:r,gossiperId:i,bestFriendId:a,onOpenStudentModal:y}),e.jsxs(Y,{type:"action",className:"text-left",children:[e.jsx(d,{en:"To help you with your chaos, select one of these social groups to be associated with you. They also will be able to lie for you. The numbers are how many students are in each group.",pt:"Para te ajudar com seu caos, selecione um desses grupos sociais para ser associado a você. Eles também poderão mentir por você. Os números são quantos alunos estão em cada grupo."}),e.jsx("br",{}),e.jsx(O,{gap:8,children:(g=t==null?void 0:t.socialGroupOptions)==null?void 0:g.map(E=>e.jsxs(I,{onClick:()=>y(E),icon:e.jsx(_t,{icon:f===E?e.jsx(Ft,{}):e.jsx(M,{iconId:E})}),type:f===E?"default":"dashed",style:{background:s[E].colors.primary,color:"white"},children:[e.jsx(_,{children:s[E].name})," ",e.jsx(ue,{size:"small",children:v.socialGroupsDict[E]})]},E))}),e.jsx("br",{}),f&&e.jsx(me,{onClick:S,block:!0,disabled:!f||!!t.associatedSocialGroupId,children:e.jsx(d,{en:"Submit",pt:"Enviar"})})]})]})]})}),l&&e.jsx(_e,{student:r[l],socialGroups:s,gossiperId:i,bestFriendId:a,closeModal:()=>j(null),showSecrets:t.role==="gossiper"})]})}function rt({bestFriendId:t}){return e.jsxs(Y,{type:"lore",className:"text-left",children:[e.jsx(d,{en:e.jsxs(e.Fragment,{children:["You are detective and must ",e.jsx("strong",{children:"find out which student is the gossiper"}),"."]}),pt:e.jsxs(e.Fragment,{children:["Você é o detetive e deve descobrir ",e.jsx("strong",{children:"qual aluno é o fofoqueiro."})]})}),e.jsx("br",{}),e.jsx(R,{color:"red",children:e.jsx(d,{en:"Gossiper",pt:"Fofoqueiro"})})," ",e.jsx(I,{size:"small",children:"?"}),e.jsx("br",{}),e.jsx(d,{en:e.jsxs(e.Fragment,{children:["You will also need to figure out ",e.jsx("strong",{children:"which of the 6 motivations"})," the gossiper has."]}),pt:e.jsxs(e.Fragment,{children:["Você também precisará descobrir ",e.jsx("strong",{children:"qual das 6 motivações"})," o fofoqueiro tem."]})}),e.jsx("br",{}),e.jsx(R,{color:"red",children:e.jsx(d,{en:"Motivation",pt:"Motivação"})})," ",e.jsx(I,{size:"small",children:"?"}),t&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx(d,{en:"The gossiper also has a best friend who will lie for them. You don't need to figure out who it is, but keep it in mind.",pt:"O fofoqueiro também tem um melhor amigo que mentirá por ele. Você não precisa descobrir quem é, mas mantenha isso em mente."}),e.jsx("br",{}),e.jsx(R,{color:"orange",children:e.jsx(d,{en:"Best Friend",pt:"Melhor Amigo"})})," ",e.jsx(I,{size:"small",children:"-"})]}),e.jsx("br",{}),e.jsx(d,{en:"The gossiper will also have an allied social group that could lie for them.",pt:"O fofoqueiro também terá um grupo social aliado que poderá mentir por ele."}),e.jsx("br",{}),e.jsx(R,{color:"orange",children:e.jsx(d,{en:"Allied Social Group",pt:"Grupo Social Aliado"})})," ",e.jsx(I,{size:"small",children:"-"})]})}function Uo(){return e.jsxs(B.Group,{trigger:"hover",type:"primary",shape:"square",icon:e.jsx(wo,{}),children:[e.jsx(B,{tooltip:e.jsx(d,{en:"Game Phases",pt:"Fases do Jogo"}),icon:e.jsx(Bo,{})}),e.jsx(B,{tooltip:e.jsx(d,{en:"Board Summary",pt:"Resumo"}),icon:e.jsx(to,{})}),e.jsx(B,{tooltip:e.jsx(d,{en:"Motivations",pt:"Motivações"}),icon:e.jsx(le,{})}),e.jsx(B,{tooltip:e.jsx(d,{en:"Questions",pt:"Sugestões de Perguntas"}),icon:e.jsx(Eo,{})}),e.jsx(B,{tooltip:e.jsx(d,{en:"Notebook",pt:"Blocos de Notas"})})]})}function Wo({user:t,announcement:o,schoolBoard:n,socialGroups:s,students:r,gossiperId:i,bestFriendId:a,staff:c,onSubmitDetectiveLocation:m}){const{dualTranslate:p}=F(),[u,l]=h.useState(null),[j,b]=h.useState(null),f=()=>{j!==null&&m({locationId:j,shouldReady:!0})},y=k.orderBy(n.map((S,g)=>({label:p(S.name),value:g})),"label"),v=t.locationId!==null&&t.locationId!==void 0;return e.jsxs(xe,{fullWidth:!0,announcement:o,children:[e.jsx(ge,{children:e.jsx(d,{pt:e.jsx(e.Fragment,{children:"Preparando a escola"}),en:e.jsx(e.Fragment,{children:"Setting up the school"})})}),e.jsx(Uo,{}),e.jsx(we,{schoolBoard:n,students:r,socialGroups:s,selectStudent:l,staff:c}),e.jsx(H,{contained:!0,children:e.jsxs(O,{justify:"center",children:[e.jsx(Ee,{students:r,socialGroups:s}),e.jsxs("div",{children:[e.jsx(rt,{bestFriendId:a}),e.jsxs(Y,{type:"action",className:"text-left",children:[e.jsx(d,{en:"To start the game, first select which location on the school map you want to start.",pt:"Para começar o jogo, primeiro selecione em qual localização do mapa da escola você quer começar."}),e.jsx("br",{}),e.jsx(oo,{options:y,onChange:b,placeholder:e.jsx(d,{en:"Select a location",pt:"Selecione um local"}),style:{width:200},disabled:v}),e.jsx("br",{}),j!==null&&e.jsx(me,{onClick:f,block:!0,disabled:v,children:e.jsx(d,{en:"Submit",pt:"Enviar"})})]})]})]})}),u&&e.jsx(_e,{student:r[u],socialGroups:s,gossiperId:i,bestFriendId:a,closeModal:()=>l(null),showSecrets:t.role==="gossiper"})]})}function Yo({players:t,state:o}){var p,u;const n=He(t,o),{step:s}=pe(),[,r]=ae("gossiperPlayerId",o,t),i=Ro(),a=Mo(),c=e.jsx(J,{icon:e.jsx(At,{}),title:e.jsx(d,{pt:"Quem são seus aliados",en:"Who are your allies?"}),currentRound:(p=o==null?void 0:o.round)==null?void 0:p.current,type:"overlay",children:e.jsx(H,{children:e.jsx(d,{en:"After looking what character you are, select one of 3 social groups to be your allies and eventually lie for you",pt:"Depois de ver qual personagem você é, selecione um dos 3 grupos sociais para serem seus aliados e eventualmente mentirem por você"})})}),m=e.jsx(J,{icon:e.jsx(zt,{}),title:e.jsx(d,{pt:"Onde você começa investigando?",en:"Where do you start investigating?"}),currentRound:(u=o==null?void 0:o.round)==null?void 0:u.current,type:"overlay",children:e.jsx(H,{children:e.jsx(d,{en:"Select one location as your starting position",pt:"Selecione uma localização como sua posição inicial"})})});return e.jsx(he,{phase:o==null?void 0:o.phase,allowedPhase:V.BOARD_SETUP,children:e.jsx(fe,{step:s,players:t,children:e.jsxs(qt,{condition:r,children:[e.jsx(Ho,{user:n,players:t,announcement:c,schoolBoard:o.schoolBoard,students:o.students,socialGroups:o.socialGroups,gossiperId:o.gossiperId,bestFriendId:o.bestFriendId,staff:o.staff,motivations:o.motivations,gossiperMotivationIndex:o.gossiperMotivationIndex,onSubmitAssociatedSocialGroup:i}),e.jsx(Wo,{user:n,players:t,announcement:m,schoolBoard:o.schoolBoard,students:o.students,socialGroups:o.socialGroups,gossiperId:o.gossiperId,bestFriendId:o.bestFriendId,staff:o.staff,motivations:o.motivations,onSubmitDetectiveLocation:a})]})})})}function Qo({user:t,announcement:o,schoolBoard:n,socialGroups:s,students:r,gossiperId:i,bestFriendId:a,staff:c,onSubmitIntimidation:m,isTheGossiperPlayer:p}){const[u,l]=h.useState(null),[j,b]=h.useState(0),f=h.useMemo(()=>Object.values(r).filter(v=>!v.rumored&&!v.intimidated).length,[r]),y=v=>{b(j+1),m({intimidatedStudentId:v,shouldGoToTheNextPhase:j>=f})};return e.jsxs(xe,{fullWidth:!0,announcement:o,children:[e.jsx(ge,{children:e.jsx(d,{pt:e.jsx(e.Fragment,{children:"Intimidação de dois estudantes"}),en:e.jsx(e.Fragment,{children:"Intimidating two students"})})}),e.jsx(we,{schoolBoard:n,students:r,socialGroups:s,selectStudent:l,staff:c}),e.jsx(H,{contained:!0,children:e.jsxs(O,{justify:"center",children:[e.jsx(Ee,{students:r,socialGroups:s}),e.jsx("div",{children:e.jsx(rt,{bestFriendId:a})})]})}),u&&e.jsx(_e,{student:r[u],socialGroups:s,gossiperId:i,bestFriendId:a,closeModal:()=>l(null),showSecrets:t.role==="gossiper",actionType:p?et.INTIMIDATE:void 0,onPerformAction:p?y:void 0})]})}function Xo({players:t,state:o}){var m;const n=He(t,o),{step:s}=pe(),[,r]=ae("gossiperPlayerId",o,t),[,i]=ae("detectivePlayerId",o,t),a=zo(),c=e.jsx(J,{icon:e.jsx(no,{}),title:e.jsx(d,{pt:"Intimidação",en:"Intimidation"}),currentRound:(m=o==null?void 0:o.round)==null?void 0:m.current,type:"overlay",children:e.jsx(H,{children:e.jsx(d,{en:"The gossiper will have to intimidate two students",pt:"O fofoqueiro terá que intimidar dois estudantes"})})});return e.jsx(he,{phase:o==null?void 0:o.phase,allowedPhase:V.INTIMIDATION,children:e.jsx(fe,{step:s,players:t,children:e.jsx(Qo,{user:n,players:t,announcement:c,schoolBoard:o.schoolBoard,students:o.students,socialGroups:o.socialGroups,gossiperId:o.gossiperId,bestFriendId:o.bestFriendId,staff:o.staff,motivations:o.motivations,onSubmitIntimidation:a,isTheGossiperPlayer:r,isTheDetectivePlayer:i})})})}function Zo(t){switch(t.phase){case V.ROLES_SELECTION:return Ao;case V.BOARD_SETUP:return Yo;case V.INTIMIDATION:return Xo;case Nt.DEFAULT.GAME_OVER:return Pt;default:return Bt}}function ns(){return e.jsx(Tt,{gameCollection:Et.FOFOCA_QUENTE,getActiveComponent:Zo})}export{ns as default};
