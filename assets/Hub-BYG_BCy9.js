import{r as s,_ as nt,$ as Ie,a0 as Tt,a1 as ue,a2 as H,a3 as Ga,a4 as q,a5 as za,p as Gt,a6 as E,a7 as Ze,a8 as Ct,a9 as Ua,aa as Ya,ab as Pe,ac as ht,ad as qa,ae as Xa,af as Yt,ag as qt,ah as mn,ai as on,aj as Ja,ak as kn,al as Qa,am as Za,an as er,ao as tr,ap as nr,aq as ve,ar,b as rr,g as or,m as sa,as as _n,at as ir,u as lr,au as sr,av as cr,aw as Ln,ax as ur,c as An,ay as dr,az as fr,aA as vr,aB as gr,aC as hr,aD as jn,aE as mr,aF as ca,J as ua,E as pr,aG as yr,aH as Cr,aI as da,aJ as fa,j as C,N as Ft,T as rt,e as pn,s as br,B as yn,aK as Sr,aL as xr,h as ln,aM as wr,aN as zt,H as Er,y as va,aO as tn,k as Nr,aP as kr,q as Xt,i as ga,x as Cn,t as $n,aQ as Dr,aR as Kr,aS as Vn,aT as ha,z as Ir,G as ma,aU as Or,v as Tr,L as Mr,aV as Rr,f as Pr,C as _r}from"./index-CGSQCK0t.js";import{D as Lr}from"./DevHeader-DCbhIz40.js";import{R as Ar,L as jr}from"./LogoutButton-BrgUh_Ps.js";import{G as pa}from"./GameBanner-BiB3i5W6.js";import{R as $r,G as Vr}from"./RulesModal-WYtPVJHj.js";import{u as Fr}from"./useMutation-BXEqyBJN.js";import{g as Hr,C as Wr,L as Br}from"./Loading-Be1moASX.js";import{I as dn,u as Gr}from"./useDevFeatures-4QR5HvPz.js";import{R as Fn}from"./index-BWaiCuLd.js";import{u as zr}from"./useCopyToClipboard-C3BxxH8d.js";import{M as Ur,T as Yr}from"./index-2x-tnb_W.js";import{D as nn}from"./index-D5DYhoAJ.js";import{C as Vt}from"./index-C6nVeHqV.js";import{B as qr}from"./index-DeVsjLs3.js";import{L as ya,u as Xr,a as Jr,b as Qr,c as Zr,D as eo,m as to,S as no}from"./index-C39LbwFe.js";import{T as Hn}from"./index-WouEotSt.js";import{F as ao}from"./Overflow-RsMGoRvb.js";import{_ as Ca,i as ro,g as oo,S as io}from"./iconUtil-D5lxOckO.js";import{g as lo}from"./PurePanel-DsjFyYmk.js";import"./index-CXi1w73L.js";import"./WritingIcon-DDH-TRUI.js";import"./useBubbleLock-BnRdg95y.js";import"./AnimatedLoaderIcon-DQ1E5w_H.js";import"./useSetState-u7vjpgKk.js";import"./index-jpwTTRvA.js";import"./EllipsisOutlined-BfMqHESe.js";import"./PlusOutlined-UT8o0ADj.js";var sn=function(n){var o=n.className,t=n.customizeIcon,a=n.customizeIconProps,c=n.children,u=n.onMouseDown,r=n.onClick,l=typeof t=="function"?t(a):t;return s.createElement("span",{className:o,onMouseDown:function(d){d.preventDefault(),u?.(d)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:r,"aria-hidden":!0},l!==void 0?l:s.createElement("span",{className:nt(o.split(/\s+/).map(function(i){return"".concat(i,"-icon")}))},c))},so=function(n,o,t,a,c){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,r=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,i=Ie.useMemo(function(){if(Tt(a)==="object")return a.clearIcon;if(c)return c},[a,c]),d=Ie.useMemo(function(){return!!(!u&&a&&(t.length||r)&&!(l==="combobox"&&r===""))},[a,u,t.length,r,l]);return{allowClear:d,clearIcon:Ie.createElement(sn,{className:"".concat(n,"-clear"),onMouseDown:o,customizeIcon:i},"×")}},ba=s.createContext(null);function Sa(){return s.useContext(ba)}function co(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,n=s.useState(!1),o=ue(n,2),t=o[0],a=o[1],c=s.useRef(null),u=function(){window.clearTimeout(c.current)};s.useEffect(function(){return u},[]);var r=function(i,d){u(),c.current=window.setTimeout(function(){a(i),d&&d()},e)};return[t,r,u]}function xa(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,n=s.useRef(null),o=s.useRef(null);s.useEffect(function(){return function(){window.clearTimeout(o.current)}},[]);function t(a){(a||n.current===null)&&(n.current=a),window.clearTimeout(o.current),o.current=window.setTimeout(function(){n.current=null},e)}return[function(){return n.current},t]}function uo(e,n,o,t){var a=s.useRef(null);a.current={open:n,triggerOpen:o,customizedTrigger:t},s.useEffect(function(){function c(u){var r;if(!((r=a.current)!==null&&r!==void 0&&r.customizedTrigger)){var l=u.target;l.shadowRoot&&u.composed&&(l=u.composedPath()[0]||l),a.current.open&&e().filter(function(i){return i}).every(function(i){return!i.contains(l)&&i!==l})&&a.current.triggerOpen(!1)}}return window.addEventListener("mousedown",c),function(){return window.removeEventListener("mousedown",c)}},[])}function fo(e){return![H.ESC,H.SHIFT,H.BACKSPACE,H.TAB,H.WIN_KEY,H.ALT,H.META,H.WIN_KEY_RIGHT,H.CTRL,H.SEMICOLON,H.EQUALS,H.CAPS_LOCK,H.CONTEXT_MENU,H.F1,H.F2,H.F3,H.F4,H.F5,H.F6,H.F7,H.F8,H.F9,H.F10,H.F11,H.F12].includes(e)}var vo=function(n,o){var t,a=n.prefixCls,c=n.id,u=n.inputElement,r=n.disabled,l=n.tabIndex,i=n.autoFocus,d=n.autoComplete,v=n.editable,m=n.activeDescendantId,f=n.value,p=n.maxLength,y=n.onKeyDown,g=n.onMouseDown,b=n.onChange,N=n.onPaste,S=n.onCompositionStart,x=n.onCompositionEnd,w=n.open,k=n.attrs,K=u||s.createElement("input",null),h=K,D=h.ref,R=h.props,M=R.onKeyDown,L=R.onChange,V=R.onMouseDown,O=R.onCompositionStart,P=R.onCompositionEnd,B=R.style;return Ga(!("maxLength"in K.props)),K=s.cloneElement(K,q(q(q({type:"search"},R),{},{id:c,ref:za(o,D),disabled:r,tabIndex:l,autoComplete:d||"off",autoFocus:i,className:nt("".concat(a,"-selection-search-input"),(t=K)===null||t===void 0||(t=t.props)===null||t===void 0?void 0:t.className),role:"combobox","aria-expanded":w||!1,"aria-haspopup":"listbox","aria-owns":"".concat(c,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(c,"_list"),"aria-activedescendant":w?m:void 0},k),{},{value:v?f:"",maxLength:p,readOnly:!v,unselectable:v?null:"on",style:q(q({},B),{},{opacity:v?null:0}),onKeyDown:function(G){y(G),M&&M(G)},onMouseDown:function(G){g(G),V&&V(G)},onChange:function(G){b(G),L&&L(G)},onCompositionStart:function(G){S(G),O&&O(G)},onCompositionEnd:function(G){x(G),P&&P(G)},onPaste:N})),K},wa=s.forwardRef(vo);function Ea(e){return Array.isArray(e)?e:e!==void 0?[e]:[]}var go=typeof window<"u"&&window.document&&window.document.documentElement,ho=go;function mo(e){return e!=null}function po(e){return!e&&e!==0}function Wn(e){return["string","number"].includes(Tt(e))}function Na(e){var n=void 0;return e&&(Wn(e.title)?n=e.title.toString():Wn(e.label)&&(n=e.label.toString())),n}function yo(e,n){ho?s.useLayoutEffect(e,n):s.useEffect(e,n)}function Co(e){var n;return(n=e.key)!==null&&n!==void 0?n:e.value}var Bn=function(n){n.preventDefault(),n.stopPropagation()},bo=function(n){var o=n.id,t=n.prefixCls,a=n.values,c=n.open,u=n.searchValue,r=n.autoClearSearchValue,l=n.inputRef,i=n.placeholder,d=n.disabled,v=n.mode,m=n.showSearch,f=n.autoFocus,p=n.autoComplete,y=n.activeDescendantId,g=n.tabIndex,b=n.removeIcon,N=n.maxTagCount,S=n.maxTagTextLength,x=n.maxTagPlaceholder,w=x===void 0?function($){return"+ ".concat($.length," ...")}:x,k=n.tagRender,K=n.onToggleOpen,h=n.onRemove,D=n.onInputChange,R=n.onInputPaste,M=n.onInputKeyDown,L=n.onInputMouseDown,V=n.onInputCompositionStart,O=n.onInputCompositionEnd,P=s.useRef(null),B=s.useState(0),Q=ue(B,2),G=Q[0],ae=Q[1],X=s.useState(!1),Ce=ue(X,2),_e=Ce[0],Re=Ce[1],he="".concat(t,"-selection"),de=c||v==="multiple"&&r===!1||v==="tags"?u:"",Ge=v==="tags"||v==="multiple"&&r===!1||m&&(c||_e);yo(function(){ae(P.current.scrollWidth)},[de]);var le=function(F,A,J,se,ce){return s.createElement("span",{title:Na(F),className:nt("".concat(he,"-item"),E({},"".concat(he,"-item-disabled"),J))},s.createElement("span",{className:"".concat(he,"-item-content")},A),se&&s.createElement(sn,{className:"".concat(he,"-item-remove"),onMouseDown:Bn,onClick:ce,customizeIcon:b},"×"))},be=function(F,A,J,se,ce,ee){var me=function(Me){Bn(Me),K(!c)};return s.createElement("span",{onMouseDown:me},k({label:A,value:F,disabled:J,closable:se,onClose:ce,isMaxTag:!!ee}))},Ne=function(F){var A=F.disabled,J=F.label,se=F.value,ce=!d&&!A,ee=J;if(typeof S=="number"&&(typeof J=="string"||typeof J=="number")){var me=String(ee);me.length>S&&(ee="".concat(me.slice(0,S),"..."))}var re=function(Z){Z&&Z.stopPropagation(),h(F)};return typeof k=="function"?be(se,ee,A,ce,re):le(F,ee,A,ce,re)},Se=function(F){var A=typeof w=="function"?w(F):w;return typeof k=="function"?be(void 0,A,!1,!1,void 0,!0):le({title:A},A,!1)},j=s.createElement("div",{className:"".concat(he,"-search"),style:{width:G},onFocus:function(){Re(!0)},onBlur:function(){Re(!1)}},s.createElement(wa,{ref:l,open:c,prefixCls:t,id:o,inputElement:null,disabled:d,autoFocus:f,autoComplete:p,editable:Ge,activeDescendantId:y,value:de,onKeyDown:M,onMouseDown:L,onChange:D,onPaste:R,onCompositionStart:V,onCompositionEnd:O,tabIndex:g,attrs:Gt(n,!0)}),s.createElement("span",{ref:P,className:"".concat(he,"-search-mirror"),"aria-hidden":!0},de," ")),T=s.createElement(ao,{prefixCls:"".concat(he,"-overflow"),data:a,renderItem:Ne,renderRest:Se,suffix:j,itemKey:Co,maxCount:N});return s.createElement("span",{className:"".concat(he,"-wrap")},T,!a.length&&!de&&s.createElement("span",{className:"".concat(he,"-placeholder")},i))},So=function(n){var o=n.inputElement,t=n.prefixCls,a=n.id,c=n.inputRef,u=n.disabled,r=n.autoFocus,l=n.autoComplete,i=n.activeDescendantId,d=n.mode,v=n.open,m=n.values,f=n.placeholder,p=n.tabIndex,y=n.showSearch,g=n.searchValue,b=n.activeValue,N=n.maxLength,S=n.onInputKeyDown,x=n.onInputMouseDown,w=n.onInputChange,k=n.onInputPaste,K=n.onInputCompositionStart,h=n.onInputCompositionEnd,D=n.title,R=s.useState(!1),M=ue(R,2),L=M[0],V=M[1],O=d==="combobox",P=O||y,B=m[0],Q=g||"";O&&b&&!L&&(Q=b),s.useEffect(function(){O&&V(!1)},[O,b]);var G=d!=="combobox"&&!v&&!y?!1:!!Q,ae=D===void 0?Na(B):D,X=s.useMemo(function(){return B?null:s.createElement("span",{className:"".concat(t,"-selection-placeholder"),style:G?{visibility:"hidden"}:void 0},f)},[B,G,f,t]);return s.createElement("span",{className:"".concat(t,"-selection-wrap")},s.createElement("span",{className:"".concat(t,"-selection-search")},s.createElement(wa,{ref:c,prefixCls:t,id:a,open:v,inputElement:o,disabled:u,autoFocus:r,autoComplete:l,editable:P,activeDescendantId:i,value:Q,onKeyDown:S,onMouseDown:x,onChange:function(_e){V(!0),w(_e)},onPaste:k,onCompositionStart:K,onCompositionEnd:h,tabIndex:p,attrs:Gt(n,!0),maxLength:O?N:void 0})),!O&&B?s.createElement("span",{className:"".concat(t,"-selection-item"),title:ae,style:G?{visibility:"hidden"}:void 0},B.label):null,X)},xo=function(n,o){var t=s.useRef(null),a=s.useRef(!1),c=n.prefixCls,u=n.open,r=n.mode,l=n.showSearch,i=n.tokenWithEnter,d=n.disabled,v=n.prefix,m=n.autoClearSearchValue,f=n.onSearch,p=n.onSearchSubmit,y=n.onToggleOpen,g=n.onInputKeyDown,b=n.domRef;s.useImperativeHandle(o,function(){return{focus:function(ae){t.current.focus(ae)},blur:function(){t.current.blur()}}});var N=xa(0),S=ue(N,2),x=S[0],w=S[1],k=function(ae){var X=ae.which,Ce=t.current instanceof HTMLTextAreaElement;!Ce&&u&&(X===H.UP||X===H.DOWN)&&ae.preventDefault(),g&&g(ae),X===H.ENTER&&r==="tags"&&!a.current&&!u&&p?.(ae.target.value),!(Ce&&!u&&~[H.UP,H.DOWN,H.LEFT,H.RIGHT].indexOf(X))&&fo(X)&&y(!0)},K=function(){w(!0)},h=s.useRef(null),D=function(ae){f(ae,!0,a.current)!==!1&&y(!0)},R=function(){a.current=!0},M=function(ae){a.current=!1,r!=="combobox"&&D(ae.target.value)},L=function(ae){var X=ae.target.value;if(i&&h.current&&/[\r\n]/.test(h.current)){var Ce=h.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");X=X.replace(Ce,h.current)}h.current=null,D(X)},V=function(ae){var X=ae.clipboardData,Ce=X?.getData("text");h.current=Ce||""},O=function(ae){var X=ae.target;if(X!==t.current){var Ce=document.body.style.msTouchAction!==void 0;Ce?setTimeout(function(){t.current.focus()}):t.current.focus()}},P=function(ae){var X=x();ae.target!==t.current&&!X&&!(r==="combobox"&&d)&&ae.preventDefault(),(r!=="combobox"&&(!l||!X)||!u)&&(u&&m!==!1&&f("",!0,!1),y())},B={inputRef:t,onInputKeyDown:k,onInputMouseDown:K,onInputChange:L,onInputPaste:V,onInputCompositionStart:R,onInputCompositionEnd:M},Q=r==="multiple"||r==="tags"?s.createElement(bo,Ze({},n,B)):s.createElement(So,Ze({},n,B));return s.createElement("div",{ref:b,className:"".concat(c,"-selector"),onClick:O,onMouseDown:P},v&&s.createElement("div",{className:"".concat(c,"-prefix")},v),Q)},wo=s.forwardRef(xo),Eo=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],No=function(n){var o=n===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:o,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:o,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:o,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:o,adjustY:1},htmlRegion:"scroll"}}},ko=function(n,o){var t=n.prefixCls;n.disabled;var a=n.visible,c=n.children,u=n.popupElement,r=n.animation,l=n.transitionName,i=n.dropdownStyle,d=n.dropdownClassName,v=n.direction,m=v===void 0?"ltr":v,f=n.placement,p=n.builtinPlacements,y=n.dropdownMatchSelectWidth,g=n.dropdownRender,b=n.dropdownAlign,N=n.getPopupContainer,S=n.empty,x=n.getTriggerDOMNode,w=n.onPopupVisibleChange,k=n.onPopupMouseEnter,K=Ct(n,Eo),h="".concat(t,"-dropdown"),D=u;g&&(D=g(u));var R=s.useMemo(function(){return p||No(y)},[p,y]),M=r?"".concat(h,"-").concat(r):l,L=typeof y=="number",V=s.useMemo(function(){return L?null:y===!1?"minWidth":"width"},[y,L]),O=i;L&&(O=q(q({},O),{},{width:y}));var P=s.useRef(null);return s.useImperativeHandle(o,function(){return{getPopupElement:function(){var Q;return(Q=P.current)===null||Q===void 0?void 0:Q.popupElement}}}),s.createElement(Ua,Ze({},K,{showAction:w?["click"]:[],hideAction:w?["click"]:[],popupPlacement:f||(m==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:R,prefixCls:h,popupTransitionName:M,popup:s.createElement("div",{onMouseEnter:k},D),ref:P,stretch:V,popupAlign:b,popupVisible:a,getPopupContainer:N,popupClassName:nt(d,E({},"".concat(h,"-empty"),S)),popupStyle:O,getTriggerDOMNode:x,onPopupVisibleChange:w}),c)},Do=s.forwardRef(ko);function Gn(e,n){var o=e.key,t;return"value"in e&&(t=e.value),o??(t!==void 0?t:"rc-index-key-".concat(n))}function bn(e){return typeof e<"u"&&!Number.isNaN(e)}function ka(e,n){var o=e||{},t=o.label,a=o.value,c=o.options,u=o.groupLabel,r=t||(n?"children":"label");return{label:r,value:a||"value",options:c||"options",groupLabel:u||r}}function Ko(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=n.fieldNames,t=n.childrenAsData,a=[],c=ka(o,!1),u=c.label,r=c.value,l=c.options,i=c.groupLabel;function d(v,m){Array.isArray(v)&&v.forEach(function(f){if(m||!(l in f)){var p=f[r];a.push({key:Gn(f,a.length),groupOption:m,data:f,label:f[u],value:p})}else{var y=f[i];y===void 0&&t&&(y=f.label),a.push({key:Gn(f,a.length),group:!0,data:f,label:y}),d(f[l],!0)}})}return d(e,!1),a}function Sn(e){var n=q({},e);return"props"in n||Object.defineProperty(n,"props",{get:function(){return ht(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),n}}),n}var Io=function(n,o,t){if(!o||!o.length)return null;var a=!1,c=function r(l,i){var d=Ya(i),v=d[0],m=d.slice(1);if(!v)return[l];var f=l.split(v);return a=a||f.length>1,f.reduce(function(p,y){return[].concat(Pe(p),Pe(r(y,m)))},[]).filter(Boolean)},u=c(n,o);return a?typeof t<"u"?u.slice(0,t):u:null},Dn=s.createContext(null);function Oo(e){var n=e.visible,o=e.values;if(!n)return null;var t=50;return s.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(o.slice(0,t).map(function(a){var c=a.label,u=a.value;return["number","string"].includes(Tt(c))?c:u}).join(", ")),o.length>t?", ...":null)}var To=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","prefix","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],Mo=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],xn=function(n){return n==="tags"||n==="multiple"},Da=s.forwardRef(function(e,n){var o,t=e.id,a=e.prefixCls,c=e.className,u=e.showSearch,r=e.tagRender,l=e.direction,i=e.omitDomProps,d=e.displayValues,v=e.onDisplayValuesChange,m=e.emptyOptions,f=e.notFoundContent,p=f===void 0?"Not Found":f,y=e.onClear,g=e.mode,b=e.disabled,N=e.loading,S=e.getInputElement,x=e.getRawInputElement,w=e.open,k=e.defaultOpen,K=e.onDropdownVisibleChange,h=e.activeValue,D=e.onActiveValueChange,R=e.activeDescendantId,M=e.searchValue,L=e.autoClearSearchValue,V=e.onSearch,O=e.onSearchSplit,P=e.tokenSeparators,B=e.allowClear,Q=e.prefix,G=e.suffixIcon,ae=e.clearIcon,X=e.OptionList,Ce=e.animation,_e=e.transitionName,Re=e.dropdownStyle,he=e.dropdownClassName,de=e.dropdownMatchSelectWidth,Ge=e.dropdownRender,le=e.dropdownAlign,be=e.placement,Ne=e.builtinPlacements,Se=e.getPopupContainer,j=e.showAction,T=j===void 0?[]:j,$=e.onFocus,F=e.onBlur,A=e.onKeyUp,J=e.onKeyDown,se=e.onMouseDown,ce=Ct(e,To),ee=xn(g),me=(u!==void 0?u:ee)||g==="combobox",re=q({},ce);Mo.forEach(function(we){delete re[we]}),i?.forEach(function(we){delete re[we]});var Me=s.useState(!1),Z=ue(Me,2),Ee=Z[0],Ae=Z[1];s.useEffect(function(){Ae(qa())},[]);var je=s.useRef(null),Oe=s.useRef(null),pe=s.useRef(null),te=s.useRef(null),z=s.useRef(null),I=s.useRef(!1),He=co(),Ue=ue(He,3),Ye=Ue[0],ke=Ue[1],wt=Ue[2];s.useImperativeHandle(n,function(){var we,ie;return{focus:(we=te.current)===null||we===void 0?void 0:we.focus,blur:(ie=te.current)===null||ie===void 0?void 0:ie.blur,scrollTo:function(ft){var tt;return(tt=z.current)===null||tt===void 0?void 0:tt.scrollTo(ft)},nativeElement:je.current||Oe.current}});var De=s.useMemo(function(){var we;if(g!=="combobox")return M;var ie=(we=d[0])===null||we===void 0?void 0:we.value;return typeof ie=="string"||typeof ie=="number"?String(ie):""},[M,g,d]),Je=g==="combobox"&&typeof S=="function"&&S()||null,ne=typeof x=="function"&&x(),fe=Xa(Oe,ne==null||(o=ne.props)===null||o===void 0?void 0:o.ref),We=s.useState(!1),Te=ue(We,2),Be=Te[0],et=Te[1];Yt(function(){et(!0)},[]);var qe=qt(!1,{defaultValue:k,value:w}),st=ue(qe,2),ot=st[0],mt=st[1],ze=Be?ot:!1,Mt=!p&&m;(b||Mt&&ze&&g==="combobox")&&(ze=!1);var bt=Mt?!1:ze,_=s.useCallback(function(we){var ie=we!==void 0?we:!ze;b||(mt(ie),ze!==ie&&K?.(ie))},[b,ze,mt,K]),U=s.useMemo(function(){return(P||[]).some(function(we){return[`
`,`\r
`].includes(we)})},[P]),W=s.useContext(Dn)||{},Y=W.maxCount,ye=W.rawValues,Ke=function(ie,dt,ft){if(!(ee&&bn(Y)&&ye?.size>=Y)){var tt=!0,it=ie;D?.(null);var It=Io(ie,P,bn(Y)?Y-ye.size:void 0),Nt=ft?null:It;return g!=="combobox"&&Nt&&(it="",O?.(Nt),_(!1),tt=!1),V&&De!==it&&V(it,{source:dt?"typing":"effect"}),tt}},ct=function(ie){!ie||!ie.trim()||V(ie,{source:"submit"})};s.useEffect(function(){!ze&&!ee&&g!=="combobox"&&Ke("",!1,!1)},[ze]),s.useEffect(function(){ot&&b&&mt(!1),b&&!I.current&&ke(!1)},[b]);var at=xa(),ut=ue(at,2),Xe=ut[0],pt=ut[1],St=s.useRef(!1),kt=function(ie){var dt=Xe(),ft=ie.key,tt=ft==="Enter";if(tt&&(g!=="combobox"&&ie.preventDefault(),ze||_(!0)),pt(!!De),ft==="Backspace"&&!dt&&ee&&!De&&d.length){for(var it=Pe(d),It=null,Nt=it.length-1;Nt>=0;Nt-=1){var jt=it[Nt];if(!jt.disabled){it.splice(Nt,1),It=jt;break}}It&&v(it,{type:"remove",values:[It]})}for(var Wt=arguments.length,$t=new Array(Wt>1?Wt-1:0),Zt=1;Zt<Wt;Zt++)$t[Zt-1]=arguments[Zt];if(ze&&(!tt||!St.current)){var en;(en=z.current)===null||en===void 0||en.onKeyDown.apply(en,[ie].concat($t))}tt&&(St.current=!0),J?.apply(void 0,[ie].concat($t))},xe=function(ie){for(var dt=arguments.length,ft=new Array(dt>1?dt-1:0),tt=1;tt<dt;tt++)ft[tt-1]=arguments[tt];if(ze){var it;(it=z.current)===null||it===void 0||it.onKeyUp.apply(it,[ie].concat(ft))}ie.key==="Enter"&&(St.current=!1),A?.apply(void 0,[ie].concat(ft))},ge=function(ie){var dt=d.filter(function(ft){return ft!==ie});v(dt,{type:"remove",values:[ie]})},oe=s.useRef(!1),Le=function(){ke(!0),b||($&&!oe.current&&$.apply(void 0,arguments),T.includes("focus")&&_(!0)),oe.current=!0},gt=function(){I.current=!0,ke(!1,function(){oe.current=!1,I.current=!1,_(!1)}),!b&&(De&&(g==="tags"?V(De,{source:"submit"}):g==="multiple"&&V("",{source:"blur"})),F&&F.apply(void 0,arguments))},$e=[];s.useEffect(function(){return function(){$e.forEach(function(we){return clearTimeout(we)}),$e.splice(0,$e.length)}},[]);var Ve=function(ie){var dt,ft=ie.target,tt=(dt=pe.current)===null||dt===void 0?void 0:dt.getPopupElement();if(tt&&tt.contains(ft)){var it=setTimeout(function(){var Wt=$e.indexOf(it);if(Wt!==-1&&$e.splice(Wt,1),wt(),!Ee&&!tt.contains(document.activeElement)){var $t;($t=te.current)===null||$t===void 0||$t.focus()}});$e.push(it)}for(var It=arguments.length,Nt=new Array(It>1?It-1:0),jt=1;jt<It;jt++)Nt[jt-1]=arguments[jt];se?.apply(void 0,[ie].concat(Nt))},Fe=s.useState({}),lt=ue(Fe,2),Et=lt[1];function Lt(){Et({})}var Rt;ne&&(Rt=function(ie){_(ie)}),uo(function(){var we;return[je.current,(we=pe.current)===null||we===void 0?void 0:we.getPopupElement()]},bt,_,!!ne);var Dt=s.useMemo(function(){return q(q({},e),{},{notFoundContent:p,open:ze,triggerOpen:bt,id:t,showSearch:me,multiple:ee,toggleOpen:_})},[e,p,bt,ze,t,me,ee,_]),Kt=!!G||N,At;Kt&&(At=s.createElement(sn,{className:nt("".concat(a,"-arrow"),E({},"".concat(a,"-arrow-loading"),N)),customizeIcon:G,customizeIconProps:{loading:N,searchValue:De,open:ze,focused:Ye,showSearch:me}}));var yt=function(){var ie;y?.(),(ie=te.current)===null||ie===void 0||ie.focus(),v([],{type:"clear",values:d}),Ke("",!1,!1)},xt=so(a,yt,d,B,ae,b,De,g),Fa=xt.allowClear,Ha=xt.clearIcon,Wa=s.createElement(X,{ref:z}),Ba=nt(a,c,E(E(E(E(E(E(E(E(E(E({},"".concat(a,"-focused"),Ye),"".concat(a,"-multiple"),ee),"".concat(a,"-single"),!ee),"".concat(a,"-allow-clear"),B),"".concat(a,"-show-arrow"),Kt),"".concat(a,"-disabled"),b),"".concat(a,"-loading"),N),"".concat(a,"-open"),ze),"".concat(a,"-customize-input"),Je),"".concat(a,"-show-search"),me)),Pn=s.createElement(Do,{ref:pe,disabled:b,prefixCls:a,visible:bt,popupElement:Wa,animation:Ce,transitionName:_e,dropdownStyle:Re,dropdownClassName:he,direction:l,dropdownMatchSelectWidth:de,dropdownRender:Ge,dropdownAlign:le,placement:be,builtinPlacements:Ne,getPopupContainer:Se,empty:m,getTriggerDOMNode:function(ie){return Oe.current||ie},onPopupVisibleChange:Rt,onPopupMouseEnter:Lt},ne?s.cloneElement(ne,{ref:fe}):s.createElement(wo,Ze({},e,{domRef:Oe,prefixCls:a,inputElement:Je,ref:te,id:t,prefix:Q,showSearch:me,autoClearSearchValue:L,mode:g,activeDescendantId:R,tagRender:r,values:d,open:ze,onToggleOpen:_,activeValue:h,searchValue:De,onSearch:Ke,onSearchSubmit:ct,onRemove:ge,tokenWithEnter:U}))),un;return ne?un=Pn:un=s.createElement("div",Ze({className:Ba},re,{ref:je,onMouseDown:Ve,onKeyDown:kt,onKeyUp:xe,onFocus:Le,onBlur:gt}),s.createElement(Oo,{visible:Ye&&!ze,values:d}),Pn,At,Fa&&Ha),s.createElement(ba.Provider,{value:Dt},un)}),Ka=function(){return null};Ka.isSelectOptGroup=!0;var Ia=function(){return null};Ia.isSelectOption=!0;function Ro(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var Po=["disabled","title","children","style","className"];function zn(e){return typeof e=="string"||typeof e=="number"}var _o=function(n,o){var t=Sa(),a=t.prefixCls,c=t.id,u=t.open,r=t.multiple,l=t.mode,i=t.searchValue,d=t.toggleOpen,v=t.notFoundContent,m=t.onPopupScroll,f=s.useContext(Dn),p=f.maxCount,y=f.flattenOptions,g=f.onActiveValue,b=f.defaultActiveFirstOption,N=f.onSelect,S=f.menuItemSelectedIcon,x=f.rawValues,w=f.fieldNames,k=f.virtual,K=f.direction,h=f.listHeight,D=f.listItemHeight,R=f.optionRender,M="".concat(a,"-item"),L=mn(function(){return y},[u,y],function(j,T){return T[0]&&j[1]!==T[1]}),V=s.useRef(null),O=s.useMemo(function(){return r&&bn(p)&&x?.size>=p},[r,p,x?.size]),P=function(T){T.preventDefault()},B=function(T){var $;($=V.current)===null||$===void 0||$.scrollTo(typeof T=="number"?{index:T}:T)},Q=function(T){for(var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,F=L.length,A=0;A<F;A+=1){var J=(T+A*$+F)%F,se=L[J]||{},ce=se.group,ee=se.data;if(!ce&&!(ee!=null&&ee.disabled)&&!O)return J}return-1},G=s.useState(function(){return Q(0)}),ae=ue(G,2),X=ae[0],Ce=ae[1],_e=function(T){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;Ce(T);var F={source:$?"keyboard":"mouse"},A=L[T];if(!A){g(null,-1,F);return}g(A.value,T,F)};s.useEffect(function(){_e(b!==!1?Q(0):-1)},[L.length,i]);var Re=s.useCallback(function(j){return l==="combobox"?!1:x.has(j)},[l,Pe(x).toString(),x.size]),he=s.useCallback(function(j){return l==="combobox"?String(j).toLowerCase()===i.toLowerCase():x.has(j)},[l,i,Pe(x).toString(),x.size]);s.useEffect(function(){var j=setTimeout(function(){if(!r&&u&&x.size===1){var $=Array.from(x)[0],F=L.findIndex(function(A){var J=A.data;return J.value===$});F!==-1&&(_e(F),B(F))}});if(u){var T;(T=V.current)===null||T===void 0||T.scrollTo(void 0)}return function(){return clearTimeout(j)}},[u,i]);var de=function(T){T!==void 0&&N(T,{selected:!x.has(T)}),r||d(!1)};if(s.useImperativeHandle(o,function(){return{onKeyDown:function(T){var $=T.which,F=T.ctrlKey;switch($){case H.N:case H.P:case H.UP:case H.DOWN:{var A=0;if($===H.UP?A=-1:$===H.DOWN?A=1:Ro()&&F&&($===H.N?A=1:$===H.P&&(A=-1)),A!==0){var J=Q(X+A,A);B(J),_e(J,!0)}break}case H.TAB:case H.ENTER:{var se,ce=L[X];ce&&!(ce!=null&&(se=ce.data)!==null&&se!==void 0&&se.disabled)&&!O?de(ce.value):de(void 0),u&&T.preventDefault();break}case H.ESC:d(!1),u&&T.stopPropagation()}},onKeyUp:function(){},scrollTo:function(T){B(T)}}}),L.length===0)return s.createElement("div",{role:"listbox",id:"".concat(c,"_list"),className:"".concat(M,"-empty"),onMouseDown:P},v);var Ge=Object.keys(w).map(function(j){return w[j]}),le=function(T){return T.label};function be(j,T){var $=j.group;return{role:$?"presentation":"option",id:"".concat(c,"_list_").concat(T)}}var Ne=function(T){var $=L[T];if(!$)return null;var F=$.data||{},A=F.value,J=$.group,se=Gt(F,!0),ce=le($);return $?s.createElement("div",Ze({"aria-label":typeof ce=="string"&&!J?ce:null},se,{key:T},be($,T),{"aria-selected":he(A)}),A):null},Se={role:"listbox",id:"".concat(c,"_list")};return s.createElement(s.Fragment,null,k&&s.createElement("div",Ze({},Se,{style:{height:0,width:0,overflow:"hidden"}}),Ne(X-1),Ne(X),Ne(X+1)),s.createElement(ya,{itemKey:"key",ref:V,data:L,height:h,itemHeight:D,fullHeight:!1,onMouseDown:P,onScroll:m,virtual:k,direction:K,innerProps:k?null:Se},function(j,T){var $=j.group,F=j.groupOption,A=j.data,J=j.label,se=j.value,ce=A.key;if($){var ee,me=(ee=A.title)!==null&&ee!==void 0?ee:zn(J)?J.toString():void 0;return s.createElement("div",{className:nt(M,"".concat(M,"-group"),A.className),title:me},J!==void 0?J:ce)}var re=A.disabled,Me=A.title;A.children;var Z=A.style,Ee=A.className,Ae=Ct(A,Po),je=on(Ae,Ge),Oe=Re(se),pe=re||!Oe&&O,te="".concat(M,"-option"),z=nt(M,te,Ee,E(E(E(E({},"".concat(te,"-grouped"),F),"".concat(te,"-active"),X===T&&!pe),"".concat(te,"-disabled"),pe),"".concat(te,"-selected"),Oe)),I=le(j),He=!S||typeof S=="function"||Oe,Ue=typeof I=="number"?I:I||se,Ye=zn(Ue)?Ue.toString():void 0;return Me!==void 0&&(Ye=Me),s.createElement("div",Ze({},Gt(je),k?{}:be(j,T),{"aria-selected":he(se),className:z,title:Ye,onMouseMove:function(){X===T||pe||_e(T)},onClick:function(){pe||de(se)},style:Z}),s.createElement("div",{className:"".concat(te,"-content")},typeof R=="function"?R(j,{index:T}):Ue),s.isValidElement(S)||Oe,He&&s.createElement(sn,{className:"".concat(M,"-option-state"),customizeIcon:S,customizeIconProps:{value:se,disabled:pe,isSelected:Oe}},Oe?"✓":null))}))},Lo=s.forwardRef(_o);const Ao=function(e,n){var o=s.useRef({values:new Map,options:new Map}),t=s.useMemo(function(){var c=o.current,u=c.values,r=c.options,l=e.map(function(v){if(v.label===void 0){var m;return q(q({},v),{},{label:(m=u.get(v.value))===null||m===void 0?void 0:m.label})}return v}),i=new Map,d=new Map;return l.forEach(function(v){i.set(v.value,v),d.set(v.value,n.get(v.value)||r.get(v.value))}),o.current.values=i,o.current.options=d,l},[e,n]),a=s.useCallback(function(c){return n.get(c)||o.current.options.get(c)},[n]);return[t,a]};function fn(e,n){return Ea(e).join("").toUpperCase().includes(n)}const jo=function(e,n,o,t,a){return s.useMemo(function(){if(!o||t===!1)return e;var c=n.options,u=n.label,r=n.value,l=[],i=typeof t=="function",d=o.toUpperCase(),v=i?t:function(f,p){return a?fn(p[a],d):p[c]?fn(p[u!=="children"?u:"label"],d):fn(p[r],d)},m=i?function(f){return Sn(f)}:function(f){return f};return e.forEach(function(f){if(f[c]){var p=v(o,m(f));if(p)l.push(f);else{var y=f[c].filter(function(g){return v(o,m(g))});y.length&&l.push(q(q({},f),{},E({},c,y)))}return}v(o,m(f))&&l.push(f)}),l},[e,t,a,o,n])};var Un=0,$o=Ja();function Vo(){var e;return $o?(e=Un,Un+=1):e="TEST_OR_SSR",e}function Oa(e){var n=s.useState(),o=ue(n,2),t=o[0],a=o[1];return s.useEffect(function(){a("rc_select_".concat(Vo()))},[]),e||t}var Fo=["children","value"],Ho=["children"];function Wo(e){var n=e,o=n.key,t=n.props,a=t.children,c=t.value,u=Ct(t,Fo);return q({key:o,value:c!==void 0?c:o,children:a},u)}function Ta(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return kn(e).map(function(o,t){if(!s.isValidElement(o)||!o.type)return null;var a=o,c=a.type.isSelectOptGroup,u=a.key,r=a.props,l=r.children,i=Ct(r,Ho);return n||!c?Wo(o):q(q({key:"__RC_SELECT_GRP__".concat(u===null?t:u,"__"),label:u},i),{},{options:Ta(l)})}).filter(function(o){return o})}var Bo=function(n,o,t,a,c){return s.useMemo(function(){var u=n,r=!n;r&&(u=Ta(o));var l=new Map,i=new Map,d=function(f,p,y){y&&typeof y=="string"&&f.set(p[y],p)},v=function m(f){for(var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=0;y<f.length;y+=1){var g=f[y];!g[t.options]||p?(l.set(g[t.value],g),d(i,g,t.label),d(i,g,a),d(i,g,c)):m(g[t.options],!0)}};return v(u),{options:u,valueOptions:l,labelOptions:i}},[n,o,t,a,c])};function Yn(e){var n=s.useRef();n.current=e;var o=s.useCallback(function(){return n.current.apply(n,arguments)},[]);return o}var Go=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],zo=["inputValue"];function Uo(e){return!e||Tt(e)!=="object"}var Yo=s.forwardRef(function(e,n){var o=e.id,t=e.mode,a=e.prefixCls,c=a===void 0?"rc-select":a,u=e.backfill,r=e.fieldNames,l=e.inputValue,i=e.searchValue,d=e.onSearch,v=e.autoClearSearchValue,m=v===void 0?!0:v,f=e.onSelect,p=e.onDeselect,y=e.dropdownMatchSelectWidth,g=y===void 0?!0:y,b=e.filterOption,N=e.filterSort,S=e.optionFilterProp,x=e.optionLabelProp,w=e.options,k=e.optionRender,K=e.children,h=e.defaultActiveFirstOption,D=e.menuItemSelectedIcon,R=e.virtual,M=e.direction,L=e.listHeight,V=L===void 0?200:L,O=e.listItemHeight,P=O===void 0?20:O,B=e.labelRender,Q=e.value,G=e.defaultValue,ae=e.labelInValue,X=e.onChange,Ce=e.maxCount,_e=Ct(e,Go),Re=Oa(o),he=xn(t),de=!!(!w&&K),Ge=s.useMemo(function(){return b===void 0&&t==="combobox"?!1:b},[b,t]),le=s.useMemo(function(){return ka(r,de)},[JSON.stringify(r),de]),be=qt("",{value:i!==void 0?i:l,postState:function(U){return U||""}}),Ne=ue(be,2),Se=Ne[0],j=Ne[1],T=Bo(w,K,le,S,x),$=T.valueOptions,F=T.labelOptions,A=T.options,J=s.useCallback(function(_){var U=Ea(_);return U.map(function(W){var Y,ye,Ke,ct,at;if(Uo(W))Y=W;else{var ut;Ke=W.key,ye=W.label,Y=(ut=W.value)!==null&&ut!==void 0?ut:Ke}var Xe=$.get(Y);if(Xe){var pt;ye===void 0&&(ye=Xe?.[x||le.label]),Ke===void 0&&(Ke=(pt=Xe?.key)!==null&&pt!==void 0?pt:Y),ct=Xe?.disabled,at=Xe?.title}return{label:ye,value:Y,key:Ke,disabled:ct,title:at}})},[le,x,$]),se=qt(G,{value:Q}),ce=ue(se,2),ee=ce[0],me=ce[1],re=s.useMemo(function(){var _,U=he&&ee===null?[]:ee,W=J(U);return t==="combobox"&&po((_=W[0])===null||_===void 0?void 0:_.value)?[]:W},[ee,J,t,he]),Me=Ao(re,$),Z=ue(Me,2),Ee=Z[0],Ae=Z[1],je=s.useMemo(function(){if(!t&&Ee.length===1){var _=Ee[0];if(_.value===null&&(_.label===null||_.label===void 0))return[]}return Ee.map(function(U){var W;return q(q({},U),{},{label:(W=typeof B=="function"?B(U):U.label)!==null&&W!==void 0?W:U.value})})},[t,Ee,B]),Oe=s.useMemo(function(){return new Set(Ee.map(function(_){return _.value}))},[Ee]);s.useEffect(function(){if(t==="combobox"){var _,U=(_=Ee[0])===null||_===void 0?void 0:_.value;j(mo(U)?String(U):"")}},[Ee]);var pe=Yn(function(_,U){var W=U??_;return E(E({},le.value,_),le.label,W)}),te=s.useMemo(function(){if(t!=="tags")return A;var _=Pe(A),U=function(Y){return $.has(Y)};return Pe(Ee).sort(function(W,Y){return W.value<Y.value?-1:1}).forEach(function(W){var Y=W.value;U(Y)||_.push(pe(Y,W.label))}),_},[pe,A,$,Ee,t]),z=jo(te,le,Se,Ge,S),I=s.useMemo(function(){return t!=="tags"||!Se||z.some(function(_){return _[S||"value"]===Se})||z.some(function(_){return _[le.value]===Se})?z:[pe(Se)].concat(Pe(z))},[pe,S,t,z,Se,le]),He=function _(U){var W=Pe(U).sort(function(Y,ye){return N(Y,ye,{searchValue:Se})});return W.map(function(Y){return Array.isArray(Y.options)?q(q({},Y),{},{options:Y.options.length>0?_(Y.options):Y.options}):Y})},Ue=s.useMemo(function(){return N?He(I):I},[I,N,Se]),Ye=s.useMemo(function(){return Ko(Ue,{fieldNames:le,childrenAsData:de})},[Ue,le,de]),ke=function(U){var W=J(U);if(me(W),X&&(W.length!==Ee.length||W.some(function(Ke,ct){var at;return((at=Ee[ct])===null||at===void 0?void 0:at.value)!==Ke?.value}))){var Y=ae?W:W.map(function(Ke){return Ke.value}),ye=W.map(function(Ke){return Sn(Ae(Ke.value))});X(he?Y:Y[0],he?ye:ye[0])}},wt=s.useState(null),De=ue(wt,2),Je=De[0],ne=De[1],fe=s.useState(0),We=ue(fe,2),Te=We[0],Be=We[1],et=h!==void 0?h:t!=="combobox",qe=s.useCallback(function(_,U){var W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Y=W.source,ye=Y===void 0?"keyboard":Y;Be(U),u&&t==="combobox"&&_!==null&&ye==="keyboard"&&ne(String(_))},[u,t]),st=function(U,W,Y){var ye=function(){var ge,oe=Ae(U);return[ae?{label:oe?.[le.label],value:U,key:(ge=oe?.key)!==null&&ge!==void 0?ge:U}:U,Sn(oe)]};if(W&&f){var Ke=ye(),ct=ue(Ke,2),at=ct[0],ut=ct[1];f(at,ut)}else if(!W&&p&&Y!=="clear"){var Xe=ye(),pt=ue(Xe,2),St=pt[0],kt=pt[1];p(St,kt)}},ot=Yn(function(_,U){var W,Y=he?U.selected:!0;Y?W=he?[].concat(Pe(Ee),[_]):[_]:W=Ee.filter(function(ye){return ye.value!==_}),ke(W),st(_,Y),t==="combobox"?ne(""):(!xn||m)&&(j(""),ne(""))}),mt=function(U,W){ke(U);var Y=W.type,ye=W.values;(Y==="remove"||Y==="clear")&&ye.forEach(function(Ke){st(Ke.value,!1,Y)})},ze=function(U,W){if(j(U),ne(null),W.source==="submit"){var Y=(U||"").trim();if(Y){var ye=Array.from(new Set([].concat(Pe(Oe),[Y])));ke(ye),st(Y,!0),j("")}return}W.source!=="blur"&&(t==="combobox"&&ke(U),d?.(U))},Mt=function(U){var W=U;t!=="tags"&&(W=U.map(function(ye){var Ke=F.get(ye);return Ke?.value}).filter(function(ye){return ye!==void 0}));var Y=Array.from(new Set([].concat(Pe(Oe),Pe(W))));ke(Y),Y.forEach(function(ye){st(ye,!0)})},bt=s.useMemo(function(){var _=R!==!1&&g!==!1;return q(q({},T),{},{flattenOptions:Ye,onActiveValue:qe,defaultActiveFirstOption:et,onSelect:ot,menuItemSelectedIcon:D,rawValues:Oe,fieldNames:le,virtual:_,direction:M,listHeight:V,listItemHeight:P,childrenAsData:de,maxCount:Ce,optionRender:k})},[Ce,T,Ye,qe,et,ot,D,Oe,le,R,g,M,V,P,de,k]);return s.createElement(Dn.Provider,{value:bt},s.createElement(Da,Ze({},_e,{id:Re,prefixCls:c,ref:n,omitDomProps:zo,mode:t,displayValues:je,onDisplayValuesChange:mt,direction:M,searchValue:Se,onSearch:ze,autoClearSearchValue:m,onSearchSplit:Mt,dropdownMatchSelectWidth:g,OptionList:Lo,emptyOptions:!Ye.length,activeValue:Je,activeDescendantId:"".concat(Re,"_list_").concat(Te)})))}),Ma=Yo;Ma.Option=Ia;Ma.OptGroup=Ka;function vt(e,n){return e[n]}var qo=["children"];function Ra(e,n){return"".concat(e,"-").concat(n)}function Xo(e){return e&&e.type&&e.type.isTreeNode}function Jt(e,n){return e??n}function an(e){var n=e||{},o=n.title,t=n._title,a=n.key,c=n.children,u=o||"title";return{title:u,_title:t||[u],key:a||"key",children:c||"children"}}function Jo(e){function n(o){var t=kn(o);return t.map(function(a){if(!Xo(a))return ht(!a,"Tree/TreeNode can only accept TreeNode as children."),null;var c=a.key,u=a.props,r=u.children,l=Ct(u,qo),i=q({key:c},l),d=n(r);return d.length&&(i.children=d),i}).filter(function(a){return a})}return n(e)}function vn(e,n,o){var t=an(o),a=t._title,c=t.key,u=t.children,r=new Set(n===!0?[]:n),l=[];function i(d){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return d.map(function(m,f){for(var p=Ra(v?v.pos:"0",f),y=Jt(m[c],p),g,b=0;b<a.length;b+=1){var N=a[b];if(m[N]!==void 0){g=m[N];break}}var S=Object.assign(on(m,[].concat(Pe(a),[c,u])),{title:g,key:y,parent:v,pos:p,children:null,data:m,isStart:[].concat(Pe(v?v.isStart:[]),[f===0]),isEnd:[].concat(Pe(v?v.isEnd:[]),[f===d.length-1])});return l.push(S),n===!0||r.has(y)?S.children=i(m[u]||[],S):S.children=[],S})}return i(e),l}function Qo(e,n,o){var t={};Tt(o)==="object"?t=o:t={externalGetKey:o},t=t||{};var a=t,c=a.childrenPropName,u=a.externalGetKey,r=a.fieldNames,l=an(r),i=l.key,d=l.children,v=c||d,m;u?typeof u=="string"?m=function(y){return y[u]}:typeof u=="function"&&(m=function(y){return u(y)}):m=function(y,g){return Jt(y[i],g)};function f(p,y,g,b){var N=p?p[v]:e,S=p?Ra(g.pos,y):"0",x=p?[].concat(Pe(b),[p]):[];if(p){var w=m(p,S),k={node:p,index:y,pos:S,key:w,parentPos:g.node?g.pos:null,level:g.level+1,nodes:x};n(k)}N&&N.forEach(function(K,h){f(K,h,{node:p,pos:S,level:g?g.level+1:-1},x)})}f(null)}function Pa(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=n.initWrapper,t=n.processEntity,a=n.onProcessFinished,c=n.externalGetKey,u=n.childrenPropName,r=n.fieldNames,l=arguments.length>2?arguments[2]:void 0,i=c||l,d={},v={},m={posEntities:d,keyEntities:v};return o&&(m=o(m)||m),Qo(e,function(f){var p=f.node,y=f.index,g=f.pos,b=f.key,N=f.parentPos,S=f.level,x=f.nodes,w={node:p,nodes:x,index:y,key:b,pos:g,level:S},k=Jt(b,g);d[g]=w,v[k]=w,w.parent=d[N],w.parent&&(w.parent.children=w.parent.children||[],w.parent.children.push(w)),t&&t(w,m)},{externalGetKey:i,childrenPropName:u,fieldNames:r}),a&&a(m),m}function Ut(e,n){var o=n.expandedKeys,t=n.selectedKeys,a=n.loadedKeys,c=n.loadingKeys,u=n.checkedKeys,r=n.halfCheckedKeys,l=n.dragOverNodeKey,i=n.dropPosition,d=n.keyEntities,v=vt(d,e),m={eventKey:e,expanded:o.indexOf(e)!==-1,selected:t.indexOf(e)!==-1,loaded:a.indexOf(e)!==-1,loading:c.indexOf(e)!==-1,checked:u.indexOf(e)!==-1,halfChecked:r.indexOf(e)!==-1,pos:String(v?v.pos:""),dragOver:l===e&&i===0,dragOverGapTop:l===e&&i===-1,dragOverGapBottom:l===e&&i===1};return m}function Qe(e){var n=e.data,o=e.expanded,t=e.selected,a=e.checked,c=e.loaded,u=e.loading,r=e.halfChecked,l=e.dragOver,i=e.dragOverGapTop,d=e.dragOverGapBottom,v=e.pos,m=e.active,f=e.eventKey,p=q(q({},n),{},{expanded:o,selected:t,checked:a,loaded:c,loading:u,halfChecked:r,dragOver:l,dragOverGapTop:i,dragOverGapBottom:d,pos:v,active:m,key:f});return"props"in p||Object.defineProperty(p,"props",{get:function(){return ht(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),e}}),p}function _a(e,n){var o=new Set;return e.forEach(function(t){n.has(t)||o.add(t)}),o}function Zo(e){var n=e||{},o=n.disabled,t=n.disableCheckbox,a=n.checkable;return!!(o||t)||a===!1}function ei(e,n,o,t){for(var a=new Set(e),c=new Set,u=0;u<=o;u+=1){var r=n.get(u)||new Set;r.forEach(function(v){var m=v.key,f=v.node,p=v.children,y=p===void 0?[]:p;a.has(m)&&!t(f)&&y.filter(function(g){return!t(g.node)}).forEach(function(g){a.add(g.key)})})}for(var l=new Set,i=o;i>=0;i-=1){var d=n.get(i)||new Set;d.forEach(function(v){var m=v.parent,f=v.node;if(!(t(f)||!v.parent||l.has(v.parent.key))){if(t(v.parent.node)){l.add(m.key);return}var p=!0,y=!1;(m.children||[]).filter(function(g){return!t(g.node)}).forEach(function(g){var b=g.key,N=a.has(b);p&&!N&&(p=!1),!y&&(N||c.has(b))&&(y=!0)}),p&&a.add(m.key),y&&c.add(m.key),l.add(m.key)}})}return{checkedKeys:Array.from(a),halfCheckedKeys:Array.from(_a(c,a))}}function ti(e,n,o,t,a){for(var c=new Set(e),u=new Set(n),r=0;r<=t;r+=1){var l=o.get(r)||new Set;l.forEach(function(m){var f=m.key,p=m.node,y=m.children,g=y===void 0?[]:y;!c.has(f)&&!u.has(f)&&!a(p)&&g.filter(function(b){return!a(b.node)}).forEach(function(b){c.delete(b.key)})})}u=new Set;for(var i=new Set,d=t;d>=0;d-=1){var v=o.get(d)||new Set;v.forEach(function(m){var f=m.parent,p=m.node;if(!(a(p)||!m.parent||i.has(m.parent.key))){if(a(m.parent.node)){i.add(f.key);return}var y=!0,g=!1;(f.children||[]).filter(function(b){return!a(b.node)}).forEach(function(b){var N=b.key,S=c.has(N);y&&!S&&(y=!1),!g&&(S||u.has(N))&&(g=!0)}),y||c.delete(f.key),g&&u.add(f.key),i.add(f.key)}})}return{checkedKeys:Array.from(c),halfCheckedKeys:Array.from(_a(u,c))}}function Bt(e,n,o,t){var a=[],c;c=Zo;var u=new Set(e.filter(function(d){var v=!!vt(o,d);return v||a.push(d),v})),r=new Map,l=0;Object.keys(o).forEach(function(d){var v=o[d],m=v.level,f=r.get(m);f||(f=new Set,r.set(m,f)),f.add(v),l=Math.max(l,m)}),ht(!a.length,"Tree missing follow keys: ".concat(a.slice(0,100).map(function(d){return"'".concat(d,"'")}).join(", ")));var i;return n===!0?i=ei(u,r,l,c):i=ti(u,n.halfCheckedKeys,r,l,c),i}function ni(e,n){var o=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=Qa(e))||n){o&&(e=o);var t=0,a=function(){};return{s:a,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(i){throw i},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c,u=!0,r=!1;return{s:function(){o=o.call(e)},n:function(){var i=o.next();return u=i.done,i},e:function(i){r=!0,c=i},f:function(){try{u||o.return==null||o.return()}finally{if(r)throw c}}}}const ai=function(e){var n=s.useRef({valueLabels:new Map});return s.useMemo(function(){var o=n.current.valueLabels,t=new Map,a=e.map(function(c){var u=c.value,r=c.label,l=r??o.get(u);return t.set(u,l),q(q({},c),{},{label:l})});return n.current.valueLabels=t,[a]},[e])};var ri=function(n,o,t,a){return s.useMemo(function(){var c=function(f){return f.map(function(p){var y=p.value;return y})},u=c(n),r=c(o),l=u.filter(function(m){return!a[m]}),i=u,d=r;if(t){var v=Bt(u,!0,a);i=v.checkedKeys,d=v.halfCheckedKeys}return[Array.from(new Set([].concat(Pe(l),Pe(i)))),d]},[n,o,t,a])},oi=function(n){return Array.isArray(n)?n:n!==void 0?[n]:[]},ii=function(n){var o=n||{},t=o.label,a=o.value,c=o.children;return{_title:t?[t]:["title","label"],value:a||"value",key:a||"value",children:c||"children"}},wn=function(n){return!n||n.disabled||n.disableCheckbox||n.checkable===!1},li=function(n,o){var t=[],a=function c(u){u.forEach(function(r){var l=r[o.children];l&&(t.push(r[o.value]),c(l))})};return a(n),t},qn=function(n){return n==null};const si=function(e,n){return s.useMemo(function(){var o=Pa(e,{fieldNames:n,initWrapper:function(a){return q(q({},a),{},{valueEntities:new Map})},processEntity:function(a,c){var u=a.node[n.value];c.valueEntities.set(u,a)}});return o},[e,n])};var Kn=function(){return null},ci=["children","value"];function La(e){return kn(e).map(function(n){if(!s.isValidElement(n)||!n.type)return null;var o=n,t=o.key,a=o.props,c=a.children,u=a.value,r=Ct(a,ci),l=q({key:t,value:u},r),i=La(c);return i.length&&(l.children=i),l}).filter(function(n){return n})}function En(e){if(!e)return e;var n=q({},e);return"props"in n||Object.defineProperty(n,"props",{get:function(){return ht(!1,"New `rc-tree-select` not support return node instance as argument anymore. Please consider to remove `props` access."),n}}),n}function ui(e,n,o,t,a,c){var u=null,r=null;function l(){function i(d){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"0",m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return d.map(function(f,p){var y="".concat(v,"-").concat(p),g=f[c.value],b=o.includes(g),N=i(f[c.children]||[],y,b),S=s.createElement(Kn,f,N.map(function(w){return w.node}));if(n===g&&(u=S),b){var x={pos:y,node:S,children:N};return m||r.push(x),x}return null}).filter(function(f){return f})}r||(r=[],i(t),r.sort(function(d,v){var m=d.node.props.value,f=v.node.props.value,p=o.indexOf(m),y=o.indexOf(f);return p-y}))}Object.defineProperty(e,"triggerNode",{get:function(){return ht(!1,"`triggerNode` is deprecated. Please consider decoupling data with node."),l(),u}}),Object.defineProperty(e,"allCheckedNodes",{get:function(){return ht(!1,"`allCheckedNodes` is deprecated. Please consider decoupling data with node."),l(),a?r:r.map(function(d){var v=d.node;return v})}})}var di=function(n,o,t){var a=t.fieldNames,c=t.treeNodeFilterProp,u=t.filterTreeNode,r=a.children;return s.useMemo(function(){if(!o||u===!1)return n;var l=typeof u=="function"?u:function(d,v){return String(v[c]).toUpperCase().includes(o.toUpperCase())},i=function d(v){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return v.reduce(function(f,p){var y=p[r],g=m||l(o,En(p)),b=d(y||[],g);return(g||b.length)&&f.push(q(q({},p),{},E({isLeaf:void 0},r,b))),f},[])};return i(n)},[n,o,r,c,u])};function Xn(e){var n=s.useRef();n.current=e;var o=s.useCallback(function(){return n.current.apply(n,arguments)},[]);return o}function fi(e,n){var o=n.id,t=n.pId,a=n.rootPId,c=new Map,u=[];return e.forEach(function(r){var l=r[o],i=q(q({},r),{},{key:r.key||l});c.set(l,i)}),c.forEach(function(r){var l=r[t],i=c.get(l);i?(i.children=i.children||[],i.children.push(r)):(l===a||a===null)&&u.push(r)}),u}function vi(e,n,o){return s.useMemo(function(){if(e){if(o){var t=q({id:"id",pId:"pId",rootPId:null},Tt(o)==="object"?o:{});return fi(e,t)}return e}return La(n)},[n,o,e])}var Aa=s.createContext(null),In=s.createContext(null),ja=s.createContext({}),gi=function(n){var o=n.dropPosition,t=n.dropLevelOffset,a=n.indent,c={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(o){case-1:c.top=0,c.left=-t*a;break;case 1:c.bottom=0,c.left=-t*a;break;case 0:c.bottom=0,c.left=a;break}return Ie.createElement("div",{style:c})},hi=function(n){for(var o=n.prefixCls,t=n.level,a=n.isStart,c=n.isEnd,u="".concat(o,"-indent-unit"),r=[],l=0;l<t;l+=1)r.push(s.createElement("span",{key:l,className:nt(u,E(E({},"".concat(u,"-start"),a[l]),"".concat(u,"-end"),c[l]))}));return s.createElement("span",{"aria-hidden":"true",className:"".concat(o,"-indent")},r)};const mi=s.memo(hi);var pi=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],Jn="open",Qn="close",yi="---",rn=function(n){var o,t,a=n.eventKey,c=n.className,u=n.style,r=n.dragOver,l=n.dragOverGapTop,i=n.dragOverGapBottom,d=n.isLeaf,v=n.isStart,m=n.isEnd,f=n.expanded,p=n.selected,y=n.checked,g=n.halfChecked,b=n.loading,N=n.domRef,S=n.active,x=n.data,w=n.onMouseMove,k=n.selectable,K=Ct(n,pi),h=Ie.useContext(In),D=Ie.useContext(ja),R=Ie.useRef(null),M=Ie.useState(!1),L=ue(M,2),V=L[0],O=L[1],P=Ie.useMemo(function(){var z;return!!(h.disabled||n.disabled||(z=D.nodeDisabled)!==null&&z!==void 0&&z.call(D,x))},[h.disabled,n.disabled,D.nodeDisabled,x]),B=Ie.useMemo(function(){return!h.checkable||n.checkable===!1?!1:h.checkable},[h.checkable,n.checkable]),Q=function(I){P||h.onNodeSelect(I,Qe(n))},G=function(I){P||!B||n.disableCheckbox||h.onNodeCheck(I,Qe(n),!y)},ae=Ie.useMemo(function(){return typeof k=="boolean"?k:h.selectable},[k,h.selectable]),X=function(I){h.onNodeClick(I,Qe(n)),ae?Q(I):G(I)},Ce=function(I){h.onNodeDoubleClick(I,Qe(n))},_e=function(I){h.onNodeMouseEnter(I,Qe(n))},Re=function(I){h.onNodeMouseLeave(I,Qe(n))},he=function(I){h.onNodeContextMenu(I,Qe(n))},de=Ie.useMemo(function(){return!!(h.draggable&&(!h.draggable.nodeDraggable||h.draggable.nodeDraggable(x)))},[h.draggable,x]),Ge=function(I){I.stopPropagation(),O(!0),h.onNodeDragStart(I,n);try{I.dataTransfer.setData("text/plain","")}catch{}},le=function(I){I.preventDefault(),I.stopPropagation(),h.onNodeDragEnter(I,n)},be=function(I){I.preventDefault(),I.stopPropagation(),h.onNodeDragOver(I,n)},Ne=function(I){I.stopPropagation(),h.onNodeDragLeave(I,n)},Se=function(I){I.stopPropagation(),O(!1),h.onNodeDragEnd(I,n)},j=function(I){I.preventDefault(),I.stopPropagation(),O(!1),h.onNodeDrop(I,n)},T=function(I){b||h.onNodeExpand(I,Qe(n))},$=Ie.useMemo(function(){var z=vt(h.keyEntities,a)||{},I=z.children;return!!(I||[]).length},[h.keyEntities,a]),F=Ie.useMemo(function(){return d===!1?!1:d||!h.loadData&&!$||h.loadData&&n.loaded&&!$},[d,h.loadData,$,n.loaded]);Ie.useEffect(function(){b||typeof h.loadData=="function"&&f&&!F&&!n.loaded&&h.onNodeLoad(Qe(n))},[b,h.loadData,h.onNodeLoad,f,F,n]);var A=Ie.useMemo(function(){var z;return(z=h.draggable)!==null&&z!==void 0&&z.icon?Ie.createElement("span",{className:"".concat(h.prefixCls,"-draggable-icon")},h.draggable.icon):null},[h.draggable]),J=function(I){var He=n.switcherIcon||h.switcherIcon;return typeof He=="function"?He(q(q({},n),{},{isLeaf:I})):He},se=function(){if(F){var I=J(!0);return I!==!1?Ie.createElement("span",{className:nt("".concat(h.prefixCls,"-switcher"),"".concat(h.prefixCls,"-switcher-noop"))},I):null}var He=J(!1);return He!==!1?Ie.createElement("span",{onClick:T,className:nt("".concat(h.prefixCls,"-switcher"),"".concat(h.prefixCls,"-switcher_").concat(f?Jn:Qn))},He):null},ce=Ie.useMemo(function(){if(!B)return null;var z=typeof B!="boolean"?B:null;return Ie.createElement("span",{className:nt("".concat(h.prefixCls,"-checkbox"),E(E(E({},"".concat(h.prefixCls,"-checkbox-checked"),y),"".concat(h.prefixCls,"-checkbox-indeterminate"),!y&&g),"".concat(h.prefixCls,"-checkbox-disabled"),P||n.disableCheckbox)),onClick:G,role:"checkbox","aria-checked":g?"mixed":y,"aria-disabled":P||n.disableCheckbox,"aria-label":"Select ".concat(typeof n.title=="string"?n.title:"tree node")},z)},[B,y,g,P,n.disableCheckbox,n.title]),ee=Ie.useMemo(function(){return F?null:f?Jn:Qn},[F,f]),me=Ie.useMemo(function(){return Ie.createElement("span",{className:nt("".concat(h.prefixCls,"-iconEle"),"".concat(h.prefixCls,"-icon__").concat(ee||"docu"),E({},"".concat(h.prefixCls,"-icon_loading"),b))})},[h.prefixCls,ee,b]),re=Ie.useMemo(function(){var z=!!h.draggable,I=!n.disabled&&z&&h.dragOverNodeKey===a;return I?h.dropIndicatorRender({dropPosition:h.dropPosition,dropLevelOffset:h.dropLevelOffset,indent:h.indent,prefixCls:h.prefixCls,direction:h.direction}):null},[h.dropPosition,h.dropLevelOffset,h.indent,h.prefixCls,h.direction,h.draggable,h.dragOverNodeKey,h.dropIndicatorRender]),Me=Ie.useMemo(function(){var z=n.title,I=z===void 0?yi:z,He="".concat(h.prefixCls,"-node-content-wrapper"),Ue;if(h.showIcon){var Ye=n.icon||h.icon;Ue=Ye?Ie.createElement("span",{className:nt("".concat(h.prefixCls,"-iconEle"),"".concat(h.prefixCls,"-icon__customize"))},typeof Ye=="function"?Ye(n):Ye):me}else h.loadData&&b&&(Ue=me);var ke;return typeof I=="function"?ke=I(x):h.titleRender?ke=h.titleRender(x):ke=I,Ie.createElement("span",{ref:R,title:typeof I=="string"?I:"",className:nt(He,"".concat(He,"-").concat(ee||"normal"),E({},"".concat(h.prefixCls,"-node-selected"),!P&&(p||V))),onMouseEnter:_e,onMouseLeave:Re,onContextMenu:he,onClick:X,onDoubleClick:Ce},Ue,Ie.createElement("span",{className:"".concat(h.prefixCls,"-title")},ke),re)},[h.prefixCls,h.showIcon,n,h.icon,me,h.titleRender,x,ee,_e,Re,he,X,Ce]),Z=Gt(K,{aria:!0,data:!0}),Ee=vt(h.keyEntities,a)||{},Ae=Ee.level,je=m[m.length-1],Oe=!P&&de,pe=h.draggingNodeKey===a,te=k!==void 0?{"aria-selected":!!k}:void 0;return Ie.createElement("div",Ze({ref:N,role:"treeitem","aria-expanded":d?void 0:f,className:nt(c,"".concat(h.prefixCls,"-treenode"),(t={},E(E(E(E(E(E(E(E(E(E(t,"".concat(h.prefixCls,"-treenode-disabled"),P),"".concat(h.prefixCls,"-treenode-switcher-").concat(f?"open":"close"),!d),"".concat(h.prefixCls,"-treenode-checkbox-checked"),y),"".concat(h.prefixCls,"-treenode-checkbox-indeterminate"),g),"".concat(h.prefixCls,"-treenode-selected"),p),"".concat(h.prefixCls,"-treenode-loading"),b),"".concat(h.prefixCls,"-treenode-active"),S),"".concat(h.prefixCls,"-treenode-leaf-last"),je),"".concat(h.prefixCls,"-treenode-draggable"),de),"dragging",pe),E(E(E(E(E(E(E(t,"drop-target",h.dropTargetKey===a),"drop-container",h.dropContainerKey===a),"drag-over",!P&&r),"drag-over-gap-top",!P&&l),"drag-over-gap-bottom",!P&&i),"filter-node",(o=h.filterTreeNode)===null||o===void 0?void 0:o.call(h,Qe(n))),"".concat(h.prefixCls,"-treenode-leaf"),F))),style:u,draggable:Oe,onDragStart:Oe?Ge:void 0,onDragEnter:de?le:void 0,onDragOver:de?be:void 0,onDragLeave:de?Ne:void 0,onDrop:de?j:void 0,onDragEnd:de?Se:void 0,onMouseMove:w},te,Z),Ie.createElement(mi,{prefixCls:h.prefixCls,level:Ae,isStart:v,isEnd:m}),A,se(),ce,Me)};rn.isTreeNode=1;function Ci(e,n){var o=s.useState(!1),t=ue(o,2),a=t[0],c=t[1];Yt(function(){if(a)return e(),function(){n()}},[a]),Yt(function(){return c(!0),function(){c(!1)}},[])}var bi=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],Si=s.forwardRef(function(e,n){var o=e.className,t=e.style,a=e.motion,c=e.motionNodes,u=e.motionType,r=e.onMotionStart,l=e.onMotionEnd,i=e.active,d=e.treeNodeRequiredProps,v=Ct(e,bi),m=s.useState(!0),f=ue(m,2),p=f[0],y=f[1],g=s.useContext(In),b=g.prefixCls,N=c&&u!=="hide";Yt(function(){c&&N!==p&&y(N)},[c]);var S=function(){c&&r()},x=s.useRef(!1),w=function(){c&&!x.current&&(x.current=!0,l())};Ci(S,w);var k=function(h){N===h&&w()};return c?s.createElement(Za,Ze({ref:n,visible:p},a,{motionAppear:u==="show",onVisibleChanged:k}),function(K,h){var D=K.className,R=K.style;return s.createElement("div",{ref:h,className:nt("".concat(b,"-treenode-motion"),D),style:R},c.map(function(M){var L=Object.assign({},(Ca(M.data),M.data)),V=M.title,O=M.key,P=M.isStart,B=M.isEnd;delete L.children;var Q=Ut(O,d);return s.createElement(rn,Ze({},L,Q,{title:V,active:i,data:M.data,key:O,isStart:P,isEnd:B}))}))}):s.createElement(rn,Ze({domRef:n,className:o,style:t},v,{active:i}))});function xi(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],o=e.length,t=n.length;if(Math.abs(o-t)!==1)return{add:!1,key:null};function a(c,u){var r=new Map;c.forEach(function(i){r.set(i,!0)});var l=u.filter(function(i){return!r.has(i)});return l.length===1?l[0]:null}return o<t?{add:!0,key:a(e,n)}:{add:!1,key:a(n,e)}}function Zn(e,n,o){var t=e.findIndex(function(r){return r.key===o}),a=e[t+1],c=n.findIndex(function(r){return r.key===o});if(a){var u=n.findIndex(function(r){return r.key===a.key});return n.slice(c+1,u)}return n.slice(c+1)}var wi=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","scrollWidth","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],ea={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Ei=function(){},Ht="RC_TREE_MOTION_".concat(Math.random()),Nn={key:Ht},$a={key:Ht,level:0,index:0,pos:"0",node:Nn,nodes:[Nn]},ta={parent:null,children:[],pos:$a.pos,data:Nn,title:null,key:Ht,isStart:[],isEnd:[]};function na(e,n,o,t){return n===!1||!o?e:e.slice(0,Math.ceil(o/t)+1)}function aa(e){var n=e.key,o=e.pos;return Jt(n,o)}function Ni(e){for(var n=String(e.data.key),o=e;o.parent;)o=o.parent,n="".concat(o.data.key," > ").concat(n);return n}var ki=s.forwardRef(function(e,n){var o=e.prefixCls,t=e.data;e.selectable,e.checkable;var a=e.expandedKeys,c=e.selectedKeys,u=e.checkedKeys,r=e.loadedKeys,l=e.loadingKeys,i=e.halfCheckedKeys,d=e.keyEntities,v=e.disabled,m=e.dragging,f=e.dragOverNodeKey,p=e.dropPosition,y=e.motion,g=e.height,b=e.itemHeight,N=e.virtual,S=e.scrollWidth,x=e.focusable,w=e.activeItem,k=e.focused,K=e.tabIndex,h=e.onKeyDown,D=e.onFocus,R=e.onBlur,M=e.onActiveChange,L=e.onListChangeStart,V=e.onListChangeEnd,O=Ct(e,wi),P=s.useRef(null),B=s.useRef(null);s.useImperativeHandle(n,function(){return{scrollTo:function(Me){P.current.scrollTo(Me)},getIndentWidth:function(){return B.current.offsetWidth}}});var Q=s.useState(a),G=ue(Q,2),ae=G[0],X=G[1],Ce=s.useState(t),_e=ue(Ce,2),Re=_e[0],he=_e[1],de=s.useState(t),Ge=ue(de,2),le=Ge[0],be=Ge[1],Ne=s.useState([]),Se=ue(Ne,2),j=Se[0],T=Se[1],$=s.useState(null),F=ue($,2),A=F[0],J=F[1],se=s.useRef(t);se.current=t;function ce(){var re=se.current;he(re),be(re),T([]),J(null),V()}Yt(function(){X(a);var re=xi(ae,a);if(re.key!==null)if(re.add){var Me=Re.findIndex(function(pe){var te=pe.key;return te===re.key}),Z=na(Zn(Re,t,re.key),N,g,b),Ee=Re.slice();Ee.splice(Me+1,0,ta),be(Ee),T(Z),J("show")}else{var Ae=t.findIndex(function(pe){var te=pe.key;return te===re.key}),je=na(Zn(t,Re,re.key),N,g,b),Oe=t.slice();Oe.splice(Ae+1,0,ta),be(Oe),T(je),J("hide")}else Re!==t&&(he(t),be(t))},[a,t]),s.useEffect(function(){m||ce()},[m]);var ee=y?le:t,me={expandedKeys:a,selectedKeys:c,loadedKeys:r,loadingKeys:l,checkedKeys:u,halfCheckedKeys:i,dragOverNodeKey:f,dropPosition:p,keyEntities:d};return s.createElement(s.Fragment,null,k&&w&&s.createElement("span",{style:ea,"aria-live":"assertive"},Ni(w)),s.createElement("div",null,s.createElement("input",{style:ea,disabled:x===!1||v,tabIndex:x!==!1?K:null,onKeyDown:h,onFocus:D,onBlur:R,value:"",onChange:Ei,"aria-label":"for screen reader"})),s.createElement("div",{className:"".concat(o,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},s.createElement("div",{className:"".concat(o,"-indent")},s.createElement("div",{ref:B,className:"".concat(o,"-indent-unit")}))),s.createElement(ya,Ze({},O,{data:ee,itemKey:aa,height:g,fullHeight:!1,virtual:N,itemHeight:b,scrollWidth:S,prefixCls:"".concat(o,"-list"),ref:P,role:"tree",onVisibleChange:function(Me){Me.every(function(Z){return aa(Z)!==Ht})&&ce()}}),function(re){var Me=re.pos,Z=Object.assign({},(Ca(re.data),re.data)),Ee=re.title,Ae=re.key,je=re.isStart,Oe=re.isEnd,pe=Jt(Ae,Me);delete Z.key,delete Z.children;var te=Ut(pe,me);return s.createElement(Si,Ze({},Z,te,{title:Ee,active:!!w&&Ae===w.key,pos:Me,data:re.data,isStart:je,isEnd:Oe,motion:y,motionNodes:Ae===Ht?j:null,motionType:A,onMotionStart:L,onMotionEnd:ce,treeNodeRequiredProps:me,onMouseMove:function(){M(null)}}))}))});function Ot(e,n){if(!e)return[];var o=e.slice(),t=o.indexOf(n);return t>=0&&o.splice(t,1),o}function Pt(e,n){var o=(e||[]).slice();return o.indexOf(n)===-1&&o.push(n),o}function On(e){return e.split("-")}function Di(e,n){var o=[],t=vt(n,e);function a(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];c.forEach(function(u){var r=u.key,l=u.children;o.push(r),a(l)})}return a(t.children),o}function Ki(e){if(e.parent){var n=On(e.pos);return Number(n[n.length-1])===e.parent.children.length-1}return!1}function Ii(e){var n=On(e.pos);return Number(n[n.length-1])===0}function ra(e,n,o,t,a,c,u,r,l,i){var d,v=e.clientX,m=e.clientY,f=e.target.getBoundingClientRect(),p=f.top,y=f.height,g=(i==="rtl"?-1:1)*((a?.x||0)-v),b=(g-12)/t,N=l.filter(function(B){var Q;return(Q=r[B])===null||Q===void 0||(Q=Q.children)===null||Q===void 0?void 0:Q.length}),S=vt(r,o.eventKey);if(m<p+y/2){var x=u.findIndex(function(B){return B.key===S.key}),w=x<=0?0:x-1,k=u[w].key;S=vt(r,k)}var K=S.key,h=S,D=S.key,R=0,M=0;if(!N.includes(K))for(var L=0;L<b&&Ki(S);L+=1)S=S.parent,M+=1;var V=n.data,O=S.node,P=!0;return Ii(S)&&S.level===0&&m<p+y/2&&c({dragNode:V,dropNode:O,dropPosition:-1})&&S.key===o.eventKey?R=-1:(h.children||[]).length&&N.includes(D)?c({dragNode:V,dropNode:O,dropPosition:0})?R=0:P=!1:M===0?b>-1.5?c({dragNode:V,dropNode:O,dropPosition:1})?R=1:P=!1:c({dragNode:V,dropNode:O,dropPosition:0})?R=0:c({dragNode:V,dropNode:O,dropPosition:1})?R=1:P=!1:c({dragNode:V,dropNode:O,dropPosition:1})?R=1:P=!1,{dropPosition:R,dropLevelOffset:M,dropTargetKey:S.key,dropTargetPos:S.pos,dragOverNodeKey:D,dropContainerKey:R===0?null:((d=S.parent)===null||d===void 0?void 0:d.key)||null,dropAllowed:P}}function oa(e,n){if(e){var o=n.multiple;return o?e.slice():e.length?[e[0]]:e}}function gn(e){if(!e)return null;var n;if(Array.isArray(e))n={checkedKeys:e,halfCheckedKeys:void 0};else if(Tt(e)==="object")n={checkedKeys:e.checked||void 0,halfCheckedKeys:e.halfChecked||void 0};else return ht(!1,"`checkedKeys` is not an array or an object"),null;return n}function ia(e,n){var o=new Set;function t(a){if(!o.has(a)){var c=vt(n,a);if(c){o.add(a);var u=c.parent,r=c.node;r.disabled||u&&t(u.key)}}}return(e||[]).forEach(function(a){t(a)}),Pe(o)}var Oi=10,Tn=function(e){er(o,e);var n=tr(o);function o(){var t;nr(this,o);for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];return t=n.call.apply(n,[this].concat(c)),E(ve(t),"destroyed",!1),E(ve(t),"delayedDragEnterLogic",void 0),E(ve(t),"loadingRetryTimes",{}),E(ve(t),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:an()}),E(ve(t),"dragStartMousePosition",null),E(ve(t),"dragNodeProps",null),E(ve(t),"currentMouseOverDroppableNodeKey",null),E(ve(t),"listRef",s.createRef()),E(ve(t),"onNodeDragStart",function(r,l){var i=t.state,d=i.expandedKeys,v=i.keyEntities,m=t.props.onDragStart,f=l.eventKey;t.dragNodeProps=l,t.dragStartMousePosition={x:r.clientX,y:r.clientY};var p=Ot(d,f);t.setState({draggingNodeKey:f,dragChildrenKeys:Di(f,v),indent:t.listRef.current.getIndentWidth()}),t.setExpandedKeys(p),window.addEventListener("dragend",t.onWindowDragEnd),m?.({event:r,node:Qe(l)})}),E(ve(t),"onNodeDragEnter",function(r,l){var i=t.state,d=i.expandedKeys,v=i.keyEntities,m=i.dragChildrenKeys,f=i.flattenNodes,p=i.indent,y=t.props,g=y.onDragEnter,b=y.onExpand,N=y.allowDrop,S=y.direction,x=l.pos,w=l.eventKey;if(t.currentMouseOverDroppableNodeKey!==w&&(t.currentMouseOverDroppableNodeKey=w),!t.dragNodeProps){t.resetDragState();return}var k=ra(r,t.dragNodeProps,l,p,t.dragStartMousePosition,N,f,v,d,S),K=k.dropPosition,h=k.dropLevelOffset,D=k.dropTargetKey,R=k.dropContainerKey,M=k.dropTargetPos,L=k.dropAllowed,V=k.dragOverNodeKey;if(m.includes(D)||!L){t.resetDragState();return}if(t.delayedDragEnterLogic||(t.delayedDragEnterLogic={}),Object.keys(t.delayedDragEnterLogic).forEach(function(O){clearTimeout(t.delayedDragEnterLogic[O])}),t.dragNodeProps.eventKey!==l.eventKey&&(r.persist(),t.delayedDragEnterLogic[x]=window.setTimeout(function(){if(t.state.draggingNodeKey!==null){var O=Pe(d),P=vt(v,l.eventKey);P&&(P.children||[]).length&&(O=Pt(d,l.eventKey)),t.props.hasOwnProperty("expandedKeys")||t.setExpandedKeys(O),b?.(O,{node:Qe(l),expanded:!0,nativeEvent:r.nativeEvent})}},800)),t.dragNodeProps.eventKey===D&&h===0){t.resetDragState();return}t.setState({dragOverNodeKey:V,dropPosition:K,dropLevelOffset:h,dropTargetKey:D,dropContainerKey:R,dropTargetPos:M,dropAllowed:L}),g?.({event:r,node:Qe(l),expandedKeys:d})}),E(ve(t),"onNodeDragOver",function(r,l){var i=t.state,d=i.dragChildrenKeys,v=i.flattenNodes,m=i.keyEntities,f=i.expandedKeys,p=i.indent,y=t.props,g=y.onDragOver,b=y.allowDrop,N=y.direction;if(t.dragNodeProps){var S=ra(r,t.dragNodeProps,l,p,t.dragStartMousePosition,b,v,m,f,N),x=S.dropPosition,w=S.dropLevelOffset,k=S.dropTargetKey,K=S.dropContainerKey,h=S.dropTargetPos,D=S.dropAllowed,R=S.dragOverNodeKey;d.includes(k)||!D||(t.dragNodeProps.eventKey===k&&w===0?t.state.dropPosition===null&&t.state.dropLevelOffset===null&&t.state.dropTargetKey===null&&t.state.dropContainerKey===null&&t.state.dropTargetPos===null&&t.state.dropAllowed===!1&&t.state.dragOverNodeKey===null||t.resetDragState():x===t.state.dropPosition&&w===t.state.dropLevelOffset&&k===t.state.dropTargetKey&&K===t.state.dropContainerKey&&h===t.state.dropTargetPos&&D===t.state.dropAllowed&&R===t.state.dragOverNodeKey||t.setState({dropPosition:x,dropLevelOffset:w,dropTargetKey:k,dropContainerKey:K,dropTargetPos:h,dropAllowed:D,dragOverNodeKey:R}),g?.({event:r,node:Qe(l)}))}}),E(ve(t),"onNodeDragLeave",function(r,l){t.currentMouseOverDroppableNodeKey===l.eventKey&&!r.currentTarget.contains(r.relatedTarget)&&(t.resetDragState(),t.currentMouseOverDroppableNodeKey=null);var i=t.props.onDragLeave;i?.({event:r,node:Qe(l)})}),E(ve(t),"onWindowDragEnd",function(r){t.onNodeDragEnd(r,null,!0),window.removeEventListener("dragend",t.onWindowDragEnd)}),E(ve(t),"onNodeDragEnd",function(r,l){var i=t.props.onDragEnd;t.setState({dragOverNodeKey:null}),t.cleanDragState(),i?.({event:r,node:Qe(l)}),t.dragNodeProps=null,window.removeEventListener("dragend",t.onWindowDragEnd)}),E(ve(t),"onNodeDrop",function(r,l){var i,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,v=t.state,m=v.dragChildrenKeys,f=v.dropPosition,p=v.dropTargetKey,y=v.dropTargetPos,g=v.dropAllowed;if(g){var b=t.props.onDrop;if(t.setState({dragOverNodeKey:null}),t.cleanDragState(),p!==null){var N=q(q({},Ut(p,t.getTreeNodeRequiredProps())),{},{active:((i=t.getActiveItem())===null||i===void 0?void 0:i.key)===p,data:vt(t.state.keyEntities,p).node}),S=m.includes(p);ht(!S,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var x=On(y),w={event:r,node:Qe(N),dragNode:t.dragNodeProps?Qe(t.dragNodeProps):null,dragNodesKeys:[t.dragNodeProps.eventKey].concat(m),dropToGap:f!==0,dropPosition:f+Number(x[x.length-1])};d||b?.(w),t.dragNodeProps=null}}}),E(ve(t),"cleanDragState",function(){var r=t.state.draggingNodeKey;r!==null&&t.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),t.dragStartMousePosition=null,t.currentMouseOverDroppableNodeKey=null}),E(ve(t),"triggerExpandActionExpand",function(r,l){var i=t.state,d=i.expandedKeys,v=i.flattenNodes,m=l.expanded,f=l.key,p=l.isLeaf;if(!(p||r.shiftKey||r.metaKey||r.ctrlKey)){var y=v.filter(function(b){return b.key===f})[0],g=Qe(q(q({},Ut(f,t.getTreeNodeRequiredProps())),{},{data:y.data}));t.setExpandedKeys(m?Ot(d,f):Pt(d,f)),t.onNodeExpand(r,g)}}),E(ve(t),"onNodeClick",function(r,l){var i=t.props,d=i.onClick,v=i.expandAction;v==="click"&&t.triggerExpandActionExpand(r,l),d?.(r,l)}),E(ve(t),"onNodeDoubleClick",function(r,l){var i=t.props,d=i.onDoubleClick,v=i.expandAction;v==="doubleClick"&&t.triggerExpandActionExpand(r,l),d?.(r,l)}),E(ve(t),"onNodeSelect",function(r,l){var i=t.state.selectedKeys,d=t.state,v=d.keyEntities,m=d.fieldNames,f=t.props,p=f.onSelect,y=f.multiple,g=l.selected,b=l[m.key],N=!g;N?y?i=Pt(i,b):i=[b]:i=Ot(i,b);var S=i.map(function(x){var w=vt(v,x);return w?w.node:null}).filter(Boolean);t.setUncontrolledState({selectedKeys:i}),p?.(i,{event:"select",selected:N,node:l,selectedNodes:S,nativeEvent:r.nativeEvent})}),E(ve(t),"onNodeCheck",function(r,l,i){var d=t.state,v=d.keyEntities,m=d.checkedKeys,f=d.halfCheckedKeys,p=t.props,y=p.checkStrictly,g=p.onCheck,b=l.key,N,S={event:"check",node:l,checked:i,nativeEvent:r.nativeEvent};if(y){var x=i?Pt(m,b):Ot(m,b),w=Ot(f,b);N={checked:x,halfChecked:w},S.checkedNodes=x.map(function(M){return vt(v,M)}).filter(Boolean).map(function(M){return M.node}),t.setUncontrolledState({checkedKeys:x})}else{var k=Bt([].concat(Pe(m),[b]),!0,v),K=k.checkedKeys,h=k.halfCheckedKeys;if(!i){var D=new Set(K);D.delete(b);var R=Bt(Array.from(D),{halfCheckedKeys:h},v);K=R.checkedKeys,h=R.halfCheckedKeys}N=K,S.checkedNodes=[],S.checkedNodesPositions=[],S.halfCheckedKeys=h,K.forEach(function(M){var L=vt(v,M);if(L){var V=L.node,O=L.pos;S.checkedNodes.push(V),S.checkedNodesPositions.push({node:V,pos:O})}}),t.setUncontrolledState({checkedKeys:K},!1,{halfCheckedKeys:h})}g?.(N,S)}),E(ve(t),"onNodeLoad",function(r){var l,i=r.key,d=t.state.keyEntities,v=vt(d,i);if(!(v!=null&&(l=v.children)!==null&&l!==void 0&&l.length)){var m=new Promise(function(f,p){t.setState(function(y){var g=y.loadedKeys,b=g===void 0?[]:g,N=y.loadingKeys,S=N===void 0?[]:N,x=t.props,w=x.loadData,k=x.onLoad;if(!w||b.includes(i)||S.includes(i))return null;var K=w(r);return K.then(function(){var h=t.state.loadedKeys,D=Pt(h,i);k?.(D,{event:"load",node:r}),t.setUncontrolledState({loadedKeys:D}),t.setState(function(R){return{loadingKeys:Ot(R.loadingKeys,i)}}),f()}).catch(function(h){if(t.setState(function(R){return{loadingKeys:Ot(R.loadingKeys,i)}}),t.loadingRetryTimes[i]=(t.loadingRetryTimes[i]||0)+1,t.loadingRetryTimes[i]>=Oi){var D=t.state.loadedKeys;ht(!1,"Retry for `loadData` many times but still failed. No more retry."),t.setUncontrolledState({loadedKeys:Pt(D,i)}),f()}p(h)}),{loadingKeys:Pt(S,i)}})});return m.catch(function(){}),m}}),E(ve(t),"onNodeMouseEnter",function(r,l){var i=t.props.onMouseEnter;i?.({event:r,node:l})}),E(ve(t),"onNodeMouseLeave",function(r,l){var i=t.props.onMouseLeave;i?.({event:r,node:l})}),E(ve(t),"onNodeContextMenu",function(r,l){var i=t.props.onRightClick;i&&(r.preventDefault(),i({event:r,node:l}))}),E(ve(t),"onFocus",function(){var r=t.props.onFocus;t.setState({focused:!0});for(var l=arguments.length,i=new Array(l),d=0;d<l;d++)i[d]=arguments[d];r?.apply(void 0,i)}),E(ve(t),"onBlur",function(){var r=t.props.onBlur;t.setState({focused:!1}),t.onActiveChange(null);for(var l=arguments.length,i=new Array(l),d=0;d<l;d++)i[d]=arguments[d];r?.apply(void 0,i)}),E(ve(t),"getTreeNodeRequiredProps",function(){var r=t.state,l=r.expandedKeys,i=r.selectedKeys,d=r.loadedKeys,v=r.loadingKeys,m=r.checkedKeys,f=r.halfCheckedKeys,p=r.dragOverNodeKey,y=r.dropPosition,g=r.keyEntities;return{expandedKeys:l||[],selectedKeys:i||[],loadedKeys:d||[],loadingKeys:v||[],checkedKeys:m||[],halfCheckedKeys:f||[],dragOverNodeKey:p,dropPosition:y,keyEntities:g}}),E(ve(t),"setExpandedKeys",function(r){var l=t.state,i=l.treeData,d=l.fieldNames,v=vn(i,r,d);t.setUncontrolledState({expandedKeys:r,flattenNodes:v},!0)}),E(ve(t),"onNodeExpand",function(r,l){var i=t.state.expandedKeys,d=t.state,v=d.listChanging,m=d.fieldNames,f=t.props,p=f.onExpand,y=f.loadData,g=l.expanded,b=l[m.key];if(!v){var N=i.includes(b),S=!g;if(ht(g&&N||!g&&!N,"Expand state not sync with index check"),i=S?Pt(i,b):Ot(i,b),t.setExpandedKeys(i),p?.(i,{node:l,expanded:S,nativeEvent:r.nativeEvent}),S&&y){var x=t.onNodeLoad(l);x&&x.then(function(){var w=vn(t.state.treeData,i,m);t.setUncontrolledState({flattenNodes:w})}).catch(function(){var w=t.state.expandedKeys,k=Ot(w,b);t.setExpandedKeys(k)})}}}),E(ve(t),"onListChangeStart",function(){t.setUncontrolledState({listChanging:!0})}),E(ve(t),"onListChangeEnd",function(){setTimeout(function(){t.setUncontrolledState({listChanging:!1})})}),E(ve(t),"onActiveChange",function(r){var l=t.state.activeKey,i=t.props,d=i.onActiveChange,v=i.itemScrollOffset,m=v===void 0?0:v;l!==r&&(t.setState({activeKey:r}),r!==null&&t.scrollTo({key:r,offset:m}),d?.(r))}),E(ve(t),"getActiveItem",function(){var r=t.state,l=r.activeKey,i=r.flattenNodes;return l===null?null:i.find(function(d){var v=d.key;return v===l})||null}),E(ve(t),"offsetActiveKey",function(r){var l=t.state,i=l.flattenNodes,d=l.activeKey,v=i.findIndex(function(p){var y=p.key;return y===d});v===-1&&r<0&&(v=i.length),v=(v+r+i.length)%i.length;var m=i[v];if(m){var f=m.key;t.onActiveChange(f)}else t.onActiveChange(null)}),E(ve(t),"onKeyDown",function(r){var l=t.state,i=l.activeKey,d=l.expandedKeys,v=l.checkedKeys,m=l.fieldNames,f=t.props,p=f.onKeyDown,y=f.checkable,g=f.selectable;switch(r.which){case H.UP:{t.offsetActiveKey(-1),r.preventDefault();break}case H.DOWN:{t.offsetActiveKey(1),r.preventDefault();break}}var b=t.getActiveItem();if(b&&b.data){var N=t.getTreeNodeRequiredProps(),S=b.data.isLeaf===!1||!!(b.data[m.children]||[]).length,x=Qe(q(q({},Ut(i,N)),{},{data:b.data,active:!0}));switch(r.which){case H.LEFT:{S&&d.includes(i)?t.onNodeExpand({},x):b.parent&&t.onActiveChange(b.parent.key),r.preventDefault();break}case H.RIGHT:{S&&!d.includes(i)?t.onNodeExpand({},x):b.children&&b.children.length&&t.onActiveChange(b.children[0].key),r.preventDefault();break}case H.ENTER:case H.SPACE:{y&&!x.disabled&&x.checkable!==!1&&!x.disableCheckbox?t.onNodeCheck({},x,!v.includes(i)):!y&&g&&!x.disabled&&x.selectable!==!1&&t.onNodeSelect({},x);break}}}p?.(r)}),E(ve(t),"setUncontrolledState",function(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!t.destroyed){var d=!1,v=!0,m={};Object.keys(r).forEach(function(f){if(t.props.hasOwnProperty(f)){v=!1;return}d=!0,m[f]=r[f]}),d&&(!l||v)&&t.setState(q(q({},m),i))}}),E(ve(t),"scrollTo",function(r){t.listRef.current.scrollTo(r)}),t}return ar(o,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var a=this.props,c=a.activeKey,u=a.itemScrollOffset,r=u===void 0?0:u;c!==void 0&&c!==this.state.activeKey&&(this.setState({activeKey:c}),c!==null&&this.scrollTo({key:c,offset:r}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var a=this.state,c=a.focused,u=a.flattenNodes,r=a.keyEntities,l=a.draggingNodeKey,i=a.activeKey,d=a.dropLevelOffset,v=a.dropContainerKey,m=a.dropTargetKey,f=a.dropPosition,p=a.dragOverNodeKey,y=a.indent,g=this.props,b=g.prefixCls,N=g.className,S=g.style,x=g.showLine,w=g.focusable,k=g.tabIndex,K=k===void 0?0:k,h=g.selectable,D=g.showIcon,R=g.icon,M=g.switcherIcon,L=g.draggable,V=g.checkable,O=g.checkStrictly,P=g.disabled,B=g.motion,Q=g.loadData,G=g.filterTreeNode,ae=g.height,X=g.itemHeight,Ce=g.scrollWidth,_e=g.virtual,Re=g.titleRender,he=g.dropIndicatorRender,de=g.onContextMenu,Ge=g.onScroll,le=g.direction,be=g.rootClassName,Ne=g.rootStyle,Se=Gt(this.props,{aria:!0,data:!0}),j;L&&(Tt(L)==="object"?j=L:typeof L=="function"?j={nodeDraggable:L}:j={});var T={prefixCls:b,selectable:h,showIcon:D,icon:R,switcherIcon:M,draggable:j,draggingNodeKey:l,checkable:V,checkStrictly:O,disabled:P,keyEntities:r,dropLevelOffset:d,dropContainerKey:v,dropTargetKey:m,dropPosition:f,dragOverNodeKey:p,indent:y,direction:le,dropIndicatorRender:he,loadData:Q,filterTreeNode:G,titleRender:Re,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop};return s.createElement(In.Provider,{value:T},s.createElement("div",{className:nt(b,N,be,E(E(E({},"".concat(b,"-show-line"),x),"".concat(b,"-focused"),c),"".concat(b,"-active-focused"),i!==null)),style:Ne},s.createElement(ki,Ze({ref:this.listRef,prefixCls:b,style:S,data:u,disabled:P,selectable:h,checkable:!!V,motion:B,dragging:l!==null,height:ae,itemHeight:X,virtual:_e,focusable:w,focused:c,tabIndex:K,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:de,onScroll:Ge,scrollWidth:Ce},this.getTreeNodeRequiredProps(),Se))))}}],[{key:"getDerivedStateFromProps",value:function(a,c){var u=c.prevProps,r={prevProps:a};function l(K){return!u&&a.hasOwnProperty(K)||u&&u[K]!==a[K]}var i,d=c.fieldNames;if(l("fieldNames")&&(d=an(a.fieldNames),r.fieldNames=d),l("treeData")?i=a.treeData:l("children")&&(ht(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),i=Jo(a.children)),i){r.treeData=i;var v=Pa(i,{fieldNames:d});r.keyEntities=q(E({},Ht,$a),v.keyEntities)}var m=r.keyEntities||c.keyEntities;if(l("expandedKeys")||u&&l("autoExpandParent"))r.expandedKeys=a.autoExpandParent||!u&&a.defaultExpandParent?ia(a.expandedKeys,m):a.expandedKeys;else if(!u&&a.defaultExpandAll){var f=q({},m);delete f[Ht];var p=[];Object.keys(f).forEach(function(K){var h=f[K];h.children&&h.children.length&&p.push(h.key)}),r.expandedKeys=p}else!u&&a.defaultExpandedKeys&&(r.expandedKeys=a.autoExpandParent||a.defaultExpandParent?ia(a.defaultExpandedKeys,m):a.defaultExpandedKeys);if(r.expandedKeys||delete r.expandedKeys,i||r.expandedKeys){var y=vn(i||c.treeData,r.expandedKeys||c.expandedKeys,d);r.flattenNodes=y}if(a.selectable&&(l("selectedKeys")?r.selectedKeys=oa(a.selectedKeys,a):!u&&a.defaultSelectedKeys&&(r.selectedKeys=oa(a.defaultSelectedKeys,a))),a.checkable){var g;if(l("checkedKeys")?g=gn(a.checkedKeys)||{}:!u&&a.defaultCheckedKeys?g=gn(a.defaultCheckedKeys)||{}:i&&(g=gn(a.checkedKeys)||{checkedKeys:c.checkedKeys,halfCheckedKeys:c.halfCheckedKeys}),g){var b=g,N=b.checkedKeys,S=N===void 0?[]:N,x=b.halfCheckedKeys,w=x===void 0?[]:x;if(!a.checkStrictly){var k=Bt(S,!0,m);S=k.checkedKeys,w=k.halfCheckedKeys}r.checkedKeys=S,r.halfCheckedKeys=w}}return l("loadedKeys")&&(r.loadedKeys=a.loadedKeys),r}}]),o}(s.Component);E(Tn,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:gi,allowDrop:function(){return!0},expandAction:!1});E(Tn,"TreeNode",rn);var Va=s.createContext(null),Ti={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Mi=function(n,o){var t=Sa(),a=t.prefixCls,c=t.multiple,u=t.searchValue,r=t.toggleOpen,l=t.open,i=t.notFoundContent,d=s.useContext(Va),v=d.virtual,m=d.listHeight,f=d.listItemHeight,p=d.listItemScrollOffset,y=d.treeData,g=d.fieldNames,b=d.onSelect,N=d.dropdownMatchSelectWidth,S=d.treeExpandAction,x=d.treeTitleRender,w=d.onPopupScroll,k=d.leftMaxCount,K=d.leafCountOnly,h=d.valueEntities,D=s.useContext(Aa),R=D.checkable,M=D.checkedKeys,L=D.halfCheckedKeys,V=D.treeExpandedKeys,O=D.treeDefaultExpandAll,P=D.treeDefaultExpandedKeys,B=D.onTreeExpand,Q=D.treeIcon,G=D.showTreeIcon,ae=D.switcherIcon,X=D.treeLine,Ce=D.treeNodeFilterProp,_e=D.loadData,Re=D.treeLoadedKeys,he=D.treeMotion,de=D.onTreeLoad,Ge=D.keyEntities,le=s.useRef(),be=mn(function(){return y},[l,y],function(ne,fe){return fe[0]&&ne[1]!==fe[1]}),Ne=s.useMemo(function(){return R?{checked:M,halfChecked:L}:null},[R,M,L]);s.useEffect(function(){if(l&&!c&&M.length){var ne;(ne=le.current)===null||ne===void 0||ne.scrollTo({key:M[0]})}},[l]);var Se=function(fe){fe.preventDefault()},j=function(fe,We){var Te=We.node;R&&wn(Te)||(b(Te.key,{selected:!M.includes(Te.key)}),c||r(!1))},T=s.useState(P),$=ue(T,2),F=$[0],A=$[1],J=s.useState(null),se=ue(J,2),ce=se[0],ee=se[1],me=s.useMemo(function(){return V?Pe(V):u?ce:F},[F,ce,V,u]),re=function(fe){A(fe),ee(fe),B&&B(fe)},Me=String(u).toLowerCase(),Z=function(fe){return Me?String(fe[Ce]).toLowerCase().includes(Me):!1};s.useEffect(function(){u&&ee(li(y,g))},[u]);var Ee=s.useState(function(){return new Map}),Ae=ue(Ee,2),je=Ae[0],Oe=Ae[1];s.useEffect(function(){k&&Oe(new Map)},[k]);function pe(ne){var fe=ne[g.value];if(!je.has(fe)){var We=h.get(fe),Te=(We.children||[]).length===0;if(Te)je.set(fe,!1);else{var Be=We.children.filter(function(qe){return!qe.node.disabled&&!qe.node.disableCheckbox&&!M.includes(qe.node[g.value])}),et=Be.length;je.set(fe,et>k)}}return je.get(fe)}var te=rr(function(ne){var fe=ne[g.value];return M.includes(fe)||k===null?!1:k<=0?!0:K&&k?pe(ne):!1}),z=function ne(fe){var We=ni(fe),Te;try{for(We.s();!(Te=We.n()).done;){var Be=Te.value;if(!(Be.disabled||Be.selectable===!1)){if(u){if(Z(Be))return Be}else return Be;if(Be[g.children]){var et=ne(Be[g.children]);if(et)return et}}}}catch(qe){We.e(qe)}finally{We.f()}return null},I=s.useState(null),He=ue(I,2),Ue=He[0],Ye=He[1],ke=Ge[Ue];s.useEffect(function(){if(l){var ne=null,fe=function(){var Te=z(be);return Te?Te[g.value]:null};!c&&M.length&&!u?ne=M[0]:ne=fe(),Ye(ne)}},[l,u]),s.useImperativeHandle(o,function(){var ne;return{scrollTo:(ne=le.current)===null||ne===void 0?void 0:ne.scrollTo,onKeyDown:function(We){var Te,Be=We.which;switch(Be){case H.UP:case H.DOWN:case H.LEFT:case H.RIGHT:(Te=le.current)===null||Te===void 0||Te.onKeyDown(We);break;case H.ENTER:{if(ke){var et=te(ke.node),qe=ke?.node||{},st=qe.selectable,ot=qe.value,mt=qe.disabled;st!==!1&&!mt&&!et&&j(null,{node:{key:Ue},selected:!M.includes(ot)})}break}case H.ESC:r(!1)}},onKeyUp:function(){}}});var wt=mn(function(){return!u},[u,V||F],function(ne,fe){var We=ue(ne,1),Te=We[0],Be=ue(fe,2),et=Be[0],qe=Be[1];return Te!==et&&!!(et||qe)}),De=wt?_e:null;if(be.length===0)return s.createElement("div",{role:"listbox",className:"".concat(a,"-empty"),onMouseDown:Se},i);var Je={fieldNames:g};return Re&&(Je.loadedKeys=Re),me&&(Je.expandedKeys=me),s.createElement("div",{onMouseDown:Se},ke&&l&&s.createElement("span",{style:Ti,"aria-live":"assertive"},ke.node.value),s.createElement(ja.Provider,{value:{nodeDisabled:te}},s.createElement(Tn,Ze({ref:le,focusable:!1,prefixCls:"".concat(a,"-tree"),treeData:be,height:m,itemHeight:f,itemScrollOffset:p,virtual:v!==!1&&N!==!1,multiple:c,icon:Q,showIcon:G,switcherIcon:ae,showLine:X,loadData:De,motion:he,activeKey:Ue,checkable:R,checkStrictly:!0,checkedKeys:Ne,selectedKeys:R?[]:M,defaultExpandAll:O,titleRender:x},Je,{onActiveChange:Ye,onSelect:j,onCheck:j,onExpand:re,onLoad:de,filterTreeNode:Z,expandAction:S,onScroll:w}))))},Ri=s.forwardRef(Mi),Mn="SHOW_ALL",Rn="SHOW_PARENT",cn="SHOW_CHILD";function la(e,n,o,t){var a=new Set(e);return n===cn?e.filter(function(c){var u=o[c];return!u||!u.children||!u.children.some(function(r){var l=r.node;return a.has(l[t.value])})||!u.children.every(function(r){var l=r.node;return wn(l)||a.has(l[t.value])})}):n===Rn?e.filter(function(c){var u=o[c],r=u?u.parent:null;return!r||wn(r.node)||!a.has(r.key)}):e}var Pi=["id","prefixCls","value","defaultValue","onChange","onSelect","onDeselect","searchValue","inputValue","onSearch","autoClearSearchValue","filterTreeNode","treeNodeFilterProp","showCheckedStrategy","treeNodeLabelProp","multiple","treeCheckable","treeCheckStrictly","labelInValue","maxCount","fieldNames","treeDataSimpleMode","treeData","children","loadData","treeLoadedKeys","onTreeLoad","treeDefaultExpandAll","treeExpandedKeys","treeDefaultExpandedKeys","onTreeExpand","treeExpandAction","virtual","listHeight","listItemHeight","listItemScrollOffset","onDropdownVisibleChange","dropdownMatchSelectWidth","treeLine","treeIcon","showTreeIcon","switcherIcon","treeMotion","treeTitleRender","onPopupScroll"];function _i(e){return!e||Tt(e)!=="object"}var Li=s.forwardRef(function(e,n){var o=e.id,t=e.prefixCls,a=t===void 0?"rc-tree-select":t,c=e.value,u=e.defaultValue,r=e.onChange,l=e.onSelect,i=e.onDeselect,d=e.searchValue,v=e.inputValue,m=e.onSearch,f=e.autoClearSearchValue,p=f===void 0?!0:f,y=e.filterTreeNode,g=e.treeNodeFilterProp,b=g===void 0?"value":g,N=e.showCheckedStrategy,S=e.treeNodeLabelProp,x=e.multiple,w=e.treeCheckable,k=e.treeCheckStrictly,K=e.labelInValue,h=e.maxCount,D=e.fieldNames,R=e.treeDataSimpleMode,M=e.treeData,L=e.children,V=e.loadData,O=e.treeLoadedKeys,P=e.onTreeLoad,B=e.treeDefaultExpandAll,Q=e.treeExpandedKeys,G=e.treeDefaultExpandedKeys,ae=e.onTreeExpand,X=e.treeExpandAction,Ce=e.virtual,_e=e.listHeight,Re=_e===void 0?200:_e,he=e.listItemHeight,de=he===void 0?20:he,Ge=e.listItemScrollOffset,le=Ge===void 0?0:Ge,be=e.onDropdownVisibleChange,Ne=e.dropdownMatchSelectWidth,Se=Ne===void 0?!0:Ne,j=e.treeLine,T=e.treeIcon,$=e.showTreeIcon,F=e.switcherIcon,A=e.treeMotion,J=e.treeTitleRender,se=e.onPopupScroll,ce=Ct(e,Pi),ee=Oa(o),me=w&&!k,re=w||k,Me=k||K,Z=re||x,Ee=qt(u,{value:c}),Ae=ue(Ee,2),je=Ae[0],Oe=Ae[1],pe=s.useMemo(function(){return w?N||cn:Mn},[N,w]),te=s.useMemo(function(){return ii(D)},[JSON.stringify(D)]),z=qt("",{value:d!==void 0?d:v,postState:function(ge){return ge||""}}),I=ue(z,2),He=I[0],Ue=I[1],Ye=function(ge){Ue(ge),m?.(ge)},ke=vi(M,L,R),wt=si(ke,te),De=wt.keyEntities,Je=wt.valueEntities,ne=s.useCallback(function(xe){var ge=[],oe=[];return xe.forEach(function(Le){Je.has(Le)?oe.push(Le):ge.push(Le)}),{missingRawValues:ge,existRawValues:oe}},[Je]),fe=di(ke,He,{fieldNames:te,treeNodeFilterProp:b,filterTreeNode:y}),We=s.useCallback(function(xe){if(xe){if(S)return xe[S];for(var ge=te._title,oe=0;oe<ge.length;oe+=1){var Le=xe[ge[oe]];if(Le!==void 0)return Le}}},[te,S]),Te=s.useCallback(function(xe){var ge=oi(xe);return ge.map(function(oe){return _i(oe)?{value:oe}:oe})},[]),Be=s.useCallback(function(xe){var ge=Te(xe);return ge.map(function(oe){var Le=oe.label,gt=oe.value,$e=oe.halfChecked,Ve,Fe=Je.get(gt);if(Fe){var lt;Le=J?J(Fe.node):(lt=Le)!==null&&lt!==void 0?lt:We(Fe.node),Ve=Fe.node.disabled}else if(Le===void 0){var Et=Te(je).find(function(Lt){return Lt.value===gt});Le=Et.label}return{label:Le,value:gt,halfChecked:$e,disabled:Ve}})},[Je,We,Te,je]),et=s.useMemo(function(){return Te(je===null?[]:je)},[Te,je]),qe=s.useMemo(function(){var xe=[],ge=[];return et.forEach(function(oe){oe.halfChecked?ge.push(oe):xe.push(oe)}),[xe,ge]},[et]),st=ue(qe,2),ot=st[0],mt=st[1],ze=s.useMemo(function(){return ot.map(function(xe){return xe.value})},[ot]),Mt=ri(ot,mt,me,De),bt=ue(Mt,2),_=bt[0],U=bt[1],W=s.useMemo(function(){var xe=la(_,pe,De,te),ge=xe.map(function($e){var Ve,Fe;return(Ve=(Fe=De[$e])===null||Fe===void 0||(Fe=Fe.node)===null||Fe===void 0?void 0:Fe[te.value])!==null&&Ve!==void 0?Ve:$e}),oe=ge.map(function($e){var Ve=ot.find(function(lt){return lt.value===$e}),Fe=K?Ve?.label:J?.(Ve);return{value:$e,label:Fe}}),Le=Be(oe),gt=Le[0];return!Z&&gt&&qn(gt.value)&&qn(gt.label)?[]:Le.map(function($e){var Ve;return q(q({},$e),{},{label:(Ve=$e.label)!==null&&Ve!==void 0?Ve:$e.value})})},[te,Z,_,ot,Be,pe,De]),Y=ai(W),ye=ue(Y,1),Ke=ye[0],ct=s.useMemo(function(){return Z&&(pe==="SHOW_CHILD"||k||!w)?h:null},[h,Z,k,pe,w]),at=Xn(function(xe,ge,oe){var Le=la(xe,pe,De,te);if(!(ct&&Le.length>ct)){var gt=Be(xe);if(Oe(gt),p&&Ue(""),r){var $e=xe;me&&($e=Le.map(function(yt){var xt=Je.get(yt);return xt?xt.node[te.value]:yt}));var Ve=ge||{triggerValue:void 0,selected:void 0},Fe=Ve.triggerValue,lt=Ve.selected,Et=$e;if(k){var Lt=mt.filter(function(yt){return!$e.includes(yt.value)});Et=[].concat(Pe(Et),Pe(Lt))}var Rt=Be(Et),Dt={preValue:ot,triggerValue:Fe},Kt=!0;(k||oe==="selection"&&!lt)&&(Kt=!1),ui(Dt,Fe,xe,ke,Kt,te),re?Dt.checked=lt:Dt.selected=lt;var At=Me?Rt:Rt.map(function(yt){return yt.value});r(Z?At:At[0],Me?null:Rt.map(function(yt){return yt.label}),Dt)}}}),ut=s.useCallback(function(xe,ge){var oe,Le=ge.selected,gt=ge.source,$e=De[xe],Ve=$e?.node,Fe=(oe=Ve?.[te.value])!==null&&oe!==void 0?oe:xe;if(!Z)at([Fe],{selected:!0,triggerValue:Fe},"option");else{var lt=Le?[].concat(Pe(ze),[Fe]):_.filter(function(xt){return xt!==Fe});if(me){var Et=ne(lt),Lt=Et.missingRawValues,Rt=Et.existRawValues,Dt=Rt.map(function(xt){return Je.get(xt).key}),Kt;if(Le){var At=Bt(Dt,!0,De);Kt=At.checkedKeys}else{var yt=Bt(Dt,{halfCheckedKeys:U},De);Kt=yt.checkedKeys}lt=[].concat(Pe(Lt),Pe(Kt.map(function(xt){return De[xt].node[te.value]})))}at(lt,{selected:Le,triggerValue:Fe},gt||"option")}Le||!Z?l?.(Fe,En(Ve)):i?.(Fe,En(Ve))},[ne,Je,De,te,Z,ze,at,me,l,i,_,U,h]),Xe=s.useCallback(function(xe){if(be){var ge={};Object.defineProperty(ge,"documentClickClose",{get:function(){return ht(!1,"Second param of `onDropdownVisibleChange` has been removed."),!1}}),be(xe,ge)}},[be]),pt=Xn(function(xe,ge){var oe=xe.map(function(Le){return Le.value});if(ge.type==="clear"){at(oe,{},"selection");return}ge.values.length&&ut(ge.values[0].value,{selected:!1,source:"selection"})}),St=s.useMemo(function(){return{virtual:Ce,dropdownMatchSelectWidth:Se,listHeight:Re,listItemHeight:de,listItemScrollOffset:le,treeData:fe,fieldNames:te,onSelect:ut,treeExpandAction:X,treeTitleRender:J,onPopupScroll:se,leftMaxCount:h===void 0?null:h-Ke.length,leafCountOnly:pe==="SHOW_CHILD"&&!k&&!!w,valueEntities:Je}},[Ce,Se,Re,de,le,fe,te,ut,X,J,se,h,Ke.length,pe,k,w,Je]),kt=s.useMemo(function(){return{checkable:re,loadData:V,treeLoadedKeys:O,onTreeLoad:P,checkedKeys:_,halfCheckedKeys:U,treeDefaultExpandAll:B,treeExpandedKeys:Q,treeDefaultExpandedKeys:G,onTreeExpand:ae,treeIcon:T,treeMotion:A,showTreeIcon:$,switcherIcon:F,treeLine:j,treeNodeFilterProp:b,keyEntities:De}},[re,V,O,P,_,U,B,Q,G,ae,T,A,$,F,j,b,De]);return s.createElement(Va.Provider,{value:St},s.createElement(Aa.Provider,{value:kt},s.createElement(Da,Ze({ref:n},ce,{id:ee,prefixCls:a,mode:Z?"multiple":void 0,displayValues:Ke,onDisplayValuesChange:pt,searchValue:He,onSearch:Ye,OptionList:Ri,emptyOptions:!ke.length,onDropdownVisibleChange:Xe,dropdownMatchSelectWidth:Se}))))}),Qt=Li;Qt.TreeNode=Kn;Qt.SHOW_ALL=Mn;Qt.SHOW_PARENT=Rn;Qt.SHOW_CHILD=cn;const Ai=e=>{const{componentCls:n,treePrefixCls:o,colorBgElevated:t}=e,a=`.${o}`;return[{[`${n}-dropdown`]:[{padding:`${_n(e.paddingXS)} ${_n(e.calc(e.paddingXS).div(2).equal())}`},oo(o,sa(e,{colorBgContainer:t}),!1),{[a]:{borderRadius:0,[`${a}-list-holder-inner`]:{alignItems:"stretch",[`${a}-treenode`]:{[`${a}-node-content-wrapper`]:{flex:"auto"}}}}},Hr(`${o}-checkbox`,e),{"&-rtl":{direction:"rtl",[`${a}-switcher${a}-switcher_close`]:{[`${a}-switcher-icon svg`]:{transform:"rotate(90deg)"}}}}]}]};function ji(e,n,o){return or("TreeSelect",t=>{const a=sa(t,{treePrefixCls:n});return Ai(a)},ro)(e,o)}var $i=function(e,n){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)n.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(o[t[a]]=e[t[a]]);return o};const Vi=(e,n)=>{var o,t,a,c,u;const{prefixCls:r,size:l,disabled:i,bordered:d=!0,style:v,className:m,rootClassName:f,treeCheckable:p,multiple:y,listHeight:g=256,listItemHeight:b,placement:N,notFoundContent:S,switcherIcon:x,treeLine:w,getPopupContainer:k,popupClassName:K,dropdownClassName:h,treeIcon:D=!1,transitionName:R,choiceTransitionName:M="",status:L,treeExpandAction:V,builtinPlacements:O,dropdownMatchSelectWidth:P,popupMatchSelectWidth:B,allowClear:Q,variant:G,dropdownStyle:ae,dropdownRender:X,popupRender:Ce,onDropdownVisibleChange:_e,onOpenChange:Re,tagRender:he,maxCount:de,showCheckedStrategy:Ge,treeCheckStrictly:le,styles:be,classNames:Ne}=e,Se=$i(e,["prefixCls","size","disabled","bordered","style","className","rootClassName","treeCheckable","multiple","listHeight","listItemHeight","placement","notFoundContent","switcherIcon","treeLine","getPopupContainer","popupClassName","dropdownClassName","treeIcon","transitionName","choiceTransitionName","status","treeExpandAction","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","allowClear","variant","dropdownStyle","dropdownRender","popupRender","onDropdownVisibleChange","onOpenChange","tagRender","maxCount","showCheckedStrategy","treeCheckStrictly","styles","classNames"]),{getPopupContainer:j,getPrefixCls:T,renderEmpty:$,direction:F,virtual:A,popupMatchSelectWidth:J,popupOverflow:se}=s.useContext(ir),{styles:ce,classNames:ee}=lr("treeSelect"),[,me]=sr(),re=b??me?.controlHeightSM+me?.paddingXXS,Me=T(),Z=T("select",r),Ee=T("select-tree",r),Ae=T("tree-select",r),{compactSize:je,compactItemClassnames:Oe}=cr(Z,F),pe=Ln(Z),te=Ln(Ae),[z,I,He]=Xr(Z,pe),[Ue]=ji(Ae,Ee,te),[Ye,ke]=ur("treeSelect",G,d),wt=An(((o=Ne?.popup)===null||o===void 0?void 0:o.root)||((t=ee?.popup)===null||t===void 0?void 0:t.root)||K||h,`${Ae}-dropdown`,{[`${Ae}-dropdown-rtl`]:F==="rtl"},f,ee.root,Ne?.root,He,pe,te,I),De=((a=be?.popup)===null||a===void 0?void 0:a.root)||((c=ce?.popup)===null||c===void 0?void 0:c.root)||ae,Je=Jr(Ce||X),ne=Re||_e,fe=!!(p||y),We=s.useMemo(()=>{if(!(de&&(Ge==="SHOW_ALL"&&!le||Ge==="SHOW_PARENT")))return de},[de,Ge,le]),Te=Qr(e.suffixIcon,e.showArrow),Be=(u=B??P)!==null&&u!==void 0?u:J,{status:et,hasFeedback:qe,isFormItemInput:st,feedbackIcon:ot}=s.useContext(dr),mt=mr(et,L),{suffixIcon:ze,removeIcon:Mt,clearIcon:bt}=Zr(Object.assign(Object.assign({},Se),{multiple:fe,showSuffixIcon:Te,hasFeedback:qe,feedbackIcon:ot,prefixCls:Z,componentName:"TreeSelect"})),_=Q===!0?{clearIcon:bt}:Q;let U;S!==void 0?U=S:U=$?.("Select")||s.createElement(eo,{componentName:"Select"});const W=on(Se,["suffixIcon","removeIcon","clearIcon","itemIcon","switcherIcon","style"]),Y=s.useMemo(()=>N!==void 0?N:F==="rtl"?"bottomRight":"bottomLeft",[N,F]),ye=fr(St=>{var kt;return(kt=l??je)!==null&&kt!==void 0?kt:St}),Ke=s.useContext(vr),ct=i??Ke,at=An(!r&&Ae,{[`${Z}-lg`]:ye==="large",[`${Z}-sm`]:ye==="small",[`${Z}-rtl`]:F==="rtl",[`${Z}-${Ye}`]:ke,[`${Z}-in-form-item`]:st},gr(Z,mt,qe),Oe,m,f,ee.root,Ne?.root,He,pe,te,I),ut=St=>s.createElement(io,{prefixCls:Ee,switcherIcon:x,treeNodeProps:St,showLine:w}),[Xe]=hr("SelectLike",De?.zIndex),pt=s.createElement(Qt,Object.assign({virtual:A,disabled:ct},W,{dropdownMatchSelectWidth:Be,builtinPlacements:to(O,se),ref:n,prefixCls:Z,className:at,style:Object.assign(Object.assign({},be?.root),v),listHeight:g,listItemHeight:re,treeCheckable:p&&s.createElement("span",{className:`${Z}-tree-checkbox-inner`}),treeLine:!!w,suffixIcon:ze,multiple:fe,placement:Y,removeIcon:Mt,allowClear:_,switcherIcon:ut,showTreeIcon:D,notFoundContent:U,getPopupContainer:k||j,treeMotion:null,dropdownClassName:wt,dropdownStyle:Object.assign(Object.assign({},De),{zIndex:Xe}),dropdownRender:Je,onDropdownVisibleChange:ne,choiceTransitionName:jn(Me,"",M),transitionName:jn(Me,"slide-up",R),treeExpandAction:V,tagRender:fe?he:void 0,maxCount:We,showCheckedStrategy:Ge,treeCheckStrictly:le}));return z(Ue(pt))},Fi=s.forwardRef(Vi),_t=Fi,Hi=lo(_t,"dropdownAlign",e=>on(e,["visible"]));_t.TreeNode=Kn;_t.SHOW_ALL=Mn;_t.SHOW_PARENT=Rn;_t.SHOW_CHILD=cn;_t._InternalPanelDoNotUseOrYouWillBeFired=Hi;var Wi={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v224h704V96c0-17.7-14.3-32-32-32zM288 232c-22.1 0-40-17.9-40-40s17.9-40 40-40 40 17.9 40 40-17.9 40-40 40zM160 928c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V704H160v224zm128-136c22.1 0 40 17.9 40 40s-17.9 40-40 40-40-17.9-40-40 17.9-40 40-40zM160 640h704V384H160v256zm128-168c22.1 0 40 17.9 40 40s-17.9 40-40 40-40-17.9-40-40 17.9-40 40-40z"}}]},name:"database",theme:"filled"},Bi=function(n,o){return s.createElement(ca,Ze({},n,{ref:o,icon:Wi}))},Gi=s.forwardRef(Bi),zi={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880.1 154H143.9c-24.5 0-39.8 26.7-27.5 48L349 597.4V838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V597.4L907.7 202c12.2-21.3-3.1-48-27.6-48zM603.4 798H420.6V642h182.9v156zm9.6-236.6l-9.5 16.6h-183l-9.5-16.6L212.7 226h598.6L613 561.4z"}}]},name:"filter",theme:"outlined"},Ui=function(n,o){return s.createElement(ca,Ze({},n,{ref:o,icon:zi}))},Yi=s.forwardRef(Ui);function qi(){const{notification:e}=ua.useApp(),{currentUser:n}=pr(),[o,t]=s.useState(!1),[a,c]=s.useState({gameId:"",gameName:""}),u=Fr({mutationKey:["oldState",a.gameId],mutationFn:async({prevGameId:l,payload:i})=>{const v=(await yr.run({action:Cr.LOAD_GAME,gameId:l})).data;return await da.run({gameId:l,gameName:v?.gameName??"",playerId:n.id,action:fa.FORCE_STATE_PROPERTY,state:i})},onSuccess:async()=>{e.success({message:"Redirect successfully triggered"})},onError:l=>{console.error(l),e.error({message:"Failed to load previous game to continue the redirect",description:JSON.stringify(l.message)})}}),r=async(l,i,d)=>{if(o){e.error({message:"Redirect has failed to trigger"});return}c({gameId:i,gameName:d}),await u.mutateAsync({prevGameId:l,gameName:d,payload:{redirect:{redirectAt:Date.now(),gameId:i,gameName:d}}}),t(!0)};return{isSettingRedirect:u.isPending,startRedirect:r,wasRedirectSuccessful:u.isSuccess}}function Xi({options:e=[],disabled:n,onChangeOptions:o,selectedOptions:t}){return!e||e.length===0?C.jsx("div",{className:"create-game-modal-options create-game-modal-options__no-options",children:C.jsx(Ft.Text,{children:C.jsx(rt,{pt:"Este jogo não possui customizações",en:"This game does not support customizations"})})}):C.jsxs("div",{className:"create-game-modal-options",children:[C.jsx(Ft.Title,{level:5,className:"create-game-modal-options__title",children:C.jsx(rt,{pt:"Opções:",en:"Options:"})}),C.jsx("div",{className:"create-game-modal-options__list",children:(e??[]).map(a=>C.jsxs(Ft.Paragraph,{className:pn("create-game-modal-options__option",a.disabled&&"create-game-modal-options__option--disabled"),children:[C.jsxs("div",{className:"create-game-modal-options__label",children:[C.jsx("span",{children:a.label}),a.kind!=="switch"&&!!a.description&&C.jsx("div",{className:"create-game-modal-options__option-description",children:a.description})]}),a.kind==="switch"&&C.jsx(Ji,{option:a,disabled:n,onChangeOptions:o,selectedOptions:t}),a.kind==="radio"&&C.jsx(Qi,{option:a,disabled:n,onChangeOptions:o,selectedOptions:t}),a.kind==="checkbox"&&C.jsx(Zi,{option:a,disabled:n,onChangeOptions:o,selectedOptions:t}),a.kind==="switch"&&!!a.description&&C.jsx("span",{className:"create-game-modal-options__option-description",children:a.description})]},`option-${a.label}`))})]})}function Ji({option:e,disabled:n,onChangeOptions:o,selectedOptions:t}){return C.jsxs(C.Fragment,{children:[C.jsx("span",{className:pn("create-game-modal-options__off",!t[e.key]&&"create-game-modal-options--selected"),children:e?.values[0].label??""}),C.jsx(br,{disabled:n||e.disabled,onChange:a=>o(e.key,a)}),C.jsx("span",{className:pn("create-game-modal-options__on",t[e.key]&&"create-game-modal-options--selected"),children:e?.values[1].label??""})]})}function Qi({option:e,disabled:n,onChangeOptions:o}){return C.jsx(Fn.Group,{disabled:n||e.disabled,onChange:t=>o(e.key,t.target.value),defaultValue:e.values[0].value,className:"create-game-modal-options__selections",children:e.values.map(t=>C.jsx(Fn,{value:t.value,children:t.label},String(t.value)))})}function Zi({option:e,disabled:n,onChangeOptions:o}){return C.jsx(Wr.Group,{disabled:n||e.disabled,onChange:t=>o(e.key,t),className:"create-game-modal-options__selections",options:e.values})}const el=(e,n)=>{const o=Date.now(),t=o-1e3*60*60*24;return{...Object.entries(e??{}).reduce((c,[u,r])=>(r>t&&(c[u]=r),c),{}),[n]:o}},tl=e=>{const n=Object.entries(e).map(([c,u])=>({gameId:c,createdAt:u}));if(n.length<2)return null;const o=Xt.orderBy(n,"createdAt","desc"),t=2*60*60*1e3,a=Date.now();return o[1].createdAt-a>t?null:o[1].gameId},nl=e=>e?.reduce((n,o)=>(o.kind==="switch"&&(n[o.key]=!1),o.kind==="radio"&&(n[o.key]=o.values[0].value),o.kind==="checkbox"&&(n[o.key]=[]),n),{})??{};function al({gameInfo:e}){const[n,o]=s.useState(!1);return C.jsxs(C.Fragment,{children:[C.jsx(yn,{type:"primary",onClick:()=>o(!0),block:!0,disabled:!e.available,children:C.jsx(rt,{pt:"Criar",en:"Create"})}),n&&C.jsx(rl,{gameInfo:e,open:n,setOpen:o})]})}function rl({gameInfo:e,open:n,setOpen:o}){const{message:t,notification:a}=ua.useApp(),c=Sr(),{pathname:u}=xr(),[r,l]=zr(),{language:i,translate:d}=ln(),{setLoader:v}=wr(),[m,f]=s.useState(!1),[p,y]=s.useState(null),[,g]=zt("userId"),[,b]=zt("username"),[,N]=zt("userAvatarId"),[S,x]=s.useState(nl(e.options)),[w,k]=Er("latestGameIds"),K=tl(w),{startRedirect:h,isSettingRedirect:D,wasRedirectSuccessful:R}=qi();s.useEffect(()=>{r.value&&p&&t.info(`Copied to clipboard: ${r.value}`)},[r,p,t]);const M=(O,P)=>{x(B=>({...B,[O]:P}))},L=async()=>{try{v("create",!0),f(!0);const O=await da.run({action:fa.CREATE_GAME,gameName:e.gameName,language:i,options:S,version:e.version});if(O.data.gameId){y(O.data.gameId),g(null),b(""),N(""),k(el(w,O.data.gameId));const P=window.location.href.split(u)[0];l(`${P}/${O.data.gameId}`)}}catch(O){a.error({message:d("Aplicativo encontrou um erro ao tentar criar o jogo","The application found an error while trying to create a game",i),description:JSON.stringify(O.message),placement:"bottomLeft"}),console.error(O),o(!1)}finally{f(!1),v("create",!1)}},V=async()=>{p?c(`/${p}`):t.info(d("Péra! O jogo ainda não foi inicializado.","Wait! The game has not been created"))};return C.jsxs(Ur,{title:`${d("Criando novo jogo","Creating new game")}: ${e.title[i]}`,open:n,onCancel:()=>o(!1),onOk:V,okButtonProps:{disabled:!p||D},maskClosable:!1,children:[C.jsx(pa,{title:e.title,gameName:e.gameName,className:"round-corners",width:256,static:!0}),!p&&C.jsxs(dn,{children:[C.jsx(rt,{pt:"Você está criando um jogo em:",en:"You are creating a game in:"})," ",C.jsx(va,{})]}),C.jsx(Xi,{options:e.options,disabled:m||!!p,onChangeOptions:M,selectedOptions:S}),C.jsx(nn,{}),m&&C.jsxs(C.Fragment,{children:[C.jsx(dn,{children:C.jsx(rt,{pt:"O jogo está sendo criado...",en:"The game session is being created"})}),C.jsx(Br,{message:d("Gerando...","Generating..."),margin:!0})]}),e.version.startsWith("alpha")&&C.jsx(tn,{type:"warning",showIcon:!0,message:C.jsx(rt,{pt:"Este jogo está em alpha, não o jogue",en:"This game is still in alpha and shouldn't be played"})}),e.version.startsWith("beta")&&C.jsx(tn,{type:"warning",showIcon:!0,message:C.jsx(rt,{pt:"Este jogo está em beta, prossiga com cuidado",en:"This game is in beta and bugs might be everywhere"})}),p?C.jsxs("div",{children:[C.jsxs(Nr,{className:"center",children:[C.jsx(rt,{pt:"Jogo inicializado",en:"Game Initialized"}),": ",p]}),C.jsxs(dn,{children:[K&&!R&&C.jsx(tn,{type:"info",showIcon:!0,message:C.jsxs(C.Fragment,{children:[C.jsx(rt,{pt:C.jsxs(C.Fragment,{children:["Você quer redirecionar jogadores em ",K," para essa nova partida?"]}),en:C.jsxs(C.Fragment,{children:["Redirect players in ",K," to this new play?"]})}),C.jsx(yn,{size:"large",onClick:()=>{h(K??"",p??"",e.gameName)},disabled:!p||!K,loading:D,children:C.jsx(rt,{pt:"Redirecione-os",en:"Redirect them"})})]})}),R&&C.jsx(tn,{type:"info",showIcon:!0,message:C.jsx(rt,{pt:C.jsxs(C.Fragment,{children:["Jogadores em ",K," foram convidados para o jogo ",p]}),en:C.jsxs(C.Fragment,{children:["Players in ",K," have been invited to ",p]})})})]})]}):C.jsx(kr,{align:"center",children:C.jsx(yn,{type:"primary",size:"large",disabled:m,onClick:L,children:C.jsx(rt,{pt:"Criar Jogo",en:"Create Game"})})})]})}const ol=e=>{if(e.includes("dev"))return"#6cb3f6";if(e.includes("alpha"))return"#F97659";if(e.includes("beta"))return"#F9D859";const n=Number(e.split(".")[0]);return Number.isNaN(n)?"#96A0A3":n===0?"#F9D859":n===1?"#72D984":n===2||n>=3?"#7CBD51":"#96A0A3"};function il({game:e,isAdmin:n=!0}){const{language:o,translate:t}=ln(),a=ga(e);return C.jsxs(Vt,{className:"game-card",cover:C.jsx(qr.Ribbon,{text:e.version,color:ol(e.version),children:C.jsxs("div",{className:"game-card__image",children:[C.jsx(pa,{gameName:e.gameName,width:256,title:e.title}),C.jsxs("span",{className:"game-card__title",title:e.title[o],children:[C.jsx("span",{className:"game-card__title-text",children:e.title[o]})," ",C.jsx("span",{children:C.jsx(Dr,{title:t("Código do jogo começará com","The game id will start with"),children:C.jsx(Yr,{children:e.gameCode})})})]})]})}),children:[C.jsx("div",{className:"game-card__contents",children:C.jsxs(Cn,{direction:"vertical",className:"full-width",children:[C.jsx(Vt.Meta,{description:`${t("Baseado em","Based on")} ${e.basedOn.split("").reverse().join("")}`}),C.jsx(Vt.Meta,{className:"game-card__description",description:e.summary[o]}),e.rules?.[o]?.length>1&&C.jsx($r,{gameInfo:e,buttonProps:{size:"small",className:"game-card__margin-bottom"}}),C.jsx(Vr,{wrap:!0,size:[1,6],style:{display:"flex"},gameCode:e.gameCode,tags:e.tags})]})}),C.jsxs("div",{className:"game-card__actions",children:[e.duration&&C.jsx(Vt.Meta,{description:C.jsxs(C.Fragment,{children:[C.jsx(Ar,{})," ",a.min," min - ",a.max," min (Avg: ",a.ideal," min)"]})}),C.jsx(nn,{className:"game-card__divider"}),C.jsxs(Cn,{direction:"vertical",children:[C.jsx(Vt.Meta,{description:t(`Para ${e.playerCount.min}-${e.playerCount.max} jogadores`,`For ${e.playerCount.min}-${e.playerCount.max} players`)}),C.jsx(Vt.Meta,{className:"game-card__player-count",description:t(`Melhor com ${e.playerCount.best||"?"} jogadores`,`Best wih ${e.playerCount.best||"?"} players`)}),C.jsx(Vt.Meta,{className:"game-card__player-count game-card__margin-bottom",description:t(`Recomendado jogar com ${$n(e.playerCount.recommended)}`,`Recommended with ${$n(e.playerCount.recommended)}`)})]}),n&&C.jsx("div",{style:{marginTop:"1rem"},children:["dev","beta","stable"].includes(e.release)&&C.jsx(al,{gameInfo:e})})]})]},e.gameName)}function ll(){Gr();const[e,n]=s.useState(!1);return zt("usingFirestoreEmulator"),zt("usingFunctionsEmulator"),Kr(()=>{}),null}const{SHOW_PARENT:sl}=_t;function cl({availabilityCount:e,setTagFilters:n,setNumberFilters:o}){const t=(u,r)=>{o(l=>({...l,[u]:r}))},a=u=>{t("recommendedWith",+(u==="recommended")),t("bestWith",+(u==="best"))},c=[{label:"Playing with",value:""},{label:"Recommended with",value:"recommended"},{label:"Best with",value:"best"}];return C.jsxs(Cn,{className:"hub-filters",wrap:!0,size:"middle",children:[C.jsxs("span",{children:[C.jsx(Yi,{})," (",e,")"]}),C.jsx(no,{defaultValue:"",style:{minWidth:"20ch"},size:"small",onChange:a,options:c}),C.jsxs("div",{className:"hub-filters__entry",children:[C.jsx("label",{htmlFor:"players-input",children:"Players"}),C.jsx(Hn,{min:2,max:12,size:"small",className:"hub-filters__input-number",onChange:u=>t("players",u??0)})]}),C.jsxs("div",{className:"hub-filters__entry",children:[C.jsx("label",{htmlFor:"duration",children:"Duration"}),C.jsx(Hn,{min:15,step:15,size:"small",className:"hub-filters__input-number",onChange:u=>t("duration",u??0)})]}),C.jsxs("div",{className:"hub-filters__entry",children:[C.jsx("label",{htmlFor:"tags",children:"Tags"}),C.jsx(ul,{value:void 0,onTreeSelectChange:n})]})]})}function ul({value:e,onTreeSelectChange:n}){const{dualTranslate:o}=ln(),t=c=>{n(c)},a=s.useMemo(()=>Object.values(Object.keys(Vn).reduce((c,u)=>{const r=Vn[u];return c[r.group]===void 0&&(c[r.group]={title:Xt.capitalize(r.group),value:r.group,children:[]}),c[r.group].children.push({title:Xt.capitalize(o(r.label)),value:`${r.group}${ha}${u}`}),c},{})),[o]);return C.jsx(_t,{treeData:a,value:e,onChange:t,treeCheckable:!0,showCheckedStrategy:sl,placeholder:"Select Game Tags",size:"small",style:{width:"100%",minWidth:"400px"}})}Xt.orderBy(Object.entries(Object.values(ma).reduce((e,n)=>(e[n.gameCode]===void 0&&(e[n.gameCode]=0),e[n.gameCode]++,e),{})).map(([e,n])=>`${e}: ${n}`));function jl(){Ir("Hub - Tarde Divertida");const{language:e}=ln(),[n,o]=s.useState([]),[t,a]=s.useState({}),c=s.useMemo(()=>Object.values(ma).filter(i=>{const d=[];if(t.players&&(d.push(i.playerCount.min<=t.players&&i.playerCount.max>=t.players),t.bestWith&&d.push(t.players===i.playerCount.best),t.recommendedWith&&d.push(i.playerCount.recommended.includes(t.players))),n.forEach(v=>{const[m,f]=v.split(ha);(m&&f&&Or?.[m]==="exclusive"||f)&&d.push(i.tags.includes(f))}),t.duration){const v=ga(i,t.players??0);t.players?d.push(t.duration>=v.customTime-10&&t.duration<=v.customTime+10):d.push(t.duration>=v.min&&t.duration<=v.max)}return d.every(Boolean)}),[n,t]),{availableGames:u,comingSoonGames:r,devGames:l}=s.useMemo(()=>Xt.orderBy(c,[`title.[${e}]`],["asc"]).reduce((d,v)=>(["stable"].includes(v.release)?d.availableGames.push(v):["dev","beta"].includes(v.release)?d.devGames.push(v):d.comingSoonGames.push(v),d),{availableGames:[],devGames:[],comingSoonGames:[]}),[c,e]);return C.jsxs(Tr,{className:"dev-layout",children:[C.jsx(Lr,{title:C.jsxs(C.Fragment,{children:[C.jsx(Gi,{})," Hub"]}),subTitle:C.jsx(rt,{pt:"Selecione um jogo para começar",en:"Select a game to start"}),extra:[C.jsx(va,{},"language-switch"),C.jsx(jr,{danger:!0,ghost:!0,size:"small"},"logout-button")]}),C.jsx(ll,{}),C.jsx(cl,{setTagFilters:o,setNumberFilters:a,availabilityCount:u.length}),C.jsxs(Mr.Content,{className:"container",id:"main-container",children:[Rr,C.jsx(Ft.Title,{level:2,children:C.jsx(rt,{pt:"Disponíveis",en:"Available"})}),C.jsx(hn,{games:u}),C.jsx(nn,{}),C.jsxs(C.Fragment,{children:[C.jsx(Ft.Title,{level:2,children:C.jsx(rt,{pt:"Em Desenvolvimento",en:"Under Development"})}),C.jsx(hn,{games:l}),C.jsx(nn,{})]}),C.jsx(Ft.Title,{level:2,children:C.jsx(rt,{pt:"Em Breve",en:"Coming Soon"})}),C.jsx(hn,{games:r})]})]})}function hn({games:e}){return e.length===0?C.jsx(Ft.Text,{type:"secondary",children:C.jsx(rt,{pt:"Nenhum jogo encontrado nessa categoria",en:"No games found in this category"})}):C.jsx(Pr,{gutter:[8,16],children:e.map(n=>C.jsx(_r,{xs:24,sm:12,md:8,lg:8,xl:6,xxl:4,children:C.jsx(il,{game:n,isAdmin:["dev","beta","stable"].includes(n.release)})},n.gameName))})}export{jl as default};
