import{f as _,j as e,T as n,au as h,B as O,bZ as W,s as P,v as b,ar as L,aF as N}from"./index-CfSbxWoP.js";import{u as v,S as j,a as g,P as E,c as A,d as D,e as x}from"./Session-DY5hU94l.js";import{P as S}from"./PhasePlaceholder-DZcrrIO3.js";import{V as U}from"./VerifyListIcon-ChINJGW4.js";import{S as R,P as f,a as T}from"./StepSwitcher-BUVvKwLP.js";import{u as B}from"./useBooleanDictionary-Cwk3RwzE.js";import{u as M}from"./useMock-CgYOFQ3h.js";import{C as k}from"./Card-Bpb9d8_F.js";import{R as w}from"./RuleInstruction-gVzmhZ9S.js";import{B as y}from"./Popconfirm-CVSoQnDY.js";import{T as F}from"./TDIcon-B4OtHbwN.js";import{I}from"./useDevFeatures-DjpFU40c.js";import{T as G}from"./TitledContainer-CMDMTjHW.js";import"./Game-Doz7jKej.js";import"./useMutation-DryLbJeT.js";import"./speech-CgST6phT.js";import"./index-1y15a5oc.js";import"./index-BHqUESK3.js";import"./extends-CF3RwP-h.js";import"./PurePanel-DrTwEAXp.js";import"./RulesModal-CVPtF7Jv.js";import"./WritingIcon-UzrPmSfl.js";import"./useToggle-DxrFnluL.js";import"./useId-DY3hbDkh.js";import"./PlayerAvatar-CzbiVIAS.js";import"./DebugOnly-DGYaE0Bc.js";import"./useTDBaseUrl-BF9foKiS.js";import"./index-CSL0ZBKc.js";import"./index-DqQ3EkZZ.js";import"./index-Bh6XWNwN.js";import"./SignIn-C5qAezIl.js";import"./GoogleIcon-BOKys3WV.js";import"./AnimatedGearIcon-CjAnlxOV.js";import"./AnimatedClockIcon-BEhw23ya.js";import"./TimedButton-Boa_cMcb.js";import"./Loading-23EIwyNA.js";import"./AnimatedLoaderIcon-DrFL7NhJ.js";import"./WaitingRoomIcon-m7TA5KVV.js";import"./LikeFilled-B6_rP9kP.js";import"./StarFilled-B9VitC0j.js";const u={WORDS_SELECTION:"WORDS_SELECTION",CLUE_WRITING:"CLUE_WRITING"},$={SUBMIT_WORDS:"SUBMIT_WORDS"};function Q(r){const{translate:t}=_(),s=v({actionName:"submit-words",onBeforeCall:()=>r(2),onError:()=>r(0),successMessage:t("Palavras enviadas com sucesso","Words submitted successfully"),errorMessage:t("Vixi, o aplicativo encontrou um erro ao tentar enviar suas palavras","Oops, the application failed to send your words")});return o=>{s({action:$.SUBMIT_WORDS,...o})}}function H({pool:r,onSubmitWords:t,user:s,announcement:o}){const{updateDict:a,length:c,keys:d,setDict:p}=B({});M();const l=()=>{p(b.sampleSize(r,10).reduce((i,m)=>(i[m.id]=!0,i),{}))};return e.jsxs(R,{fullWidth:!0,announcement:o,children:[e.jsx(j,{children:e.jsx(n,{pt:"Quais cartas deveriam estar no jogo?",en:"What cards should be in the game?"})}),e.jsx(w,{type:"action",children:e.jsx(n,{pt:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Selecione"})," pelo menos 10 cartas para estar no jogo.",e.jsx("br",{}),"Quanto mais melhor!"]}),en:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Select"})," at least 10 cards to be in the game.",e.jsx("br",{}),"The more the merrier!"]})})}),e.jsxs(h,{children:[e.jsx(O,{onClick:l,size:"large",children:e.jsx(n,{pt:"Selecione pra mim",en:"Select for me"})}),e.jsx(y,{count:c,children:e.jsx(W,{onClick:()=>t({selectedWordsIds:d}),size:"large",disabled:c<10||s.ready,children:e.jsx(n,{pt:"Enviar cartas",en:"Submit cards"})})})]}),e.jsx(h,{className:"max-width",wrap:!0,children:r.map(i=>e.jsx(P,{onClick:()=>a(i.id),active:d.includes(i.id),children:e.jsx(k,{hideHeader:!0,children:i.text})},i.id))})]})}function q({players:r,state:t,user:s}){const{step:o,setStep:a}=g(0),c=Q(a),d=e.jsx(f,{icon:e.jsx(U,{}),title:e.jsx(n,{pt:"Palavras da Rodada",en:"Round Words"}),currentRound:t?.round?.current,type:"overlay"});return e.jsx(E,{phase:t?.phase,allowedPhase:u.WORDS_SELECTION,children:e.jsx(T,{step:o,players:r,children:e.jsx(H,{pool:t.pool,onSubmitWords:c,user:s,announcement:d})})})}const V="/tardedivertida/assets/colegas-de-quarto-sprite-DvU4tRiZ.png";function Z({index:r,setId:t,size:s=100}){const c=r%5,d=Math.floor(r/5),p=(t-1)*3+d,l=-(c*s),i=-(p*s),m=5*s,C=9*s;return e.jsx("div",{style:{width:`${s}px`,height:`${s}px`,backgroundImage:`url(${V})`,backgroundSize:`${m}px ${C}px`,backgroundPosition:`${l}px ${i}px`,backgroundRepeat:"no-repeat"}})}function K({board:r,round:t}){return e.jsx(G,{title:e.jsx(n,{pt:"Loja de Coisas",en:"Thing Store"}),children:e.jsx("div",{className:"store-board",children:r.map((s,o)=>e.jsxs("div",{className:`
            store-board__item`,children:[e.jsx(Z,{index:o,setId:t.current}),e.jsx("div",{className:"store-board__item-text",children:s.text})]},s.id))})})}function X({announcement:r,board:t,happiness:s,user:o,players:a,round:c}){const{isLoading:d}=L();return a[o.id]?.assignedPairs,e.jsxs(R,{fullWidth:!0,announcement:r,children:[e.jsx(j,{children:e.jsx(n,{pt:e.jsx(e.Fragment,{children:"?"}),en:e.jsx(e.Fragment,{children:"?"})})}),d,e.jsx(I,{contained:!0,children:e.jsx(n,{pt:e.jsx(e.Fragment,{children:"?"}),en:e.jsx(e.Fragment,{children:"?"})})}),e.jsx(K,{board:t,round:c})]})}function Y({players:r,state:t,user:s}){const{step:o}=g(),a=e.jsx(f,{icon:e.jsx(F,{}),title:e.jsx(n,{pt:"?",en:"?"}),currentRound:t?.round?.current,type:"overlay",children:e.jsx(I,{children:e.jsx(n,{pt:e.jsx(e.Fragment,{children:"?"}),en:e.jsx(e.Fragment,{children:"?"})})})});return e.jsx(E,{phase:t?.phase,allowedPhase:u.CLUE_WRITING,children:e.jsx(T,{step:o,players:r,children:e.jsx(X,{user:s,players:r,announcement:a,board:t.board,happiness:t.happiness,round:t.round})})})}function J(r){switch(r.phase){case u.WORDS_SELECTION:return q;case u.CLUE_WRITING:return Y;case x.TEMPLATE.UNKNOWN:return S;case x.DEFAULT.GAME_OVER:return S;default:return D}}function we(){return e.jsx(A,{gameCollection:N.COLEGAS_DE_QUARTO,getActiveComponent:J})}export{we as default};
