import{r as m,bU as E}from"./index-BsUUSH7n.js";import{u as x}from"./useSetState-PsGV4Sce.js";function S(){var r=m.useRef(!1),o=m.useCallback(function(){return r.current},[]);return m.useEffect(function(){return r.current=!0,function(){r.current=!1}},[]),o}var v,C;function T(){return C||(C=1,v=function(){var r=document.getSelection();if(!r.rangeCount)return function(){};for(var o=document.activeElement,i=[],c=0;c<r.rangeCount;c++)i.push(r.getRangeAt(c));switch(o.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":o.blur();break;default:o=null;break}return r.removeAllRanges(),function(){r.type==="Caret"&&r.removeAllRanges(),r.rangeCount||i.forEach(function(f){r.addRange(f)}),o&&o.focus()}}),v}var b,w;function R(){if(w)return b;w=1;var r=T(),o={"text/plain":"Text","text/html":"Url",default:"Text"},i="Copy to clipboard: #{key}, Enter";function c(a){var e=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C";return a.replace(/#{\s*key\s*}/g,e)}function f(a,e){var n,u,d,p,s,t,y=!1;e||(e={}),n=e.debug||!1;try{d=r(),p=document.createRange(),s=document.getSelection(),t=document.createElement("span"),t.textContent=a,t.style.all="unset",t.style.position="fixed",t.style.top=0,t.style.clip="rect(0, 0, 0, 0)",t.style.whiteSpace="pre",t.style.webkitUserSelect="text",t.style.MozUserSelect="text",t.style.msUserSelect="text",t.style.userSelect="text",t.addEventListener("copy",function(l){if(l.stopPropagation(),e.format)if(l.preventDefault(),typeof l.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var g=o[e.format]||o.default;window.clipboardData.setData(g,a)}else l.clipboardData.clearData(),l.clipboardData.setData(e.format,a);e.onCopy&&(l.preventDefault(),e.onCopy(l.clipboardData))}),document.body.appendChild(t),p.selectNodeContents(t),s.addRange(p);var D=document.execCommand("copy");if(!D)throw new Error("copy command was unsuccessful");y=!0}catch(l){n&&console.error("unable to copy using execCommand: ",l),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",a),e.onCopy&&e.onCopy(window.clipboardData),y=!0}catch(g){n&&console.error("unable to copy using clipboardData: ",g),n&&console.error("falling back to prompt"),u=c("message"in e?e.message:i),window.prompt(u,a)}}finally{s&&(typeof s.removeRange=="function"?s.removeRange(p):s.removeAllRanges()),t&&document.body.removeChild(t),d()}return y}return b=f,b}var h=R();const U=E(h);var A=function(){var r=S(),o=x({value:void 0,error:void 0,noUserInteraction:!0}),i=o[0],c=o[1],f=m.useCallback(function(a){if(r()){var e,n;try{if(typeof a!="string"&&typeof a!="number"){var u=new Error("Cannot copy typeof "+typeof a+" to clipboard, must be a string");c({value:a,error:u,noUserInteraction:!0});return}else if(a===""){var u=new Error("Cannot copy empty string to clipboard.");c({value:a,error:u,noUserInteraction:!0});return}n=a.toString(),e=U(n),c({value:n,error:void 0,noUserInteraction:e})}catch(d){c({value:n,error:d,noUserInteraction:e})}}},[]);return[i,f]};export{A as u};
