import{f as U,j as e,c as I,D as oe,F as g,B as q,T as n,s as ie,bi as Y,r as O,v as ce,av as G,I as Z,b_ as de,bs as le,ar as J,au as S,Q as ue,bZ as V,aF as he}from"./index-Dq-8BJP3.js";import{u as D,R as me,S as C,a as N,P,f as X,c as pe,d as je,e as xe}from"./Session-B40FI90t.js";import{u as B}from"./useWhichPlayerIsThe-DW7gYkoY.js";import{W as ge}from"./WriteIdeaIcon-DFkQ8Uvl.js";import{P as y}from"./PlayerAvatarName-AXIzenS7.js";import{S as T,P as _,a as F}from"./StepSwitcher-BgMHyCFu.js";import{I as R}from"./useDevFeatures-PugzPHkc.js";import{V as ye}from"./ViewOr-Bx1kDirb.js";import{u as L}from"./useMock-CBfqE0mN.js";import{B as z,P as ee}from"./Popconfirm-D0mTG0ml.js";import{R as f}from"./RuleInstruction-DLgoKBS-.js";import{u as fe}from"./useTDBaseUrl-BF9foKiS.js";import{a as ve}from"./ItemCard-BUCv5H7S.js";import{M as se}from"./MysteryBoxIcon-DcEbO26z.js";import{M as Se}from"./MetricHighlight-SkXAr3Aj.js";import{H as be}from"./HandOfCardsIcon-C1E6W3BT.js";import{P as ae}from"./PlayerAvatar-C8OyiqsS.js";import{R as re}from"./RedoOutlined-0mq45CKf.js";import{C as W}from"./Card-Ctq6qA4N.js";import{P as j}from"./PointsHighlight-Db3bSsQe.js";import{F as Ie}from"./FeedbackIcon-DwnwsuAh.js";import{S as te}from"./index-DyMFGNsK.js";import{R as Ce}from"./RankIcon-C_EXIXPn.js";import{S as Te}from"./SpeechBubbleAcceptedIcon-DrwZqoCw.js";import{S as Ae}from"./SpeechBubbleDeclinedIcon-D_gCsVid.js";import{T as Ee}from"./TimedButton-CEMoL4uX.js";import{R as Oe}from"./TrophyOutlined-DPTjKiCM.js";import{S as Re}from"./StepRankingWrapper-DQFed1dg.js";import{S as we}from"./SkipIcon-1CLzlBf-.js";import{C as Ne}from"./CrownIcon-Dkha2EPc.js";import"./RulesModal-CxP5uQtU.js";import{G as Pe}from"./GameOverWrapper-CH52cKaA.js";import{A as _e}from"./Achievements-ZPoApvuQ.js";import{T as Fe}from"./TitledContainer-CTjntLQl.js";import{a as ke}from"./achievements-BizvuSNc.js";import"./Game-BC9W7VTL.js";import"./useMutation-CURygG-N.js";import"./FixedMenuButton-DmF9Auad.js";import"./index-Dqs42mJ0.js";import"./index-Dqvcpk0E.js";import"./extends-CF3RwP-h.js";import"./PurePanel-C1ER4F49.js";import"./useToggle-BUNyAyH0.js";import"./useId-BvBTPHfS.js";import"./speech-DJ-vj-cN.js";import"./index-H-Mz91i6.js";import"./index-Bxm0NY2A.js";import"./index-DAnpDysA.js";import"./SignIn-DRUlZnFi.js";import"./GoogleIcon-8k3388Lc.js";import"./AnimatedGearIcon-DOtnuirV.js";import"./AnimatedClockIcon-BRRx8MEC.js";import"./Loading-DfHBlKeA.js";import"./AnimatedLoaderIcon-YZmxFFPr.js";import"./WaitingRoomIcon-SrgD1WnR.js";import"./LikeFilled-BqVrOhj0.js";import"./StarFilled-B0jVilN2.js";import"./Sprite-BBMNsb0s.js";import"./WarningOutlined-DEG5suV1.js";import"./StarIcon-CSnZ0x_U.js";import"./RankingBoard-ByGgsib4.js";import"./CaretUpOutlined-B0tzPAZT.js";import"./WritingIcon-BLkiGI5i.js";import"./TheEndIcon-CtbDJh3e.js";import"./index-CRqBcl7T.js";import"./progress-CcsqHVAd.js";import"./Medal-P7ERqgSb.js";const x={CATEGORY_CREATION:"CATEGORY_CREATION",SKIP_ANNOUNCEMENT:"SKIP_ANNOUNCEMENT",CARD_PLAY:"CARD_PLAY",VERIFICATION:"VERIFICATION",RESULTS:"RESULTS"},M={SUBMIT_CATEGORY:"SUBMIT_CATEGORY",SKIP_TURN:"SKIP_TURN",SUBMIT_CARDS:"SUBMIT_CARDS",SUBMIT_EVALUATIONS:"SUBMIT_EVALUATIONS"},H=2,Q=3,$=1,K=-1;function Ue(a){const{translate:s}=U(),r=D({actionName:"submit-category",onSuccess:()=>a(2),onError:()=>a(0),successMessage:s("Categoria submetida com sucesso","Category submitted successfully"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar enviar sua categoria","Oops, the application found an error while trying to submit your category")});return t=>{r({action:M.SUBMIT_CATEGORY,...t})}}function qe(){const{translate:a}=U(),s=D({actionName:"skip-turn",successMessage:a("Vez pulada com sucesso","Turn skipped successfully"),errorMessage:a("Vixi, o aplicativo encontrou um erro ao tentar pular sua vez","Oops, the application found an error while trying to skip your turn")});return()=>{s({action:M.SKIP_TURN})}}function De(a){const{translate:s}=U(),r=D({actionName:"submit-cards",onSuccess:()=>a(2),onError:()=>a(0),successMessage:s("Cartas submetidas com sucesso","Cards submitted successfully"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar enviar suas cartas","Oops, the application found an error while trying to submit your cards")});return t=>{r({action:M.SUBMIT_CARDS,...t})}}function Be(a){const{translate:s}=U(),r=D({actionName:"submit-evaluations",onSuccess:()=>a(2),onError:()=>a(0),successMessage:s("Avalia√ß√µes submetidas com sucesso","Evaluations submitted successfully"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar enviar suas avalia√ß√µes","Oops, the application found an error while trying to submit your evaluations")});return t=>{r({action:M.SUBMIT_EVALUATIONS,...t})}}function w({itemId:a,name:s,width:r,maskImage:t}){const i=Number.parseInt(a.replace("item-",""),10)%10,c=`${fe("images")}/square-background.jpg`;return e.jsxs("div",{className:I("thing-card",`thing-card--color-${i}`),style:{minWidth:r,maxWidth:r*1.25,height:r*1.25},children:[e.jsx("div",{className:"thing-card__background",style:{backgroundImage:`url(${c})`}}),e.jsx(ve,{itemId:a,width:r/2,className:I("thing-card__image",{"thing-card__image--masked":t})}),e.jsx("div",{className:"thing-card__name",children:e.jsx(oe,{children:s})})]})}function b({children:a}){return e.jsx(Se,{icon:e.jsx(se,{}),children:a})}function k({hand:a,cardsDict:s,onSelectItem:r,selectedItemsIds:t=[],hideCount:i=!1}){return e.jsxs(g,{vertical:!0,align:"center",children:[e.jsx(g,{wrap:"wrap",gap:12,justify:"center",className:"contained",children:a.map(o=>e.jsxs(g,{orientation:"vertical",gap:4,align:"center",children:[r&&e.jsx("div",{style:{textAlign:"center"},children:e.jsx(q,{size:"small",shape:"round",onClick:()=>r?.(o),children:t.includes(o)?e.jsx(n,{pt:"Desmarcar",en:"Deselect"}):e.jsx(n,{pt:"Usar",en:"Use"})})}),r?e.jsx(ie,{onClick:()=>r?.(o),children:e.jsx(z,{count:t.indexOf(o)+1,offset:[0,0],children:e.jsx(w,{itemId:o,name:s[o].name,width:100})})}):e.jsx(z,{count:t.indexOf(o)+1,offset:[0,0],children:e.jsx(w,{itemId:o,name:s[o].name,width:100})})]},o))}),!i&&e.jsx(f,{type:"tip",children:e.jsx(n,{pt:e.jsxs(e.Fragment,{children:["Voc√™ ainda tem ",e.jsx(b,{children:a.length})," ",Y(a.length,"coisa")," na m√£o."]}),en:e.jsxs(e.Fragment,{children:["You still have ",e.jsx(b,{children:a.length})," ",Y(a.length,"thing")," in your hand."]})})})]})}function Me({players:a,turnOrder:s,sortBy:r="turn-order",countGetter:t,size:i,title:o,className:c,icon:u,...h}){const p=O.useMemo(()=>Object.values(a).reduce((d,l)=>{const v=t(l);return d[l.id]=v,d},{}),[a]),m=ce.orderBy(Object.values(a),[d=>{switch(r){case"name":return d.name.toLowerCase();case"count":return-p[d.id];case"turn-order":return s.indexOf(d.id);default:return s.indexOf(d.id)}},"name"],["asc"]);return e.jsx("div",{className:I("player-counts",c),...h,children:e.jsxs("ol",{className:"player-counts__players",children:[o&&e.jsx("div",{className:"player-counts__title",children:e.jsx(G,{title:o,children:e.jsx(Z,{size:i,icon:u??e.jsx(me,{style:{color:"black"}})})})}),m.map(d=>e.jsx("span",{className:I("player-counts__player"),style:{backgroundColor:de(d.avatarId)},children:e.jsxs(G,{title:d.name,children:[e.jsx(ae,{avatarId:d.avatarId,size:i})," ",e.jsx(le,{size:i,children:p[d.id]})]})},`player-counts-player-${d.id}`))]})})}function A({players:a,turnOrder:s}){return e.jsx(Me,{players:a,turnOrder:s,countGetter:r=>r.hand.length,title:e.jsx(n,{pt:"Cartas na m√£o",en:"Cards in hand"}),icon:e.jsx(be,{}),size:"large"})}function ze({players:a,announcement:s,user:r,cardsDict:t,onSubmitCategory:i,onSkipTurn:o,turnOrder:c}){const{isLoading:u}=J(),[h,p]=O.useState("");return L(),e.jsxs(T,{fullWidth:!0,announcement:s,children:[e.jsx(C,{children:e.jsx(n,{pt:e.jsx(e.Fragment,{children:"Qual o quesito?"}),en:e.jsx(e.Fragment,{children:"What is the category?"})})}),e.jsx(f,{type:"action",children:e.jsx(n,{pt:e.jsxs(e.Fragment,{children:["Escreva a categoria que conecte ",e.jsx("strong",{children:"pelo menos 2 de suas coisas."}),e.jsx("br",{}),"Tente ser bem espec√≠fico para que outros jogadores n√£o consigam adicionar coisas facilmente √† sua categoria!",e.jsx("br",{}),'‚Ä¢ A categoria n√£o pode ser "meta", do tipo "coisas que os outros jogadores n√£o tem", "coisas que comi ontem", etc.',e.jsx("br",{}),"‚Ä¢ Tamb√©m tem que ser relacionada ao significado da coisa, n√£o √† imagem dela"," ",e.jsx("em",{children:"(durante a vota√ß√£o, apenas o nome da coisa ser√° mostrado)"}),"."]}),en:e.jsxs(e.Fragment,{children:["Write a category that matches ",e.jsx("strong",{children:"at least 2 of your things."}),e.jsx("br",{}),"Try to be very specific so that other players can't easily add things to your category!",e.jsx("br",{}),`‚Ä¢ The category can't be "meta", like "things that other players don't have", "things I ate yesterday", etc.`,e.jsx("br",{}),"‚Ä¢ It also has to be related to the meaning of the thing, not its image"," ",e.jsx("em",{children:"(during voting, only the name of the thing will be shown)"}),"."]})})}),r.hand.length<2&&e.jsx(f,{type:"event",children:e.jsx(n,{pt:e.jsx(e.Fragment,{children:"Voc√™ precisa de pelo menos 2 coisas na m√£o para criar uma categoria. Ent√£o s√≥ resta pular sua vez."}),en:e.jsx(e.Fragment,{children:"You need at least 2 things in your hand to create a category. So you can only skip your turn."})})}),e.jsxs(S,{className:"my-6",children:[e.jsx(ue,{size:"large",placeholder:"Escreva sua categoria aqui...",disabled:u||r.hand.length<2,onChange:m=>p(m.target.value)}),e.jsx(V,{size:"large",disabled:h.trim()==="",onClick:()=>{i({category:h})},children:e.jsx(n,{pt:"Enviar categoria",en:"Submit category"})}),e.jsx(ee,{title:e.jsx(n,{pt:"Tem certeza que deseja pular sua vez?",en:"Are you sure you want to skip your turn?"}),description:e.jsx(n,{pt:"Voc√™ ganhar√° uma nova coisa para sua m√£o.",en:"You will get a new thing for your hand."}),onConfirm:o,type:"yes-no",children:e.jsx(q,{size:"large",disabled:u,icon:e.jsx(re,{}),type:"dashed",children:e.jsx(n,{pt:"Pular vez",en:"Skip turn"})})})]}),e.jsx(k,{hand:r.hand??[],cardsDict:t}),e.jsx(A,{players:a,turnOrder:c})]})}function Ve({announcement:a,user:s,cardsDict:r,creator:t,players:i,turnOrder:o}){return e.jsxs(T,{fullWidth:!0,announcement:a,children:[e.jsx(C,{wait:!0,children:e.jsx(n,{pt:e.jsxs(e.Fragment,{children:["Aguarde enquanto ",e.jsx(y,{player:t})," cria a categoria..."]}),en:e.jsxs(e.Fragment,{children:["Wait while ",e.jsx(y,{player:t})," creates the category..."]})})}),e.jsx(f,{type:"wait",children:e.jsx(n,{pt:e.jsxs(e.Fragment,{children:["O criator est√° criando a categoria...",e.jsx("br",{}),"Ele(a) est√° tentando conectar pelo menos 2 de suas coisas com uma categoria espec√≠fica.",e.jsx("br",{}),"A categoria deve ser bem espec√≠fica para que outros jogadores n√£o consigam adicionar coisas facilmente √† ela!",e.jsx("br",{}),'- Categorias n√£o podem ser "meta", do tipo "coisas que os outros jogadores n√£o tem", "coisas que comi ontem", etc.',e.jsx("br",{}),"- Tamb√©m deve que ser relacionada ao nome da coisa, n√£o √† imagem dela. (durante a vota√ß√£o, apenas o nome da coisa ser√° mostrado)."]}),en:e.jsxs(e.Fragment,{children:["The creator is creating the category...",e.jsx("br",{}),"They are trying to connect at least 2 of their things with a specific category.",e.jsx("br",{}),"The category must be very specific so that other players cannot easily add things to it!",e.jsx("br",{}),`- Categories can't be "meta", like "things that other players don't have", "things I ate yesterday", etc.`,e.jsx("br",{}),"- It must also be related to the name of the thing, not its image. (during voting, only the name of the thing will be shown)."]})})}),e.jsx(k,{hand:s.hand??[],cardsDict:r}),e.jsx(A,{players:i,turnOrder:o})]})}function Le({players:a,state:s,user:r}){const{step:t,setStep:i}=N(),[o,c]=B("creatorId",s,a),u=Ue(i),h=qe(),p=e.jsx(_,{icon:e.jsx(ge,{}),title:e.jsx(n,{pt:"Novo Quesito",en:"New Category"}),currentRound:s?.round?.current,type:"overlay",children:e.jsx(R,{children:e.jsx(n,{pt:e.jsxs(e.Fragment,{children:["√â a vez de"," ",e.jsx(y,{player:o,addressUser:!0})," ","criar a categoria"]}),en:e.jsxs(e.Fragment,{children:["It's"," ",e.jsx(y,{player:o,addressUser:!0}),"'s turn to create the category"]})})})});return e.jsx(P,{phase:s?.phase,allowedPhase:x.CATEGORY_CREATION,children:e.jsx(F,{step:t,players:a,children:e.jsxs(ye,{condition:c,children:[e.jsx(ze,{user:r,players:a,cardsDict:s?.cardsDict,announcement:p,onSubmitCategory:u,onSkipTurn:h,turnOrder:s.turnOrder}),e.jsx(Ve,{user:r,players:a,cardsDict:s?.cardsDict,announcement:p,creator:o,turnOrder:s.turnOrder})]})})})}function We({announcement:a,players:s,user:r,cardsDict:t,category:i,onSubmitCards:o,isTheCreator:c,creator:u,turnOrder:h}){const{isLoading:p}=J(),[m,d]=O.useState([]),l=E=>{m.includes(E)?d(m.filter(ne=>ne!==E)):d([...m,E])};L();const v=e.jsx(n,{pt:e.jsxs(e.Fragment,{children:["A ordem que voc√™ seleciona as coisas tamb√©m √© importante!",e.jsx("br",{}),"Elas ser√£o avaliadas em ordem e ent√£o, assim que uma coisa n√£o √© aprovada, as outras nem ser√£o consideradas.",e.jsx("br",{}),"Se suas coisas forem rejeitadas por duas rodadas seguidas, voc√™ perde pontos!"]}),en:e.jsxs(e.Fragment,{children:["The order in which you select the things is also important!",e.jsx("br",{}),"They will be evaluated in order and as soon as one thing is not approved, the others won't even be considered.",e.jsx("br",{}),e.jsx("strong",{children:"If your things get rejected for two rounds in a row, you lose points!"})]})});return e.jsxs(T,{fullWidth:!0,announcement:a,children:[e.jsx(C,{size:"small",children:e.jsx(n,{pt:e.jsx(e.Fragment,{children:"O quesito √©:"}),en:e.jsx(e.Fragment,{children:"And the category is:"})})}),e.jsx(S,{children:e.jsx(W,{size:"large",footer:e.jsx(n,{pt:e.jsxs(e.Fragment,{children:["Categoria criada por ",u.name]}),en:e.jsxs(e.Fragment,{children:["Category created by ",u.name]})}),children:i})}),e.jsxs(f,{type:"action",children:[c?e.jsx(n,{pt:e.jsxs(e.Fragment,{children:["Selecione"," ",e.jsxs(b,{children:["pelo menos ",e.jsx("strong",{children:"2"})," coisas"]})," ","que se encaixam √† categoria criada."]}),en:e.jsxs(e.Fragment,{children:["Select"," ",e.jsxs(b,{children:["at least ",e.jsx("strong",{children:"2"})," things"]})," ","that fit the created category."]})}):e.jsx(n,{pt:e.jsxs(e.Fragment,{children:["Selecione ",e.jsx(b,{children:"coisas"})," que podem se encaixar na categoria criada. Se voc√™ n√£o tem nada que se encaixa, voc√™ pode pular sua vez."]}),en:e.jsxs(e.Fragment,{children:["Select ",e.jsx(b,{children:"things"})," that may fit the created category. If you don't have anything that fits, you can skip your turn."]})}),e.jsx("br",{}),v]}),r.wasRejectedOnPreviousRound&&e.jsx(f,{type:"alert",children:e.jsx(n,{pt:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Aten√ß√£o"}),": Uma ou mais de suas coisas foram rejeitadas na rodada anterior. Se isso acontecer novamente, voc√™ perder√°"," ",e.jsxs(j,{type:"negative",children:[K," ponto"]}),"!"]}),en:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Attention"}),": One or more of your things were rejected in the previous round. If this happens again, you will lose"," ",e.jsxs(j,{type:"negative",children:[K," point"]}),"!"]})})}),e.jsxs(S,{className:"my-6",children:[e.jsx(z,{count:m.length,showZero:!0,children:e.jsx(V,{size:"large",disabled:c?m.length<2:m.length<1||p,onClick:()=>{o({cardsIds:m})},children:e.jsx(n,{pt:"Enviar coisas",en:"Submit things"})})}),!c&&e.jsx(ee,{title:e.jsx(n,{pt:"Tem certeza que deseja pular sua vez?",en:"Are you sure you want to skip your turn?"}),description:e.jsx(n,{pt:"N√£o h√° penalidade em pular agora.",en:"There is no penalty for skipping now."}),onConfirm:()=>o({cardsIds:[]}),type:"yes-no",children:e.jsx(q,{size:"large",disabled:p,icon:e.jsx(re,{}),type:"dashed",children:e.jsx(n,{pt:"Pular vez",en:"Skip turn"})})})]}),e.jsx(k,{hand:r.hand??[],cardsDict:t,selectedItemsIds:m,onSelectItem:l}),e.jsx(A,{players:s,turnOrder:h})]})}function Ye({players:a,state:s,user:r}){const{step:t,setStep:i}=N(),[o,c]=B("creatorId",s,a),u=De(i),h=e.jsx(_,{icon:e.jsx(se,{}),title:e.jsx(n,{pt:"Adicione coisas!",en:"Add things!"}),currentRound:s?.round?.current,type:"overlay",children:e.jsx(R,{children:c?e.jsx(n,{pt:"Adicione pelo menos duas coisas a sua categoria!",en:"Add at least two things to your category!"}):e.jsx(n,{pt:"Examine a categoria e veja se voc√™ consegue adicionar coisas a ela!",en:"Examine the category and see if you can add things to it!"})})});return e.jsx(P,{phase:s?.phase,allowedPhase:x.CARD_PLAY,children:e.jsx(F,{step:t,players:a,waitingRoom:{content:r?.playedCardsIds?.length>0?e.jsx(k,{hand:r?.playedCardsIds,cardsDict:s.cardsDict,hideCount:!0}):e.jsx(R,{contained:!0,children:e.jsx(n,{pt:"Voc√™ n√£o adicionou nada √† essa categoria.",en:"You didn't add anything to this category."})})},children:e.jsx(We,{players:a,user:r,cardsDict:s.cardsDict,category:s.category,onSubmitCards:u,isTheCreator:c,creator:o,announcement:h,turnOrder:s.turnOrder})})})}function Ge({value:a,onChange:s,disabled:r}){return e.jsx(te,{onChange:t=>s(t),options:[{value:!1,icon:"üëé",className:I({"color-background--red":a===!1})},{value:null,icon:"‚ñ´Ô∏è"},{value:!0,icon:"üëç",className:I({"color-background--green":a===!0})}],shape:"round",size:"large",value:a,disabled:r})}function He({announcement:a,user:s,cardsDict:r,category:t,onSubmitEvaluations:i,players:o,turnOrder:c,table:u}){const[h,p]=O.useState(u.filter(l=>l.playerId!==s.id).reduce((l,v)=>(l[v.cardId]=null,l),{})),m=O.useMemo(()=>Object.values(h).every(l=>l!==null),[h]),d=(l,v)=>{p(E=>({...E,[l]:v}))};return L(),e.jsxs(T,{fullWidth:!0,announcement:a,children:[e.jsx(C,{size:"small",children:e.jsx(n,{pt:e.jsx(e.Fragment,{children:"Avalie as coisas"}),en:e.jsx(e.Fragment,{children:"Evaluate the things"})})}),e.jsx(S,{children:e.jsx(W,{hideHeader:!0,children:t})}),e.jsx(f,{type:"action",children:e.jsx(n,{pt:e.jsxs(e.Fragment,{children:["Avalie cada uma das coisas abaixo que n√£o s√£o suas, dizendo se elas se encaixam ou n√£o na categoria criada. Voc√™ pode discutir com os outros jogadores.",e.jsx("br",{}),"Apesar do jogo n√£o mostrar quem colocou cada coisa, voc√™ pode defender sua escolha durante a discuss√£o!"]}),en:e.jsxs(e.Fragment,{children:["Evaluate each of the things below that are not yours, saying whether they fit into the created category or not. You can discuss with other players.",e.jsx("br",{}),"Although the game does not show who placed each thing, you can defend your choice during the discussion!"]})})}),e.jsx(S,{contained:!0,wrap:!0,children:u.map(l=>e.jsxs(g,{vertical:!0,gap:6,children:[e.jsx(w,{itemId:l.cardId,name:r[l.cardId].name,width:100,maskImage:!0}),e.jsx(g,{justify:"center",children:l.playerId===s.id?e.jsx(te,{size:"large",disabled:!0,options:[{label:e.jsx(n,{pt:"Seu",en:"Yours"},"yours")}]}):e.jsx(Ge,{value:h[l.cardId],onChange:v=>{d(l.cardId,v)}})})]},l.cardId))}),e.jsx(S,{className:"my-6",children:e.jsx(V,{size:"large",disabled:!m,onClick:()=>{i({evaluations:h})},children:e.jsx(n,{pt:"Concluir avalia√ß√µes",en:"Submit evaluations"})})}),e.jsx(A,{players:o,turnOrder:c})]})}function Qe({players:a,state:s,user:r}){const{step:t,setStep:i}=N(),o=Be(i),c=e.jsx(_,{icon:e.jsx(Ie,{}),title:e.jsx(n,{pt:"Avalie as coisas!",en:"Evaluate the things!"}),currentRound:s?.round?.current,type:"overlay",children:e.jsx(R,{children:e.jsx(n,{pt:"Cada coisa cabe ao quesito ou n√£o? Avalie honestamente!",en:"Does each thing fit the category or not? Evaluate honestly!"})})});return e.jsx(P,{phase:s?.phase,allowedPhase:x.VERIFICATION,children:e.jsx(F,{step:t,players:a,conditions:[!!r.id&&!!s.table],children:e.jsx(He,{players:a,user:r,cardsDict:s.cardsDict,category:s.category,onSubmitEvaluations:o,turnOrder:s.turnOrder,table:s.table,announcement:c})})})}function $e({announcement:a,players:s,cardsDict:r,creator:t,goToNextStep:i,table:o,category:c,creatorBonus:u,turnOrder:h}){return e.jsxs(T,{fullWidth:!0,announcement:a,children:[e.jsx(C,{wait:!0,children:e.jsx(n,{pt:e.jsxs(e.Fragment,{children:['Resultados: "',c,'"']}),en:e.jsxs(e.Fragment,{children:['Results: "',c,'"']})})}),e.jsx(f,{type:"wait",children:e.jsx(n,{pt:e.jsxs(e.Fragment,{children:["‚Ä¢ Cada coisa aceita do criador vale"," ",e.jsxs(j,{children:[H," pontos"]}),e.jsx("br",{}),"‚Ä¢ Se o criador tem duas coisas aceitas, ele ganha"," ",e.jsxs(j,{children:[$," ponto b√¥nus"]}),e.jsx("br",{}),"‚Ä¢ Cada coisa aceita dos outros jogadores vale"," ",e.jsxs(j,{children:[Q," pontos"]}),e.jsx("br",{}),"‚Ä¢ Se voc√™ tem coisas rejeitadas por 2 rodadas seguidas, voc√™ perde"," ",e.jsx(j,{type:"negative",children:"-1 ponto"})]}),en:e.jsxs(e.Fragment,{children:["‚Ä¢ Each accepted thing from the creator is worth"," ",e.jsxs(j,{children:[H," points"]}),e.jsx("br",{}),"‚Ä¢ If the creator has two accepted things, they earn"," ",e.jsxs(j,{children:[$," bonus point"]}),e.jsx("br",{}),"‚Ä¢ Each accepted thing from other players is worth"," ",e.jsxs(j,{children:[Q," points"]}),e.jsx("br",{}),"‚Ä¢ If you have things rejected for 2 consecutive rounds, you lose"," ",e.jsx(j,{type:"negative",children:"-1 point"})]})})}),e.jsx(S,{contained:!0,wrap:!0,children:o.map(({playerId:p,accepted:m,cardId:d})=>{const l=s[p];return e.jsxs(g,{orientation:"vertical",gap:8,align:"center",children:[e.jsx(Z,{size:"large",icon:m?e.jsx(Te,{}):e.jsx(Ae,{})}),e.jsx(w,{itemId:d,name:r[d].name,width:100}),e.jsx(y,{player:l})]},`${p}-${d}`)})}),u&&e.jsx(f,{type:"event",children:e.jsx(n,{pt:e.jsxs(e.Fragment,{children:[e.jsxs("strong",{children:["O criador ",e.jsx(y,{player:t})," ganhou o b√¥nus!"]})," ","Ele(a) teve suas duas primeiras coisas aceitas nesta rodada."]}),en:e.jsxs(e.Fragment,{children:[e.jsxs("strong",{children:["The creator ",e.jsx(y,{player:t})," earned the bonus!"]})," ","They had their first two things accepted this round."]})})}),e.jsx(A,{players:s,turnOrder:h}),e.jsx(S,{children:e.jsx(Ee,{duration:[10,10,10,12,15][o.length]??20,icon:e.jsx(Oe,{}),onExpire:i,onClick:i,children:e.jsx(n,{pt:"Ver Ranking",en:"See Ranking"})})})]})}function Ke({players:a,ranking:s,goToPreviousStep:r,round:t}){return e.jsxs(Re,{players:a,ranking:s,gainedPointsDescriptions:[e.jsx(n,{pt:"Coisas aceitas",en:"Accepted things"},"1"),e.jsx(n,{pt:"B√¥nus se o criador teve ambas as coisas aceitas",en:"Bonus if the creator had both things accepted"},"2"),e.jsx(n,{pt:"Penalidade por ter coisas rejeitadas em duas rodadas seguidas",en:"Penalty for having things rejected in two consecutive rounds"},"3")],children:[e.jsx(S,{children:e.jsx(q,{onClick:r,children:e.jsx(n,{pt:"Ver resultado novamente",en:"See results again"})})}),e.jsx(X,{round:t})]})}function Ze({players:a,state:s,user:r}){const{step:t,goToNextStep:i,goToPreviousStep:o}=N(),[c]=B("creatorId",s,a),u=e.jsx(_,{icon:e.jsx(Ce,{}),title:e.jsx(n,{pt:"Resultado",en:"Results"}),currentRound:s?.round?.current,type:"overlay",duration:3,children:e.jsx(R,{children:e.jsx(n,{pt:"Cada coisa cabe ao quesito ou n√£o? Avalie honestamente!",en:"Does each thing fit the category or not? Evaluate honestly!"})})});return e.jsx(P,{phase:s?.phase,allowedPhase:x.RESULTS,children:e.jsxs(F,{step:t,players:a,children:[e.jsx($e,{players:a,user:r,cardsDict:s.cardsDict,category:s.category,goToNextStep:i,creator:c,table:s.table,announcement:u,creatorBonus:s.creatorBonus,turnOrder:s.turnOrder}),e.jsx(Ke,{ranking:s.ranking,players:a,goToPreviousStep:o,round:s.round})]})})}function Je({announcement:a,user:s,cardsDict:r,creator:t,players:i,turnOrder:o,round:c}){return e.jsxs(T,{fullWidth:!0,announcement:a,children:[e.jsx(C,{children:e.jsx(n,{pt:e.jsxs(e.Fragment,{children:[e.jsx(y,{player:t})," decidiu pular a vez dele(a)."]}),en:e.jsxs(e.Fragment,{children:[e.jsx(y,{player:t})," decided to skip their turn."]})})}),e.jsx(X,{round:c,autoTriggerTime:10,withWaitingTimeBar:!0}),e.jsx(f,{type:"rule",children:e.jsx(n,{pt:e.jsx(e.Fragment,{children:"Quando o criador decide pular a vez, ele(a) n√£o cria uma categoria nesta rodada e ainda ganha uma coisa nova."}),en:e.jsx(e.Fragment,{children:"The creator decided to skip their turn. They will not create a category this round and will receive a new thing."})})}),e.jsx(k,{hand:s.hand??[],cardsDict:r}),e.jsx(A,{players:i,turnOrder:o})]})}function Xe({players:a,state:s,user:r}){const{step:t}=N(),[i]=B("creatorId",s,a),o=e.jsx(_,{icon:e.jsx(we,{}),title:e.jsx(n,{pt:"Pula a vez",en:"Skip Turn"}),currentRound:s?.round?.current,type:"overlay",duration:3});return e.jsx(P,{phase:s?.phase,allowedPhase:x.SKIP_ANNOUNCEMENT,children:e.jsx(F,{step:t,players:a,children:e.jsx(Je,{user:r,players:a,cardsDict:s?.cardsDict,announcement:o,creator:i,turnOrder:s.turnOrder,round:s.round})})})}function es({entry:a,cardsDict:s,players:r}){return e.jsxs(g,{vertical:!0,justify:"center",className:"contained",children:[e.jsx(g,{justify:"center",children:e.jsxs(W,{hideHeader:!0,children:[e.jsx(ae,{avatarId:r[a.creatorId].avatarId,size:"small"})," ",a.category]})}),e.jsx(g,{justify:"center",gap:3,wrap:"wrap",children:a.items.map(t=>e.jsxs(g,{orientation:"vertical",gap:8,align:"center",children:[e.jsx(w,{itemId:t.cardId,name:s?.[t.cardId]?.name??{pt:"",en:""},width:100}),e.jsx(y,{player:r[t.playerId]})]},`${t.playerId}-${t.cardId}`))})]})}function ss({state:a,players:s}){return e.jsxs(Pe,{state:a,players:s,announcementIcon:e.jsx(Ne,{}),children:[e.jsx(_e,{players:s,achievements:a.achievements,reference:ke}),e.jsx(Fe,{title:e.jsx(n,{pt:"Melhores Quesitos",en:"Best Categories"}),contentProps:{className:"final-gallery"},children:a.gallery.map((r,t)=>e.jsx(es,{entry:r,players:s,cardsDict:a.cardsDict},t))})]})}function as(a){switch(a.phase){case x.CATEGORY_CREATION:return Le;case x.CARD_PLAY:return Ye;case x.SKIP_ANNOUNCEMENT:return Xe;case x.VERIFICATION:return Qe;case x.RESULTS:return Ze;case xe.DEFAULT.GAME_OVER:return ss;default:return je}}function xa(){return e.jsx(pe,{gameCollection:he.QUAL_QUESITO,getActiveComponent:as})}export{xa as default};
