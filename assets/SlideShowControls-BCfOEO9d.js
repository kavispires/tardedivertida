import{r as t,ah as R,a6 as f,j as s,w as b,b3 as g,B as h,T as x}from"./index-61ybj31y.js";import{u as v}from"./useBlurCards-Bw_BjuDj.js";import{R as _}from"./StepBackwardOutlined-Dbjplz_R.js";import{p as y,q as C}from"./StepSwitcher-CQIzCXsY.js";import{R as E}from"./TrophyOutlined-wAfxk86V.js";var M={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M676.4 528.95L293.2 829.97c-14.25 11.2-35.2 1.1-35.2-16.95V210.97c0-18.05 20.95-28.14 35.2-16.94l383.2 301.02a21.53 21.53 0 010 33.9M694 864h64a8 8 0 008-8V168a8 8 0 00-8-8h-64a8 8 0 00-8 8v688a8 8 0 008 8"}}]},name:"step-forward",theme:"outlined"},N=function(a,i){return t.createElement(R,f({},a,{ref:i,icon:M}))},$=t.forwardRef(N);function O(e){const[a,i]=t.useState(0),[r,n]=t.useState(!0);return t.useEffect(()=>{r&&a===e.length-1&&n(!1)},[r,a,e.length]),{...e,slideIndex:a,setSlideIndex:i,reset:()=>i(0),isFirstGalleryRunThrough:r,setIsFirstGalleryRunThrough:n}}function V({config:e,disableControls:a,barColor:i="gray",nextButtonProps:r}){const n=e.slideDuration??10,d=n*e.length,{timeLeft:o,isRunning:u,pause:m,resume:j}=v({duration:d,autoStart:!0,onExpire:()=>e.onExpire()}),c=a??e.isFirstGalleryRunThrough;t.useEffect(()=>{const l=Math.max(0,Math.min(e.length-1,Math.floor((d-o)/n)));return u&&o<d&&o>0&&l!==e.slideIndex&&e.setSlideIndex(l),()=>{}},[o,e,n,d]);const S=()=>{m(),e.setSlideIndex(l=>Math.max(l-1,0))},w=()=>{m(),e.setSlideIndex(l=>Math.min(l+1,e.length-1))},I=t.useMemo(()=>Array(e.length).fill("").map((l,p)=>s.jsx("div",{className:"slide-show__controls-timer-bar-node",style:{width:`${99/e.length}%`},children:l},`control-timer-bar-${l+p}`)),[e.length]);return s.jsxs("div",{className:"slide-show__controls",children:[s.jsxs("div",{className:"slide-show__controls-timer-bar",children:[s.jsx("div",{className:"slide-show__controls-timer-bar-base",children:I}),s.jsx("span",{className:"slide-show__controls-timer-bar-pill",style:{width:`${k(d,o)}%`,backgroundColor:i}})]}),s.jsxs(b,{style:{opacity:c?0:100},className:g("fadeIn"),children:[s.jsx(h,{size:"large",icon:s.jsx(_,{}),onClick:S,disabled:c||e.slideIndex===0,children:s.jsx(x,{pt:"Anterior",en:"Previous"})}),s.jsx(h,{size:"large",icon:u?s.jsx(y,{}):s.jsx(C,{}),onClick:u?m:j}),s.jsxs(h,{size:"large",onClick:w,disabled:c||e.slideIndex===e.length-1,children:[s.jsx(x,{pt:"PrÃ³ximo",en:"Next"})," ",s.jsx($,{})]}),s.jsx(h,{...r,size:"large",onClick:()=>e.onExpire(),icon:(r==null?void 0:r.icon)??s.jsx(E,{}),disabled:c,children:(r==null?void 0:r.children)??s.jsx(x,{pt:"Ver Ranking",en:"See Ranking"})})]})]})}function k(e,a){return e===0?100:(1-a/e)*100}export{V as S,O as u};
