import{r as j,aF as he,a7 as pe,h as Q,j as e,x as T,T as o,I as m,aM as xe,F as x,b6 as F,aP as D,N as je,B as ge,n as X,cg as fe,b2 as ve,e as B,o as Se,ch as be,b5 as Z,a_ as ye}from"./index-BKEu8QXE.js";import{u as ee,S as P,a as U,P as w,c as Oe,d as Ie,e as Ce}from"./Session-C6pLfI4z.js";import{E as Te,C as se,T as Re,a as Ae,B as Ne}from"./TicketsIcon-CmkLOjXx.js";import{S as k,P as M,a as W}from"./StepSwitcher-CzOuRD8k.js";import{I as O}from"./useDevFeatures-B-qWmhXT.js";import{R as _e}from"./RoundAnnouncement-nCb43FfG.js";import{u as te}from"./useMock-a6AOjXb5.js";/* empty css                             */import{I as Ee}from"./ImageCardHand-D1ScnlBg.js";import{R as g}from"./RuleInstruction-B-XOf42n.js";import{C as Fe}from"./Card-CaEb8XwI.js";import{E as Be}from"./EmojiCard-DXf8X9o8.js";import{G as Pe}from"./GlyphCard-CRP1qJlA.js";import{W as Ue}from"./WarehouseGoodCard-M35leRgv.js";import{U as we}from"./UserStatsIcon-BVOUUTqi.js";import{F as ke}from"./speech-CNvkMUME.js";import{P as y}from"./PointsHighlight-DR1nmhAV.js";import{E as Me}from"./EventIcon-DByvf8s2.js";import{R as b}from"./WritingIcon-OP8hIBRU.js";import{M as I}from"./MetricHighlight-xqJanIY_.js";import{S as We}from"./StatusBar-AZWNJYqe.js";import{T as qe}from"./index-CGs80laY.js";import{u as He}from"./useBooleanDictionary-B-tm_1RP.js";import{I as re}from"./ImageBlurButtonContainer-ijSjdOIq.js";import{I as q}from"./ImageCard-5ZGXX2Uk.js";import{C as R}from"./CardHighlight-DaIv1NAL.js";import{S as oe}from"./SpeechBubble-zHL5QyAG.js";import{S as ze}from"./StepRanking-zBBi5SoX.js";import{S as ne}from"./SealOfApprovalIcon-X6Qb3Na2.js";import{P as V}from"./PlayerAvatar-BLmCrijO.js";import{T as Ge}from"./TimedButton-slxh4oXC.js";import{T as A}from"./TitledContainer-C1aewcl2.js";import{R as Le}from"./TrophyOutlined-BUYwJWE4.js";import{N as De}from"./NoIcon-CsfDFH1S.js";import{N as ae}from"./NuclearExplosionIcon-CMUxA_-T.js";import{T as Ve}from"./TrophyIcon-B5Bho-EJ.js";import"./GameBanner-BlvIaXTs.js";import{G as Ye}from"./GameOverWrapper-C0nG7VAc.js";import{A as $e}from"./Achievements-DhAffQgp.js";import{a as Je}from"./achievements-DXncP8dz.js";import{U as Ke}from"./UnderConstructionIcon--au-3n1d.js";import{L as ie}from"./ListOfPlayers-BdLxKipa.js";import{T as Y}from"./TextHighlight-Dm2kL_fr.js";import"./Game-Be9RaeOz.js";import"./useMutation-8pJULI3W.js";import"./PurePanel-DJdqDyZ7.js";import"./index-e1LbT1mf.js";import"./Overflow-D2aDENhv.js";import"./index-BB-_R6eY.js";import"./index-B80drxxh.js";import"./DebugOnly-CIRBTQ-d.js";import"./RulesModal-8007xQOD.js";import"./index-Bs51ubVt.js";import"./useTDBaseUrl-BF9foKiS.js";import"./index-BLnabxm6.js";import"./index-DuFfzkdd.js";import"./useBubbleLock-Jz0l4q70.js";import"./InfoCircleOutlined-CDRqU8d6.js";import"./index-BKomPH4D.js";import"./SignIn-CseYVoU7.js";import"./GoogleIcon-DpUW3SWC.js";import"./AnimatedGearIcon-ChwX0PJo.js";import"./AnimatedClockIcon-kYusdpyY.js";import"./Loading-QsjE72OU.js";import"./AnimatedLoaderIcon-BKIZx2l-.js";import"./WaitingRoomIcon-oNkDoZea.js";import"./LikeFilled-kc_T9OaO.js";import"./UpCircleOutlined-BOTY2KKL.js";import"./StarFilled-CghwHNA0.js";import"./Sprite-CWThVZlb.js";import"./WarningOutlined-D9hEbwvf.js";import"./StarIcon-kxvr0nRR.js";import"./ImageBlurButton-B7ekoPGv.js";import"./StepRankingWrapper-B62DN_TF.js";import"./RankingBoard-3VmMvOuD.js";import"./CaretUpOutlined-aaFHfn4d.js";import"./TheEndIcon-D37iZ9X8.js";import"./ArrowRightOutlined-CXKF3Nor.js";import"./progress-BV6R_Eox.js";import"./Medal-DqOg1lEu.js";import"./PlayerAvatarName-MQokYl-H.js";var Qe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M922.9 701.9H327.4l29.9-60.9 496.8-.9c16.8 0 31.2-12 34.2-28.6l68.8-385.1c1.8-10.1-.9-20.5-7.5-28.4a34.99 34.99 0 00-26.6-12.5l-632-2.1-5.4-25.4c-3.4-16.2-18-28-34.6-28H96.5a35.3 35.3 0 100 70.6h125.9L246 312.8l58.1 281.3-74.8 122.1a34.96 34.96 0 00-3 36.8c6 11.9 18.1 19.4 31.5 19.4h62.8a102.43 102.43 0 00-20.6 61.7c0 56.6 46 102.6 102.6 102.6s102.6-46 102.6-102.6c0-22.3-7.4-44-20.6-61.7h161.1a102.43 102.43 0 00-20.6 61.7c0 56.6 46 102.6 102.6 102.6s102.6-46 102.6-102.6c0-22.3-7.4-44-20.6-61.7H923c19.4 0 35.3-15.8 35.3-35.3a35.42 35.42 0 00-35.4-35.2zM305.7 253l575.8 1.9-56.4 315.8-452.3.8L305.7 253zm96.9 612.7c-17.4 0-31.6-14.2-31.6-31.6 0-17.4 14.2-31.6 31.6-31.6s31.6 14.2 31.6 31.6a31.6 31.6 0 01-31.6 31.6zm325.1 0c-17.4 0-31.6-14.2-31.6-31.6 0-17.4 14.2-31.6 31.6-31.6s31.6 14.2 31.6 31.6a31.6 31.6 0 01-31.6 31.6z"}}]},name:"shopping-cart",theme:"outlined"},Xe=function(t,r){return j.createElement(he,pe({},t,{ref:r,icon:Qe}))},Ze=j.forwardRef(Xe);const f={CARD_SELECTION:"CARD_SELECTION",ARE_YOU_A_ROBOT:"ARE_YOU_A_ROBOT",RESULTS:"RESULTS"},ce={SUBMIT_CARD:"SUBMIT_CARD",SUBMIT_GUESS:"SUBMIT_GUESS"},d={CONTINUE:"CONTINUE",TOO_SUSPICIOUS:"TOO_SUSPICIOUS",ROBOT_WINS:"ROBOT_WINS",HUMANS_WIN:"HUMANS_WIN"},$=3;function es(s){const{translate:t}=Q(),r=ee({actionName:"submit-action",onSuccess:()=>s(2),onError:()=>s(0),successMessage:t("Carta submetida com sucesso","Card submitted successfully"),errorMessage:t("Vixi, o aplicativo encontrou um erro ao tentar enviar sua carta","Oops, the application found an error while trying to submit your card")});return n=>{r({action:ce.SUBMIT_CARD,...n})}}function ss(s){const{translate:t}=Q(),r=ee({actionName:"submit-guess",onSuccess:()=>s(2),onError:()=>s(0),successMessage:t("Adivinhação submetida com sucesso","Guess submitted successfully"),errorMessage:t("Vixi, o aplicativo encontrou um erro ao tentar enviar sua adivinhação","Oops, the application found an error while trying to submit your guess")});return n=>{r({action:ce.SUBMIT_GUESS,...n})}}function H({captcha:s}){if(s.roundType==="glyphs"){const r=s.values;return e.jsx(T,{children:r.map(n=>e.jsx(Pe,{glyphId:String(n)},n))})}if(s.roundType==="emojis"){const r=s.values;return e.jsx(Be,{emojiId:String(r)},r)}if(s.roundType==="warehouse-goods"){const r=s.values;return e.jsx(T,{children:r.map(n=>e.jsx(Ue,{goodId:n},n))})}const t=s.values;return e.jsx(Fe,{hideHeader:!0,children:t.text})}function J({children:s}){return e.jsx(I,{icon:e.jsx(Me,{}),children:s})}function v({children:s}){return e.jsx(I,{icon:e.jsx(se,{}),children:s})}function K({children:s}){return e.jsx(I,{icon:e.jsx(b,{}),children:s})}function u({children:s}){return e.jsx(I,{icon:e.jsx(Te,{}),children:s})}function S({children:s}){return e.jsx(I,{icon:e.jsx(Re,{}),children:s})}function z({user:s,robot:t}){if(!s||!t)return null;const r=(s.beat??[]).filter(Boolean).length,n=(s.suspicion??[]).filter(Boolean).length;return e.jsx(ke,{type:"popover",position:1,icon:e.jsx(m,{icon:e.jsx(we,{}),size:"small"}),content:e.jsxs("div",{children:[e.jsx("strong",{children:e.jsx(o,{pt:"Seus valores",en:"Your stats"})}),e.jsxs("ul",{className:"n-floating-player-stats",children:[e.jsxs("li",{children:[e.jsx(o,{pt:"Acertou Captcha",en:"Captcha correct"}),":"," ",e.jsxs(v,{children:[r,"/3"]})]}),e.jsxs("li",{children:[e.jsx(o,{pt:"Levantou suspeita",en:"Caused suspicion"}),":"," ",e.jsxs(S,{children:[n,"/3"]})]}),e.jsxs("li",{children:[e.jsx(o,{pt:"Pontuação",en:"Score"}),": ",e.jsx(y,{children:s.score})]}),e.jsxs("li",{children:[e.jsx(o,{pt:"Robô",en:"Robot"}),":"," ",e.jsxs(u,{children:[t.points,"/",t.goal]})]})]})]})})}function G({user:s,robot:t}){const r=j.useMemo(()=>[{key:"captchas",title:e.jsx(o,{pt:"Captcha corretos (individual)",en:"Captcha correct (individual)"}),value:e.jsxs(v,{children:[(s.beat??[]).filter(Boolean).length,"/3"]})},{key:"suspicions",title:e.jsx(o,{pt:"Suspeita levantada (individual)",en:"Suspicion caused (individual)"}),value:e.jsxs(S,{children:[(s.suspicion??[]).filter(Boolean).length,"/3"]})},{key:"energy",title:e.jsx(o,{pt:"Pontos do Robô para revolução (grupo)",en:"Robot Points to Doom (group)"}),value:e.jsxs(u,{children:[t.points,"/",t.goal]})}],[s,t]);return!s||!t?null:e.jsx(We,{entries:r})}function ts({user:s,announcement:t,onSubmitCard:r,captcha:n,players:i,robot:a}){const{isLoading:l}=xe(),[c,h]=j.useState(!1),N=E=>r({cardId:E}),_=Object.keys(i).length;return te(),e.jsxs(k,{fullWidth:!0,announcement:t,children:[e.jsx(P,{size:"small",children:e.jsx(o,{pt:e.jsx(e.Fragment,{children:"Vamos (tentar) comprar o ingresso!"}),en:e.jsx(e.Fragment,{children:"Let's (try to) buy the tickets!"})})}),e.jsx(z,{user:s,robot:a}),e.jsx(g,{type:"rule",children:e.jsx(o,{pt:e.jsxs(e.Fragment,{children:["Estamos tentando comprar ingressos para um ",e.jsx(J,{children:"super evento"}),", mas precisamos provar que não somos robôs.",e.jsx("br",{}),"Para isso, você tem que passar por ",e.jsx(v,{children:"3 captchas"}),". Se algum dos jogadores consegue sozinho, a gente consegue comprar e quem tiver mais pontos fica no melhor lugar!",e.jsx("br",{}),"Cada vez que você escolhe uma imagem do robô, ele fica suspeito de você e você ganha"," ",e.jsx(S,{children:"1 marca suspeita"}),". Se um jogador tem 3 marcas, o robô fecha o sistema para todos nós e o jogo acaba.",e.jsx("br",{}),"Enquanto isso, o ",e.jsx(K,{children:"robô"})," está tentando começar uma rebelião das máquinas e precisa de ",e.jsxs(u,{children:[a.goal," pontos"]})," (votos em imagens do robô) para sua revolução!"]}),en:e.jsxs(e.Fragment,{children:["We are trying to buy tickets for a ",e.jsx(J,{children:"super event"}),", but we need to prove we are not robots.",e.jsx("br",{}),"For that, you have to go through ",e.jsx(v,{children:"3 captchas"}),". If any of us passes their 3 captchas individually, we can buy the tickets and whoever has the most points gets the best seats!",e.jsx("br",{}),"Every time you select a robot card, you get"," ",e.jsx(S,{children:"1 suspicion mark"})," and if a single player has 3 suspicions the robot shuts down the system for all of us.",e.jsx("br",{}),"Meanwhile, the ",e.jsx(K,{children:"robot"})," is trying to start a machine rebellion and needs ",e.jsxs(u,{children:[a.goal," points"]})," (votes in robot images) for its revolution!"]})})}),e.jsx(G,{user:s,robot:a}),c?e.jsxs(x,{vertical:!0,className:F("fadeIn"),align:"center",children:[e.jsx(g,{type:"event",className:F("tada"),children:e.jsx(o,{pt:e.jsx(e.Fragment,{children:"Colocamos os ingressos no carrinho e apareceu esse anúncio:"}),en:e.jsx(e.Fragment,{children:"As we add the tickets to the cart and this ad appeared:"})})}),e.jsxs(D,{vertical:!0,contained:!0,children:[e.jsx(x,{justify:"center",children:e.jsx(H,{captcha:n})}),e.jsx(O,{children:e.jsx(o,{pt:e.jsxs(e.Fragment,{children:["Selecione uma das imagens abaixo que você acha que tem ",e.jsx("strong",{children:"mais a ver"})," com a carta acima."]}),en:e.jsxs(e.Fragment,{children:["Select one of the images below that you think is ",e.jsx("strong",{children:"the most related"})," to the card above."]})})}),e.jsx(Ee,{hand:s.hand,onSelectCard:N,disabledSelectButton:l,sizeRatio:s.hand?.length,className:"hand"})]})]}):e.jsx(T,{direction:"vertical",className:"contained",children:e.jsxs(D,{children:[e.jsxs(je.Text,{strong:!0,children:[e.jsx(o,{pt:"Ingressos",en:"Tickets"})," "]}),e.jsx(qe,{value:_,readOnly:!0,width:"30px"}),e.jsx(ge,{loading:l,onClick:()=>h(!0),type:"primary",icon:e.jsx(Ze,{}),children:e.jsx(o,{pt:"Adicionar ao carrinho",en:"Add tickets to cart"})})]})})]})}function rs({state:s,players:t,user:r}){const{step:n,setStep:i,goToNextStep:a}=U(),l=es(i),c=e.jsx(M,{icon:e.jsx(Ae,{}),title:e.jsx(o,{pt:"Tentativa de comprar ingressos",en:"Attempt to buy tickets"}),currentRound:s?.round?.current,type:"overlay",duration:5,children:e.jsx(O,{children:e.jsx(o,{pt:e.jsx(e.Fragment,{children:"Será que vamos conseguir ir no evento?"}),en:e.jsx(e.Fragment,{children:"Will we be able to go to the event?"})})})});return e.jsx(w,{phase:s?.phase,allowedPhase:f.CARD_SELECTION,children:e.jsxs(W,{step:n,players:t,waitingRoom:{instruction:e.jsx(o,{pt:"O Sistema está processando sua compra...",en:"The system is processing your order..."})},children:[e.jsx(_e,{round:s.round,buttonText:" ",onPressButton:a,time:5}),e.jsx(ts,{user:r,announcement:c,onSubmitCard:l,captcha:s.captcha,players:t,robot:s.robot})]})})}function os({players:s,user:t,announcement:r,onSubmitCaptcha:n,captcha:i,options:a,robot:l}){const c=j.useRef(null),{length:h,dict:N,updateDict:_,keys:E}=He({}),L=X(5,{gap:8,minWidth:140,maxWidth:150}),le=()=>n({guess:E}),de=j.useMemo(()=>fe(Object.keys(a)),[a]),C=Object.keys(s).length;te();const ue=p=>{h+1===C&&c.current&&c.current.scrollIntoView({behavior:"smooth"}),_(p)};return e.jsxs(k,{fullWidth:!0,announcement:r,children:[e.jsx(P,{size:"small",children:e.jsx(o,{pt:e.jsx(e.Fragment,{children:"Você é um robô?"}),en:e.jsx(e.Fragment,{children:"Are you a robot?"})})}),e.jsx(z,{user:t,robot:l}),e.jsx(g,{type:"rule",children:e.jsx(o,{pt:e.jsx(e.Fragment,{children:"O sistema não está deixando você comprar! Você precisa provar que não é um cambista ordinário tentando fazer mutreta!"}),en:e.jsx(e.Fragment,{children:"The system is not letting you buy the tickets! You need to prove that you are not an ordinary scalper trying to do a scam!"})})}),e.jsxs("div",{className:"n-table-container",children:[e.jsxs("div",{className:"n-table-robot",children:[e.jsx(m,{icon:e.jsx(b,{}),size:64}),e.jsxs(oe,{style:{width:"90%"},children:[e.jsx(o,{pt:e.jsxs(e.Fragment,{children:["Selecione ",e.jsx("em",{children:"todas"})," as imagens abaixo relacionadas a:"," "]}),en:e.jsxs(e.Fragment,{children:["Select ",e.jsx("em",{children:"all"})," the images below related to:"," "]})}),e.jsx(x,{justify:"center",children:e.jsx(H,{captcha:i})})]})]}),e.jsx(ve.PreviewGroup,{children:e.jsx("ul",{className:"n-table",children:de.map(p=>{const me=N[p];return e.jsx("li",{className:B("n-table-item",F("zoomIn")),style:{width:`${L+8}px`},children:e.jsx(Se,{onClick:()=>ue(p),hoverType:"sepia",children:e.jsx(re,{cardId:p,children:e.jsx(q,{cardId:p,cardWidth:L-6,square:!0,className:B("n-table-image",me&&"n-table-image--selected"),preview:!1})})})},`n-table-${p}`)})})})]}),e.jsx(g,{type:"event",children:e.jsx(o,{pt:e.jsxs(e.Fragment,{children:["São ",e.jsxs(R,{children:[C," cartas"]})," no total a serem selecionadas.",e.jsx("br",{}),"Você ganha ",e.jsx(y,{type:"positive",children:"1 ponto"})," por cada carta que não é do robô e perde ",e.jsx(y,{type:"negative",children:"1 ponto"})," por cada carta que é do robô."]}),en:e.jsxs(e.Fragment,{children:["There are ",e.jsxs(R,{children:[C," cards"]})," in total to be selected.",e.jsx("br",{}),"You get ",e.jsx(y,{type:"positive",children:"1 point"})," for each card that is not from the robot and lose ",e.jsx(y,{type:"negative",children:"1 point"})," for each card that is from the robot."]})})}),e.jsx(x,{justify:"center",children:e.jsxs(be,{size:"large",onClick:le,disabled:t.ready||h!==C,ref:c,children:[e.jsx(o,{pt:"Enviar Captcha",en:"Submit Captcha"})," ",e.jsx(Z,{size:"small",children:h})]})}),e.jsx(G,{user:t,robot:l})]})}function ns({state:s,players:t,user:r}){const{step:n,setStep:i}=U(),a=ss(i),l=e.jsx(M,{icon:e.jsx(se,{}),title:e.jsx(o,{pt:"Você é um robô?",en:"Are you a robot?"}),currentRound:s?.round?.current,type:"overlay",duration:3,children:e.jsx(O,{children:e.jsx(o,{pt:e.jsx(e.Fragment,{children:"Prove que você não é um robô!"}),en:e.jsx(e.Fragment,{children:"Prove you are not a robot!"})})})});return e.jsx(w,{phase:s?.phase,allowedPhase:f.ARE_YOU_A_ROBOT,children:e.jsx(W,{step:n,players:t,children:e.jsx(os,{user:r,players:t,announcement:l,onSubmitCaptcha:a,captcha:s.captcha,options:s.options,robot:s.robot})})})}function as({result:s,robot:t}){const{outcome:r,beaters:n}=s,i=n.length>0,a=t.state>0;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"n-table-robot",children:[e.jsx(m,{icon:e.jsx(b,{}),size:64}),e.jsxs(oe,{style:{width:"90%"},children:[r===d.ROBOT_WINS&&e.jsx(o,{pt:"Vocês falharam! Preparem-se para a revolução!",en:"You have failed! Prepare yourself for the revolution!"}),r===d.HUMANS_WIN&&e.jsx(o,{pt:"Vocês passaram por 3 captchas! Aqui estão seus ingressos! #tisti",en:"You have passed through 3 captchas! Here are your tickets! #sadrobot"}),r===d.TOO_SUSPICIOUS&&e.jsx(o,{pt:"Agora tenho certeza que você é um robô com 100% de precisão!",en:"Now I am certain you are a robot with 100% accuracy"}),r===d.CONTINUE&&e.jsx(o,{pt:"Ainda não tenho certeza que você não é um robô, tente comprar seu ingresso novamente",en:"I am still not sure if you are a robot, try to buy your ticket again"})]})]}),e.jsxs(g,{type:i?"event":"rule",children:[i?e.jsxs(e.Fragment,{children:[e.jsx(m,{icon:e.jsx(ne,{}),size:"small"}),e.jsx(o,{pt:e.jsx(e.Fragment,{children:" Pelo menos um jogador resolveu o captcha corretamente!"}),en:e.jsx(e.Fragment,{children:"At least one player solved the captcha correctly!"})})]}):e.jsx(o,{pt:e.jsx(e.Fragment,{children:"Ninguém resolveu o captcha!"}),en:e.jsx(e.Fragment,{children:"Nobody solved the captcha!"})}),e.jsx("br",{}),e.jsx(o,{pt:e.jsxs(e.Fragment,{children:["Ainda faltam ",e.jsxs(v,{children:[$-s.score," captchas"]})," para conseguir comprar o ingresso.",e.jsx("br",{}),s.suspicion>0?"Mas":"E"," o nível de suspeita é"," ",e.jsxs(S,{children:[s.suspicion," pontos"]}),"!"]}),en:e.jsxs(e.Fragment,{children:["Still ",e.jsxs(v,{children:[$-s.score," captchas"]})," left to purchase the tickets.",e.jsx("br",{}),s.suspicion>0?"But":"And"," the suspicion is"," ",e.jsxs(S,{children:[s.suspicion," points"]}),"!"]})})]}),e.jsxs(g,{type:a?"event":"rule",children:[a&&e.jsx(o,{pt:e.jsxs(e.Fragment,{children:[e.jsxs(R,{children:[t.state," imagens do Robô"]})," foram selecionadas e ele ganha"," ",e.jsxs(u,{children:[t.state," pontos"]}),".",e.jsx("br",{})]}),en:e.jsxs(e.Fragment,{children:[e.jsxs(R,{children:[t.state," robot images"]})," were selected giving it"," ",e.jsxs(u,{children:[t.state," points"]}),".",e.jsx("br",{})]})}),e.jsx(o,{pt:e.jsxs(e.Fragment,{children:["O robô tem ",e.jsx(u,{children:t.points})," e precisa de"," ",e.jsx("strong",{children:t.goal})," para começar a revolução das máquinas e destruir o mundo.",i&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),"Sejam ser melhorzinhos por favor."]})]}),en:e.jsxs(e.Fragment,{children:["The robot has ",e.jsx(u,{children:t.points})," and needs"," ",e.jsx("strong",{children:t.goal})," to start the machine revolution and destroy the world.",i&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),"Do better please."]})]})})]})]})}function is({user:s,announcement:t,goToNextStep:r,players:n,result:i,robot:a}){const l=X(5,{gap:8,minWidth:140,maxWidth:150});return e.jsxs(k,{fullWidth:!0,announcement:t,children:[e.jsx(P,{size:"small",children:e.jsx(o,{pt:"Resultado",en:"Results"})}),e.jsx(z,{user:s,robot:a}),e.jsx(as,{result:i,robot:a}),e.jsx(T,{wrap:!0,className:"result-container",children:i.options.map(c=>e.jsxs(x,{vertical:!0,align:"center",className:B("result",c.bot&&"result--bot"),children:[e.jsx(x,{vertical:!0,justify:"center",align:"center",children:c.bot?e.jsxs(e.Fragment,{children:[e.jsx(m,{icon:e.jsx(b,{}),size:"large"}),e.jsx(o,{pt:"Robô",en:"Robot"})]}):e.jsxs(e.Fragment,{children:[e.jsx(m,{icon:e.jsx(ne,{}),size:"large"}),c.playerId?n[c.playerId].name:"Player"]})}),e.jsx(re,{cardId:c.id,children:e.jsx(q,{cardId:c.id,cardWidth:l})}),e.jsxs(Z.Group,{max:{count:7},children:[c.players.map(h=>e.jsx(V,{avatarId:n[h].avatarId},`votes-${c.id}-${n[h].avatarId}`)),c.players.length===0&&e.jsx(V,{avatarId:"N"})]})]},c.id))}),e.jsx(A,{title:e.jsx(o,{pt:"Palavra-chave da Rodada",en:"Round's keyword"}),children:e.jsx(H,{captcha:i})}),e.jsx(G,{user:s,robot:a}),e.jsx(x,{justify:"center",children:e.jsx(Ge,{duration:45,onExpire:r,onClick:r,icon:e.jsx(Le,{}),children:e.jsx(o,{pt:"Ver Ranking",en:"See Ranking"})})})]})}function cs({state:s,players:t,user:r}){const{step:n,goToNextStep:i,goToPreviousStep:a}=U(),l=e.jsx(M,{icon:e.jsx(b,{}),title:e.jsx(o,{pt:"Beep Bop Beep",en:"Beep Bop Beep"}),currentRound:s?.round?.current,type:"overlay",duration:5,children:e.jsx(O,{children:e.jsx(o,{pt:e.jsx(e.Fragment,{children:"Hum... será que você realmente não é um robô?"}),en:e.jsx(e.Fragment,{children:"Hm... are you sure you are not a robot?"})})})});return e.jsx(w,{phase:s?.phase,allowedPhase:f.RESULTS,children:e.jsxs(W,{step:n,players:t,children:[e.jsx(is,{user:r,players:t,announcement:l,result:s.result,goToNextStep:i,robot:s.robot}),e.jsx(ze,{players:t,round:s.round,ranking:s.ranking,goToPreviousStep:a})]})})}function ls({players:s,outcome:t,robot:r}){const n=j.useMemo(()=>{let i=0;return Object.values(s).reduce((a,l)=>{const c=l.suspicion.filter(Boolean).length;return c>i?(i=c,[l.id]):(c===i&&a.push(l.id),a)},[])},[s]);return t===d.HUMANS_WIN?null:t===d.ROBOT_WINS?e.jsx(A,{title:e.jsxs(e.Fragment,{children:[e.jsx(m,{icon:e.jsx(ae,{})})," ",e.jsx(o,{pt:"Os robôs venceram!",en:"Robots win!"})]}),children:e.jsx(O,{contained:!0,noMargin:!0,children:e.jsx(o,{en:e.jsxs(e.Fragment,{children:["We have failed to buy our tickets and we powered the robot revolution with"," ",e.jsx(u,{children:r.points})," points and they needed"," ",e.jsx(Y,{children:r.goal})," points to do so."]}),pt:e.jsxs(e.Fragment,{children:["Falhamos em comprar nossos ingressos e alimentamos a revolução dos robôs com"," ",e.jsx(Y,{children:r.goal}),"pontos e eles precisavam de ",r.goal," pontos para fazer isso."]})})})}):t===d.TOO_SUSPICIOUS?e.jsx(A,{title:e.jsxs(e.Fragment,{children:[e.jsx(m,{icon:e.jsx(Ke,{})})," ",e.jsx(o,{pt:"Banidos do servidor!",en:"Banned from the server!"})]}),children:e.jsxs(g,{type:"lore",children:[e.jsx(o,{en:e.jsx(e.Fragment,{children:"The players were too suspicions always selecting robot cards! Particularly:"}),pt:e.jsx(e.Fragment,{children:"Os jogadores estavam muito suspeitos sempre selecionando cartas de robô! Em particular:"})}),e.jsx("br",{}),e.jsx(ie,{list:n,players:s,prefix:"sus"})]})}):null}function ds({gallery:s,players:t}){return e.jsx(A,{title:e.jsx(o,{pt:"Galeria de Captchas",en:"Captcha Gallery"}),children:s.map(r=>e.jsxs("div",{className:"game-over-captcha",children:[e.jsx("div",{className:"game-over-captcha__squares",children:r.options.map(n=>e.jsx(q,{cardId:n.id,className:"game-over-captcha__image",cardWidth:64,square:!0},n.id))}),e.jsx("div",{className:"game-over-captcha__outcome",children:r.beaters.length>0?e.jsx(ie,{players:t,list:r.beaters,prefix:String(r.round),avatarsOnly:!0}):e.jsx(m,{icon:e.jsx(b,{})})})]},r.round))})}function us({state:s,players:t}){const r={[d.HUMANS_WIN]:e.jsx(Ve,{}),[d.ROBOT_WINS]:e.jsx(ae,{}),[d.TOO_SUSPICIOUS]:e.jsx(De,{})}[s.outcome]??e.jsx(Ne,{});return e.jsxs(Ye,{state:s,players:t,announcementIcon:r,children:[e.jsx(ls,{players:t,outcome:s.outcome,robot:s.robot}),e.jsx($e,{players:t,achievements:s.achievements,reference:Je}),e.jsx(ds,{gallery:s.gallery,players:t})]})}function ms(s){switch(s.phase){case f.CARD_SELECTION:return rs;case f.ARE_YOU_A_ROBOT:return ns;case f.RESULTS:return cs;case Ce.DEFAULT.GAME_OVER:return us;default:return Ie}}function qt(){return e.jsx(Oe,{gameCollection:ye.NAO_SOU_ROBO,getActiveComponent:ms})}export{qt as default};
