import{h as W,q as O,aM as me,n as R,j as e,T as n,x as _,o as C,aP as S,ch as k,e as Z,I,aQ as ne,P as be,r as F,ce as N,co as Ce,B as ue,D as _e,ci as Re,b0 as Ee}from"./index-BB0h2P2H.js";import{u as se,S as U,a as B,b as re,c as H,P as D,d as L,e as $,j as Ne,k as Ie,g as qe,h as we,i as Pe}from"./StepSwitcher-oZLbZIgu.js";import{F as Ae}from"./FilterIcon-CoEAJUGV.js";import{I as z}from"./useDevFeatures-Dc-LcDQj.js";import{u as ee}from"./useBooleanDictionary-C3VTeFcc.js";import{u as te}from"./useMock-HrPMEDI8.js";import{C as V}from"./CharacterCard-ef_tmE9z.js";import{C as ie}from"./CardHighlight-D_80wSCN.js";import{R as M}from"./RuleInstruction-Dz7Zy6id.js";import{B as Te}from"./index-C6M1Mc6-.js";import{P as Ge}from"./PlayerIconsIcon-BXyt1LsT.js";import{R as Fe}from"./RoundAnnouncement-BQ0BqoIQ.js";import{P as oe,p as ke,g as Me,a as We,b as Oe}from"./PlayerGlyphs-BdoPuCGy.js";import{N as Y}from"./NoIcon-eRQiagJb.js";import{Y as Q,M as Ue}from"./YesIcon-CRH0pRLt.js";import{G as q}from"./GlyphCard-DeJHpFMb.js";/* empty css                             */import{I as Be}from"./ImageBlurButtonContainer-CmIpVOIH.js";import{I as xe}from"./ImageCard-D2Fi9Ck7.js";import{M as je}from"./MetricHighlight-DRq2uIec.js";import{E as He}from"./WritingIcon-CXbJe8hB.js";import{P as G}from"./PointsHighlight-6KV0o_dh.js";import{u as De}from"./useVotingMatch-bhFEG_sj.js";import"./Ribbon-CybinTP2.js";import{R as Le}from"./RibbonGroup-BFniBU-7.js";import{R as $e}from"./ThunderboltOutlined-o4adt1Tt.js";import{u as ze}from"./SlideShowControls-Cdj74cYr.js";import{A as Ve}from"./AvatarName-D6dbquF6.js";import{P as ge}from"./PopoverRule-CYSlCaSy.js";import{S as Ye}from"./SlideShow-DmVqXzi6.js";import{S as ce}from"./StarPoints-Be171fqg.js";import{S as le,a as Qe,b as X,c as Ke}from"./SlideShowComposableComponents-BAZucyFN.js";import{S as Je}from"./StepRankingWrapper-CrOkq7F9.js";import{R as Xe}from"./RoundsLeftInstruction-CfhlfnIo.js";import{R as Ze}from"./PictureOutlined-0Q826vXV.js";import{T as es}from"./TrophyIcon-CB5ZHQF2.js";import"./GameBanner-CJdxfwNd.js";import{G as ss}from"./GameOverWrapper-CAaMjqIO.js";import{A as rs}from"./Achievements-BZFdczzG.js";import{a as ts}from"./achievements-BW6l1tk2.js";import{A as os}from"./AvatarStrip-CLid_STO.js";import"./DebugOnly-CP-tbeFB.js";import"./speech-BGuTZdO9.js";import"./RulesModal-qgjpOZXF.js";import"./index-Dxqlgkoq.js";import"./PurePanel-DrXSpriN.js";import"./Game-CrZ9qcd_.js";import"./useMutation-DmnPa9Jt.js";import"./index-CFL-2I6C.js";import"./index-BSEM7knk.js";import"./Overflow-B0Az2Ril.js";import"./index-wtyobVCo.js";import"./Avatar-CCj9USHf.js";import"./useTDBaseUrl-BF9foKiS.js";import"./index-CAlRq3fk.js";import"./Loading-D3wGF09b.js";import"./useBubbleLock-Do_qHedl.js";import"./AnimatedLoaderIcon-Mx_RnMcx.js";import"./InfoCircleOutlined-DgCa3Uqs.js";import"./index-ClTEaIaJ.js";import"./SignIn-BzIltTNE.js";import"./GoogleIcon-CGJpX5iZ.js";import"./WaitingRoomIcon-CdIbqVRe.js";import"./AnimatedClockIcon-BKMCzhaY.js";import"./LikeFilled-D4TkbyGy.js";import"./StarFilled-DAZITdwW.js";import"./BoxCheckMarkIcon-DrvlZ0qL.js";import"./Sprite-DJAc41On.js";import"./WarningOutlined-BGGNWC7B.js";import"./ImageBlurButton-DnMXfv1P.js";import"./StarIcon-DADqSOdv.js";import"./StepBackwardOutlined-CcM0TkOV.js";import"./TrophyOutlined-oGce6563.js";import"./GarbageIcon-KwL8Im38.js";import"./RankingBoard-DOXC9zvn.js";import"./CaretUpOutlined-9P2Fibay.js";import"./TheEndIcon-aF6vkkce.js";import"./ArrowRightOutlined-D2TIyrGO.js";import"./progress-IWkjugVc.js";import"./TitledContainer-B_t3F_1O.js";import"./Medal-D96b5eEH.js";const b={CHARACTER_FILTERING:"CHARACTER_FILTERING",CHARACTER_DESCRIPTION:"CHARACTER_DESCRIPTION",GUESSING:"GUESSING",RESULTS:"RESULTS"},ae={SUBMIT_CHARACTERS:"SUBMIT_CHARACTERS",SUBMIT_GLYPHS:"SUBMIT_GLYPHS",SUBMIT_GUESSES:"SUBMIT_GUESSES"},as=10;function ns(s){const{translate:r}=W(),t=se({actionName:"submit-characters",onSuccess:()=>s(2),onError:()=>s(0),successMessage:r("Ação submetida com sucesso","Action submitted successfully"),errorMessage:r("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return o=>{t({action:ae.SUBMIT_CHARACTERS,...o})}}function is(s){const{translate:r}=W(),t=se({actionName:"submit-glyphs",onSuccess:()=>s(2),onError:()=>s(0),successMessage:r("Ação submetida com sucesso","Action submitted successfully"),errorMessage:r("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return o=>{t({action:ae.SUBMIT_GLYPHS,...o})}}function cs(s){const{translate:r}=W(),t=se({actionName:"submit-guesses",onSuccess:()=>s(2),onError:()=>s(0),successMessage:r("Ação submetida com sucesso","Action submitted successfully"),errorMessage:r("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return o=>{t({action:ae.SUBMIT_GUESSES,...o})}}const ls=s=>O.sampleSize(s,6).map(r=>r.id);function ds({user:s,announcement:r,onSelectCharacters:t}){const{isLoading:o}=me(),i=R(12,{gap:16,minWidth:100,maxWidth:200}),{dict:a,updateDict:c,length:d,keys:h}=ee({}),p=s.availableCharacters??[];return te(),e.jsxs(U,{fullWidth:!0,announcement:r,children:[e.jsx(B,{children:e.jsx(n,{pt:e.jsxs(e.Fragment,{children:["Selecione ",e.jsx(ie,{children:"6"})," cartas"]}),en:e.jsxs(e.Fragment,{children:["Select ",e.jsx(ie,{children:"6"})," cards"]})})}),e.jsx(M,{type:"action",children:e.jsx(n,{pt:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Selecione"})," 6 personagens/celebridades abaixo, dessas 5 serão usadas no jogo.",e.jsx("br",{}),"Essa etapa é necessária para que você não receba um personagem que não conheça."]}),en:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Select"})," 6 characters/celebrities below, 5 of them will be used in the game.",e.jsx("br",{}),"This step is necessary so that you don't receive a character you don't know."]})})}),e.jsx(_,{className:"grid-container grid-template-6 gap-4",wrap:!0,children:p.map(l=>e.jsx(C,{disabled:s.ready||o,onClick:()=>c(l.id),active:a[l.id],activeClass:"q-character-player",children:e.jsx(V,{size:i,character:l})},l.id))}),e.jsxs(S,{children:[e.jsx(k,{size:"large",type:"dashed",onClick:()=>t({characters:ls(p)}),loading:o,disabled:o||s.ready,children:e.jsx(n,{pt:e.jsx(e.Fragment,{children:"Escolha pra mim"}),en:e.jsx(e.Fragment,{children:"Choose for me"})})}),e.jsx(Te,{count:d,children:e.jsx(k,{size:"large",onClick:()=>t({characters:h}),loading:o,disabled:s.ready||d!==6,children:e.jsx(n,{pt:"Enviar cartas",en:"Submit cards"})})})]})]})}function hs({players:s,state:r}){const t=re(s,r),{step:o,setStep:i}=H(),a=ns(i),c=e.jsx(D,{icon:e.jsx(Ae,{}),title:e.jsx(n,{pt:"Quem você conhece?",en:"Who do you know?"}),currentRound:r?.round?.current,type:"overlay",children:e.jsx(z,{children:e.jsx(n,{pt:e.jsx(e.Fragment,{children:"Selecione personagens/pessoas que você conhece"}),en:e.jsx(e.Fragment,{children:"Select characters/people you know"})})})});return e.jsx(L,{phase:r?.phase,allowedPhase:b.CHARACTER_FILTERING,children:e.jsx($,{step:o,players:s,children:e.jsx(ds,{user:t,onSelectCharacters:a,announcement:c})})})}function ps({user:s}){return s.selectedGlyphs?e.jsxs(_,{wrap:!0,children:[e.jsx(V,{size:100,character:s.character}),e.jsx(oe,{player:s,glyphWidth:60})]}):null}function w({character:s,width:r,imageCardMode:t,className:o}){return t?e.jsx(Be,{cardId:s.id,children:e.jsx(xe,{id:s.id,cardWidth:r,className:o,preview:!1})}):e.jsx(V,{character:s,size:r,className:o})}function ms({characters:s,playerCharacterId:r,tableOrder:t,showAll:o=!0,imageCardMode:i=!1}){const a=R(8,{gap:16,minWidth:150,maxWidth:200}),c=t.slice(0,Math.floor(t.length/2)),d=t.slice(Math.floor(t.length/2));return o?e.jsxs(S,{className:"q-table",wrap:!0,children:[e.jsx(S,{wrap:!0,children:c.map(h=>e.jsx(w,{character:s[h],width:a,imageCardMode:i,className:Z(h===r&&"q-character-player")},h))}),e.jsx(S,{wrap:!0,children:d.map(h=>e.jsx(w,{character:s[h],width:a,imageCardMode:i,className:Z(h===r&&"q-character-player")},h))})]}):e.jsx(S,{className:"q-table",children:e.jsx(V,{character:s[r],size:a,className:"q-character-player"})})}function de({children:s,type:r,iconSize:t,className:o}){return e.jsx(je,{icon:e.jsx(Q,{}),type:r,iconSize:t,className:o,children:s})}function he({children:s,type:r,iconSize:t,className:o}){return e.jsx(je,{icon:e.jsx(Y,{}),type:r,iconSize:t,className:o,children:s})}const pe=[0,1,2];function us({user:s,announcement:r,onSelectGlyphs:t,characters:o,tableOrder:i,roundType:a,imageCardMode:c}){const{translate:d}=W(),h=R(20,{gap:16,minWidth:50,maxWidth:75}),p=h+15,{dict:l,updateDict:m,keys:x}=ee({}),{dict:f,updateDict:A,keys:E}=ee({}),K=s.glyphs??[];return te(),e.jsxs(U,{fullWidth:!0,announcement:r,children:[e.jsx(B,{children:e.jsx(n,{pt:e.jsx(e.Fragment,{children:"Descreva seu personagem com ícones"}),en:e.jsx(e.Fragment,{children:"Describe your character with glyphs"})})}),e.jsxs(M,{type:"rule",children:[e.jsx(n,{pt:e.jsxs(e.Fragment,{children:["Dos ícones abaixo, você pode selecionar até ",e.jsx(de,{children:"3"})," positivos e até ",e.jsx(he,{children:"3"})," negativos.",e.jsx("br",{})," Quando você clica em ícone, você determina se ele é relacionado ao seu personagem ou não.",e.jsx("br",{}),e.jsx("strong",{children:"A sua carta é a que tem a borda de bolinhas amarelas!"})]}),en:e.jsxs(e.Fragment,{children:["From the glyphs below, you may select up to ",e.jsx(de,{children:"3"})," positive and ",e.jsx(he,{children:"3"})," negative glyphs.",e.jsx("br",{}),"When you click on a glyph, you will determine if it's related or not to your character.",e.jsx("br",{}),e.jsx("strong",{children:"Your card is highlighted with the dotted yellow border!"})]})}),a==="SHOW"&&e.jsx(n,{pt:e.jsxs(e.Fragment,{children:[e.jsx("br",{}),"Você também pode ver todos os personagens abaixo caso queira evitar conflito com outros jogadores."]}),en:e.jsxs(e.Fragment,{children:[e.jsx("br",{}),"You can also take a look at all the characters for this round so you don't give clues that match others."]})})]}),a!=="SHOW"&&e.jsx(M,{type:"event",children:e.jsx(n,{pt:e.jsx(e.Fragment,{children:"De agora em diante, você vê apenas o seu personagem."}),en:e.jsx(e.Fragment,{children:"From now on, you only see your own character."})})}),e.jsx(ms,{characters:o,playerCharacterId:s.character?.id,tableOrder:i,showAll:a==="SHOW",imageCardMode:c}),e.jsxs(S,{className:"q-selections",children:[e.jsx("div",{className:"q-selections__section q-selections__section--positive",children:pe.map(j=>{const g=x[j];return e.jsx("div",{className:"q-selections__positive",children:e.jsxs("div",{className:"q-selections__entry",children:[e.jsx(I,{icon:e.jsx(Q,{})}),g!==void 0?e.jsx(C,{onClick:()=>m(g),title:d("Remover","Remove"),children:e.jsx(ne,{title:e.jsx(n,{pt:"Remover",en:"Remove"}),children:e.jsx(q,{width:p,id:g})})}):e.jsx("div",{className:"q-selections__no-glyph",style:{width:`${p}px`,height:`${p}px`}})]})},`pos-${j}-${g}`)})}),e.jsx("div",{className:"q-selections__section q-selections__section--negative",children:pe.map(j=>{const g=E[j];return e.jsx("div",{className:"q-selections__positive",children:e.jsxs("div",{className:"q-selections__entry",children:[e.jsx(I,{icon:e.jsx(Y,{})}),g!==void 0?e.jsx(C,{onClick:()=>A(g),children:e.jsx(ne,{title:e.jsx(n,{pt:"Remover",en:"Remove"}),trigger:"hover",children:e.jsx(q,{width:p,id:g})})}):e.jsx("div",{className:"q-selections__no-glyph",style:{width:`${p}px`,height:`${p}px`}})]})},`neg-${j}-${g}`)})})]}),e.jsx(_,{className:"glyphs",wrap:!0,children:K.map(j=>e.jsx(be,{content:e.jsx(xs,{id:j,updatePositive:m,updateNegative:A,disablePositive:x.length===3,disableNegative:E.length===3}),title:e.jsx(n,{pt:"Positivo ou Negativo?",en:"Positive or Negative"}),trigger:"click",children:e.jsx(C,{children:e.jsx(q,{width:h,id:j})})},j))}),e.jsx(S,{children:e.jsx(k,{size:"large",onClick:()=>t({glyphs:ke(l,f)}),disabled:s.ready||x.length<1&&E.length<1,children:e.jsx(n,{pt:e.jsx(e.Fragment,{children:"Enviar ícones"}),en:e.jsx(e.Fragment,{children:"Submit glyphs"})})})})]})}function xs({id:s,updatePositive:r,updateNegative:t,disablePositive:o,disableNegative:i}){return e.jsxs(_,{children:[e.jsx(C,{onClick:()=>r(s),disabled:o,children:e.jsx(I,{icon:e.jsx(Q,{}),size:"large"})}),e.jsx(C,{onClick:()=>t(s),disabled:i,children:e.jsx(I,{icon:e.jsx(Y,{}),size:"large"})})]})}function js({players:s,state:r}){const t=re(s,r),{step:o,goToNextStep:i,setStep:a}=H(),c=is(a),d=e.jsx(D,{icon:e.jsx(Ge,{}),title:e.jsx(n,{pt:"Descreva seu personagem com ícones",en:"Describe your character with glyphs"}),currentRound:r?.round?.current,type:"overlay",children:e.jsx(z,{children:e.jsx(n,{pt:e.jsx(e.Fragment,{children:"Selecione até 6 ícones que ajudem os outros jogadores a adivinhar o seu personagem"}),en:e.jsx(e.Fragment,{children:"Select up to 6 glyphs that would help other players to guess who your character is"})})})});return e.jsx(L,{phase:r?.phase,allowedPhase:b.CHARACTER_DESCRIPTION,children:e.jsxs($,{step:o,players:s,waitingRoom:{content:e.jsx(ps,{user:t})},children:[e.jsx(Fe,{round:r?.round,onPressButton:i,buttonText:" ",time:5}),e.jsx(us,{user:t,onSelectGlyphs:c,characters:r.characters,tableOrder:r.tableOrder,announcement:d,roundType:r.roundType,imageCardMode:r.mode==="imageCards"})]})})}function P({currentRound:s}){return e.jsx(n,{pt:e.jsxs(e.Fragment,{children:["Você ganha ",e.jsx(G,{children:s}),"ponto para cada par que acertar e também"," ",e.jsx(G,{children:s}),"ponto para cada jogador que acertar o seu."]}),en:e.jsxs(e.Fragment,{children:["You get ",e.jsx(G,{children:s}),"point for each pair you get correctly and also ",e.jsx(G,{children:s}),"point for each player who gets your character correctly"]})})}function gs({user:s,announcement:r,onSubmitGuesses:t,players:o,characters:i,tableOrder:a,round:c,imageCardMode:d}){const{isLoading:h}=me(),p=R(20,{gap:16,minWidth:45,maxWidth:60}),l=R(8,{gap:16,minWidth:120,maxWidth:200}),{votes:m,setVotes:x,activateItem:f,isVotingComplete:A,isItemActive:E}=De("player",!0,Object.keys(o).length,{}),[K,j]=F.useState(!1),g=()=>{j(!0);const u=Object.keys(m),y=Object.values(m),J=Object.keys(o).map(v=>N(["player",v])).filter(v=>!u.includes(v)),Se=O.shuffle(Object.keys(i).map(v=>N(["char",v])).filter(v=>!y.includes(v))),T={...m};return J.forEach((v,fe)=>{T[v]||(T[v]=Se[fe])}),x(T),T},ye=F.useCallback(()=>{if(s.character)return{[N(["player",s.id])]:N(["char",s.character.id])}},[s]);te(),F.useEffect(()=>{const u=ye();u&&x(y=>({...y,...u}))},[s?.character?.id]);const ve=Me(o,m);return e.jsxs(U,{fullWidth:!0,announcement:r,children:[e.jsx(B,{children:e.jsx(n,{pt:e.jsx(e.Fragment,{children:"Pareie os cada personagem com um jogador"}),en:e.jsx(e.Fragment,{children:"Pair player and characters"})})}),e.jsxs(M,{type:"rule",children:[e.jsx(n,{pt:e.jsxs(e.Fragment,{children:["De acordo com a seleção de ícones de cada jogador, tente adivinhar todos os pares.",e.jsx("br",{}),e.jsx("strong",{children:"Clique"})," em uma das barras de ícones então no personagem correspondente.",e.jsx("br",{}),"Para desfazer, basta selecionar normalmente que sua escolha era sobreposta."]}),en:e.jsxs(e.Fragment,{children:["Based on each player's glyphs selection, try to guess the pairs.",e.jsx("br",{}),e.jsx("strong",{children:"Click"})," on one of the glyph bars and then on the corresponding character.",e.jsx("br",{}),"To undo, just select normally that your choice was overridden."]})}),e.jsx("br",{}),e.jsx(P,{currentRound:c.current})]}),e.jsxs("div",{className:"q-voting-container",children:[e.jsx("div",{className:"q-voting-characters",children:a.map(u=>{const y=N(["char",u]),J=ve[u]??[];return e.jsxs(C,{onClick:()=>f(y),active:E(y),className:"q-voting-characters__button",children:[e.jsx(Le,{labels:J}),e.jsx(w,{character:i[u],width:l,className:Z(u==="a"&&"q-character-player"),imageCardMode:d})]},u)})}),e.jsx("div",{className:"q-players-glyphs",children:Ce(o).map(u=>{const y=N(["player",u.id]);return e.jsx(C,{onClick:()=>f(y),active:E(y),children:e.jsx(oe,{player:u,glyphWidth:p,done:!!m[y]})},`glyphs-for-${u.id}`)})})]}),e.jsxs(S,{children:[e.jsx(k,{size:"large",onClick:()=>t({guesses:We(m),choseRandomly:K}),disabled:s.ready||!A,children:e.jsx(n,{pt:e.jsx(e.Fragment,{children:"Enviar pares"}),en:e.jsx(e.Fragment,{children:"Submit guesses"})})}),e.jsx(ue,{size:"large",type:"dashed",onClick:()=>g(),disabled:h||s.ready,icon:e.jsx($e,{}),children:e.jsx(n,{pt:e.jsx(e.Fragment,{children:"Desistir"}),en:e.jsx(e.Fragment,{children:"Guess for me"})})})]})]})}function ys({players:s,state:r}){const t=re(s,r),{step:o,setStep:i}=H(),a=cs(i),c=e.jsx(D,{icon:e.jsx(He,{}),title:e.jsx(n,{pt:"Pareie os personagens e símbolos",en:"Pair characters with the players' glyphs"}),currentRound:r?.round?.current,type:"overlay",children:e.jsx(z,{children:e.jsx(P,{currentRound:r.round.current})})});return e.jsx(L,{phase:r?.phase,allowedPhase:b.GUESSING,children:e.jsx($,{step:o,players:s,children:e.jsx(gs,{user:t,onSubmitGuesses:a,characters:r.characters,tableOrder:r.tableOrder,players:s,announcement:c,round:r.round,imageCardMode:r.mode==="imageCards"})})})}function vs({players:s,playersSay:r,playersPoints:t,characters:o,currentColor:i,currentPlayer:a,round:c,imageCardMode:d}){const h=O.orderBy(Object.entries(r).map(([l,m])=>({cardId:l,character:o[l],playersIds:m,count:m.length,isCorrect:a.character.id===l})),["isCorrect","count","card.text"],["desc","desc","asc"]),p=r[a.character.id];return e.jsxs(_,{className:"q-gallery__info-container",direction:"vertical",children:[e.jsxs(_,{className:"q-gallery__votes",direction:"vertical",children:[e.jsx(le,{children:e.jsx(n,{pt:"Jogadores votaram",en:"Players voted"})}),h.map((l,m)=>e.jsxs("div",{className:"q-gallery__guess",children:[e.jsx(Qe,{winner:l.isCorrect,backgroundColor:i,children:d?e.jsx(xe,{id:l.character.id,cardWidth:35,className:"inline"}):e.jsx(_e,{children:l.character.name})}),e.jsx(X,{playersIds:l.playersIds,players:s})]},`guess-${l.cardId}-${m}`))]}),e.jsxs(_,{className:"q-gallery__votes",direction:"vertical",children:[e.jsx(le,{children:e.jsx(n,{pt:"Pontos",en:"Points"})}),p.length?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"q-gallery__players",children:e.jsx(X,{playersIds:p,players:s,children:e.jsx(ce,{quantity:c.current,keyPrefix:`guessers-points-${a.id}`})})}),e.jsx("div",{className:"q-gallery__player-points",children:e.jsx(X,{playersIds:[a.id],players:s,children:e.jsx(ce,{quantity:t?.[a.id],keyPrefix:`artist-points-${a.id}`})})})]}):e.jsx(Ke,{children:e.jsx(n,{pt:"Esses ícones devem ter sido uma bosta, heim.",en:"It must have been a very crappy glyphs. What a shame..."})})]})]})}function Ss({players:s,gallery:r,characters:t,slideShowConfig:o,round:i,imageCardMode:a}){Ne();const c=R(20,{gap:16,minWidth:45,maxWidth:60}),d=R(8,{gap:16,minWidth:120,maxWidth:200}),{playerId:h,characterId:p,playersPoints:l,playersSay:m}=r[o.slideIndex],x=s[h],f=Re(x.avatarId);return e.jsxs(U,{className:"l-step-album",children:[e.jsx(B,{children:e.jsx(n,{pt:"Galeria",en:"Gallery"})}),e.jsx(ge,{content:e.jsx(P,{currentRound:i.current})}),e.jsxs(Ye,{config:o,barColor:f,leftClassName:"q-gallery__result",rightClassName:"q-gallery__info",children:[e.jsxs("div",{className:"q-gallery__result-container",children:[e.jsx("div",{className:"q-gallery__player",style:{backgroundColor:f},children:e.jsx(Ve,{player:x,size:"large"})}),e.jsxs(S,{vertical:!0,children:[e.jsx(w,{character:t[p],width:d,imageCardMode:a}),e.jsx(oe,{player:x,glyphWidth:c})]})]}),e.jsx(vs,{players:s,playersSay:m,playersPoints:l,characters:t,currentColor:f,currentPlayer:x,round:i,imageCardMode:a})]})]})}function fs({players:s,ranking:r,round:t,onGoBack:o}){return e.jsxs(Je,{players:s,ranking:r,gainedPointsDescriptions:[e.jsx(n,{pt:"Votos corretos",en:"Correct guesses"},"1"),e.jsx(n,{pt:"Votos corretos em seu personagem por outros jogadores",en:"Correct guesses on your character by other players"},"2")],children:[e.jsx(ge,{content:e.jsx(P,{currentRound:t.current})}),e.jsx(Xe,{round:t}),e.jsx(ue,{size:"large",onClick:o,icon:e.jsx(Ze,{}),children:e.jsx(n,{pt:"Ver Galeria Novamente",en:"See Gallery Again"})}),e.jsx(Ie,{round:t})]})}function bs({players:s,state:r}){const{step:t,goToPreviousStep:o,goToNextStep:i}=H(),a=ze({length:r.gallery.length,slideDuration:as,onExpire:i}),c=()=>{a.reset(),o()};return e.jsx(L,{phase:r?.phase,allowedPhase:b.RESULTS,children:e.jsxs($,{step:t,players:s,children:[e.jsx(D,{icon:e.jsx(Ue,{}),title:e.jsx(n,{pt:"Resultado",en:"Results"}),onClose:i,currentRound:r?.round?.current,unskippable:!0,type:"block",children:e.jsx(z,{children:e.jsx(P,{currentRound:r.round.current})})}),e.jsx(Ss,{players:s,gallery:r.gallery,characters:r.characters,slideShowConfig:a,round:r.round,imageCardMode:r.mode==="imageCards"}),e.jsx(fs,{players:s,ranking:r.ranking,round:r.round,onGoBack:c})]})})}function Cs({players:s,character:r,glyphWidth:t,imageCardsMode:o}){const[i,a]=F.useMemo(()=>Oe(r.glyphs??{}),[r.glyphs]);return e.jsxs("div",{className:"q-player-glyphs q-final-character",children:[e.jsx(os,{player:s[r.playerId],withName:!0,className:"q-player-glyphs__strip"}),e.jsx(w,{width:100,character:r,imageCardMode:o}),i.map((c,d)=>e.jsxs("div",{className:"q-player-glyphs__entry q-player-glyphs__entry--positive",children:[e.jsx(I,{icon:e.jsx(Q,{}),size:"small"}),c?e.jsx(q,{width:t,id:c}):e.jsx("div",{className:"q-selections__no-glyph",style:{width:`${t}px`,height:`${t}px`}})]},`pos-${r.id}-${c}-${d}`)),a.map((c,d)=>e.jsxs("div",{className:"q-player-glyphs__entry q-player-glyphs__entry--negative",children:[e.jsx(I,{icon:e.jsx(Y,{}),size:"small"}),c?e.jsx(q,{width:t,id:c}):e.jsx("div",{className:"q-selections__no-glyph",style:{width:`${t}px`,height:`${t}px`}})]},`neg-${r.id}-${c}-${d}`))]})}function _s({state:s,players:r,meta:t}){return e.jsxs(ss,{state:s,players:r,announcementIcon:e.jsx(es,{}),children:[e.jsx(rs,{players:r,achievements:s.achievements,reference:ts}),e.jsx(S,{wrap:!0,children:O.orderBy(s.gallery,`name.${t.language}`).map(o=>e.jsx(Cs,{players:r,character:o,glyphWidth:30,imageCardsMode:!!t.options?.imageCardsMode},o.id))})]})}function Rs(s){switch(s.phase){case b.CHARACTER_FILTERING:return hs;case b.CHARACTER_DESCRIPTION:return js;case b.GUESSING:return ys;case b.RESULTS:return bs;case Pe.DEFAULT.GAME_OVER:return _s;default:return we}}function Zr(){return e.jsx(qe,{gameCollection:Ee.QUEM_SOU_EU,getActiveComponent:Rs})}export{Zr as default};
