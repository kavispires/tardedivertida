import{r as h,az as U,j as e,T as o,aM as q,B as T,k as P,s as Y,aL as A,f as I,aI as G,aJ as C,t as D,q as J,w as K,a_ as Q,y as V,aN as X,o as f,n as H,e as E,l as O,a$ as Z,b0 as L,G as v}from"./index-BYXJm2xO.js";import{R as W}from"./index-CXm7oVqZ.js";import{R as ee}from"./InfoCircleOutlined-B_m_3TMH.js";import{D as ae}from"./index-2arZnTlj.js";import{D as S}from"./index-C3IEhN0F.js";import{G as ne,R as se}from"./RulesModal-cAUwZmYF.js";import{C as b}from"./index-BApe9PrI.js";import{F as te}from"./FilterFilled-B9EqEaba.js";import{M as oe}from"./DoubleRightOutlined-C04Fzz6W.js";import"./useBubbleLock-DI8H9xrz.js";import"./useId-DZLnF_32.js";import"./WritingIcon-K2CK8Jqr.js";import"./index-DLv1EDUT.js";import"./EllipsisOutlined-Dw2zE8pn.js";import"./PlusOutlined-ByZyTB3m.js";import"./Overflow-DtUpVo91.js";import"./useEvent-DuWscglO.js";import"./PurePanel-CPWaqvZN.js";function $(){return $=Object.assign?Object.assign.bind():function(n){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(n[t]=s[t])}return n},$.apply(this,arguments)}const ie=(n,a)=>h.createElement(U,$({},n,{ref:a,icon:te})),le=h.forwardRef(ie);function z({name:n,value:a="any",firstOption:s,secondOption:t,onChange:i}){const g=[{label:e.jsx(o,{pt:"Tanto faz",en:"Whatever"}),value:"any"},{label:e.jsx(o,{pt:s.text.pt,en:s.text.en}),value:s.value},{label:e.jsx(o,{pt:t.text.pt,en:t.text.en}),value:t.value}];return e.jsx(W.Group,{onChange:i,value:a,className:"showcase-filter-options",size:"small",name:n,optionType:"button",buttonStyle:a!=="any"?"solid":"outline",options:g})}const re=[{label:e.jsx(o,{pt:"Tanto faz",en:"Whatever"}),value:"any"},{label:e.jsx(o,{pt:"Sim",en:"Yes"}),value:"on"},{label:e.jsx(o,{pt:"Não",en:"No"}),value:"off"}];function c({name:n,onChange:a,value:s="any"}){return e.jsx(W.Group,{onChange:a,value:s,className:"showcase-filter-options",size:"small",name:n,optionType:"button",buttonStyle:s!=="any"?"solid":"outline",options:re})}function r({label:n,tooltip:a,children:s}){return e.jsxs("div",{className:"showcase-filter-entry",children:[e.jsxs("label",{className:"showcase-filter-entry__label",htmlFor:String(n),children:[n,!!a&&e.jsx(q,{title:a,children:e.jsx(T,{type:"text",shape:"circle",icon:e.jsx(ee,{}),size:"small"})})]}),e.jsx("div",{className:"showcase-filter-entry__content",children:s})]})}function ce({list:n,filters:a,setFilters:s,showFilters:t,setShowFilters:i}){const{width:g}=P(),l=d=>{s(y=>({...y,[d.target.name]:d.target.value}))};return e.jsxs(ae,{open:t,title:e.jsx(o,{pt:e.jsxs(e.Fragment,{children:["Filtros (",n.length," jogos)"]}),en:e.jsxs(e.Fragment,{children:["Filters (",n.length," games)"]})}),placement:"left",onClose:()=>i(!1),width:Math.min(g/1.1,600),footer:e.jsxs(A,{align:"center",children:[e.jsx(T,{onClick:()=>s({}),children:e.jsx(o,{pt:"Limpar filtros",en:"Clear filters"})}),e.jsx(T,{type:"primary",onClick:()=>i(!1),children:"OK"})]}),children:[e.jsx(r,{label:e.jsx(o,{pt:"Idioma",en:"Language"}),tooltip:e.jsx(o,{pt:"Mudar língua do aplicativo, as cartas do jogo continuarão em sua língua original",en:"Change app language, the game cards will remain in its original language"}),children:e.jsx(Y,{})}),e.jsx(S,{}),e.jsx(r,{label:e.jsx(o,{pt:"Disponibilidade",en:"Availability"}),tooltip:e.jsx(o,{pt:"Somente jogos prontos a serem jogados",en:"Only games ready to be played"}),children:e.jsx(c,{name:"availability",value:a==null?void 0:a.availability,onChange:l})}),e.jsx(r,{label:e.jsx(o,{pt:"Aparelho Móvel",en:"Mobile Friendly"}),tooltip:e.jsx(o,{pt:"Dá pra jogar no iPad/Tablet e talvez no celular",en:"You may play on your tablet and possibly on a phone"}),children:e.jsx(c,{name:"mobile-friendly",value:a==null?void 0:a["mobile-friendly"],onChange:l})}),e.jsx(S,{}),e.jsx("div",{className:"showcase-filter-section",children:e.jsxs("label",{className:"showcase-filter-entry__label",htmlFor:"dynamics-filter",children:[e.jsx(o,{pt:"Dinâmicas",en:"Dynamics"})," "]})}),e.jsx(r,{label:e.jsx(o,{pt:"Tipo",en:"Type"}),children:e.jsx(z,{name:"type",onChange:l,value:a.type,firstOption:{value:"competitive",text:{en:"Competitive",pt:"Competitivo"}},secondOption:{value:"cooperative",text:{en:"Cooperative",pt:"Cooperativo"}}})}),e.jsx(r,{label:e.jsx(o,{pt:"Rodadas",en:"Rounds"}),children:e.jsx(z,{name:"rounds",onChange:l,value:a.rounds,firstOption:{value:"turn-based",text:{en:"Turn Based",pt:"Cada vez um"}},secondOption:{value:"same-time",text:{en:"At the same time",pt:"Todos juntos"}}})}),e.jsx(S,{}),e.jsx("div",{className:"showcase-filter-section",children:e.jsxs("label",{className:"showcase-filter-entry__label",htmlFor:"mechanics-filter",children:[e.jsx(o,{pt:"Mecânicas",en:"Mechanics"})," "]})}),e.jsx(r,{label:e.jsx(o,{pt:"De desenhar",en:"Drawing"}),children:e.jsx(c,{name:"drawing",value:a==null?void 0:a.drawing,onChange:l})}),e.jsx(r,{label:e.jsx(o,{pt:"De escrever",en:"Writing"}),children:e.jsx(c,{name:"writing",value:a==null?void 0:a.writing,onChange:l})}),e.jsx(r,{label:e.jsx(o,{pt:"Com cartas imagens",en:"With images"}),children:e.jsx(c,{name:"images",value:a==null?void 0:a.images,onChange:l})}),e.jsx(r,{label:e.jsx(o,{pt:"De adivinhar",en:"With guessing"}),children:e.jsx(c,{name:"guessing",value:a==null?void 0:a.guessing,onChange:l})}),e.jsx(r,{label:e.jsx(o,{pt:"Com votação",en:"With voting"}),children:e.jsx(c,{name:"voting",value:a==null?void 0:a.voting,onChange:l})}),e.jsx(r,{label:e.jsx(o,{pt:"Com tempo",en:"Timed"}),children:e.jsx(c,{name:"timed",value:a==null?void 0:a.timed,onChange:l})}),e.jsx(r,{label:e.jsx(o,{pt:"Fazer Pares",en:"Matching"}),children:e.jsx(c,{name:"pairing",value:a==null?void 0:a.pairing,onChange:l})}),e.jsx(r,{label:e.jsx(o,{pt:"Com inimigo",en:"With a traitor"}),children:e.jsx(c,{name:"traitor",value:a==null?void 0:a.traitor,onChange:l})}),e.jsx(r,{label:e.jsx(o,{pt:"De discussão",en:"With discussion"}),children:e.jsx(c,{name:"discussion",value:a==null?void 0:a.discussion,onChange:l})}),e.jsx(r,{label:e.jsx(o,{pt:"De tentar a sorte",en:"Push your luck"}),children:e.jsx(c,{name:"push-your-luck",value:a==null?void 0:a.discussion,onChange:l})})]})}function pe({game:n}){var t,i;const{language:a,translate:s}=I();return e.jsxs(e.Fragment,{children:[e.jsx(G,{alt:n.title[a],src:`${C.EXAMPLES}game-example-${n.gameName}.png`,fallback:`${C.BANNERS}/em-breve-${a}.jpg`}),e.jsx(b.Meta,{style:{margin:"8px 0"},description:n.summary[a]}),e.jsx(b.Meta,{description:s(`Para ${n.playerCount.min}-${n.playerCount.max} jogadores`,`For ${n.playerCount.min}-${n.playerCount.max} players`)}),e.jsx(b.Meta,{className:"game-card__player-count",description:s(`Melhor com ${n.playerCount.best||"?"} jogadores`,`Best wih ${n.playerCount.best||"?"} players`)}),e.jsx(b.Meta,{className:"game-card__player-count game-card__margin-bottom",description:s(`Recomendado jogar com ${D(n.playerCount.recommended)}`,`Recommended with ${D(n.playerCount.recommended)}`)}),e.jsx(ne,{wrap:!0,size:[1,6],prefixCls:n.gameName,style:{display:"flex",marginTop:"12px"},gameCode:n.gameCode,tags:n.tags}),e.jsx(J,{style:{marginTop:"12px"},children:((i=(t=n.rules)==null?void 0:t[a])==null?void 0:i.length)>1&&e.jsx(se,{gameInfo:n})})]})}const me=(n,a)=>n.filter(s=>{const t=[];if(F(a.availability)){const i=["beta","stable"].includes(s.release);t.push(a.availability==="on"?i:!i)}return m(a,s,"mobile-friendly",t),m(a,s,"drawing",t),m(a,s,"writing",t),m(a,s,"images",t),m(a,s,"voting",t),m(a,s,"guessing",t),m(a,s,"timed",t),m(a,s,"pairing",t),m(a,s,"traitor",t),m(a,s,"discussion",t),m(a,s,"push-your-luck",t),B(a,s,"type",t),B(a,s,"rounds",t),t.every(i=>i)}),F=n=>n!==void 0&&n!=="any",m=(n,a,s,t)=>{if(F(n[s])){const i=a.tags.includes(s);t.push(n[s]==="on"?i:!i)}},B=(n,a,s,t)=>{if(F(n[s])){const i=a.tags.includes(n[s]);t.push(i)}},ue=Object.values(v);function De(){var _;K("Showcase | Tarde Divertida");const{language:n}=I(),[a,s]=Q(),{width:t}=P(),[,i]=V("language"),[g,l]=h.useState(!1),[d,y]=h.useState(""),[x,M]=h.useState({availability:"on"}),[R,k]=h.useState([]);return X(()=>{const p=Object.fromEntries(new URLSearchParams(a));if(Object.keys(p).length>0){const u=Object.entries(p).reduce((w,[N,j])=>((j==="off"||j==="on")&&(w[N]=j),N==="language"&&j==="en"&&i("en"),j!=="any"&&(w[N]=j),w),{});M(u)}}),h.useEffect(()=>{k(me(ue,x));const p=Object.keys(x).filter(u=>x[u]!=="any").map(u=>`${u}=${x[u]}`);n!=="pt"&&p.push(`language=${n}`),s(p.join("&"))},[x,n,s,i]),e.jsxs(f,{className:"showcase",children:[e.jsxs("ul",{className:"showcase-list",style:{gridTemplateColumns:`repeat(${t>450?4:2}, 1fr)`},children:[e.jsx("li",{className:E("showcase-entry showcase-entry--title",L("zoomIn")),children:e.jsxs(O,{onClick:()=>l(!0),className:"showcase-image-button",hoverType:"sepia",children:[e.jsx("h1",{className:"showcase-title",children:e.jsx(o,{pt:"Vitrine",en:"Showcase"})}),e.jsx(A,{className:"showcase-menu",children:e.jsx(Z,{icon:e.jsx(le,{}),shape:"circle",size:"small"})})]})}),H.orderBy(R,`title.${n}`).map((p,u)=>e.jsx("li",{className:E("showcase-entry",L("zoomIn",{delay:u+.3})),children:e.jsxs(O,{onClick:()=>y(p.gameName),className:"showcase-image-button",hoverType:"sepia",children:[e.jsx(G,{alt:p.title[n],src:`${C.BANNERS}${p.gameName}-${n}.jpg`,fallback:`${C.BANNERS}/em-breve-${n}.jpg`,className:"showcase-image",preview:!1}),e.jsx("span",{className:"showcase-popular-name",children:p.popularName[n]})]})},p.gameCode))]}),e.jsx(ce,{list:R,filters:x,setFilters:M,showFilters:g,setShowFilters:l}),!!((_=v)!=null&&_[d])&&e.jsx(oe,{open:!!d,onOk:()=>y(""),onCancel:()=>y(""),title:v[d].title[n],centered:!0,children:e.jsx(pe,{game:v[d]})})]})}export{De as default};
