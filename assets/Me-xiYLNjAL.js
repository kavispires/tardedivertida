import{r as d,g as Le,m as we,a as De,u as Ie,b as qe,c as f,p as ke,S as ze,d as Fe,e as Ge,G as w,j as e,C as _,I as C,f as A,P as L,h as He,D as T,i as X,B as Z,R as Q,k as M,l as Ve,T as r,t as B,n as q,o as Be,q as K,A as Ue,s as We,v as ee,F as U,w as te,x as Je,L as Ye,y as Xe,z as Ze,E as Qe,H as Ke,J as et}from"./index-CzR3Jb-u.js";import{L as tt}from"./LoginModal-BX1sODwr.js";import{a as at}from"./achievements-DKaYe857.js";import{a as st}from"./achievements-C6tz5Jf8.js";import{a as nt}from"./achievements-CQg2yFUn.js";import{a as ot}from"./achievements-BSYlXBla.js";import{a as rt}from"./achievements-D3bN1bkf.js";import{a as it}from"./achievements-CXubfGnp.js";import{a as lt}from"./achievements-B2fypp9m.js";import{a as ct}from"./achievements-D_nq8RdB.js";import{a as mt}from"./achievements-_vvMKcjs.js";import{a as dt}from"./achievements-BxjxP5BM.js";import{a as ut}from"./achievements-Tfw1DHB7.js";import{a as pt}from"./achievements-D36shYC1.js";import{a as xt}from"./achievements-BKUTTYlo.js";import{a as ht}from"./achievements-BA7PtnkR.js";import{a as jt}from"./achievements-BSEbEnaM.js";import{a as gt}from"./achievements-Bi6yja8n.js";import{a as ft}from"./achievements-EYXsF_f8.js";import{a as vt}from"./achievements-BS2UNQYY.js";import{a as yt}from"./achievements-DKU7MdWP.js";import{a as St}from"./achievements-DXncP8dz.js";import{a as Tt}from"./achievements--nd0RmXL.js";import{a as _t}from"./achievements-_n9E3c3J.js";import{a as Ct}from"./achievements-Z0392ojz.js";import{a as Mt}from"./achievements-CqoaSvwi.js";import{a as Nt}from"./achievements-BW6l1tk2.js";import{a as Et}from"./achievements-Dlb9dcYM.js";import{a as $t}from"./achievements-BfFZpvTu.js";import{a as bt}from"./achievements-BIDRAQUl.js";import{a as Ot}from"./achievements-BDjWFbEg.js";import{a as Rt}from"./achievements-CmGhlrFd.js";import{a as At}from"./achievements-qAk8QZBN.js";import{a as Pt}from"./achievements-BM6fd8Oq.js";import{C as D}from"./CalendarIcon-DV981kh6.js";import{D as ae,M as Lt,C as se}from"./MultitaskIcon-Db7qAfMj.js";import{C as ne}from"./ClockIcon-lTF9VVgy.js";import{P as oe}from"./PlayersIcon-v_vQgRZL.js";import{S as k}from"./SealOfApprovalIcon-BgzO4ePB.js";import{S as re}from"./SkullIcon-DzzW37RI.js";import{T as ie}from"./TrophyIcon-ZWGGa-vH.js";import{U as wt}from"./UserStatsIcon-DlhaSuNL.js";import{R as W,L as Dt}from"./LogoutButton-D3Tts0Uk.js";import{P as It}from"./PlayerAvatar-C2AYjUyr.js";import{T as qt}from"./TextHighlight-CrSlhEG6.js";import{C as le}from"./index-G395RaUX.js";import{u as kt}from"./useQueryParams-8XLDbRCZ.js";import{S as zt}from"./SpeechBubbleAcceptedIcon-B-fIMu8c.js";import{G as Ft,R as Gt,a as Ht,b as ce}from"./RulesModal-cfsg2n6f.js";import{M as me}from"./Medal-DjZXasO-.js";import{D as z}from"./index-Qqk3EiKM.js";import{M as Vt,B as Bt}from"./index-B_OUGl_p.js";import{S as Ut}from"./index-DgBA00RF.js";/* empty css           */import{T as Wt}from"./index-D2LCZ8HE.js";import"./SignIn-C5rL34CY.js";import"./useMutation-CEZy_Oir.js";import"./GoogleIcon-bNyxf9F0.js";import"./WritingIcon-DMYQPjcW.js";import"./PurePanel-DBMOlhfO.js";import"./Overflow-BBTTfFHj.js";import"./extends-CF3RwP-h.js";import"./EllipsisOutlined-M1d6muGF.js";import"./PlusOutlined-DttJpjjp.js";const Jt=a=>{const{value:t,formatter:s,precision:o,decimalSeparator:l,groupSeparator:i="",prefixCls:c}=a;let m;if(typeof s=="function")m=s(t);else{const n=String(t),u=n.match(/^(-?)(\d*)(\.(\d+))?$/);if(!u||n==="-")m=n;else{const p=u[1];let g=u[2]||"0",j=u[4]||"";g=g.replace(/\B(?=(\d{3})+(?!\d))/g,i),typeof o=="number"&&(j=j.padEnd(o,"0").slice(0,o>0?o:0)),j&&(j=`${l}${j}`),m=[d.createElement("span",{key:"int",className:`${c}-content-value-int`},p,g),j&&d.createElement("span",{key:"decimal",className:`${c}-content-value-decimal`},j)]}}return d.createElement("span",{className:`${c}-content-value`},m)},Yt=a=>{const{componentCls:t,marginXXS:s,padding:o,colorTextDescription:l,titleFontSize:i,colorTextHeading:c,contentFontSize:m,fontFamily:n}=a;return{[t]:{...De(a),[`${t}-header`]:{paddingBottom:s,[`${t}-title`]:{color:l,fontSize:i}},[`${t}-skeleton`]:{paddingTop:o},[`${t}-content`]:{color:c,fontSize:m,fontFamily:n,[`${t}-content-value`]:{display:"inline-block",direction:"ltr"},[`${t}-content-prefix, ${t}-content-suffix`]:{display:"inline-block"},[`${t}-content-prefix`]:{marginInlineEnd:s},[`${t}-content-suffix`]:{marginInlineStart:s}}}}},Xt=a=>{const{fontSizeHeading3:t,fontSize:s}=a;return{titleFontSize:s,contentFontSize:t}},Zt=Le("Statistic",a=>{const t=we(a,{});return Yt(t)},Xt),P=d.forwardRef((a,t)=>{const{prefixCls:s,className:o,rootClassName:l,style:i,valueStyle:c,value:m=0,title:n,valueRender:u,prefix:p,suffix:g,loading:j=!1,formatter:h,precision:S,decimalSeparator:N=".",groupSeparator:O=",",onMouseEnter:pe,onMouseLeave:xe,styles:he,classNames:je,...ge}=a,{getPrefixCls:fe,direction:ve,className:ye,style:Se,classNames:Te,styles:_e}=Ie("statistic"),v=fe("statistic",s),[Ce,Me]=Zt(v),Ne={...a,decimalSeparator:N,groupSeparator:O,loading:j,value:m},[E,$]=qe([Te,je],[_e,he],{props:Ne}),H=d.createElement(Jt,{decimalSeparator:N,groupSeparator:O,prefixCls:v,formatter:h,precision:S,value:m}),Ee=f(v,{[`${v}-rtl`]:ve==="rtl"},ye,o,l,E.root,Ce,Me),$e=f(`${v}-header`,E.header),be=f(`${v}-title`,E.title),Oe=f(`${v}-content`,E.content),Re=f(`${v}-content-prefix`,E.prefix),Ae=f(`${v}-content-suffix`,E.suffix),V=d.useRef(null);d.useImperativeHandle(t,()=>({nativeElement:V.current}));const Pe=ke(ge,{aria:!0,data:!0});return d.createElement("div",{...Pe,className:Ee,style:{...$.root,...Se,...i},ref:V,onMouseEnter:pe,onMouseLeave:xe},n&&d.createElement("div",{className:$e,style:$.header},d.createElement("div",{className:be,style:$.title},n)),d.createElement(ze,{paragraph:!1,loading:j,className:`${v}-skeleton`,active:!0},d.createElement("div",{className:Oe,style:{...c,...$.content}},p&&d.createElement("span",{className:Re,style:$.prefix},p),u?u(H):H,g&&d.createElement("span",{className:Ae,style:$.suffix},g))))}),Qt=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]];function Kt(a,t){let s=a;const o=/\[[^\]]*]/g,l=(t.match(o)||[]).map(n=>n.slice(1,-1)),i=t.replace(o,"[]"),c=Qt.reduce((n,[u,p])=>{if(n.includes(u)){const g=Math.floor(s/p);return s-=g*p,n.replace(new RegExp(`${u}+`,"g"),j=>{const h=j.length;return g.toString().padStart(h,"0")})}return n},i);let m=0;return c.replace(o,()=>{const n=l[m];return m+=1,n})}function ea(a,t,s){const{format:o=""}=t,l=new Date(a).getTime(),i=Date.now(),c=Math.max(s?l-i:i-l,0);return Kt(c,o)}const ta=1e3/60;function aa(a){return new Date(a).getTime()}const de=a=>{const{value:t,format:s="HH:mm:ss",onChange:o,onFinish:l,type:i,...c}=a,m=i==="countdown",[n,u]=d.useState(null),p=Fe(()=>{const h=Date.now(),S=aa(t);u({});const N=m?S-h:h-S;return o?.(N),m&&S<h?(l?.(),!1):!0});d.useEffect(()=>{let h;const S=()=>{p()||window.clearInterval(h)},N=()=>{h=window.setInterval(S,ta)},O=()=>{window.clearInterval(h)};return N(),()=>{O()}},[t,m]),d.useEffect(()=>{u({})},[]);const g=(h,S)=>n?ea(h,{...S,format:s},m):"-",j=h=>Ge(h,{title:void 0});return d.createElement(P,{...c,value:t,valueRender:j,formatter:g})},sa=a=>d.createElement(de,{...a,type:"countdown"}),na=d.memo(sa);P.Timer=de;P.Countdown=na;const y={MOST_FIRST_PLACE:"MOST_FIRST_PLACE",MOST_SECOND_PLACE:"MOST_SECOND_PLACE",MOST_THIRD_PLACE:"MOST_THIRD_PLACE",MOST_LAST_PLACE:"MOST_LAST_PLACE",MOST_SECOND_TO_LAST_PLACE:"MOST_SECOND_TO_LAST_PLACE",MOST_NO_MOVEMENT:"MOST_NO_MOVEMENT",MOST_SELF_CARDS:"MOST_SELF_CARDS",MOST_OTHER_CARDS:"MOST_OTHER_CARDS",MOST_MOVEMENT:"MOST_MOVEMENT",LEAST_MOVEMENT:"LEAST_MOVEMENT"},oa={[y.MOST_FIRST_PLACE]:{icon:"one",title:{pt:"Mais primeiros lugares",en:"Most first places"},description:{pt:"Esteve em primeiro lugar mais rodadas que qualquer outro jogador.",en:"You were in first place more rounds than any other player."}},[y.MOST_SECOND_PLACE]:{icon:"two",title:{pt:"Mais segundos lugares",en:"Most second places"},description:{pt:"Esteve em segundo lugar mais rodadas que qualquer outro jogador.",en:"You were in second place more rounds than any other player."}},[y.MOST_THIRD_PLACE]:{icon:"three",title:{pt:"Mais terceiros lugares",en:"Most third places"},description:{pt:"Esteve em terceiro lugar mais rodadas que qualquer outro jogador.",en:"You were in third place more rounds than any other player."}},[y.MOST_LAST_PLACE]:{icon:"zero",title:{pt:"Mais últimos lugares",en:"Most last places"},description:{pt:"Esteve em último lugar mais rodadas que qualquer outro jogador.",en:"You were in last place more rounds than any other player."}},[y.MOST_SECOND_TO_LAST_PLACE]:{icon:"x",title:{pt:"Mais penúltimos lugares",en:"Most second to last places"},description:{pt:"Esteve em penúltimo lugar mais rodadas que qualquer outro jogador.",en:"You were in second to last place more rounds than any other player."}},[y.MOST_NO_MOVEMENT]:{icon:"face-tired",title:{pt:"Mais sem movimento",en:"Most no movement"},description:{pt:"Não se moveu mais rodadas que qualquer outro jogador.",en:"Did not move more rounds than any other player."}},[y.MOST_SELF_CARDS]:{icon:"card",title:{pt:"Mais cartas próprias",en:"Most self cards"},description:{pt:"Usou si mesmo como corredor-alvo mais que qualquer outro jogador.",en:"Used yourself as target runner more than any other player."}},[y.MOST_OTHER_CARDS]:{icon:"people",title:{pt:"Mais cartas de outros",en:"Most other cards"},description:{pt:"Usou outros como corredor-alvo mais que qualquer outro jogador.",en:"Used others as target runner more than any other player."}},[y.MOST_MOVEMENT]:{icon:"hare",title:{pt:"Mais movimento",en:"Most movement"},description:{pt:"Se moveu mais rodadas que qualquer outro jogador.",en:"Moved more rounds than any other player."}},[y.LEAST_MOVEMENT]:{icon:"snail",title:{pt:"Menos movimento",en:"Least movement"},description:{pt:"Se moveu menos rodadas que qualquer outro jogador.",en:"Moved less rounds than any other player."}}},F={adedanhx:at,"arte-ruim":st,"bomba-relogio":null,"cinegrafistas-amadores":null,"comunicacao-alienigena":nt,"comunicacao-duo":ot,"contadores-historias":rt,"crimes-hediondos":it,"cruza-palavras":lt,"detetives-imaginativos":ct,esquiadores:dt,duetos:mt,"espiao-entre-nos":null,"fileira-de-fatos":ut,"galeria-de-sonhos":pt,"instrumentos-codificados":null,"labirinto-secreto":xt,"linhas-cruzadas":ht,"medidas-nao-exatas":jt,megamix:gt,"mente-coletiva":ft,metalinguagem:vt,"na-rua-do-medo":yt,"nao-sou-robo":St,naufragos:null,"onda-telepatica":Tt,"palheta-de-cores":null,"planejamento-urbano":_t,"polemica-da-vez":Ct,"porta-dos-desesperados":Mt,"quem-nao-mata":null,"quem-sou-eu":Nt,"retrato-falado":Et,"sinais-de-alerta":$t,"sonhos-pesadelos":null,"super-campeonato":bt,"ta-na-cara":null,"testemunha-ocular":Rt,"teste-de-elenco":Ot,"trevo-da-sorte":null,"ue-so-isso":At,"vamos-ao-cinema":Pt,"vendaval-de-palpite":null,"vice-campeao":oa};function I(a,t){const s=new Date(a),o=s.getFullYear(),l=(s.getMonth()+1).toString().padStart(2,"0"),i=s.getDate().toString().padStart(2,"0");return`${o}/${l}/${i}`}function ue(a){const t=Math.floor(a/6e4),s=Math.round(t/60);return s<1?t/60:s}const G=Object.entries(w).reduce((a,[t,s])=>(["stable","beta"].includes(s.release)&&(a[t]=s),a),{}),ra=Object.keys(G).length;function ia({names:a}){return!a||a.length===0?null:e.jsxs(e.Fragment,{children:[": ",e.jsx(qt,{children:a.at(-1)})]})}function x({icon:a,title:t,value:s,disabled:o,description:l,...i}){return e.jsx(_,{xs:24,sm:8,md:8,lg:6,children:e.jsx(le,{variant:"borderless",size:"small",className:"me__card-statistic",children:e.jsx(P,{title:t,value:o?0:s,prefix:e.jsx(C,{size:"small",icon:a}),...i})})})}function b({title:a,children:t,xs:s,sm:o,md:l,lg:i}){return e.jsx(_,{xs:s??24,sm:o??12,md:l??8,lg:i??6,children:e.jsx(le,{title:a,variant:"borderless",size:"small",className:"me__card-info",children:t})})}function la({gameName:a,width:t,title:s,className:o,children:l,showLogo:i=!0,static:c=!1}){const{language:m,dualTranslate:n}=A(),u=t/1.5,p=u;return e.jsxs("figure",{className:f("game-video",o),style:{width:`${t}px`,minWidth:`${t}px`,height:`${p}px`},children:[e.jsx("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"game-video__video",children:e.jsx("source",{src:`${L.VIDEOS}${a}.mp4`,type:"video/mp4"})}),i&&e.jsx(He.img,{src:`${L.LOGOS}logo-${a}-${m}.svg`,onError:g=>{g.target.src=`${L.LOGOS}/logo-em-breve-${m}.svg`},alt:`${n(s??{en:"",pt:""})} logo`,className:"game-video__logo",style:{width:`${t}px`,height:`${u}px`},animate:c?void 0:{transform:["translate(-50%, -50%)","translate(-50%, -45%)","translate(-50%, -50%)"],transition:{duration:7,repeat:Number.POSITIVE_INFINITY}}}),l]})}const J={pt:"Desconhecido",en:"Unknown"};function ca({achievement:a,value:t}){return e.jsxs("div",{className:f("achievement",!!t&&"achievement--achieved"),children:[e.jsx("div",{className:"achievement__medal",children:e.jsx(me,{id:a.icon,className:f(!t&&"achievement__disabled-icon")})}),e.jsx("h4",{className:"achievement__title",children:e.jsx(T,{children:a.title??J})}),!!a.description&&e.jsx("div",{className:"achievement__description",children:e.jsx(X,{content:e.jsxs(e.Fragment,{children:[e.jsx(T,{children:a.description??J})," (",t??0,")"]}),children:e.jsx(Z,{icon:e.jsx(Q,{}),shape:"circle",type:"text",size:"small"})})})]})}function ma({reference:a,achievements:t}){return e.jsx(M,{gutter:[8,8],align:"stretch",children:Object.entries(a).map(([s,o])=>e.jsx(_,{xs:12,sm:8,md:8,lg:4,children:e.jsx(ca,{achievement:o,value:t?.[s]})},s))})}const R={xs:24,sm:24,md:24,lg:24};function da({game:a,info:t,achievements:s}){const{language:o}=A(),[l,i]=d.useState(!1),c=Ve(t);return e.jsxs(M,{gutter:8,children:[e.jsxs(_,{xs:24,sm:8,md:8,lg:6,children:[e.jsx(_,{onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:l?e.jsx(la,{title:t.title,gameName:t.gameName,className:"me__game-banner",width:256}):e.jsx(Ft,{title:t.title,gameName:t.gameName,className:"me__game-banner",width:256,stripWidth:256})}),e.jsxs(b,{title:e.jsx(r,{pt:"Nome",en:"Name"}),...R,children:[e.jsx(T,{children:t.title}),e.jsx("br",{}),e.jsxs("span",{className:"italic",children:["(",e.jsx(T,{children:t.popularName}),")"]})]}),e.jsxs(b,{title:e.jsx(r,{pt:"Descrição",en:"Summary"}),...R,children:[e.jsx(T,{children:t.summary}),t.rules?.[o]?.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx(Gt,{gameInfo:t,buttonProps:{size:"small",style:{marginTop:8,marginBottom:8}}})]}),e.jsx("br",{}),e.jsx(Ht,{tags:t.tags,gameCode:t.gameCode})]}),e.jsx(b,{title:e.jsx(r,{pt:"Jogadores",en:"Players"}),...R,children:e.jsx(r,{pt:e.jsxs(e.Fragment,{children:["Para ",t.playerCount.min,"-",t.playerCount.max," jogadores",e.jsx("br",{}),"Melhor com ",t.playerCount.best||"?"," jogadores",e.jsx("br",{}),"Recomendado jogar com ",B(t.playerCount.recommended)]}),en:e.jsxs(e.Fragment,{children:["For ",t.playerCount.min,"-",t.playerCount.max," players",e.jsx("br",{}),"Best with ",t.playerCount.best||"?"," players",e.jsx("br",{}),"Recommended to play with ",B(t.playerCount.recommended)]})})}),e.jsx(b,{title:e.jsx(r,{pt:"Duração",en:"Duration"}),...R,children:e.jsx(r,{pt:e.jsxs(e.Fragment,{children:[e.jsx(W,{})," ",c.min," min - ",c.max," min (Md: ",c.ideal," min)"]}),en:e.jsxs(e.Fragment,{children:[e.jsx(W,{})," ",c.min," min - ",c.max," min (Avg: ",c.ideal," min)"]})})})]}),e.jsxs(_,{xs:24,sm:16,md:16,lg:18,children:[a?e.jsxs(M,{gutter:8,children:[e.jsx(x,{title:e.jsx(r,{pt:"Total de Partidas",en:"Total Plays"}),icon:e.jsx(ae,{}),value:a.plays}),a.isWinnable&&e.jsx(x,{title:e.jsx(r,{pt:"Vitórias",en:"Victories"}),value:a.win/a.plays*100,icon:e.jsx(ie,{}),precision:0,suffix:"%",disabled:!a.plays}),a.isWinnable&&t.tags.includes("competitive")&&e.jsx(x,{title:e.jsx(r,{pt:"Partidas em Último",en:"Dead Last"}),value:a.last/a.plays*100,icon:e.jsx(re,{}),precision:0,suffix:"%",disabled:!a.plays}),e.jsx(x,{title:e.jsx(r,{pt:"Tempo Jogado",en:"Play Duration"}),value:ue(a.totalPlayDuration),icon:e.jsx(ne,{}),suffix:e.jsx(r,{pt:"horas",en:"hours"}),precision:1}),e.jsx(x,{title:e.jsx(r,{pt:"Partida Mais Recente",en:"Latest Play"}),value:I(a.latestPlay.startedAt),icon:e.jsx(D,{})}),e.jsx(x,{title:e.jsx(r,{pt:"Primeira Partida",en:"First Play"}),value:I(a.firstPlay.startedAt),icon:e.jsx(D,{})}),e.jsx(x,{title:e.jsx(r,{pt:"Média de Jogadores",en:"Average Player Count"}),value:a.averagePlayerCount,icon:e.jsx(oe,{}),suffix:e.jsx(r,{pt:"jogadores",en:"players"}),precision:0}),!!s&&e.jsx(x,{title:e.jsx(r,{pt:"Total de Medalhas",en:"Total Achievements"}),value:Object.keys(a.achievements).length,icon:e.jsx(k,{}),suffix:`/${Object.keys(s??{}).length}`})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"me-modal__no-plays",children:[e.jsx(C,{icon:e.jsx(Lt,{}),size:75}),e.jsx(r,{pt:"Você ainda não jogou esse jogo",en:"You haven't played this game yet"})]}),e.jsx(z,{})]}),!!s&&e.jsxs(e.Fragment,{children:[e.jsx(q,{level:4,size:"xx-small",children:e.jsx(r,{pt:"Medalhas",en:"Achievements"})}),e.jsx(ma,{reference:s??{},achievements:a?.achievements??{}})]})]})]})}function ua({info:a,games:t}){const{width:s}=Be(),o=K(8,{maxWidth:256,minWidth:128}),{queryParams:l,addParam:i,removeParam:c}=kt(),m=l.get("game"),n=d.useMemo(()=>a.find(p=>p.gameName===m)??null,[m,a]),u=e.jsx(Vt,{open:!!m,title:e.jsx(T,{children:n?n.title:{pt:"?",en:"?"}}),cancelText:e.jsx(r,{pt:"Fechar",en:"Close"}),onCancel:()=>c("game"),okButtonProps:{hidden:!0},centered:!0,className:"me-modal",width:s,children:n&&m?e.jsx(da,{game:t[m],info:n,achievements:F?.[m]??{}}):e.jsx("div",{className:"me-modal__content",children:e.jsx(C,{icon:e.jsx(Ue,{}),size:100})})});return e.jsxs(M,{gutter:8,children:[u,a.map(p=>e.jsx(_,{xs:12,sm:6,md:6,lg:3,children:e.jsx(We,{onClick:()=>i("game",p.gameName),children:e.jsx(Bt,{count:t[p.gameName]?e.jsx(C,{icon:e.jsx(zt,{})}):void 0,size:"small",classNames:{indicator:"me__game-bingo-badge"},children:e.jsx(ce,{title:p.title,gameName:p.gameName,className:f("me__game-bingo-banner",{"me__game-bingo-banner--played":t[p.gameName],"me__game-bingo-banner--beta":p.release==="beta"}),static:!0,width:o})})})},`info-${p.gameName}`))]})}const Y={pt:"Desconhecido",en:"Unknown"};function pa({gameName:a,gameTitle:t,achievement:s,value:o,width:l}){return e.jsxs("div",{className:f("achievement-card",!!o&&"achievement-card--achieved"),style:{width:l},children:[e.jsx(ce,{gameName:a,width:l-8,showLogo:!1,className:"achievement-card__banner"}),e.jsxs("div",{className:"achievement-card__content",children:[e.jsx("div",{className:"achievement-card__game-title",children:e.jsx(T,{children:t})}),e.jsx("div",{className:"achievement-card__medal",children:e.jsx(me,{id:s.icon,className:f(!o&&"achievement-card__disabled-icon")})}),e.jsx("h4",{className:"achievement-card__title",children:e.jsx(T,{children:s.title??Y})}),!!s.description&&e.jsx("div",{className:"achievement-card__description",children:e.jsx(X,{content:e.jsxs(e.Fragment,{children:[e.jsx(T,{children:s.description??Y})," (",o??0,")"]}),children:e.jsx(Z,{icon:e.jsx(Q,{}),shape:"circle",type:"text",size:"small"})})})]})]})}const xa=Object.keys(G).flatMap(a=>{const t=F?.[a]||{};return Object.keys(t).map(s=>({gameName:a,achievementId:s,achievement:t[s],count:0}))});function ha({playedGames:a}){const{language:t}=A(),s=K(8,{maxWidth:256,minWidth:128}),[o,l]=d.useState("gameName"),[i,c]=d.useState("asc"),m=d.useMemo(()=>ee.orderBy(xa.map(n=>{const p=a[n.gameName]?.achievements?.[n.achievementId]||0;return{...n,count:p}}),[n=>o==="gameName"?w[n.gameName].title[t].toLowerCase():o==="count"?n.count:n.achievement.title[t].toLowerCase(),n=>n.achievement.title[t].toLowerCase()],[i]),[a,i,o,t]);return e.jsxs(U,{vertical:!0,gap:8,children:[e.jsxs(U,{align:"center",gap:8,children:[e.jsx("span",{children:e.jsx(r,{pt:"Ordenar por:",en:"Sort by:"})}),e.jsx(Ut,{options:[{value:"gameName",label:e.jsx(r,{pt:"Jogo",en:"Game"})},{value:"achievementName",label:e.jsx(r,{pt:"Medalha",en:"Achievement"})},{value:"count",label:e.jsx(r,{pt:"Conquistas",en:"Medals"})}],value:o,onChange:n=>l(n),defaultValue:"gameName",style:{width:150}}),e.jsx(te,{checked:i==="asc",onChange:n=>c(n?"asc":"desc"),checkedChildren:"A-Z",unCheckedChildren:"Z-A"})]}),e.jsx(M,{gutter:8,children:m.map(n=>{const{gameName:u}=n;return e.jsx(pa,{gameName:u,gameTitle:w[u].title,achievement:n.achievement,value:n.count,width:s},`${u}-${n.achievementId}`)})})]})}function ja({user:a,additionalContent:t}){const{language:s}=A(),o=d.useMemo(()=>ee.orderBy(Object.values(G),`title.${s}`),[s]),l=[{key:"1",icon:e.jsx(C,{icon:e.jsx(se,{}),size:"small"}),label:e.jsx(r,{pt:"Jogos",en:"Games"}),children:e.jsx(ua,{info:o,games:a.games})},{key:"2",icon:e.jsx(C,{icon:e.jsx(k,{}),size:"small"}),label:e.jsx(r,{pt:"Medalhas",en:"Achievements"}),children:e.jsx(ha,{playedGames:a.games})}];return e.jsx(Je,{className:"me__container",children:e.jsxs(Ye.Content,{className:"me__content",children:[t,e.jsxs("header",{className:"me__header",children:[e.jsxs(q,{size:"small",level:1,align:"left",children:[e.jsx(C,{icon:e.jsx(wt,{}),size:"large"}),e.jsx(r,{pt:"Página do",en:"User Page"})," ",e.jsx(ia,{names:a.names})]}),e.jsxs(Xe,{children:[e.jsx(Ze,{}),e.jsx(Dt,{danger:!0,ghost:!0,size:"small"},"logout-button")]})]}),e.jsxs(M,{gutter:8,children:[e.jsx(b,{title:e.jsx(r,{pt:"Nomes usados",en:"Used Names"}),children:a.names.join(", ")}),e.jsx(b,{title:e.jsx(r,{pt:"Avatares preferidos",en:"Favorite Avatars"}),children:a.avatars.map(i=>e.jsx(It,{avatarId:i,shape:"square",size:"small"},i))})]}),e.jsx(z,{}),e.jsx(ga,{user:a}),e.jsx(Wt,{defaultActiveKey:"1",items:l,size:"large",type:"card"})]})})}function ga({user:a}){const[t,s]=d.useState(!1),o=d.useMemo(()=>Object.entries(F).reduce((l,[i,c])=>c&&a.games?.[i]?l+Object.keys(c).length:l,0),[a.games]);return e.jsxs(e.Fragment,{children:[e.jsxs(q,{size:"x-small",level:1,align:"left",children:[e.jsx(r,{pt:"Sumário",en:"Summary"})," ",a?.today?.plays>0&&e.jsx(te,{checkedChildren:e.jsx(r,{pt:"Mostrar Todas",en:"Show All"}),unCheckedChildren:e.jsx(r,{pt:"Mostrar Hoje",en:"Show Today"}),onChange:()=>s(!t)})]}),e.jsxs(M,{gutter:8,children:[e.jsx(x,{title:e.jsx(r,{pt:"Total de Partidas",en:"Total Plays"}),icon:e.jsx(ae,{}),value:t?a.today.plays:a.statistics.plays}),!t&&e.jsx(x,{title:e.jsx(r,{pt:"Jogos",en:"Played Games"}),icon:e.jsx(se,{}),value:a.statistics.uniqueGamesPlayed,suffix:`/${ra}`}),e.jsx(x,{title:e.jsx(r,{pt:"Vitórias",en:"Victories"}),value:t?a.today.win:a.statistics.win/a.statistics.winnableGames*100,icon:e.jsx(ie,{}),precision:0,suffix:t?"":"%",disabled:!a.statistics.winnableGames}),e.jsx(x,{title:e.jsx(r,{pt:"Jogos em Último",en:"Dead Last"}),value:t?a.today.last:a.statistics.last/a.statistics.winnableGames*100,icon:e.jsx(re,{}),precision:0,suffix:t?"":"%",disabled:!a.statistics.winnableGames}),!t&&e.jsx(x,{title:e.jsx(r,{pt:"Tempo Jogado",en:"Play Duration"}),value:ue(a.statistics.totalPlayDuration),icon:e.jsx(ne,{}),suffix:e.jsx(r,{pt:"horas",en:"hours"}),precision:1}),!t&&e.jsx(x,{title:e.jsx(r,{pt:"Partida Mais Recente",en:"Latest Play"}),value:I(a.statistics.latestPlay.startedAt),icon:e.jsx(D,{})}),!t&&e.jsx(x,{title:e.jsx(r,{pt:"Média de Jogadores",en:"Average Player Count"}),value:a.statistics.averagePlayerCount,icon:e.jsx(oe,{}),precision:1,suffix:e.jsx(r,{pt:"jogadores",en:"players"})}),e.jsx(x,{title:e.jsx(r,{pt:"Total de Medalhas",en:"Total Achievements"}),value:t?a.today.achievements:a.statistics.achievements,icon:e.jsx(k,{}),suffix:t?"":`/${o}`})]}),e.jsx(z,{})]})}function $s(){Qe("Me - Tarde Divertida");const{isAuthenticated:a,currentUser:t}=Ke(),[,s]=et("language");return d.useEffect(()=>{t.language&&s(t.language)},[t.language]),e.jsx(ja,{user:t,additionalContent:e.jsx(tt,{isAuthenticated:a})})}export{$s as default};
