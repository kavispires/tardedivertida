import{db as Le,fu as un,r as n,fg as it,er as en,eq as ge,a3 as he,fh as tn,es as pn,fF as Tt,fG as dn,fH as Wt,e3 as nn,a5 as mn,ff as hn,fe as gn,fi as yn,fv as Rn,a0 as vn,c as Ht,fc as wn,fw as bn,cx as xn}from"./index-Dm74Z5K1.js";import{_ as Ie}from"./extends-CF3RwP-h.js";const En=new Le("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),Cn=new Le("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),Pn=new Le("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),Sn=new Le("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),Mn=new Le("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),On=new Le("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),In=new Le("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),An=new Le("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),Ln={"slide-up":{inKeyframes:En,outKeyframes:Cn},"slide-down":{inKeyframes:Pn,outKeyframes:Sn},"slide-left":{inKeyframes:Mn,outKeyframes:On},"slide-right":{inKeyframes:In,outKeyframes:An}},ao=(e,s)=>{const{antCls:t}=e,o=`${t}-${s}`,{inKeyframes:c,outKeyframes:a}=Ln[s];return[un(o,c,a,e.motionDurationMid),{[`
      ${o}-enter,
      ${o}-appear
    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:e.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}},[`${o}-leave`]:{animationTimingFunction:e.motionEaseInQuint}}]};function Nn(e){const{prefixCls:s,align:t,arrow:o,arrowPos:c}=e,{className:a,content:f,style:y}=o||{},{x:u=0,y:h=0}=c,E=n.useRef(null);if(!t||!t.points)return null;const g={position:"absolute"};if(t.autoArrow!==!1){const d=t.points[0],P=t.points[1],C=d[0],b=d[1],A=P[0],l=P[1];C===A||!["t","b"].includes(C)?g.top=h:C==="t"?g.top=0:g.bottom=0,b===l||!["l","r"].includes(b)?g.left=u:b==="l"?g.left=0:g.right=0}return n.createElement("div",{ref:E,className:it(`${s}-arrow`,a),style:{...g,...y}},f)}function Dt(){return Dt=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Dt.apply(this,arguments)}function Tn(e){const{prefixCls:s,open:t,zIndex:o,mask:c,motion:a,mobile:f}=e;return c?n.createElement(en,Dt({},a,{motionAppear:!0,visible:t,removeOnLeave:!0}),({className:y})=>n.createElement("div",{style:{zIndex:o},className:it(`${s}-mask`,f&&`${s}-mobile-mask`,y)})):null}const Wn=n.memo(({children:e})=>e,(e,s)=>s.cache);function Dn(e,s,t,o,c,a,f,y){const u="auto",h=e?{}:{left:"-1000vw",top:"-1000vh",right:u,bottom:u};if(!e&&(s||!t)){const{points:E}=o,g=o.dynamicInset||o._experimental?.dynamicInset,d=g&&E[0][1]==="r",P=g&&E[0][0]==="b";d?(h.right=c,h.left=u):(h.left=f,h.right=u),P?(h.bottom=a,h.top=u):(h.top=y,h.bottom=u)}return h}function Xt(){return Xt=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Xt.apply(this,arguments)}const Xn=n.forwardRef((e,s)=>{const{popup:t,className:o,prefixCls:c,style:a,target:f,onVisibleChanged:y,open:u,keepDom:h,fresh:E,onClick:g,mask:d,arrow:P,arrowPos:C,align:b,motion:A,maskMotion:l,mobile:L,forceRender:W,getPopupContainer:S,autoDestroy:N,portal:X,children:$,zIndex:z,onMouseEnter:Q,onMouseLeave:j,onPointerEnter:B,onPointerDownCapture:x,ready:R,offsetX:J,offsetY:ae,offsetR:ye,offsetB:Z,onAlign:Ee,onPrepare:Re,onResize:pe,stretch:H,targetWidth:K,targetHeight:Y}=e,re=typeof t=="function"?t():t,fe=u||h,ie=!!L,[Ce,U,V]=n.useMemo(()=>L?[L.mask,L.maskMotion,L.motion]:[d,l,A],[L,d,l,A]),ce=S?.length>0,[ee,te]=n.useState(!S||!ce);ge(()=>{!ee&&ce&&f&&te(!0)},[ee,ce,f]);const w=he((ne,O)=>{pe?.(ne,O),Ee()}),de=Dn(ie,R,u,b,ye,Z,J,ae);if(!ee)return null;const D={};return H&&(H.includes("height")&&Y?D.height=Y:H.includes("minHeight")&&Y&&(D.minHeight=Y),H.includes("width")&&K?D.width=K:H.includes("minWidth")&&K&&(D.minWidth=K)),u||(D.pointerEvents="none"),n.createElement(X,{open:W||fe,getContainer:S&&(()=>S(f)),autoDestroy:N},n.createElement(Tn,{prefixCls:c,open:u,zIndex:z,mask:Ce,motion:U,mobile:ie}),n.createElement(tn,{onResize:w,disabled:!u},ne=>n.createElement(en,Xt({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:W,leavedClassName:`${c}-hidden`},V,{onAppearPrepare:Re,onEnterPrepare:Re,visible:u,onVisibleChanged:O=>{A?.onVisibleChanged?.(O),y(O)}}),({className:O,style:le},Se)=>{const Ne=it(c,O,o,{[`${c}-mobile`]:ie});return n.createElement("div",{ref:pn(ne,s,Se),className:Ne,style:{"--arrow-x":`${C.x||0}px`,"--arrow-y":`${C.y||0}px`,...de,...D,...le,boxSizing:"border-box",zIndex:z,...a},onMouseEnter:Q,onMouseLeave:j,onPointerEnter:B,onClick:g,onPointerDownCapture:x},P&&n.createElement(Nn,{prefixCls:c,arrow:P,arrowPos:C,align:b}),n.createElement(Wn,{cache:!u&&!E},re))})),$)}),Ut=n.createContext(null),zn=n.createContext(null);function qt(e){return e?Array.isArray(e)?e:[e]:[]}function Bn(e,s,t){return n.useMemo(()=>{const o=qt(s??e),c=qt(t??e),a=new Set(o),f=new Set(c);return a.has("hover")&&!a.has("click")&&a.add("touch"),f.has("hover")&&!f.has("click")&&f.add("touch"),[a,f]},[e,s,t])}function Yn(e=[],s=[],t){return t?e[0]===s[0]:e[0]===s[0]&&e[1]===s[1]}function Hn(e,s,t,o){const{points:c}=t,a=Object.keys(e);for(let f=0;f<a.length;f+=1){const y=a[f];if(Yn(e[y]?.points,c,o))return`${s}-placement-${y}`}return""}function lt(e){return e.ownerDocument.defaultView}function zt(e){const s=[];let t=e?.parentElement;const o=["hidden","scroll","clip","auto"];for(;t;){const{overflowX:c,overflowY:a,overflow:f}=lt(t).getComputedStyle(t);[c,a,f].some(y=>o.includes(y))&&s.push(t),t=t.parentElement}return s}function ct(e,s=1){return Number.isNaN(e)?s:e}function st(e){return ct(parseFloat(e),0)}function Gt(e,s){const t={...e};return(s||[]).forEach(o=>{if(o instanceof HTMLBodyElement||o instanceof HTMLHtmlElement)return;const{overflow:c,overflowClipMargin:a,borderTopWidth:f,borderBottomWidth:y,borderLeftWidth:u,borderRightWidth:h}=lt(o).getComputedStyle(o),E=o.getBoundingClientRect(),{offsetHeight:g,clientHeight:d,offsetWidth:P,clientWidth:C}=o,b=st(f),A=st(y),l=st(u),L=st(h),W=ct(Math.round(E.width/P*1e3)/1e3),S=ct(Math.round(E.height/g*1e3)/1e3),N=(P-C-l-L)*W,X=(g-d-b-A)*S,$=b*S,z=A*S,Q=l*W,j=L*W;let B=0,x=0;if(c==="clip"){const Z=st(a);B=Z*W,x=Z*S}const R=E.x+Q-B,J=E.y+$-x,ae=R+E.width+2*B-Q-j-N,ye=J+E.height+2*x-$-z-X;t.left=Math.max(t.left,R),t.top=Math.max(t.top,J),t.right=Math.min(t.right,ae),t.bottom=Math.min(t.bottom,ye)}),t}function Qt(e,s=0){const t=`${s}`,o=t.match(/^(.*)\%$/);return o?e*(parseFloat(o[1])/100):parseFloat(t)}function Jt(e,s){const[t,o]=s||[];return[Qt(e.width,t),Qt(e.height,o)]}function Zt(e=""){return[e[0],e[1]]}function Ge(e,s){const t=s[0],o=s[1];let c,a;return t==="t"?a=e.y:t==="b"?a=e.y+e.height:a=e.y+e.height/2,o==="l"?c=e.x:o==="r"?c=e.x+e.width:c=e.x+e.width/2,{x:c,y:a}}function Oe(e,s){const t={t:"b",b:"t",l:"r",r:"l"};return e.map((o,c)=>c===s?t[o]||"c":o).join("")}function $n(e,s,t,o,c,a,f,y){const[u,h]=n.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:c[o]||{}}),E=n.useRef(0),g=n.useMemo(()=>!s||y?[]:zt(s),[s]),d=n.useRef({});e||(d.current={});const C=he(()=>{if(s&&t&&e&&!y){let I=function(m,G,se=de){const Rt=R.x+m,Ue=R.y+G,vt=Rt+Y,qe=Ue+K,wt=Math.max(Rt,se.left),bt=Math.max(Ue,se.top),xt=Math.min(vt,se.right),_t=Math.min(qe,se.bottom);return Math.max(0,(xt-wt)*(_t-bt))},ut=function(){Pe=R.y+v,_e=Pe+K,ze=R.x+i,je=ze+Y};const l=s,L=l.ownerDocument,W=lt(l),{position:S}=W.getComputedStyle(l),N=l.style.left,X=l.style.top,$=l.style.right,z=l.style.bottom,Q=l.style.overflow,j={...c[o],...a},B=L.createElement("div");l.parentElement?.appendChild(B),B.style.left=`${l.offsetLeft}px`,B.style.top=`${l.offsetTop}px`,B.style.position=S,B.style.height=`${l.offsetHeight}px`,B.style.width=`${l.offsetWidth}px`,l.style.left="0",l.style.top="0",l.style.right="auto",l.style.bottom="auto",l.style.overflow="hidden";let x;if(Array.isArray(t))x={x:t[0],y:t[1],width:0,height:0};else{const m=t.getBoundingClientRect();m.x=m.x??m.left,m.y=m.y??m.top,x={x:m.x,y:m.y,width:m.width,height:m.height}}const R=l.getBoundingClientRect(),{height:J,width:ae}=W.getComputedStyle(l);R.x=R.x??R.left,R.y=R.y??R.top;const{clientWidth:ye,clientHeight:Z,scrollWidth:Ee,scrollHeight:Re,scrollTop:pe,scrollLeft:H}=L.documentElement,K=R.height,Y=R.width,re=x.height,fe=x.width,ie={left:0,top:0,right:ye,bottom:Z},Ce={left:-H,top:-pe,right:Ee-H,bottom:Re-pe};let{htmlRegion:U}=j;const V="visible",ce="visibleFirst";U!=="scroll"&&U!==ce&&(U=V);const ee=U===ce,te=Gt(Ce,g),w=Gt(ie,g),de=U===V?w:te,D=ee?w:de;l.style.left="auto",l.style.top="auto",l.style.right="0",l.style.bottom="0";const ne=l.getBoundingClientRect();l.style.left=N,l.style.top=X,l.style.right=$,l.style.bottom=z,l.style.overflow=Q,l.parentElement?.removeChild(B);const O=ct(Math.round(Y/parseFloat(ae)*1e3)/1e3),le=ct(Math.round(K/parseFloat(J)*1e3)/1e3);if(O===0||le===0||Tt(t)&&!dn(t))return;const{offset:Se,targetOffset:Ne}=j;let[T,q]=Jt(R,Se);const[Te,Ve]=Jt(x,Ne);x.x-=Te,x.y-=Ve;const[me,ve]=j.points||[],k=Zt(ve),F=Zt(me),We=Ge(x,k),De=Ge(R,F),p={...j};let i=We.x-De.x+T,v=We.y-De.y+q;const _=I(i,v),ue=I(i,v,w),Xe=Ge(x,["t","l"]),Ze=Ge(R,["t","l"]),et=Ge(x,["b","r"]),oe=Ge(R,["b","r"]),ke=j.overflow||{},{adjustX:at,adjustY:tt,shiftX:nt,shiftY:Fe}=ke,ft=m=>typeof m=="boolean"?m:m>=0;let Pe,_e,ze,je;ut();const pt=ft(tt),dt=F[0]===k[0];if(pt&&F[0]==="t"&&(_e>D.bottom||d.current.bt)){let m=v;dt?m-=K-re:m=Xe.y-oe.y-q;const G=I(i,m),se=I(i,m,w);G>_||G===_&&(!ee||se>=ue)?(d.current.bt=!0,v=m,q=-q,p.points=[Oe(F,0),Oe(k,0)]):d.current.bt=!1}if(pt&&F[0]==="b"&&(Pe<D.top||d.current.tb)){let m=v;dt?m+=K-re:m=et.y-Ze.y-q;const G=I(i,m),se=I(i,m,w);G>_||G===_&&(!ee||se>=ue)?(d.current.tb=!0,v=m,q=-q,p.points=[Oe(F,0),Oe(k,0)]):d.current.tb=!1}const mt=ft(at),ht=F[1]===k[1];if(mt&&F[1]==="l"&&(je>D.right||d.current.rl)){let m=i;ht?m-=Y-fe:m=Xe.x-oe.x-T;const G=I(m,v),se=I(m,v,w);G>_||G===_&&(!ee||se>=ue)?(d.current.rl=!0,i=m,T=-T,p.points=[Oe(F,1),Oe(k,1)]):d.current.rl=!1}if(mt&&F[1]==="r"&&(ze<D.left||d.current.lr)){let m=i;ht?m+=Y-fe:m=et.x-Ze.x-T;const G=I(m,v),se=I(m,v,w);G>_||G===_&&(!ee||se>=ue)?(d.current.lr=!0,i=m,T=-T,p.points=[Oe(F,1),Oe(k,1)]):d.current.lr=!1}ut();const Be=nt===!0?0:nt;typeof Be=="number"&&(ze<w.left&&(i-=ze-w.left-T,x.x+fe<w.left+Be&&(i+=x.x-w.left+fe-Be)),je>w.right&&(i-=je-w.right-T,x.x>w.right-Be&&(i+=x.x-w.right+Be)));const we=Fe===!0?0:Fe;typeof we=="number"&&(Pe<w.top&&(v-=Pe-w.top-q,x.y+re<w.top+we&&(v+=x.y-w.top+re-we)),_e>w.bottom&&(v-=_e-w.bottom-q,x.y>w.bottom-we&&(v+=x.y-w.bottom+we)));const Ye=R.x+i,He=Ye+Y,be=R.y+v,gt=be+K,$e=x.x,Me=$e+fe,Pt=x.y,St=Pt+re,Mt=Math.max(Ye,$e),Ot=Math.min(He,Me),It=(Mt+Ot)/2-Ye,yt=Math.max(be,Pt),At=Math.min(gt,St),Lt=(yt+At)/2-be;f?.(s,p);let xe=ne.right-R.x-(i+R.width),Ke=ne.bottom-R.y-(v+R.height);O===1&&(i=Math.round(i),xe=Math.round(xe)),le===1&&(v=Math.round(v),Ke=Math.round(Ke));const ot={ready:!0,offsetX:i/O,offsetY:v/le,offsetR:xe/O,offsetB:Ke/le,arrowX:It/O,arrowY:Lt/le,scaleX:O,scaleY:le,align:p};h(ot)}}),b=()=>{E.current+=1;const l=E.current;Promise.resolve().then(()=>{E.current===l&&C()})},A=()=>{h(l=>({...l,ready:!1}))};return ge(A,[o]),ge(()=>{e||A()},[e]),[u.ready,u.offsetX,u.offsetY,u.offsetR,u.offsetB,u.arrowX,u.arrowY,u.scaleX,u.scaleY,u.align,b]}function Vn(){const e=n.useRef(null),s=()=>{e.current&&(clearTimeout(e.current),e.current=null)},t=(o,c)=>{s(),c===0?o():e.current=setTimeout(()=>{o()},c*1e3)};return n.useEffect(()=>()=>{s()},[]),t}function kn(e,s,t,o,c){ge(()=>{if(e&&s&&t){let g=function(){o(),c()};const a=s,f=t,y=zt(a),u=zt(f),h=lt(f),E=new Set([h,...y,...u]);return E.forEach(d=>{d.addEventListener("scroll",g,{passive:!0})}),h.addEventListener("resize",g,{passive:!0}),o(),()=>{E.forEach(d=>{d.removeEventListener("scroll",g),h.removeEventListener("resize",g)})}}},[e,s,t])}function Fn(e,s,t,o,c,a,f,y){const u=n.useRef(e);u.current=e;const h=n.useRef(!1);n.useEffect(()=>{if(s&&o&&(!c||a)){const g=()=>{h.current=!1},d=b=>{u.current&&!f(b.composedPath?.()?.[0]||b.target)&&!h.current&&y(!1)},P=lt(o);P.addEventListener("pointerdown",g,!0),P.addEventListener("mousedown",d,!0),P.addEventListener("contextmenu",d,!0);const C=Wt(t);return C&&(C.addEventListener("mousedown",d,!0),C.addEventListener("contextmenu",d,!0)),()=>{P.removeEventListener("pointerdown",g,!0),P.removeEventListener("mousedown",d,!0),P.removeEventListener("contextmenu",d,!0),C&&(C.removeEventListener("mousedown",d,!0),C.removeEventListener("contextmenu",d,!0))}}},[s,t,o,c,a]);function E(){h.current=!0}return E}function _n(e=nn){return n.forwardRef((t,o)=>{const{prefixCls:c="rc-trigger-popup",children:a,action:f="hover",showAction:y,hideAction:u,popupVisible:h,defaultPopupVisible:E,onOpenChange:g,afterOpenChange:d,onPopupVisibleChange:P,afterPopupVisibleChange:C,mouseEnterDelay:b,mouseLeaveDelay:A=.1,focusDelay:l,blurDelay:L,mask:W,maskClosable:S=!0,getPopupContainer:N,forceRender:X,autoDestroy:$,popup:z,popupClassName:Q,uniqueContainerClassName:j,uniqueContainerStyle:B,popupStyle:x,popupPlacement:R,builtinPlacements:J={},popupAlign:ae,zIndex:ye,stretch:Z,getPopupClassNameFromAlign:Ee,fresh:Re,unique:pe,alignPoint:H,onPopupClick:K,onPopupAlign:Y,arrow:re,popupMotion:fe,maskMotion:ie,mobile:Ce,...U}=t,V=$||!1,ce=h===void 0,ee=!!Ce,te=n.useRef({}),w=n.useContext(Ut),de=n.useMemo(()=>({registerSubPopup:(r,M)=>{te.current[r]=M,w?.registerSubPopup(r,M)}}),[w]),D=n.useContext(zn),ne=mn(),[O,le]=n.useState(null),Se=n.useRef(null),Ne=he(r=>{Se.current=r,Tt(r)&&O!==r&&le(r),w?.registerSubPopup(ne,r)}),[T,q]=n.useState(null),Te=n.useRef(null),Ve=he(r=>{Tt(r)&&T!==r&&(q(r),Te.current=r)}),me=n.Children.only(a),ve=me?.props||{},k={},F=he(r=>{const M=T;return M?.contains(r)||Wt(M)?.host===r||r===M||O?.contains(r)||Wt(O)?.host===r||r===O||Object.values(te.current).some(Et=>Et?.contains(r)||r===Et)}),We=re?{...re!==!0?re:{}}:null,[De,p]=n.useState(E||!1),i=h??De,v=he(r=>{ce&&p(r)}),I=he(()=>i);ge(()=>{p(h||!1)},[h]);const _=he((r=0)=>({popup:z,target:T,delay:r,prefixCls:c,popupClassName:Q,uniqueContainerClassName:j,uniqueContainerStyle:B,popupStyle:x,popupPlacement:R,builtinPlacements:J,popupAlign:ae,zIndex:ye,mask:W,maskClosable:S,popupMotion:fe,maskMotion:ie,arrow:We,getPopupContainer:N,getPopupClassNameFromAlign:Ee,id:ne}));ge(()=>{D&&pe&&T&&!ce&&!w&&(i?D.show(_(b),I):D.hide(A))},[i,T]);const ue=n.useRef(i);ue.current=i;const Xe=n.useRef([]);Xe.current=[];const Ze=he(r=>{v(r),(Xe.current[Xe.current.length-1]??i)!==r&&(Xe.current.push(r),g?.(r),P?.(r))}),et=Vn(),oe=(r,M=0)=>{if(h!==void 0){et(()=>{Ze(r)},M);return}if(D&&pe&&ce&&!w){r?D.show(_(M),I):D.hide(M);return}et(()=>{Ze(r)},M)},[ke,at]=n.useState(!1);ge(r=>{(!r||i)&&at(!0)},[i]);const[tt,nt]=n.useState(null),[Fe,ft]=n.useState(null),Pe=r=>{ft([r.clientX,r.clientY])},[_e,ze,je,ut,pt,dt,mt,ht,Be,we,Ye]=$n(i,O,H&&Fe!==null?Fe:T,R,J,ae,Y,ee),[He,be]=Bn(f,y,u),gt=He.has("click"),$e=be.has("click")||be.has("contextMenu"),Me=he(()=>{ke||Ye()});kn(i,T,O,Me,()=>{ue.current&&H&&$e&&oe(!1)}),ge(()=>{Me()},[Fe,R]),ge(()=>{i&&!J?.[R]&&Me()},[JSON.stringify(ae)]);const St=n.useMemo(()=>{const r=Hn(J,c,we,H);return it(r,Ee?.(we))},[we,Ee,J,c,H]);n.useImperativeHandle(o,()=>({nativeElement:Te.current,popupElement:Se.current,forceAlign:Me}));const[Mt,Ot]=n.useState(0),[kt,It]=n.useState(0),yt=()=>{if(Z&&T){const r=T.getBoundingClientRect();Ot(r.width),It(r.height)}},At=()=>{yt(),Me()},Ft=r=>{at(!1),Ye(),d?.(r),C?.(r)},Lt=()=>new Promise(r=>{yt(),nt(()=>r)});ge(()=>{tt&&(Ye(),tt(),nt(null))},[tt]);function xe(r,M,Et,an,jt){k[r]=(Kt,...fn)=>{(!jt||!jt())&&(an?.(Kt),oe(M,Et)),ve[r]?.(Kt,...fn)}}const Ke=He.has("touch"),ot=be.has("touch"),m=n.useRef(!1);(Ke||ot)&&(k.onTouchStart=(...r)=>{m.current=!0,ue.current&&ot?oe(!1):!ue.current&&Ke&&oe(!0),ve.onTouchStart?.(...r)}),(gt||$e)&&(k.onClick=(r,...M)=>{ue.current&&$e?oe(!1):!ue.current&&gt&&(Pe(r),oe(!0)),ve.onClick?.(r,...M),m.current=!1});const G=Fn(i,$e||ot,T,O,W,S,F,oe),se=He.has("hover"),Rt=be.has("hover");let Ue,vt;const qe=()=>m.current;if(se){const r=M=>{Pe(M)};xe("onMouseEnter",!0,b,r,qe),xe("onPointerEnter",!0,b,r,qe),Ue=M=>{(i||ke)&&O?.contains(M.target)&&oe(!0,b)},H&&(k.onMouseMove=M=>{ve.onMouseMove?.(M)})}Rt&&(xe("onMouseLeave",!1,A,void 0,qe),xe("onPointerLeave",!1,A,void 0,qe),vt=()=>{oe(!1,A)}),He.has("focus")&&xe("onFocus",!0,l),be.has("focus")&&xe("onBlur",!1,L),He.has("contextMenu")&&(k.onContextMenu=(r,...M)=>{ue.current&&be.has("contextMenu")?oe(!1):(Pe(r),oe(!0)),r.preventDefault(),ve.onContextMenu?.(r,...M)});const wt=n.useRef(!1);wt.current||=X||i||ke;const bt={...ve,...k},xt={};["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"].forEach(r=>{U[r]&&(xt[r]=(...M)=>{bt[r]?.(...M),U[r](...M)})});const cn={x:dt,y:mt},ln=n.cloneElement(me,{...bt,...xt});return n.createElement(n.Fragment,null,n.createElement(tn,{disabled:!i,ref:Ve,onResize:At},ln),wt.current&&(!D||!pe)&&n.createElement(Ut.Provider,{value:de},n.createElement(Xn,{portal:e,ref:Ne,prefixCls:c,popup:z,className:it(Q,!ee&&St),style:x,target:T,onMouseEnter:Ue,onMouseLeave:vt,onPointerEnter:Ue,zIndex:ye,open:i,keepDom:ke,fresh:Re,onClick:K,onPointerDownCapture:G,mask:W,motion:fe,maskMotion:ie,onVisibleChanged:Ft,onPrepare:Lt,forceRender:X,autoDestroy:V,getPopupContainer:N,align:we,arrow:We,arrowPos:cn,ready:_e,offsetX:ze,offsetY:je,offsetR:ut,offsetB:pt,onAlign:Me,stretch:Z,targetWidth:Mt/ht,targetHeight:kt/Be,mobile:Ce})))})}const fo=_n(nn),Bt=n.createContext(null);function jn({children:e,onBatchResize:s}){const t=n.useRef(0),o=n.useRef([]),c=n.useContext(Bt),a=n.useCallback((f,y,u)=>{t.current+=1;const h=t.current;o.current.push({size:f,element:y,data:u}),Promise.resolve().then(()=>{h===t.current&&(s?.(o.current),o.current=[])}),c?.(f,y,u)},[s,c]);return n.createElement(Bt.Provider,{value:a},e)}const Ae=new Map;function Kn(e){e.forEach(s=>{const{target:t}=s;Ae.get(t)?.forEach(o=>o(t))})}let Nt;function on(){return Nt||(Nt=new ResizeObserver(Kn)),Nt}function Un(e,s){Ae.has(e)||(Ae.set(e,new Set),on().observe(e)),Ae.get(e).add(s)}function qn(e,s){Ae.has(e)&&(Ae.get(e).delete(s),Ae.get(e).size||(on().unobserve(e),Ae.delete(e)))}function Gn(e,s){const{children:t,disabled:o}=e,c=n.useRef(null),a=n.useContext(Bt),f=typeof t=="function",y=f?t(c):t,u=n.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),h=!f&&n.isValidElement(y)&&hn(y),E=h?gn(y):null,g=yn(E,c),d=()=>Rn(c.current);n.useImperativeHandle(s,()=>d());const P=n.useRef(e);P.current=e;const C=n.useCallback(b=>{const{onResize:A,data:l}=P.current,{width:L,height:W}=b.getBoundingClientRect(),{offsetWidth:S,offsetHeight:N}=b,X=Math.floor(L),$=Math.floor(W);if(u.current.width!==X||u.current.height!==$||u.current.offsetWidth!==S||u.current.offsetHeight!==N){const z={width:X,height:$,offsetWidth:S,offsetHeight:N};u.current=z;const Q=S===Math.round(L)?L:S,j=N===Math.round(W)?W:N,B={...z,offsetWidth:Q,offsetHeight:j};a?.(B,b,l),A&&Promise.resolve().then(()=>{A(B,b)})}},[]);return n.useEffect(()=>{const b=d();return b&&!o&&Un(b,C),()=>qn(b,C)},[c.current,o]),h?n.cloneElement(y,{ref:g}):y}const Qn=n.forwardRef(Gn);function Yt(){return Yt=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Yt.apply(this,arguments)}const Jn="rc-observer-key";function Zn(e,s){const{children:t}=e;return(typeof t=="function"?[t]:vn(t)).map((c,a)=>{const f=c?.key||`${Jn}-${a}`;return n.createElement(Qn,Yt({},e,{key:f,ref:a===0?s:void 0}),c)})}const $t=n.forwardRef(Zn);$t.Collection=jn;const Qe=void 0;function eo(e,s){const{prefixCls:t,invalidate:o,item:c,renderItem:a,responsive:f,responsiveDisabled:y,registerSize:u,itemKey:h,className:E,style:g,children:d,display:P,order:C,component:b="div",...A}=e,l=f&&!P;function L($){u(h,$)}n.useEffect(()=>()=>{L(null)},[]);const W=a&&c!==Qe?a(c,{index:C}):d;let S;o||(S={opacity:l?0:1,height:l?0:Qe,overflowY:l?"hidden":Qe,order:f?C:Qe,pointerEvents:l?"none":Qe,position:l?"absolute":Qe});const N={};l&&(N["aria-hidden"]=!0);let X=n.createElement(b,Ie({className:Ht(!o&&t,E),style:{...S,...g}},N,A,{ref:s}),W);return f&&(X=n.createElement($t,{onResize:({offsetWidth:$})=>{L($)},disabled:y},X)),X}const rt=n.forwardRef(eo);function to(e){if(typeof MessageChannel>"u")wn(e);else{const s=new MessageChannel;s.port1.onmessage=()=>e(),s.port2.postMessage(void 0)}}function no(){const e=n.useRef(null);return t=>{e.current||(e.current=[],to(()=>{bn.unstable_batchedUpdates(()=>{e.current.forEach(o=>{o()}),e.current=null})})),e.current.push(t)}}function Je(e,s){const[t,o]=n.useState(s),c=he(a=>{e(()=>{o(a)})});return[t,c]}const Ct=xn.createContext(null),oo=(e,s)=>{const t=n.useContext(Ct);if(!t){const{component:y="div",...u}=e;return n.createElement(y,Ie({},u,{ref:s}))}const{className:o,...c}=t,{className:a,...f}=e;return n.createElement(Ct.Provider,{value:null},n.createElement(rt,Ie({ref:s,className:Ht(o,a)},c,f)))},so=n.forwardRef(oo),sn="responsive",rn="invalidate";function ro(e){return`+ ${e.length} ...`}function io(e,s){const{prefixCls:t="rc-overflow",data:o=[],renderItem:c,renderRawItem:a,itemKey:f,itemWidth:y=10,ssr:u,style:h,className:E,maxCount:g,renderRest:d,renderRawRest:P,prefix:C,suffix:b,component:A="div",itemComponent:l,onVisibleChange:L,...W}=e,S=u==="full",N=no(),[X,$]=Je(N,null),z=X||0,[Q,j]=Je(N,new Map),[B,x]=Je(N,0),[R,J]=Je(N,0),[ae,ye]=Je(N,0),[Z,Ee]=Je(N,0),[Re,pe]=n.useState(null),[H,K]=n.useState(null),Y=n.useMemo(()=>H===null&&S?Number.MAX_SAFE_INTEGER:H||0,[H,X]),[re,fe]=n.useState(!1),ie=`${t}-item`,Ce=Math.max(B,R),U=g===sn,V=o.length&&U,ce=g===rn,ee=V||typeof g=="number"&&o.length>g,te=n.useMemo(()=>{let p=o;return V?X===null&&S?p=o:p=o.slice(0,Math.min(o.length,z/y)):typeof g=="number"&&(p=o.slice(0,g)),p},[o,y,X,g,V]),w=n.useMemo(()=>V?o.slice(Y+1):o.slice(te.length),[o,te,V,Y]),de=n.useCallback((p,i)=>typeof f=="function"?f(p):(f&&p?.[f])??i,[f]),D=n.useCallback(c||(p=>p),[c]);function ne(p,i,v){H===p&&(i===void 0||i===Re)||(K(p),v||(fe(p<o.length-1),L?.(p)),i!==void 0&&pe(i))}function O(p,i){$(i.clientWidth)}function le(p,i){j(v=>{const I=new Map(v);return i===null?I.delete(p):I.set(p,i),I})}function Se(p,i){J(i),x(R)}function Ne(p,i){ye(i)}function T(p,i){Ee(i)}function q(p){return Q.get(de(te[p],p))}ge(()=>{if(z&&typeof Ce=="number"&&te){let p=ae+Z;const i=te.length,v=i-1;if(!i){ne(0,null);return}for(let I=0;I<i;I+=1){let _=q(I);if(S&&(_=_||0),_===void 0){ne(I-1,void 0,!0);break}if(p+=_,v===0&&p<=z||I===v-1&&p+q(v)<=z){ne(v,null);break}else if(p+Ce>z){ne(I-1,p-_-Z+R);break}}b&&q(0)+Z>z&&pe(null)}},[z,Q,R,ae,Z,de,te]);const Te=re&&!!w.length;let Ve={};Re!==null&&V&&(Ve={position:"absolute",left:Re,top:0});const me={prefixCls:ie,responsive:V,component:l,invalidate:ce},ve=a?(p,i)=>{const v=de(p,i);return n.createElement(Ct.Provider,{key:v,value:{...me,order:i,item:p,itemKey:v,registerSize:le,display:i<=Y}},a(p,i))}:(p,i)=>{const v=de(p,i);return n.createElement(rt,Ie({},me,{order:i,key:v,item:p,renderItem:D,itemKey:v,registerSize:le,display:i<=Y}))},k={order:Te?Y:Number.MAX_SAFE_INTEGER,className:`${ie}-rest`,registerSize:Se,display:Te},F=d||ro,We=P?n.createElement(Ct.Provider,{value:{...me,...k}},P(w)):n.createElement(rt,Ie({},me,k),typeof F=="function"?F(w):F),De=n.createElement(A,Ie({className:Ht(!ce&&t,E),style:h,ref:s},W),C&&n.createElement(rt,Ie({},me,{responsive:U,responsiveDisabled:!V,order:-1,className:`${ie}-prefix`,registerSize:Ne,display:!0}),C),te.map(ve),ee?We:null,b&&n.createElement(rt,Ie({},me,{responsive:U,responsiveDisabled:!V,order:Y,className:`${ie}-suffix`,registerSize:T,display:!0,style:Ve}),b));return U?n.createElement($t,{onResize:O,disabled:!V},De):De}const Vt=n.forwardRef(io);Vt.Item=so;Vt.RESPONSIVE=sn;Vt.INVALIDATE=rn;export{Vt as F,fo as T,Cn as a,Pn as b,En as c,ao as i,Sn as s};
