import{f as T,j as e,T as l,e as I,b0 as q,D as me,r as j,y as J,I as pe,aP as z,bD as y,bE as he,b2 as P,aG as xe,bj as Q,bF as je,q as ge,aL as ve,B as D,bG as fe,n as we,bH as be,aM as ye,a$ as Ae,aY as Se,aW as Ie,aX as Re}from"./index-Cv4QE8fL.js";import{u as K,S as k,c as O,b as X,P as L,d as F,e as M,a as Z,k as Ne,l as Te,g as _e,h as C,i as Ee,j as Ce}from"./StepSwitcher-Dxw9vo_-.js";import{P as Pe}from"./PaintingIcon-vuYgho2W.js";import{I as f}from"./Instruction-DjcHfDrP.js";import{R as De}from"./RoundAnnouncement-BgFVhuDc.js";import{P as g}from"./PointsHighlight-C6NuUA6S.js";import{T as Y}from"./TimeHighlight-CDypjSli.js";import{m as Ge,A as ke}from"./drawing-DUfz1Dp7.js";import{u as Oe}from"./useBlurCards-CY_WeUQc.js";import{u as ee}from"./useDevFeatures-CNKoJv0l.js";import{u as se}from"./useMock-Dilv7vEn.js";import{P as Le}from"./PanicIcon-Dn7leeA1.js";import{A as Fe}from"./ArteRuimTimerSound-Cq6ny5tM.js";import{D as Me}from"./DrawingCanvas-CrqEuXny.js";import{C as re}from"./Card-BOK9BiGZ.js";import{D as We}from"./DevButton-BdeNeV9n.js";import{E as Be}from"./WritingIcon-DUQXoZJl.js";import{V as Ve}from"./ViewIf-BvBEtk3u.js";import{A as Ue}from"./AnimatedLoaderIcon-CUCA02Cw.js";import{A as ae}from"./AvatarName-WtNm8iVB.js";import{C as _}from"./CanvasSVG-4ZjzsaU8.js";import{u as $e,R as qe}from"./useVotingMatch-CcXg_ANt.js";import{C as ze}from"./CanvasResizer-D5amt4lY.js";import{R as Ye}from"./RuleInstruction-B2cqpzc3.js";import{P as W}from"./PopoverRule-CVtw9LO1.js";import{R as He}from"./Ribbon-DoPrY-gC.js";import{R as Je}from"./WarningOutlined-DpD1_Un1.js";import{R as Qe}from"./ClearOutlined-C5Hm0aP3.js";import{R as Ke}from"./ThunderboltOutlined-DY5D8PyN.js";import{u as Xe}from"./SlideShowControls-CEPmXMtU.js";import{P as Ze}from"./PictureIcon-B9yxz7s8.js";import{S as es}from"./SlideShow-CYL6iNL3.js";import{S as B,a as ne,b as G,c as ss}from"./SlideShowComposableComponents-CCSk1085.js";import{S as H}from"./StarPoints-DkpCH22B.js";import{S as rs}from"./StepRankingWrapper-BXJKfgPg.js";import{R as as}from"./RoundsLeftInstruction-P-b4OnrM.js";import{T as ns}from"./TrophyIcon-Bs4cvSvZ.js";import"./GameOver-Dvg5nvMQ.js";import{G as os}from"./GameOverWrapper-Du_rvAet.js";import{A as ts}from"./Achievements-D5QQAmWZ.js";import{a as is}from"./achievements-C6tz5Jf8.js";import{C as cs}from"./Container-RYpuTiFz.js";import"./speech-BoB5_Wzo.js";import"./RulesModal-BIdOPEFG.js";import"./DoubleRightOutlined-UZoL-GoT.js";import"./PurePanel-CJBE0-7h.js";import"./Game-Dp6RC-lQ.js";import"./WaitingRoomIcon-BMMq__xe.js";import"./AnimatedClockIcon-DPHujuvp.js";import"./useMutation-Cyt-mstu.js";import"./index-CrJzsnSl.js";import"./useBubbleLock-D2WHetRJ.js";import"./index-BvttcvOb.js";import"./Overflow-CYna01Wl.js";import"./useEvent-yev6kO80.js";import"./index-DVsTbh9-.js";import"./index-B9QQI9z-.js";import"./Avatar-BLRN-xHT.js";import"./GameBanner-BIl1q-vR.js";import"./useTDBaseUrl-BF9foKiS.js";import"./index-DfAodAzM.js";import"./InfoCircleOutlined-C09FCIs3.js";import"./index-CEn2LyBF.js";import"./SignIn-B0Eu0Skm.js";import"./GoogleIcon-BZYYIft5.js";import"./Loading-Bkn7hsik.js";import"./LikeFilled-C8ajn-Pn.js";import"./StarIcon-Bf8xauce.js";import"./MetricHighlight-B_yEGN4F.js";import"./ClockIcon-DS6d2wZb.js";import"./useAudio-C9QezIDL.js";import"./useSetState-DwdYiQLA.js";import"./UndoOutlined-BJG9f-W5.js";import"./DeleteOutlined-DfNcJCmJ.js";import"./index-DmOq8KmR.js";import"./DragOutlined-CNwgfpfJ.js";import"./StarFilled-a2JVfQPy.js";import"./StarFilled-CNctUIhy.js";import"./StepBackwardOutlined-Czj08rzs.js";import"./TrophyOutlined-CynGjfZ8.js";import"./GarbageIcon-COjVjJgZ.js";import"./RankingBoard-DFI9jLXs.js";import"./CaretUpOutlined-CTN4lzvm.js";import"./ArrowRightOutlined-g1MLTHX1.js";import"./useMergedState-dPI7kCFg.js";import"./progress-BTAw-kwD.js";import"./TheEndIcon-DmTyGYBJ.js";import"./Medal-BAZyxs8s.js";import"./QuestionCircleOutlined-MsAB7Pld.js";const A={DRAW:"DRAW",EVALUATION:"EVALUATION",GALLERY:"GALLERY"},oe={SUBMIT_DRAWING:"SUBMIT_DRAWING",SUBMIT_VOTING:"SUBMIT_VOTING"},ls=10;function ds(r){const{translate:s}=T(),n=K({actionName:"submit-drawing",onBeforeCall:()=>r(2),onError:()=>r(1),successMessage:s("Acabou o tempo! Aguarde enquanto os outros participantes desenham","Time's up! Wait for the other players to finish their art"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar enviar o desenho","Oops, the application failed to send your art")});return a=>{n({action:oe.SUBMIT_DRAWING,...a})}}function us(r){const{translate:s}=T(),n=K({actionName:"submit-voting",onSuccess:()=>r(2),onError:()=>r(0),successMessage:s("Avaliação enviada! Agora aguarde os outros jogadores","Evaluation sent successfully! Wait for the other players"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar enviar sua avaliação","Oops, the application failed to send your evaluation")});return a=>{n({action:oe.SUBMIT_VOTING,...a})}}const ms=()=>e.jsx(f,{children:e.jsx(l,{pt:e.jsxs(e.Fragment,{children:["Você terá ",e.jsx(Y,{children:"10"})," segundos para ler a sua carta e desenhá-la.",e.jsx("br",{}),"Aperte o botão quando estiver pronto!",e.jsx("br",{}),e.jsx("span",{className:I(q("tada")),children:e.jsx("strong",{children:"Não vale usar números e letras."})}),e.jsx("br",{}),"Fique esperto porque o tempo começa assim que você apertar."]}),en:e.jsxs(e.Fragment,{children:["You'll have ",e.jsx(Y,{children:"10"})," seconds to read and draw your card.",e.jsx("br",{}),"Press the button when you're ready!",e.jsx("br",{}),e.jsx("span",{className:I(q("tada")),children:e.jsx("strong",{children:"You can NOT use numbers or letters."})}),e.jsx("br",{}),"Be aware of the timer! It starts as soon as you press the button."]})})}),te=()=>e.jsx(f,{children:e.jsx(l,{pt:e.jsxs(e.Fragment,{children:["Encontre os pares de desenho e carta clicando em uma carta ou desenho e em seguida clicando em seu par.",e.jsx("br",{}),"Uma bandeirinha aparecerá no topo de cada desenho com a cor e letra da carta que você selecionou.",e.jsx("br",{}),"Quando encontrar todos os pares, envie sua avaliação!"]}),en:e.jsxs(e.Fragment,{children:["Find the pairs of artwork and card by clicking on a card or artwork then on its match.",e.jsx("br",{}),"A ribbon will show up on the artwork with the color and letter of the matching card.",e.jsx("br",{}),"When you're done, click the button to send your evaluation!"]})})}),ps=()=>e.jsx(f,{children:e.jsx(l,{pt:e.jsxs(e.Fragment,{children:["Agora, mostraremos cada arte, o que os jogadores votaram e a resposta final.",e.jsx("br",{}),"Se você votou na expressão correta, você ganha ",e.jsx(g,{type:"positive",children:"2"})," ","pontos.",e.jsx("br",{}),"Quando for a sua arte, você ganha ",e.jsx(g,{type:"positive",children:"1"})," ponto para cada pessoa que votou corretamente."]}),en:e.jsxs(e.Fragment,{children:["Now we show each art, what players voted, and the final answer.",e.jsx("br",{}),"You get ",e.jsx(g,{type:"positive",children:"2"})," points if you paired the correct card and art.",e.jsx("br",{}),"When players selected the correct card for your artwork, you get"," ",e.jsx(g,{type:"positive",children:"1"})," point for each match!"]})})}),ie=()=>e.jsx(f,{children:e.jsx(l,{pt:e.jsxs(e.Fragment,{children:["Você ganha ",e.jsx(g,{type:"positive",children:"2"})," pontos para cada ligação correta entre arte e expressão.",e.jsx("br",{}),"Para cada ligação correta que sua arte ganha, você recebe"," ",e.jsx(g,{type:"positive",children:"1"})," ponto."]}),en:e.jsxs(e.Fragment,{children:["You get ",e.jsx(g,{type:"positive",children:"2"})," points if you matched the right card with artwork.",e.jsx("br",{}),"For you own artwork, you get ",e.jsx(g,{type:"positive",children:"1"})," point for each correct match the other players done."]})})});function hs({level:r,levelType:s}){return r<4?e.jsx(e.Fragment,{}):r===4?e.jsx(f,{contained:!0,children:e.jsx(l,{pt:"No nível 4, as cartas tem um ou dois temas comuns, então preste atenção nos detalhes",en:"On level 4, the cards have one or two common themes, so pay attention to details"})}):s==="pairs"?e.jsx(f,{contained:!0,children:e.jsx(l,{pt:"No nível 5, só existem duas cartas para todos",en:"On level 5, players draw one of two things only"})}):e.jsx(f,{contained:!0,children:e.jsx(l,{pt:e.jsxs(e.Fragment,{children:["Rodada Especial:"," ",e.jsx(me,{children:xs[s]??{pt:"Surpresa",en:"Surprise"}})]}),en:e.jsx(e.Fragment,{children:"Special Round: "})})})}const xs={contenders:{pt:"Personagens e Personalidades",en:"Characters and Celebrities"},movies:{pt:"Filmes",en:"Movies"},adjectives:{pt:"Adjetivos",en:"Adjectives"}};function js({secretCard:r,onSubmitDrawing:s,startDrawingTimer:n,announcement:a}){const{translate:i}=T(),{isDebugEnabled:d}=ee(),[o,t]=j.useState([]),[c,u]=j.useState(!1),{seconds:m,start:p,isRunning:h}=Oe({duration:12,autoStart:!1,onExpire:()=>{u(!0),s({drawing:JSON.stringify(o),cardId:r.id})}});j.useEffect(()=>{!h&&n&&p()},[n,h,p]);const R=()=>s({drawing:JSON.stringify(Ge()),cardId:r.id});return se(),e.jsxs(k,{announcement:a,children:[e.jsx(re,{size:"large",header:i("Desenhe","Draw",d?r==null?void 0:r.id:void 0),footer:Array(r==null?void 0:r.level).fill("•").join(""),className:"a-draw-step__card",color:"yellow",children:h&&e.jsxs(e.Fragment,{children:[r==null?void 0:r.text,e.jsx("span",{className:"a-draw-step__timer",children:m>1?m-2:0})]})}),h&&e.jsx(Fe,{}),e.jsx(We,{onClick:R,children:"Mock Drawing"}),c?e.jsx(Le,{style:{background:"white",width:"500px",padding:"2em"}}):e.jsx(Me,{lines:o,setLines:t})]})}function gs({players:r,state:s}){var m;const{step:n,goToNextStep:a,setStep:i}=O(0),d=X(r,s),[o,t]=j.useState(!1),c=ds(i),u=e.jsx(L,{icon:e.jsx(Pe,{}),title:e.jsx(l,{pt:"Desenhe!",en:"Draw!"}),buttonText:e.jsx(l,{pt:"Um dó, lá, si... vamos e... já!",en:"Ready! Set! Go!"}),onClose:()=>t(!0),currentRound:(m=s==null?void 0:s.round)==null?void 0:m.current,withoutTimer:!0,type:"overlay",children:e.jsx(ms,{})});return e.jsx(F,{phase:s==null?void 0:s.phase,allowedPhase:A.DRAW,children:e.jsxs(M,{step:n,players:r,waitingRoom:{instruction:e.jsx(l,{pt:"Vamos aguardar enquanto os outros jogadores terminam seus desenhos!",en:"Please wait while other players finish their artwork!"})},children:[e.jsx(De,{round:s==null?void 0:s.round,onPressButton:a,buttonText:" ",time:5,unskippable:!0,children:e.jsxs(f,{contained:!0,children:[e.jsx(l,{pt:`Essa rodada usará cartas de nível ${(s==null?void 0:s.level)||"?"}`,en:`This round uses cards of level ${(s==null?void 0:s.level)||"?"}`}),e.jsx(hs,{level:s.level,levelType:s.levelType})]})}),e.jsx(js,{secretCard:d.currentCard??{},onSubmitDrawing:c,announcement:u,startDrawingTimer:o})]})})}function vs({votes:r,cards:s,drawings:n,players:a}){const[i]=J("canvasSize"),d=j.useMemo(()=>s.reduce((c,u)=>(c[u.id]=u,c),{}),[s]),o=j.useMemo(()=>n.reduce((c,u)=>(c[u.id]=u,c),{}),[n]);if(!r)return e.jsx("div",{className:"a-evaluated-drawings",children:e.jsx(pe,{icon:e.jsx(Ue,{})})});const t=Math.min(i*.6,2e3);return e.jsx("ul",{className:"a-evaluated-drawings",children:Object.keys(r).sort().map(c=>{const u=o[c],m=d[r[c]];return e.jsxs("li",{className:"a-evaluated-drawings__item",children:[e.jsx("div",{className:"a-evaluated-drawings__card",style:{maxWidth:`${t}px`},children:e.jsx(ae,{player:a[u.playerId],size:"small"})}),e.jsx(_,{drawing:u.drawing,width:t,className:"a-evaluation-all-drawings__drawing"}),e.jsx("div",{className:"a-evaluated-drawings__card",style:{maxWidth:`${t}px`},children:m.text})]},`${u.id}-${m.id}-${m.playerId}`)})})}function fs(r){return Object.entries(r).reduce((s,[n,a])=>{const[,i]=n.split(z),[,d]=a.split(z);return s[i]=d,s},{})}function ws({drawings:r,activeItem:s,onActivateItem:n,votes:a,canvasSize:i,players:d}){const o="a-evaluation-all-drawings__li-drawing-button";return e.jsx("ul",{className:"a-evaluation-all-drawings",children:r==null?void 0:r.map(t=>{const c=y(["drawing",t.id]),u=s===c,m=a[c];return e.jsxs("li",{className:I(o,u&&`${o}--active`),onClick:()=>n(c),children:[(a==null?void 0:a[c])&&e.jsx(He,{label:m.charAt(m.length-1)}),e.jsx(_,{drawing:t.drawing,className:"a-evaluation-all-drawings__drawing",width:i}),e.jsx("span",{className:"a-evaluation-all-drawings__artist",children:e.jsx(ae,{player:d[t.playerId]})})]},`${c}-${t.playerId}`)})})}const bs=({text:r,level:s,header:n="X"})=>e.jsx(re,{color:he(n),header:n,size:"medium",footer:Array(s).fill("•").join(""),children:r??e.jsx(Je,{})});function ys({cards:r,activeItem:s,onActivateItem:n,votes:a,levelType:i}){const{isDebugEnabled:d}=ee(),o="a-evaluation-all-cards__li-card-button";return e.jsx("ul",{className:"a-evaluation-all-cards",children:r.map((t,c)=>{const u=P[c],m=y(["card",t.id,u]),p=s===m,h=Object.values(a).includes(m);return e.jsx("li",{role:"button",className:I(o,p&&`${o}--active`,h&&i!=="pairs"&&`${o}--used`),onClick:()=>n(m),children:e.jsx(bs,{text:t.text,level:t.level,header:d?t.id:u})},m)})})}function As({drawings:r,cards:s,players:n,onSubmitVoting:a,levelType:i,announcement:d,user:o}){const{isLoading:t}=xe(),c=Q(5,{gap:16,minWidth:150,maxWidth:500}),[u,m]=J("canvasSize"),{votes:p,setVotes:h,activeItem:R,activateItem:V,resetVoting:ce,isVotingComplete:le}=$e("drawing",!0,r.length||2),[de,ue]=j.useState(!1),U=j.useCallback(()=>{ue(!0);const v=Object.keys(p),b=Object.values(p),S=r.map(x=>y(["drawing",x.id])).filter(x=>!v.includes(x));let w=je(s.map((x,E)=>y(["card",x.id,P[E]])).filter(x=>!b.includes(x)));w=w.length<S.length?Array(Math.ceil(S.length/w.length)).fill(w).flat():w;const N={...p};S.forEach((x,E)=>{N[x]||(N[x]=w[E])}),h(N)},[s,r,p,h]);j.useEffect(()=>{u||m(Math.floor(c/50)*50)},[u,c]);const $=j.useCallback(()=>{const v=(r??[]).find(b=>b.playerId===o.id);if(v&&v.level!==5){const b=y(["drawing",v.id]),S=(s??[]).findIndex(x=>x.playerId===o.id),w=y(["card",v.id,P[S]]);return{[b]:w}}return{}},[o,r,s]);return j.useEffect(()=>{const v=$();v&&h(b=>({...b,...v}))},[o==null?void 0:o.id]),se(()=>{U()},[]),e.jsxs(k,{announcement:d,fullWidth:!0,children:[e.jsx(W,{content:e.jsx(te,{})}),e.jsx(ze,{}),e.jsx(Z,{children:e.jsx(l,{pt:"Adivinhação",en:"Match the Pairs"})}),e.jsx(Ye,{type:"action",children:e.jsx(l,{pt:e.jsxs(e.Fragment,{children:["Faça pares com as cartas e os desenhos.",e.jsx("br",{}),"Basta clicar em um desenho e depois em sua carta correspondente, ou vice-versa.",e.jsx("br",{}),"Para refazer, basta reselecionar o desenho ou carta normalmente.",e.jsx("br",{}),"Quando estiver pronto, clique em ",e.jsx("b",{children:"Enviar sua avaliação"}),"."]}),en:e.jsxs(e.Fragment,{children:["Match the cards and drawings.",e.jsx("br",{}),"Just click on a drawing and then on its corresponding card, or vice versa.",e.jsx("br",{}),"To redo, just reselect the drawing or card normally.",e.jsx("br",{}),"When you're ready, click ",e.jsx("b",{children:"Send evaluation"}),"."]})})}),e.jsxs(ge,{direction:"vertical",children:[e.jsxs(ve,{wrap:!0,children:[e.jsx(D,{type:"default",icon:e.jsx(Qe,{}),onClick:()=>ce($()),disabled:t,children:e.jsx(l,{pt:"Limpar seleções",en:"Clear selections"})}),e.jsx(D,{type:"default",icon:e.jsx(Ke,{}),onClick:U,disabled:t||Object.values(p).length===r.length,children:e.jsx(l,{pt:"Chutar restantes",en:"Guess for me"})}),e.jsx(fe,{onClick:()=>a({votes:fs(p),choseRandomly:de}),disabled:!le,children:e.jsx(l,{pt:"Enviar sua avaliação",en:"Send evaluation"})})]}),e.jsx(ws,{drawings:r??[],activeItem:R,onActivateItem:V,votes:p,canvasSize:u,players:n}),e.jsx(ys,{cards:s??[],activeItem:R,onActivateItem:V,votes:p,levelType:i})]})]})}function Ss({players:r,state:s}){var t;const{step:n,setStep:a}=O(0),i=X(r,s),d=us(a),o=e.jsx(L,{icon:e.jsx(Be,{}),title:e.jsx(l,{pt:"Adivinhação",en:"Match the Pairs"}),currentRound:(t=s==null?void 0:s.round)==null?void 0:t.current,type:"overlay",children:e.jsx(te,{})});return e.jsx(F,{phase:s==null?void 0:s.phase,allowedPhase:A.EVALUATION,children:e.jsx(M,{step:n,players:r,waitingRoom:{instruction:e.jsx(l,{pt:"Vamos aguardar enquanto os outros jogadores terminam de avaliar!",en:"Please wait while other players finish their evaluations!"}),content:e.jsx(vs,{cards:s.cards,drawings:s.drawings,votes:i==null?void 0:i.votes,players:r})},children:e.jsx(Ve,{condition:s.drawings&&i.id,children:e.jsx(As,{drawings:s.drawings,cards:s.cards,players:r,onSubmitVoting:d,levelType:s.levelType,announcement:o,user:i})})})})}function Is({artist:r}){return e.jsxs("div",{className:"a-gallery__credits",children:[e.jsx(B,{children:e.jsx(l,{pt:"Artista",en:"Artist"})}),e.jsx("span",{className:"uppercase",children:e.jsx(ke,{player:r})})]})}function Rs({playersSay:r,players:s,cards:n,windowCardId:a,artistColor:i}){const d=we.orderBy(Object.entries(r).map(([o,t])=>({cardId:o,card:n.find(c=>c.id===o),playersIds:t,count:t.length,isCorrect:a===o})),["isCorrect","count","card.text"],["desc","desc","asc"]);return e.jsxs("div",{className:"a-gallery__guesses",children:[e.jsx(B,{children:e.jsx(l,{pt:"Participantes votaram",en:"Players voted"})}),d.map((o,t)=>{var c;return e.jsxs("div",{className:"a-gallery__guess",children:[e.jsx(ne,{winner:o.isCorrect,backgroundColor:i,children:(c=o.card)==null?void 0:c.text}),e.jsx(G,{players:s,playersIds:o.playersIds})]},`guess-${o.cardId}-${t}`)})]})}function Ns({playerArtist:r,correctAnswerId:s,correctAnswerText:n,playersPoints:a,playersSay:i,players:d}){const o=Object.values((i==null?void 0:i[s])??{});return e.jsxs("div",{className:"a-gallery__result",children:[e.jsx(B,{children:e.jsx(l,{pt:"E o título correto da obra é",en:"And the masterpiece title is"})}),e.jsx(ne,{winner:!0,children:n}),o.length?e.jsxs(e.Fragment,{children:[e.jsx(G,{players:d,playersIds:o,children:e.jsx(H,{quantity:2,keyPrefix:`guessers-points-${r.id}`})}),e.jsx(G,{players:d,playersIds:[r.id],children:e.jsx(H,{quantity:a==null?void 0:a[r.id],keyPrefix:`artist-points-${r.id}`})})]}):e.jsx(ss,{children:e.jsx(l,{pt:"Esse desenho deve ter sido muito ruim.",en:"It must have been a very crappy drawing. Shame..."})})]})}function Ts({gallery:r,players:s,cards:n,slideShowConfig:a}){Ne();const i=Q(2,{gap:16,minWidth:200,maxWidth:500}),{drawing:d,artistId:o,id:t,text:c,playersPoints:u,playersSay:m}=r[a.slideIndex],p=s[o],h=be(p.avatarId);return e.jsxs(k,{fullWidth:!0,children:[e.jsx(Z,{size:"small",children:e.jsx(l,{pt:"Galeria de Arte",en:"Art Gallery"})}),e.jsx(W,{content:e.jsx(ie,{})}),e.jsxs(es,{config:a,barColor:h,leftClassName:"a-gallery__canvas",rightClassName:"a-gallery__info",children:[e.jsx(_,{drawing:d,width:i,className:"a-gallery__drawing"}),e.jsxs(e.Fragment,{children:[e.jsx(Is,{artist:p}),e.jsx(Rs,{players:s,playersSay:m,cards:n,windowCardId:t,artistColor:h}),e.jsx(Ns,{playerArtist:p,correctAnswerId:t,correctAnswerText:c,playersPoints:u,playersSay:m,players:s})]})]})]})}function _s({players:r,ranking:s,isGameOver:n,round:a,onGoBack:i,threshold:d}){return e.jsxs(rs,{players:r,ranking:s,gainedPointsDescriptions:[e.jsx(l,{pt:"Votos corretos",en:"Correct guesses"},"1"),e.jsx(l,{pt:"Votos corretos em seu desenho por outros jogadores",en:"Correct guesses on your drawing by other players"},"2")],children:[e.jsx(W,{content:e.jsx(ie,{})}),d>0&&e.jsx(f,{contained:!0,children:e.jsx(l,{pt:e.jsxs(e.Fragment,{children:["O jogo termina quando alguém passa os ",e.jsxs(g,{children:[d," pontos"]})," ou"," ",a.total," rodadas."]}),en:e.jsxs(e.Fragment,{children:["The game ends when someones passes ",e.jsxs(g,{children:[d," points"]})," or"," ",a.total," rounds."]})})}),!n&&e.jsx(as,{round:a}),e.jsx(D,{size:"large",onClick:i,icon:e.jsx(qe,{}),children:e.jsx(l,{pt:"Ver Galeria Novamente",en:"See Gallery Again"})}),e.jsx(Te,{round:a})]})}function Es({players:r,state:s,meta:n}){var u,m;const{step:a,goToNextStep:i,goToPreviousStep:d}=O(0),o=Xe({length:s.gallery.length,slideDuration:ls,onExpire:i}),t=()=>{o.reset(),d()},c=(u=n.options)!=null&&u.shortGame?s.round.current===5:Object.values(r).some(p=>p.score>50);return e.jsx(F,{phase:s==null?void 0:s.phase,allowedPhase:A.GALLERY,className:"a-gallery-phase",children:e.jsxs(M,{step:a,players:r,children:[e.jsx(L,{icon:e.jsx(Ze,{}),title:e.jsx(l,{pt:"Galeria de Arte",en:"Art Gallery"}),onClose:i,currentRound:(m=s==null?void 0:s.round)==null?void 0:m.current,unskippable:!0,type:"block",children:e.jsx(ps,{})}),e.jsx(Ts,{gallery:s.gallery,players:r,cards:s.cards,slideShowConfig:o}),e.jsx(_s,{players:r,ranking:s.ranking,isGameOver:c,round:s.round,onGoBack:t,threshold:s.threshold})]})})}const Cs=["F","D","D+","C-","C","C+","B-","B","B+","A-","A","A+"],Ps=({value:r})=>{const{translate:s}=T(),n=Cs[Math.floor(r/.084)],a="a-drawing-grade";return e.jsx(ye,{title:s(`Nota baseada em quantos acertos o desenho teve: ${r*100}%`,`Grade based on the number of correct guesses the artwork got: ${r*100}%`),children:e.jsx(Ae,{className:I(a,`${a}--${n[0]}`),children:n})})};function Ds({drawings:r,players:s}){return e.jsx(cs,{title:e.jsx(l,{pt:"Galeria",en:"Galeria"}),children:e.jsx("ul",{className:"a-game-over__gallery",children:r.map(n=>{const a=n.successRate??0;return e.jsxs("li",{className:"a-game-over__gallery-item",style:{width:"200px"},children:[e.jsx(_,{drawing:n.drawing,width:200,className:"a-game-over__gallery-canvas"}),e.jsxs("span",{className:"a-game-over__credits",children:['"',n.text,'" ',e.jsx(l,{pt:"por",en:"by"})," ",s[n.playerId].name]}),e.jsx(Ps,{value:a>1?a/100:a})]},n.drawing)})})})}function Gs({state:r,players:s}){return e.jsxs(os,{state:r,players:s,announcementIcon:e.jsx(ns,{}),rateWidgetCustomText:e.jsx(l,{pt:"Alguma sugestão de carta?",en:"Any card suggestions?"}),children:[e.jsx(ts,{players:s,achievements:r.achievements,reference:is}),e.jsx(Ds,{players:s,drawings:r.drawings})]})}function ks(r){if(r&&!r.phase)return Ie;switch(r.phase){case C.DEFAULT.LOBBY:return Ce;case C.DEFAULT.SETUP:return Ee;case A.DRAW:return gs;case A.EVALUATION:return Ss;case A.GALLERY:return Es;case C.DEFAULT.GAME_OVER:return Gs;default:return Re}}function ga(){return e.jsx(_e,{gameCollection:Se.ARTE_RUIM,getActiveComponent:ks})}export{ga as default};
