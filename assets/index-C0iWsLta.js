import{r as a,a5 as ee,dW as re,cv as A,ct as F,g as ae,m as te,a6 as W,e9 as ne,a as H,u as le,ae as se,ad as oe,b as ce,cA as ie,aa as X,c as D,ed as de,ee as ue,en as be,a7 as pe,af as me,cu as _}from"./index-C2u_lQxX.js";function q(){return q=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var d in t)Object.prototype.hasOwnProperty.call(t,d)&&(e[d]=t[d])}return e},q.apply(this,arguments)}const fe=a.forwardRef((e,r)=>{const{prefixCls:t="rc-checkbox",className:d,style:f,checked:u,disabled:b,defaultChecked:S=!1,type:x="checkbox",title:w,onChange:o,...E}=e,C=a.useRef(null),p=a.useRef(null),[l,N]=ee(S,u);a.useImperativeHandle(r,()=>({focus:i=>{C.current?.focus(i)},blur:()=>{C.current?.blur()},input:C.current,nativeElement:p.current}));const $=re(t,d,{[`${t}-checked`]:l,[`${t}-disabled`]:b}),g=i=>{b||("checked"in e||N(i.target.checked),o?.({target:{...e,type:x,checked:i.target.checked},stopPropagation(){i.stopPropagation()},preventDefault(){i.preventDefault()},nativeEvent:i.nativeEvent}))};return a.createElement("span",{className:$,title:w,style:f,ref:p},a.createElement("input",q({},E,{className:`${t}-input`,ref:C,onChange:g,disabled:b,checked:!!l,type:x})),a.createElement("span",{className:`${t}-inner`}))});function Ce(e){const r=A.useRef(null),t=()=>{F.cancel(r.current),r.current=null};return[()=>{t(),r.current=F(()=>{r.current=null})},u=>{r.current&&(u.stopPropagation(),t()),e?.(u)}]}const he=e=>{const{checkboxCls:r}=e,t=`${r}-wrapper`;return[{[`${r}-group`]:{...H(e),display:"inline-flex",flexWrap:"wrap",columnGap:e.marginXS,[`> ${e.antCls}-row`]:{flex:1}},[t]:{...H(e),display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${t}`]:{marginInlineStart:0},[`&${t}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}},[r]:{...H(e),position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:e.borderRadiusSM,alignSelf:"center",[`${r}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${r}-inner`]:ne(e)},[`${r}-inner`]:{boxSizing:"border-box",display:"block",width:e.checkboxSize,height:e.checkboxSize,direction:"ltr",backgroundColor:e.colorBgContainer,border:`${W(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,borderCollapse:"separate",transition:`all ${e.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"25%",display:"table",width:e.calc(e.checkboxSize).div(14).mul(5).equal(),height:e.calc(e.checkboxSize).div(14).mul(8).equal(),border:`${W(e.lineWidthBold)} solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`}},"& + span":{paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS}}},{[`
        ${t}:not(${t}-disabled),
        ${r}:not(${r}-disabled)
      `]:{[`&:hover ${r}-inner`]:{borderColor:e.colorPrimary}},[`${t}:not(${t}-disabled)`]:{[`&:hover ${r}-checked:not(${r}-disabled) ${r}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${r}-checked:not(${r}-disabled):after`]:{borderColor:e.colorPrimaryHover}}},{[`${r}-checked`]:{[`${r}-inner`]:{backgroundColor:e.colorPrimary,borderColor:e.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`}}},[`
        ${t}-checked:not(${t}-disabled),
        ${r}-checked:not(${r}-disabled)
      `]:{[`&:hover ${r}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"}}},{[r]:{"&-indeterminate":{"&":{[`${r}-inner`]:{backgroundColor:`${e.colorBgContainer}`,borderColor:`${e.colorBorder}`,"&:after":{top:"50%",insetInlineStart:"50%",width:e.calc(e.fontSizeLG).div(2).equal(),height:e.calc(e.fontSizeLG).div(2).equal(),backgroundColor:e.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}},[`&:hover ${r}-inner`]:{backgroundColor:`${e.colorBgContainer}`,borderColor:`${e.colorPrimary}`}}}}},{[`${t}-disabled`]:{cursor:"not-allowed"},[`${r}-disabled`]:{[`&, ${r}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${r}-inner`]:{background:e.colorBgContainerDisabled,borderColor:e.colorBorder,"&:after":{borderColor:e.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:e.colorTextDisabled},[`&${r}-indeterminate ${r}-inner::after`]:{background:e.colorTextDisabled}}}]};function ge(e,r){const t=te(r,{checkboxCls:`.${e}`,checkboxSize:r.controlInteractiveSize});return he(t)}const j=ae("Checkbox",(e,{prefixCls:r})=>[ge(r,e)]),K=A.createContext(null),xe=(e,r)=>{const{prefixCls:t,className:d,rootClassName:f,children:u,indeterminate:b=!1,style:S,onMouseEnter:x,onMouseLeave:w,skipGroup:o=!1,disabled:E,classNames:C,styles:p,...l}=e,{getPrefixCls:N,direction:$,className:g,style:i,classNames:B,styles:O}=le("checkbox"),c=a.useContext(K),{isFormItemInput:I}=a.useContext(se),L=a.useContext(oe),v=(c?.disabled||E)??L,G={...e,indeterminate:b,disabled:v},[P,R]=ce([B,C],[O,p],{props:G}),k=a.useRef(l.value),V=a.useRef(null),n=ie(r,V);a.useEffect(()=>{c?.registerValue(l.value)},[]),a.useEffect(()=>{if(!o)return l.value!==k.current&&(c?.cancelValue(k.current),c?.registerValue(l.value),k.current=l.value),()=>c?.cancelValue(l.value)},[l.value]),a.useEffect(()=>{V.current?.input&&(V.current.input.indeterminate=b)},[b]);const s=N("checkbox",t),m=X(s),[y,T]=j(s,m),h={...l};c&&!o&&(h.onChange=(...Z)=>{l.onChange&&l.onChange.apply(l,Z),c.toggleOption&&c.toggleOption({label:u,value:l.value})},h.name=c.name,h.checked=c.value.includes(l.value));const M=D(`${s}-wrapper`,{[`${s}-rtl`]:$==="rtl",[`${s}-wrapper-checked`]:h.checked,[`${s}-wrapper-disabled`]:v,[`${s}-wrapper-in-form-item`]:I},g,d,P.root,f,T,m,y),z=D(P.icon,{[`${s}-indeterminate`]:b},de,y),[U,Y]=Ce(h.onClick);return a.createElement(ue,{component:"Checkbox",disabled:v},a.createElement("label",{className:M,style:{...R.root,...i,...S},onMouseEnter:x,onMouseLeave:w,onClick:U},a.createElement(fe,{...h,onClick:Y,prefixCls:s,className:z,style:R.icon,disabled:v,ref:n}),be(u)&&a.createElement("span",{className:D(`${s}-label`,P.label),style:R.label},u)))},J=a.forwardRef(xe),$e=a.forwardRef((e,r)=>{const{defaultValue:t,children:d,options:f=[],prefixCls:u,className:b,rootClassName:S,style:x,onChange:w,...o}=e,{getPrefixCls:E,direction:C}=a.useContext(pe),[p,l]=a.useState(o.value||t||[]),[N,$]=a.useState([]);a.useEffect(()=>{"value"in o&&l(o.value||[])},[o.value]);const g=a.useMemo(()=>f.map(n=>typeof n=="string"||typeof n=="number"?{label:n,value:n}:n),[f]),i=n=>{$(s=>s.filter(m=>m!==n))},B=n=>{$(s=>[].concat(_(s),[n]))},O=n=>{const s=p.indexOf(n.value),m=_(p);s===-1?m.push(n.value):m.splice(s,1),"value"in o||l(m),w?.(m.filter(y=>N.includes(y)).sort((y,T)=>{const h=g.findIndex(z=>z.value===y),M=g.findIndex(z=>z.value===T);return h-M}))},c=E("checkbox",u),I=`${c}-group`,L=X(c),[v,G]=j(c,L),P=me(o,["value","disabled"]),R=f.length?g.map(n=>a.createElement(J,{prefixCls:c,key:n.value.toString(),disabled:"disabled"in n?n.disabled:o.disabled,value:n.value,checked:p.includes(n.value),onChange:n.onChange,className:D(`${I}-item`,n.className),style:n.style,title:n.title,id:n.id,required:n.required},n.label)):d,k=a.useMemo(()=>({toggleOption:O,value:p,disabled:o.disabled,name:o.name,registerValue:B,cancelValue:i}),[O,p,o.disabled,o.name,B,i]),V=D(I,{[`${I}-rtl`]:C==="rtl"},b,S,G,L,v);return a.createElement("div",{className:V,style:x,...P,ref:r},a.createElement(K.Provider,{value:k},R))}),Q=J;Q.Group=$e;Q.__ANT_CHECKBOX=!0;export{Q as C,fe as a,ge as g,Ce as u};
