import{h as W,H as O,r as v,j as e,T as p,q as _,o as L,I as y,N as D,aP as T,aM as de,n as M,x as pe,B as P,ch as me,f_ as X,F as he,ci as ee,b0 as je}from"./index-BO8o3uJJ.js";import{u as se,S as B,c as F,b as te,P as U,d as V,e as z,a as re,j as xe,k as ge,g as fe,h as ve,i as Se}from"./StepSwitcher-ifKLfq4i.js";import{D as be,E as we}from"./WritingIcon-DBvERseS.js";import{I as R}from"./useDevFeatures-0Y-iseFW.js";import{R as Ae}from"./RoundAnnouncement-6BrX0GVN.js";import{m as Ie}from"./drawing-6Gdb2v6e.js";import{u as Ce}from"./DebugOnly-CVvDyvXp.js";import{u as oe}from"./useMock-DgFwKNNQ.js";import{P as Ne}from"./PanicIcon-DCFGEHzG.js";import{u as De}from"./useAudio-7cH_Z5-i.js";import{D as Te}from"./DrawingCanvas-CQbKsNMr.js";import{C as $}from"./Card-COAPNM7W.js";import{D as ke}from"./DevButton-CtuZsdY2.js";import{V as Ge}from"./ViewIf-qgMpzyEs.js";import{P as f}from"./PointsHighlight-BpMvvfha.js";import{C as ye}from"./CanvasResizer-Cm8NP8Bf.js";import{T as G}from"./TitledContainer-Bk_-jJI3.js";import{R as Re}from"./RuleInstruction-DzQmwXQG.js";import{P as ae}from"./PopoverRule-B7tBNkGM.js";import{C as q}from"./CheckMarkIcon-DwsoF-9U.js";import{A as ne}from"./AvatarName-DtHpAO_W.js";import{C as Ee}from"./CanvasSVG-BVIadJ8Y.js";import{R as _e}from"./ClearOutlined-D3dVqz4c.js";import{R as Pe}from"./ThunderboltOutlined-DHzPTGq0.js";import{R as We}from"./CloudUploadOutlined-B_a6Kx8L.js";import{u as Oe}from"./SlideShowControls-DmfY-TB9.js";import{W as Le}from"./WarningSignIcon-P6qExu16.js";import{S as Me}from"./SlideShow-BzUacbWv.js";import{A as Be}from"./AvatarEntry-BokvO1XS.js";import{S as H,a as ie,b as Fe,c as Ue}from"./SlideShowComposableComponents-CrpnTJ2Y.js";import{S as Ve}from"./StarIcon-BvmEzS_-.js";import{S as ze}from"./StepRankingWrapper-SwZmpvQU.js";import{C as $e}from"./CrownIcon-DkD_-LWV.js";import"./GameBanner-CyNOTwV2.js";import{G as qe}from"./GameOverWrapper-C--NAEQh.js";import{A as He}from"./Achievements-C00JgFpr.js";import{a as Ye}from"./achievements-BfFZpvTu.js";import{P as Je}from"./progress-D6qOUtRm.js";import"./speech-CPKO-81P.js";import"./RulesModal-_TyPmn7J.js";import"./index-BUXxwF7q.js";import"./PurePanel-BIV7dXcV.js";import"./Game-Bx-wkJW2.js";import"./useMutation-CAyvgnnF.js";import"./index-zoUXMVHW.js";import"./index-DBcOTiOR.js";import"./Overflow-IgEnRps0.js";import"./index-DaOOh7EP.js";import"./index-BcbeZ3Ai.js";import"./Avatar-C4LJ1Wrd.js";import"./useTDBaseUrl-BF9foKiS.js";import"./index-DOG1G6sG.js";import"./Loading-BaMK6ogi.js";import"./useBubbleLock-C26udfNm.js";import"./AnimatedLoaderIcon-CEAeuelg.js";import"./InfoCircleOutlined-CJPxb-5P.js";import"./index-CTKn8IR6.js";import"./SignIn-CkOxuyVk.js";import"./GoogleIcon-HqrSZq6c.js";import"./WaitingRoomIcon-DaqIalBS.js";import"./AnimatedClockIcon-CNnKxZop.js";import"./LikeFilled-CcK88sT3.js";import"./useSetState-CqQ4eu75.js";import"./UndoOutlined-_GNNFjJ9.js";import"./DeleteOutlined-DO7b_iX-.js";import"./MetricHighlight-BLtgva8Q.js";import"./index-QS4lmZSh.js";import"./DragOutlined-CgrLHdMy.js";import"./StarFilled-BRC_8MIu.js";import"./StepBackwardOutlined-CauiKbee.js";import"./TrophyOutlined-Cw0D6Jq6.js";import"./GarbageIcon-Be0HpT98.js";import"./RankingBoard-B0R9LLEv.js";import"./CaretUpOutlined-BrhddhmJ.js";import"./TheEndIcon-iimoFBWR.js";import"./ArrowRightOutlined-B-7u-jTs.js";import"./Medal-CsoIq_jG.js";const N={DRAWING:"DRAWING",EVALUATION:"EVALUATION",GALLERY:"GALLERY"},ce={SUBMIT_DRAWING:"SUBMIT_DRAWING",SUBMIT_EVALUATION:"SUBMIT_EVALUATION"},Qe=7;function Ke(t){const{translate:s}=W(),r=se({actionName:"submit-drawing",onBeforeCall:()=>t(2),onError:()=>t(1),successMessage:s("Acabou o tempo! Aguarde enquanto os outros participantes desenham","Time's up! Wait for the other players to finish their art"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar enviar o desenho","Oops, the application failed to send your art")});return a=>{r({action:ce.SUBMIT_DRAWING,...a})}}function Xe(t){const{translate:s}=W(),r=se({actionName:"submit-guesses",onSuccess:()=>t(2),onError:()=>t(0),successMessage:s("Avaliação enviada! Agora aguarde os outros jogadores","Evaluation sent successfully! Wait for the other players"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar enviar sua avaliação","Oops, the application failed to send your evaluation")});return a=>{r({action:ce.SUBMIT_EVALUATION,...a})}}const Ze="/tardedivertida/assets/sinais-de-alerta-30-DihigEak.mp3";function es(){const[t]=O("volume"),[s,,r]=De({src:Ze,autoPlay:!0,loop:!1});return v.useEffect(()=>{r.volume(t)},[t]),e.jsx(e.Fragment,{children:s})}const Y=(t,s,r,a)=>a==="en"?`${t[r].text} ${t[s].text}`:`${t[s].text} ${t[r].text}`;function le(t){return e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 500 500",...t,children:[e.jsx("rect",{width:"370",height:"370",x:"64.2",y:"64.2",fill:"#fbb903",rx:"30",ry:"30",transform:"rotate(45 249.198 249.201)"}),e.jsx("rect",{width:"338",height:"338",x:"80.2",y:"80.2",fill:"none",stroke:"#000",strokeMiterlimit:"10",strokeWidth:"6",rx:"15",ry:"15",transform:"rotate(45 249.198 249.201)"})]})}function ss({user:t,cards:s,onSubmitDrawing:r,startDrawingTimer:a,announcement:n,gameLanguage:i,timeLimit:o}){const{translate:l}=W(),[c,u]=v.useState([]),[h,x]=v.useState(!1),{seconds:w,start:A,isRunning:b}=Ce({duration:o+5,autoStart:!1,onExpire:()=>{x(!0),r({drawing:JSON.stringify(c)})}});v.useEffect(()=>{!b&&a&&A()},[a,b,A]);const I=()=>r({drawing:JSON.stringify(Ie())});oe();const C=Y(s,t.currentSubjectId,t.currentDescriptorId,i);return e.jsxs(B,{announcement:n,children:[e.jsx($,{size:"large",header:l("Desenhe","Draw"),className:"sda-card",color:"yellow",children:b&&e.jsxs(e.Fragment,{children:[C,e.jsx("span",{className:"sda-card__timer",children:w>1?w-2:0})]})}),b&&e.jsx(es,{}),e.jsx(ke,{onClick:I,children:"Mock Drawing"}),h?e.jsx(Ne,{style:{background:"white",width:"500px",padding:"2em"}}):e.jsx(Te,{lines:c,setLines:u,className:"sda-warning-canvas",mask:e.jsx(le,{className:"sda-warning-canvas-mask"}),showControls:b})]})}function ts({players:t,state:s,meta:r}){const{step:a,goToNextStep:n,setStep:i}=F(0),o=te(t,s),[l,c]=v.useState(!1),u=s.timeLimit??30,h=Ke(i),x=e.jsx(U,{icon:e.jsx(be,{}),title:e.jsx(p,{pt:"Alerte!",en:"Warn!"}),currentRound:s?.round?.current,buttonText:e.jsx(p,{pt:"Um dó, lá, si... vamos e... já!",en:"Ready! Set! Go!"}),type:"overlay",withoutTimer:!0,onClose:()=>c(!0),children:e.jsx(R,{children:e.jsx(p,{pt:e.jsxs(e.Fragment,{children:["Você tem ",u," segundos para ler e desenhar sua carta"]}),en:e.jsxs(e.Fragment,{children:["You have ",u," seconds to read and draw your card"]})})})});return e.jsx(V,{phase:s?.phase,allowedPhase:N.DRAWING,children:e.jsxs(z,{step:a,players:t,children:[e.jsx(Ae,{round:s?.round,onPressButton:n,buttonText:" ",time:5,unskippable:!0}),e.jsx(ss,{gameLanguage:r.language,user:o,cards:s?.cards,onSubmitDrawing:h,announcement:x,startDrawingTimer:l,timeLimit:u})]})})}const ue=()=>e.jsx(R,{children:e.jsx(p,{pt:e.jsxs(e.Fragment,{children:["Encontre o par de cartas relacionado a cada desenho clicando em uma carta em seguida no desenho.",e.jsx("br",{}),"Quando você selecionar todos os pares, envie sua avaliação!"]}),en:e.jsxs(e.Fragment,{children:["Match the pair of cards related to each drawing by clicking on a card and then on the drawing.",e.jsx("br",{}),"When you've selected all pairs, send your evaluation!"]})})}),rs=()=>e.jsx(R,{children:e.jsx(p,{pt:e.jsxs(e.Fragment,{children:["Agora, mostraremos cada placa, o que os jogadores votaram e a resposta final.",e.jsx("br",{}),"Se você acertou as duas cartas, você ganha ",e.jsx(f,{type:"positive",children:"2"})," ","pontos e o artista ganha ",e.jsx(f,{type:"positive",children:"3"})," pontos.",e.jsx("br",{}),"Se você acertou uma das cartas, você NÃO ganha nada, mas o artista ganha"," ",e.jsx(f,{type:"positive",children:"1"})," ponto."]}),en:e.jsxs(e.Fragment,{children:["Now we show each art, what players voted, and the final answer.",e.jsx("br",{}),"If you matched both cards, you get ",e.jsx(f,{type:"positive",children:"2"})," points and the artist gets ",e.jsx(f,{type:"positive",children:"3"})," points.",e.jsx("br",{}),"If you matched one card, you get nothing, but the artist gets"," ",e.jsx(f,{type:"positive",children:"1"})," point."]})})}),os=()=>e.jsx(R,{children:e.jsx(p,{pt:e.jsxs(e.Fragment,{children:["Se você acertou as duas cartas, você ganha ",e.jsx(f,{type:"positive",children:"2"})," ","pontos e o artista ganha ",e.jsx(f,{type:"positive",children:"3"})," pontos.",e.jsx("br",{}),"Se você acertou uma das cartas, você NÃO ganha nada, mas o artista ganha"," ",e.jsx(f,{type:"positive",children:"1"})," ponto."]}),en:e.jsxs(e.Fragment,{children:["If you matched both cards, you get ",e.jsx(f,{type:"positive",children:"2"})," points and the artist gets ",e.jsx(f,{type:"positive",children:"3"})," points.",e.jsx("br",{}),"If you matched one card, you get nothing, but the artist gets"," ",e.jsx(f,{type:"positive",children:"1"})," point."]})})}),as=t=>t.includes("wss"),ns=t=>t.includes("wsd"),Z=t=>t?as(t)?"subject":ns(t)?"descriptor":"drawing":"none";function is({drawings:t,userId:s,subjectsIds:r,descriptorsIds:a}){const n=()=>t.reduce((d,{playerId:m,subjectId:g})=>(d[m]="",m===s&&(d[m]=g),d),{}),i=()=>t.reduce((d,{playerId:m,descriptorId:g})=>(d[m]="",m===s&&(d[m]=g),d),{}),[o,l]=v.useState(""),[c,u]=v.useState(n()),[h,x]=v.useState(i()),w=d=>{if(d===o)return l("");const m=Z(o),g=Z(d);if(m===g)return l(d);if(d&&(m==="drawing"||g==="drawing")){if(g==="subject")return l(""),u(S=>({...S,[o]:d}));if(g==="descriptor")return l(""),x(S=>({...S,[o]:d}));if(m==="subject")return l(""),u(S=>({...S,[d]:o}));if(m==="descriptor")return l(""),x(S=>({...S,[d]:o}))}l(d)},A=()=>{l(""),u(n()),x(i())},b=v.useMemo(()=>{const d={};return Object.values(c).forEach(m=>{m&&(d[m]=!0)}),Object.values(h).forEach(m=>{m&&(d[m]=!0)}),d},[c,h]),I=v.useMemo(()=>Object.values(c).every(Boolean)&&Object.values(h).every(Boolean),[c,h]);return{activeItem:o,activateItem:w,subjectGuesses:c,descriptorGuesses:h,matchedItems:b,isComplete:I,resetGuesses:A,randomSelection:()=>{const d=Object.values(c),m=_.shuffle(r.filter(j=>!d.includes(j))),g={};Object.keys(c).forEach(j=>{c[j]||(g[j]=m.pop()??"")});const S=Object.values(h),E=_.shuffle(a.filter(j=>!S.includes(j))),k={};Object.keys(h).forEach(j=>{h[j]||(k[j]=E.pop()??"")}),u(j=>({...j,...g})),x(j=>({...j,...k}))}}}function J({drawing:t,width:s}){return e.jsxs("div",{className:"sda-alert-sign",children:[e.jsx(le,{style:{width:s},className:"sda-alert-sign__mask"}),e.jsx(Ee,{drawing:t,width:s,className:"sda-alert-sign__canvas"})]})}function cs({players:t,cards:s,drawings:r,onSelect:a,subjectGuesses:n,descriptorGuesses:i,gameLanguage:o,activeItem:l}){const[c]=O("canvasSize");return e.jsx(G,{title:e.jsx(p,{pt:"Desenhos",en:"Drawings"}),contentProps:{className:"div-container"},className:"contained",children:r.map(u=>{const h=s?.[n?.[u.playerId]]?.text,x=s?.[i?.[u.playerId]]?.text,w=h&&x;return e.jsxs(L,{style:{width:c},onClick:()=>a(u.playerId),className:"sda-word-button",active:u.playerId===l,activeClass:"sda-word-button--active",children:[e.jsxs("span",{className:"sda-word-button__avatar",children:[w&&e.jsx(y,{icon:e.jsx(q,{}),className:"sda-word-button__matched"}),e.jsx(ne,{player:t[u.playerId]})]}),e.jsx(J,{drawing:u.drawing,width:c}),e.jsx(D.Text,{code:!0,className:"uppercase",children:o==="pt"?e.jsxs(e.Fragment,{children:[h??"?"," ",x??"?"]}):e.jsxs(e.Fragment,{children:[x??"?"," ",h??"?"]})})]},u.playerId)})})}function ls({cards:t,onSelect:s,subjectsIds:r,activeItem:a,matchedItems:n}){return e.jsx(T,{size:"small",wrap:!0,children:r.map(i=>e.jsxs(L,{onClick:()=>s(i),active:a===i,className:"sda-word-button",children:[n[i]&&e.jsx(y,{icon:e.jsx(q,{}),className:"sda-word-button__matched"}),e.jsx($,{hideHeader:!0,children:t[i].text})]},i))})}function us({cards:t,onSelect:s,descriptorsIds:r,activeItem:a,matchedItems:n}){return e.jsx(T,{size:"small",wrap:!0,children:r.map(i=>e.jsxs(L,{onClick:()=>s(i),active:a===i,className:"sda-word-button",children:[n[i]&&e.jsx(y,{icon:e.jsx(q,{}),className:"sda-word-button__matched"}),e.jsx($,{hideHeader:!0,children:t[i].text})]},i))})}function ds({players:t,onSubmitGuesses:s,cards:r,drawings:a,subjectsIds:n,descriptorsIds:i,announcement:o,user:l,gameLanguage:c}){const{isLoading:u}=de(),h=M(6,{gap:16,minWidth:120,maxWidth:500}),[x,w]=O("canvasSize"),{subjectGuesses:A,descriptorGuesses:b,activateItem:I,activeItem:C,matchedItems:d,resetGuesses:m,isComplete:g,randomSelection:S}=is({drawings:a,userId:l.id,subjectsIds:n,descriptorsIds:i}),[E,k]=v.useState(!1),j=()=>{k(!0),S()};v.useEffect(()=>{x||w(Math.floor(h/50)*50)},[x,h]),oe(()=>{j()},[]);const Q=e.jsx(G,{title:e.jsx(p,{pt:"Descritores",en:"Descriptors"}),children:e.jsx(us,{cards:r,descriptorsIds:i,onSelect:I,activeItem:C,matchedItems:d})}),K=e.jsx(G,{title:e.jsx(p,{pt:"Sujeitos",en:"Subjects"}),children:e.jsx(ls,{cards:r,subjectsIds:n,onSelect:I,activeItem:C,matchedItems:d})});return e.jsxs(B,{announcement:o,fullWidth:!0,children:[e.jsx(re,{children:e.jsx(p,{pt:"Adivinhação",en:"Match the Pairs"})}),e.jsx(ae,{content:e.jsx(ue,{})}),e.jsx(ye,{}),e.jsx(Re,{type:"action",children:e.jsx(p,{pt:e.jsxs(e.Fragment,{children:["Faça pares com as cartas e os desenhos. Cada desenho tem um sujeito e um descritor correspondente.",e.jsx("br",{}),"Basta clicar em uma carta e depois em seu desenho correspondente.",e.jsx("br",{}),"Para refazer, basta reselecionar o desenho ou carta normalmente.",e.jsx("br",{}),"Quando estiver pronto, clique em ",e.jsx("b",{children:"Enviar sua avaliação"}),"."]}),en:e.jsxs(e.Fragment,{children:["Match the cards and drawings. Each drawing has a corresponding subject and descriptor.",e.jsx("br",{}),"Simply click on a card and then on its corresponding drawing.",e.jsx("br",{}),"To redo, just reselect the drawing or card normally.",e.jsx("br",{}),"When you're ready, click ",e.jsx("b",{children:"Send evaluation"}),"."]})})}),e.jsxs(pe,{direction:"vertical",children:[e.jsxs(T,{wrap:!0,children:[e.jsx(P,{type:"default",icon:e.jsx(_e,{}),onClick:m,disabled:u,children:e.jsx(p,{pt:"Limpar seleções",en:"Clear selections"})}),e.jsx(P,{type:"default",icon:e.jsx(Pe,{}),onClick:j,disabled:u||g,children:e.jsx(p,{pt:"Chutar restantes",en:"Guess for me"})}),e.jsx(me,{onClick:()=>s({guesses:ps(a,A,b),choseRandomly:E}),disabled:!g,icon:e.jsx(We,{}),children:e.jsx(p,{pt:"Enviar sua avaliação",en:"Send evaluation"})})]}),e.jsx(cs,{players:t,cards:r,drawings:a,onSelect:I,subjectGuesses:A,descriptorGuesses:b,gameLanguage:c,activeItem:C}),c==="pt"?K:Q,c==="pt"?Q:K]})]})}const ps=(t,s,r)=>{const a={};return t.forEach(({playerId:n})=>{a[n]=[r[n],s[n]]}),a};function ms({players:t,state:s,meta:r}){const{step:a,setStep:n}=F(0),i=te(t,s),o=Xe(n),l=e.jsx(U,{icon:e.jsx(we,{}),title:e.jsx(p,{pt:"Adivinhação",en:"Match the cards"}),currentRound:s?.round?.current,type:"overlay",duration:s.round.current<2?12:void 0,children:e.jsx(ue,{})});return e.jsx(V,{phase:s?.phase,allowedPhase:N.EVALUATION,children:e.jsx(z,{step:a,players:t,children:e.jsx(Ge,{condition:s.drawings&&i.id,children:e.jsx(ds,{announcement:l,gameLanguage:r.language,user:i,players:t,onSubmitGuesses:o,cards:s.cards,drawings:s.drawings,subjectsIds:s.subjectsIds,descriptorsIds:s.descriptorsIds})})})})}function hs({artist:t}){return e.jsxs("div",{className:"sda-gallery__credits",children:[e.jsx(H,{children:e.jsx(p,{pt:"Criador",en:"Creator"})}),e.jsx("span",{className:"uppercase",children:e.jsx(Be,{player:t})})]})}function js({players:t,cards:s,artistColor:r,galleryEntry:a,gameLanguage:n}){const i=v.useMemo(()=>_.orderBy(a.playersSay.map(o=>{const l=Y(s,o.subjectId,o.descriptorId,n),c=a.subjectId===o.subjectId,u=a.descriptorId===o.descriptorId;return{id:l,playersIds:o.playersIds,score:o.score,subject:s[o.subjectId],subjectCorrect:c,descriptor:s[o.descriptorId],descriptorCorrect:u,correctness:Number(c)+Number(u),count:o.playersIds.length}}),["correctness","count","id"],["desc","desc","asc"]),[s,a,n]);return e.jsxs("div",{className:"sda-gallery__guesses",children:[e.jsx(H,{children:e.jsx(p,{pt:"Participantes votaram",en:"Players voted"})}),i.map((o,l)=>{const c=e.jsx(D.Text,{keyboard:o.subjectCorrect,style:o.subjectCorrect&&o.correctness===1?{backgroundColor:r,color:X(r)}:{color:"inherit",backgroundColor:"inherit"},children:o.subject.text}),u=e.jsx(D.Text,{keyboard:o.descriptorCorrect,style:o.descriptorCorrect&&o.correctness===1?{backgroundColor:r,color:X(r)}:{color:"inherit",backgroundColor:"inherit"},children:o.descriptor.text});return e.jsxs("div",{className:"sda-gallery__guess",children:[e.jsx(ie,{winner:o.correctness===2,backgroundColor:r,extra:e.jsxs(he,{align:"center",gap:3,children:[e.jsx(y,{icon:e.jsx(Ve,{}),size:"small"})," ",o.score]}),children:n==="pt"?e.jsxs("span",{children:[c," ",u]}):e.jsxs("span",{children:[u," ",c]})}),e.jsx(Fe,{playersIds:o.playersIds,players:t})]},`guess-${o.id}-${l}`)})]})}function xs({cards:t,galleryEntry:s,gameLanguage:r}){return e.jsxs("div",{className:"sda-gallery__result",children:[s.correctness!==2&&e.jsxs(e.Fragment,{children:[e.jsx(H,{children:e.jsx(p,{pt:"E o título correto da placa é",en:"And the warning sign title is"})}),e.jsx(ie,{winner:!0,children:Y(t,s.subjectId,s.descriptorId,r)}),s.artistScore===0&&e.jsx(Ue,{children:e.jsx(p,{pt:"Esse desenho deve ter sido muito ruim.",en:"It must have been a very crappy drawing. Shame..."})})]}),e.jsxs(D.Paragraph,{className:"mt-2",children:[e.jsx(p,{pt:"O criador ganhou",en:"The creator earned"}),":"," ",e.jsx(f,{children:s.artistScore})," pontos"]})]})}function gs({gallery:t,players:s,cards:r,slideShowConfig:a,gameLanguage:n}){xe();const i=M(3,{gap:16,minWidth:150,maxWidth:300}),o=t[a.slideIndex],l=s[o.artistId],c=ee(l.avatarId);return e.jsxs(B,{fullWidth:!0,children:[e.jsx(re,{size:"small",children:e.jsx(p,{pt:"Galeria de Placas",en:"Signs Gallery"})}),e.jsx(ae,{content:e.jsx(os,{})}),e.jsxs(Me,{config:a,barColor:c,leftClassName:"sda-gallery__canvas",rightClassName:"sda-gallery__info",children:[e.jsx("div",{children:e.jsx(J,{drawing:o.drawing,width:i})}),e.jsxs(e.Fragment,{children:[e.jsx(hs,{artist:l}),e.jsx(js,{players:s,cards:r,artistColor:c,galleryEntry:o,gameLanguage:n}),e.jsx(xs,{cards:r,galleryEntry:o,gameLanguage:n})]})]})]})}function fs({players:t,ranking:s,onGoBack:r,round:a}){return e.jsxs(ze,{players:t,ranking:s,gainedPointsDescriptions:[e.jsx(p,{pt:"Pares corretos",en:"Correct matches"},"1"),e.jsx(p,{pt:"Pontos por seu desenho",en:"Points for your drawing"},"2")],children:[e.jsx(T,{children:e.jsx(P,{onClick:r,children:e.jsx(p,{pt:"Ver resultado novamente",en:"See results again"})})}),e.jsx(ge,{round:a})]})}function vs({players:t,state:s,meta:r}){const{step:a,goToNextStep:n,goToPreviousStep:i}=F(0),o=Oe({length:s.gallery.length,slideDuration:Qe,onExpire:n}),l=()=>{o.reset(),i()};return e.jsx(V,{phase:s?.phase,allowedPhase:N.GALLERY,children:e.jsxs(z,{step:a,players:t,children:[e.jsx(U,{icon:e.jsx(Le,{}),title:e.jsx(p,{pt:"Galeria de Placas",en:"Signs Gallery"}),onClose:n,currentRound:s?.round?.current,unskippable:!0,type:"block",duration:s.round.current<3?12:void 0,children:e.jsx(rs,{})}),e.jsx(gs,{gallery:s.gallery,players:t,cards:s.cards,gameLanguage:r.language,slideShowConfig:o}),e.jsx(fs,{players:t,ranking:s.ranking,round:s.round,onGoBack:l})]})})}function Ss({entry:t,players:s,width:r}){const a=s[t.playerId],n=ee(a.avatarId);return e.jsxs(T,{vertical:!0,contained:!0,children:[e.jsx(ne,{player:a}),e.jsx(J,{drawing:t.drawing,width:r}),e.jsx(D.Text,{code:!0,className:"uppercase",children:t.title}),e.jsx(Je,{percent:t.accuracy*100,size:"small",style:{width:r},strokeColor:n})]})}function bs({state:t,players:s}){const r=M(8,{gap:16,minWidth:100,maxWidth:500});return e.jsxs(qe,{state:t,players:s,announcementIcon:e.jsx($e,{}),children:[e.jsx(He,{players:s,achievements:t.achievements,reference:Ye}),e.jsx(G,{title:e.jsx(p,{pt:"Sinais",en:"Sings"}),contentProps:{className:"final-gallery"},children:t.gallery.map(a=>e.jsx(Ss,{entry:a,players:s,width:r},`${a.playerId}-${a.id}`))})]})}function ws(t){switch(t.phase){case N.DRAWING:return ts;case N.EVALUATION:return ms;case N.GALLERY:return vs;case Se.DEFAULT.GAME_OVER:return bs;default:return ve}}function qt(){return e.jsx(fe,{gameCollection:je.SINAIS_DE_ALERTA,getActiveComponent:ws})}export{qt as default};
