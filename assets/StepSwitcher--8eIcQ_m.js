import{r as h,fr as Se,fs as Ae,cn as as,ao as ts,ay as ns,au as Le,c as os,aB as I,a5 as E,fO as rs,E as L,aI as G,aJ as v,aE as Be,j as e,B as y,eL as T,M as is,q as P,aF as M,y as U,T as l,bY as cs,fP as ie,K as A,e as N,I as ls,aN as Me,i as be,b2 as V,f as C,aW as ze,aX as $e,o as R,bC as _,a$ as q,fQ as ds,aK as ce,z,aC as De,fR as pe,aD as se,P as us,D as $,bk as D,bl as Ve,aM as S,n as Ge,v as le,fS as K,cc as ms,bv as ne,ca as hs,aL as ps,fT as ge,dJ as gs,F as ve,a_ as Ie,bD as xs,fU as fs,dE as js,H as ys,fV as bs,J as Ue,fW as vs,X as _s,fX as Ns,aG as _e,cf as Cs,b1 as W,w as ws,cd as Ss,G as As,fY as Ee,s as Is,fq as Es}from"./index-BFe8FxFZ.js";import{u as de,a as fe,b as ks}from"./useBlurCards-oeN7G_LI.js";import{F as Ps,T as Rs,s as ae,g as Os,a as Ts,b as Fs,c as Ls,D as Bs}from"./speech-B3epq33s.js";import{u as Ms,G as zs,R as $s}from"./RulesModal-CL10Cn09.js";import{u as F,a as Ds}from"./Game-253UsK1k.js";import{u as J}from"./useMutation-Dx-kN_hv.js";import{T as Vs}from"./index-HTD51PQy.js";import{g as Gs}from"./PurePanel-L7F54jm1.js";import{S as k}from"./index-x9wR_Lu3.js";import{D as je}from"./index-CDSzDwZ6.js";import{P as Q,B as ue}from"./index-f9tktScM.js";import{a as me,A as X}from"./Avatar-BhM6th_6.js";import{G as Ne}from"./GameBanner-D0CYVlXX.js";import{T as ye,M as Us}from"./DoubleRightOutlined-CLOTIGpM.js";import{u as Hs}from"./useDevFeatures-BsQLgYbK.js";import{u as Ys}from"./useTDBaseUrl-BF9foKiS.js";import{S as qs}from"./index-BfpXHeGG.js";import{C as H,L as Ws}from"./Loading-Dglyo-Wo.js";import{R as O}from"./InfoCircleOutlined-BJ3dRUK4.js";import{D as Ce}from"./index-DST_VtVJ.js";import{a as Ks}from"./SignIn-D1zk6YDf.js";import{A as Js,W as Xs}from"./WaitingRoomIcon-CdxGPzNU.js";import{I as He}from"./Instruction-MbuGdT3x.js";import{A as Qs}from"./AnimatedClockIcon-Cg_mKQVO.js";import{R as Zs}from"./LikeFilled-VLkGXoyV.js";function ea(s,t,a,n){var o,r=!1,i=0;function c(){o&&clearTimeout(o)}function u(){c(),r=!0}typeof t!="boolean"&&(n=a,a=t,t=void 0);function m(){for(var d=arguments.length,p=new Array(d),g=0;g<d;g++)p[g]=arguments[g];var f=this,x=Date.now()-i;if(r)return;function b(){i=Date.now(),a.apply(f,p)}function j(){o=void 0}n&&!o&&b(),c(),n===void 0&&x>s?b():t!==!0&&(o=setTimeout(n?j:b,n===void 0?s-x:s))}return m.cancel=u,m}var sa=["mousemove","mousedown","resize","keydown","touchstart","wheel"],aa=function(s,t,a){t===void 0&&(t=!1),a===void 0&&(a=sa);var n=h.useState(t),o=n[0],r=n[1];return h.useEffect(function(){for(var i=!0,c,u=o,m=function(f){i&&(u=f,r(f))},d=ea(50,function(){u&&m(!1),clearTimeout(c),c=setTimeout(function(){return m(!0)},s)}),p=function(){document.hidden||d()},g=0;g<a.length;g++)Se(window,a[g],d);return Se(document,"visibilitychange",p),c=setTimeout(function(){return m(!0)},s),function(){i=!1;for(var f=0;f<a.length;f++)Ae(window,a[f],d);Ae(document,"visibilitychange",p)}},[s,a]),o};const{Option:ke}=k;function Pe(s){return(s==null?void 0:s.type)&&(s.type.isSelectOption||s.type.isSelectOptGroup)}const ta=(s,t)=>{var a;const{prefixCls:n,className:o,popupClassName:r,dropdownClassName:i,children:c,dataSource:u}=s,m=as(c);let d;m.length===1&&h.isValidElement(m[0])&&!Pe(m[0])&&([d]=m);const p=d?()=>d:void 0;let g;m.length&&Pe(m[0])?g=c:g=u?u.map(j=>{if(h.isValidElement(j))return j;switch(typeof j){case"string":return h.createElement(ke,{key:j,value:j},j);case"object":{const{value:w}=j;return h.createElement(ke,{key:w,value:w},j.text)}default:return}}):[];const{getPrefixCls:f}=h.useContext(ts),x=f("select",n),[b]=ns("SelectLike",(a=s.dropdownStyle)===null||a===void 0?void 0:a.zIndex);return h.createElement(k,Object.assign({ref:t,suffixIcon:null},Le(s,["dataSource","dropdownClassName"]),{prefixCls:x,popupClassName:r||i,dropdownStyle:Object.assign(Object.assign({},s.dropdownStyle),{zIndex:b}),className:os(`${x}-auto-complete`,o),mode:k.SECRET_COMBOBOX_MODE_DO_NOT_USE,getInputElement:p}),g)},Ye=h.forwardRef(ta),{Option:na}=k,oa=Gs(Ye,"dropdownAlign",s=>Le(s,["visible"])),he=Ye;he.Option=na;he._InternalPanelDoNotUseOrYouWillBeFired=oa;var ra={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M834.1 469.2A347.49 347.49 0 00751.2 354l-29.1-26.7a8.09 8.09 0 00-13 3.3l-13 37.3c-8.1 23.4-23 47.3-44.1 70.8-1.4 1.5-3 1.9-4.1 2-1.1.1-2.8-.1-4.3-1.5-1.4-1.2-2.1-3-2-4.8 3.7-60.2-14.3-128.1-53.7-202C555.3 171 510 123.1 453.4 89.7l-41.3-24.3c-5.4-3.2-12.3 1-12 7.3l2.2 48c1.5 32.8-2.3 61.8-11.3 85.9-11 29.5-26.8 56.9-47 81.5a295.64 295.64 0 01-47.5 46.1 352.6 352.6 0 00-100.3 121.5A347.75 347.75 0 00160 610c0 47.2 9.3 92.9 27.7 136a349.4 349.4 0 0075.5 110.9c32.4 32 70 57.2 111.9 74.7C418.5 949.8 464.5 959 512 959s93.5-9.2 136.9-27.3A348.6 348.6 0 00760.8 857c32.4-32 57.8-69.4 75.5-110.9a344.2 344.2 0 0027.7-136c0-48.8-10-96.2-29.9-140.9z"}}]},name:"fire",theme:"filled"},ia={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M834.1 469.2A347.49 347.49 0 00751.2 354l-29.1-26.7a8.09 8.09 0 00-13 3.3l-13 37.3c-8.1 23.4-23 47.3-44.1 70.8-1.4 1.5-3 1.9-4.1 2-1.1.1-2.8-.1-4.3-1.5-1.4-1.2-2.1-3-2-4.8 3.7-60.2-14.3-128.1-53.7-202C555.3 171 510 123.1 453.4 89.7l-41.3-24.3c-5.4-3.2-12.3 1-12 7.3l2.2 48c1.5 32.8-2.3 61.8-11.3 85.9-11 29.5-26.8 56.9-47 81.5a295.64 295.64 0 01-47.5 46.1 352.6 352.6 0 00-100.3 121.5A347.75 347.75 0 00160 610c0 47.2 9.3 92.9 27.7 136a349.4 349.4 0 0075.5 110.9c32.4 32 70 57.2 111.9 74.7C418.5 949.8 464.5 959 512 959s93.5-9.2 136.9-27.3A348.6 348.6 0 00760.8 857c32.4-32 57.8-69.4 75.5-110.9a344.2 344.2 0 0027.7-136c0-48.8-10-96.2-29.9-140.9zM713 808.5c-53.7 53.2-125 82.4-201 82.4s-147.3-29.2-201-82.4c-53.5-53.1-83-123.5-83-198.4 0-43.5 9.8-85.2 29.1-124 18.8-37.9 46.8-71.8 80.8-97.9a349.6 349.6 0 0058.6-56.8c25-30.5 44.6-64.5 58.2-101a240 240 0 0012.1-46.5c24.1 22.2 44.3 49 61.2 80.4 33.4 62.6 48.8 118.3 45.8 165.7a74.01 74.01 0 0024.4 59.8 73.36 73.36 0 0053.4 18.8c19.7-1 37.8-9.7 51-24.4 13.3-14.9 24.8-30.1 34.4-45.6 14 17.9 25.7 37.4 35 58.4 15.9 35.8 24 73.9 24 113.1 0 74.9-29.5 145.4-83 198.4z"}}]},name:"fire",theme:"outlined"},ca={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zM288 421a48.01 48.01 0 0196 0 48.01 48.01 0 01-96 0zm384 200c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h304c4.4 0 8 3.6 8 8v48zm16-152a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"meh",theme:"filled"},la={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm192 472c0 4.4-3.6 8-8 8H328c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h368c4.4 0 8 3.6 8 8v48z"}}]},name:"minus-circle",theme:"filled"},da={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M304 176h80v672h-80zm408 0h-64c-4.4 0-8 3.6-8 8v656c0 4.4 3.6 8 8 8h64c4.4 0 8-3.6 8-8V184c0-4.4-3.6-8-8-8z"}}]},name:"pause",theme:"outlined"},ua={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M719.4 499.1l-296.1-215A15.9 15.9 0 00398 297v430c0 13.1 14.8 20.5 25.3 12.9l296.1-215a15.9 15.9 0 000-25.8zm-257.6 134V390.9L628.5 512 461.8 633.1z"}}]},name:"play-circle",theme:"outlined"},ma={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M852 64H172c-17.7 0-32 14.3-32 32v660c0 17.7 14.3 32 32 32h680c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zM300 328c0-33.1 26.9-60 60-60s60 26.9 60 60-26.9 60-60 60-60-26.9-60-60zm372 248c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-60c0-4.4 3.6-8 8-8h304c4.4 0 8 3.6 8 8v60zm-8-188c-33.1 0-60-26.9-60-60s26.9-60 60-60 60 26.9 60 60-26.9 60-60 60zm135 476H225c-13.8 0-25 14.3-25 32v56c0 4.4 2.8 8 6.2 8h611.5c3.4 0 6.2-3.6 6.2-8v-56c.1-17.7-11.1-32-24.9-32z"}}]},name:"robot",theme:"filled"},ha={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 736c0-111.6-65.4-208-160-252.9V317.3c0-15.1-5.3-29.7-15.1-41.2L536.5 95.4C530.1 87.8 521 84 512 84s-18.1 3.8-24.5 11.4L335.1 276.1a63.97 63.97 0 00-15.1 41.2v165.8C225.4 528 160 624.4 160 736h156.5c-2.3 7.2-3.5 15-3.5 23.8 0 22.1 7.6 43.7 21.4 60.8a97.2 97.2 0 0043.1 30.6c23.1 54 75.6 88.8 134.5 88.8 29.1 0 57.3-8.6 81.4-24.8 23.6-15.8 41.9-37.9 53-64a97 97 0 0043.1-30.5 97.52 97.52 0 0021.4-60.8c0-8.4-1.1-16.4-3.1-23.8H864zM762.3 621.4c9.4 14.6 17 30.3 22.5 46.6H700V558.7a211.6 211.6 0 0162.3 62.7zM388 483.1V318.8l124-147 124 147V668H388V483.1zM239.2 668c5.5-16.3 13.1-32 22.5-46.6 16.3-25.2 37.5-46.5 62.3-62.7V668h-84.8zm388.9 116.2c-5.2 3-11.2 4.2-17.1 3.4l-19.5-2.4-2.8 19.4c-5.4 37.9-38.4 66.5-76.7 66.5-38.3 0-71.3-28.6-76.7-66.5l-2.8-19.5-19.5 2.5a27.7 27.7 0 01-17.1-3.5c-8.7-5-14.1-14.3-14.1-24.4 0-10.6 5.9-19.4 14.6-23.8h231.3c8.8 4.5 14.6 13.3 14.6 23.8-.1 10.2-5.5 19.6-14.2 24.5zM464 400a48 48 0 1096 0 48 48 0 10-96 0z"}}]},name:"rocket",theme:"outlined"},pa={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z"}}]},name:"setting",theme:"outlined"},ga={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zM288 421a48.01 48.01 0 0196 0 48.01 48.01 0 01-96 0zm224 272c-85.5 0-155.6-67.3-160-151.6a8 8 0 018-8.4h48.1c4.2 0 7.8 3.2 8.1 7.4C420 589.9 461.5 629 512 629s92.1-39.1 95.8-88.6c.3-4.2 3.9-7.4 8.1-7.4H664a8 8 0 018 8.4C667.6 625.7 597.5 693 512 693zm176-224a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"smile",theme:"filled"},xa=function(t,a){return h.createElement(I,E({},t,{ref:a,icon:rs}))},te=h.forwardRef(xa),fa=function(t,a){return h.createElement(I,E({},t,{ref:a,icon:ra}))},qe=h.forwardRef(fa),ja=function(t,a){return h.createElement(I,E({},t,{ref:a,icon:ia}))},ya=h.forwardRef(ja),ba=function(t,a){return h.createElement(I,E({},t,{ref:a,icon:ca}))},va=h.forwardRef(ba),_a=function(t,a){return h.createElement(I,E({},t,{ref:a,icon:la}))},Na=h.forwardRef(_a),Ca=function(t,a){return h.createElement(I,E({},t,{ref:a,icon:da}))},wa=h.forwardRef(Ca),Sa=function(t,a){return h.createElement(I,E({},t,{ref:a,icon:ua}))},Aa=h.forwardRef(Sa),Ia=function(t,a){return h.createElement(I,E({},t,{ref:a,icon:ma}))},Ea=h.forwardRef(Ia),ka=function(t,a){return h.createElement(I,E({},t,{ref:a,icon:ha}))},We=h.forwardRef(ka),Pa=function(t,a){return h.createElement(I,E({},t,{ref:a,icon:pa}))},Re=h.forwardRef(Pa),Ra=function(t,a){return h.createElement(I,E({},t,{ref:a,icon:ga}))},Oa=h.forwardRef(Ra);const Ta=(s,t=1e3)=>{let a;return(...n)=>{clearTimeout(a),a=setTimeout(()=>{s.apply(void 0,n)},t)}};function Ke({actionName:s,onBeforeCall:t=()=>{},onAfterCall:a=()=>{},onError:n=()=>{},onSuccess:o=()=>{},successMessage:r="API call was successful",errorMessage:i="API call has failed"}){const{message:c,notification:u}=L.useApp(),{setLoader:m}=G(),{gameId:d,gameName:p}=F(),[g]=v("userId"),f=J({mutationKey:[s],mutationFn:x=>Be.run({gameId:d,gameName:p,playerId:g,...x}),onMutate:async()=>{m(s,!0),await t()},onSuccess:async()=>{await o(),c.success(r)},onError:x=>{u.error({message:i,description:JSON.stringify(x==null?void 0:x.message),placement:"bottomLeft"}),console.error(x),n()},onSettled:async()=>{await a(),m(s,!1)}});return Ta(f.mutate)}const Z=({label:s,...t})=>e.jsx(y,{icon:e.jsx(qe,{}),type:"primary",danger:!0,className:"full-width",...t,children:s}),Fa=({valueType:s})=>{switch(s){case"number":return e.jsx(T.Item,{label:"Value",name:"value",children:e.jsx(Vs,{})});case"boolean":return e.jsx(T.Item,{label:"Value",name:"value",children:e.jsx(P,{checkedChildren:"true",unCheckedChildren:"false",defaultChecked:!0})});case"nullish":return e.jsx(T.Item,{label:"Value",name:"value",children:e.jsx(P,{checkedChildren:"null",unCheckedChildren:"undefined",defaultChecked:!0})});default:return e.jsx(T.Item,{label:"Value",name:"value",children:e.jsx(is,{})})}},La=({isLoading:s,state:t,onPerformAdminAction:a})=>{const{message:n}=L.useApp(),[o]=T.useForm(),[r,i]=h.useState("string"),c=Object.keys(t).map(d=>({label:d,value:d})),u=d=>{["boolean","nullish"].includes(d)&&o.setFieldsValue({value:!0}),d==="number"&&o.setFieldsValue({value:0}),d==="string"&&o.setFieldsValue({value:""}),i(d)},m=async d=>{let p=d.value;try{d.valueType==="number"&&(p=Number(d.value)??0),d.valueType==="nullish"&&(p=d.value?null:void 0);const g={[d.key]:p};window.confirm(`Tem certeza que quer forçar o estado ${JSON.stringify(g)}`)&&(await a({state:g,action:M.FORCE_STATE_PROPERTY}),o.resetFields(),i("string"))}catch(g){n.error("Something went wrong",g)}};return e.jsxs(T,{name:"basic",form:o,initialValues:{valueType:"string"},onFinish:m,children:[e.jsx("h3",{children:"Force Property"}),e.jsx(T.Item,{label:"Key",name:"key",rules:[{required:!0}],children:e.jsx(he,{options:c})}),e.jsx(T.Item,{label:"Type",name:"valueType",children:e.jsxs(k,{onChange:u,children:[e.jsx(k.Option,{value:"string",children:"string"}),e.jsx(k.Option,{value:"number",children:"number"}),e.jsx(k.Option,{value:"boolean",children:"boolean"}),e.jsx(k.Option,{value:"nullish",children:"nullish"})]})}),e.jsx(Fa,{valueType:r}),e.jsx(y,{type:"primary",htmlType:"submit",disabled:s,danger:!0,children:"Submit"})]})};function Ba({players:s}){const{readyPlayers:t,pendingPlayers:a}=Object.values(s).reduce((n,o)=>(o.ready?n.readyPlayers.push(o.name):n.pendingPlayers.push(o.name),n),{readyPlayers:[],pendingPlayers:[]});return e.jsxs("li",{className:"admin-players-ready-state",children:[e.jsx("h3",{children:"Players Ready State"}),e.jsxs("div",{className:"admin-players-ready-state__entry",children:[e.jsx(te,{style:{color:"green"},title:"Ready:"}),e.jsx("ul",{className:"admin-players-ready-state__list",children:t.map(n=>e.jsx("li",{className:"admin-players-ready-state__item",children:n},`admin-player-${n}`))})]}),e.jsxs("div",{className:"admin-players-ready-state__entry",children:[e.jsx(Na,{style:{color:"orange"},title:"Ready:"}),e.jsx("ul",{className:"admin-players-ready-state__list",children:a.map(n=>e.jsx("li",{className:"admin-players-ready-state__item",children:n},`admin-player-${n}`))})]})]})}const Je=({state:s,players:t})=>{var g;const{isLoading:a}=G(),{isAdmin:n}=U(),[o]=v("usingFirestoreEmulator"),[r]=v("isAdminEnabled"),[i,c]=h.useState(!1),u=F(),m=()=>{c(!0)},d=()=>{c(!1)},p=Ke({actionName:"perform-admin-action",successMessage:"Admin action performed successfully",errorMessage:"The selected admin action has failed",onAfterCall:d});return!n||!r||!s.phase?e.jsx("span",{}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"admin-menu-drawer",children:[e.jsx(Ps,{position:-1,icon:e.jsx(qe,{}),type:"button",label:e.jsx(l,{pt:" Admin",en:" Admin"}),onClick:m,buttonProps:{type:"default"}}),e.jsx(je,{title:"Admin Menu",placement:"left",closable:!1,open:i,onClose:d,children:e.jsxs("ul",{children:[e.jsx(Ba,{players:t}),e.jsx("li",{children:e.jsx("hr",{})}),e.jsxs("li",{className:"admin-menu-drawer__buttons",children:[e.jsx("h3",{children:"Actions"}),e.jsx(Q,{placement:"right",title:"Are you sure you want to go to the next phase?",onConfirm:()=>p({action:M.GO_TO_NEXT_PHASE}),children:e.jsx(Z,{disabled:a||s.phase==="GAME_OVER",label:"Force Next Phase",className:"admin-menu-drawer__button"})}),e.jsx(Q,{placement:"right",title:"Are you sure you want to go to play again?",onConfirm:()=>p({action:M.PLAY_AGAIN}),children:e.jsx(Z,{disabled:!0,label:"Play Again",className:"admin-menu-drawer__button"})}),e.jsx(Q,{placement:"right",title:"Are you sure you want to go to end the game by the end of this round?",onConfirm:()=>p({action:M.FORCE_END_GAME}),children:e.jsx(Z,{disabled:((g=s==null?void 0:s.round)==null?void 0:g.forceLastRound)||a||["LOBBY","GAME_OVER"].includes(s.phase),label:s!=null&&s.round.forceLastRound?"This is already set as the last round":"Make this the last round",className:"admin-menu-drawer__button"})}),e.jsx(Q,{placement:"right",title:"Are you sure you want to go to the lobby and unlock the game?",onConfirm:()=>p({action:M.RESET_GAME}),children:e.jsx(Z,{disabled:(s==null?void 0:s.phase)==="LOBBY",label:"Reset and restart",className:"admin-menu-drawer__button"})})]}),e.jsx("li",{children:e.jsx("hr",{})}),e.jsx("li",{children:e.jsx(La,{isLoading:a,onPerformAdminAction:p,state:s})}),e.jsx("li",{children:e.jsx("hr",{})}),e.jsxs("li",{children:[e.jsx("h3",{children:"Firebase"}),e.jsx(y,{target:"_blank",href:cs(`games/${u.gameName}/${u.gameId}/state`,!!o),children:"Visit Firebase Collection"})]})]})})]})})},Ma=({colorScheme:s,children:t,icon:a,className:n,size:o="default",wait:r,level:i,...c})=>{const u=ie(),m=s??u.colorScheme??"light";return e.jsxs(A.Title,{level:i??2,className:N("step-title",`step-title--${o}`,`step-title--${m}`,n),...c,children:[(!!a||r)&&e.jsx("span",{className:"title__icon",children:e.jsx(ls,{size:o,icon:r?e.jsx(Qs,{}):a})}),t]})};function za({duration:s,timeLeft:t,onExpire:a}){const{timeLeft:n}=de({duration:s,autoStart:t===void 0,onExpire:a}),o=(t??n)/s*100;return e.jsx("div",{className:"timer-waiting-time-bar",children:e.jsx("span",{className:"timer-waiting-time-bar__container",children:e.jsx("span",{className:"timer-waiting-time-bar__left",style:{width:`${o}%`}})})})}const oe={DEFAULT:{LOBBY:"LOBBY",SETUP:"SETUP",GAME_OVER:"GAME_OVER",WAIT:"WAIT"}};function Xe(s=!1){const[,t]=v("showPlayersBar");Me(()=>(t(s),()=>{t(!0)}))}function cn({buttonText:s,icon:t,title:a,children:n,currentRound:o=3,onClose:r=()=>{},className:i,duration:c,withoutTimer:u=!1,unskippable:m,animationType:d="backInDown",type:p="block"}){Xe(p==="overlay");const g=[7,15,7,5][o]??4,[f,x]=h.useState(!0),[b,j]=h.useState(!1),w=()=>{x(!1),B(),r()};Ms(" ",()=>{m||w()});const{start:B}=de({autoStart:!1,duration:1,onExpire:()=>j(!0)});return b?e.jsx(e.Fragment,{}):e.jsx("div",{className:N(p==="overlay"&&"phase-announcement-overlay",!f&&V("fadeOut",{speed:"faster"})),children:e.jsx("div",{className:"phase-announcement-wrapper",children:e.jsxs("div",{className:N("phase-announcement",f?V(d,{speed:"fast"}):V("bounceOut"),i),children:[e.jsx(be,{colorScheme:"light",children:a}),e.jsx("span",{className:"phase-announcement__icon",children:t}),n,u?e.jsx(y,{type:"primary",onClick:w,autoFocus:!0,className:"mt-2",children:e.jsx(l,{pt:"Prosseguir",en:"Continue",custom:s})}):e.jsx(Rs,{duration:c||g,type:"text",onClick:w,onExpire:w,disabled:m,autoFocus:!0,className:"mt-2",children:e.jsx(l,{pt:"Prosseguir",en:"Continue",custom:s})})]})})})}function Qe({phase:s,allowedPhase:t="",children:a,className:n="",fullScreen:o=!1}){const r=ie(),{translate:i}=C(),c=h.useRef(null);if(t!==s)return e.jsx(ze,{});if(!s)return e.jsx($e,{description:i("Estado do jogo não está correto","Game state is not correct")});const u="phase-container",m=r==null?void 0:r.backgroundColor;return e.jsx("main",{className:N(u,o&&`${u}--full-screen`,n),id:"screen",ref:c,style:m?{backgroundColor:m}:{},children:a})}function $a(s=0){const[t,a]=h.useState(s);return{step:t,setStep:a,goToNextStep:()=>a(r=>r+1),goToPreviousStep:()=>a(r=>r-1<0?0:r-1)}}function Da({type:s}){return e.jsx("div",{className:"cloud-background__cloud",style:{backgroundImage:`url('${q.CLOUDS}${s}.png')`,backgroundPositionX:"0"}})}const Va=[{backgroundPositionX:"0"},{backgroundPositionX:"-300px"},{backgroundPositionX:"-600px"},{backgroundPositionX:"-900px"},{backgroundPositionX:"-1200px"}];function Ga({type:s,index:t}){return e.jsx("div",{className:"cloud-background__cloud",style:{backgroundImage:`url('${q.CLOUDS}${s}.png')`,...Va[t]}})}function Ua(s){var t;return s&&((t=s.split("-cloud"))==null?void 0:t[1])==="s"?Ga:Da}const Ha=[0,1,2,3,4],Y=window.innerHeight,ee=window.innerWidth,Ya=[10,25,40,55,70,85],qa=[10,25,40,55,70,85],Wa=[.25,.3,.35,.4,.45,.5],Ka=[0,.5,1,1.5,2],Ja=[15,20,25,30,35];function Xa(){const s=ie(),t=s.clouds??"cloud",a=s.cloudsAnimationType??"flow",n=s.backgroundColor,o=Ua(t),r=h.useMemo(()=>({xs:R.sampleSize(Ya,5),ys:R.sampleSize(qa,5),scales:R.sampleSize(Wa,5),delays:R.sampleSize(Ka,5),durations:R.sampleSize(Ja,5)}),[]);return e.jsx("div",{className:N("cloud-background",`cloud-background--${t}`),style:n?{backgroundColor:n}:{},children:Ha.map(i=>e.jsx(_.div,{...Qa(a,i,r),children:e.jsx(o,{index:i,type:t})},i))})}const Qa=(s,t,a)=>{const n=a.scales[t],o=a.durations[t],r=a.delays[t],i=a.xs[t]*ee/100,c=a.ys[t]*Y/100,u=ee/5-300,m=Y/2;return s==="falling"?{initial:{x:i,y:-Y,scale:n},animate:{y:Y+300},transition:{ease:"linear",delay:r,duration:o,repeat:Number.POSITIVE_INFINITY,repeatType:"loop",type:"tween"}}:s==="rising"?{initial:{x:i,y:Y+300,scale:n},animate:{y:-300},transition:{ease:"linear",delay:r,duration:o,repeat:Number.POSITIVE_INFINITY,repeatType:"loop",type:"tween"}}:s==="orbit"?{initial:{rotate:0,x:u,y:m,scale:n},animate:{rotate:-360},transition:{ease:"linear",delay:r,duration:o,repeat:Number.POSITIVE_INFINITY,repeatType:"loop",type:"tween"}}:{initial:{x:-ee,y:c,scale:n},animate:{x:ee+300},transition:{ease:"linear",delay:r,duration:o,repeat:Number.POSITIVE_INFINITY,repeatType:"loop",type:"tween"}}},Za=_(A.Title);function et({setStep:s}){const{isAuthenticated:t}=U(),{isPending:a,mutate:n,isError:o,error:r}=J({mutationKey:["sign-in-anon"],mutationFn:async()=>ds(),onSuccess:()=>s(1)});return h.useEffect(()=>{t&&s(1)},[t,s]),e.jsxs(e.Fragment,{children:[e.jsx(Za,{level:2,className:"lobby-step__title",layoutId:"lobby-step-title",children:e.jsx(l,{pt:"Bem-vindo!",en:"Welcome"})}),e.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[e.jsx(Ks,{onSuccess:()=>s(1),block:!0,size:"large"}),o&&e.jsx(ce,{message:"Error",description:JSON.stringify(r),type:"error",showIcon:!0}),e.jsx(Ce,{children:e.jsx(l,{pt:"ou",en:"or"})}),e.jsx(y,{type:"primary",block:!0,disabled:t,onClick:()=>n(),loading:a,children:e.jsx(l,{pt:"Entrar como visitante",en:"Join as a Guest"})})]})]})}function st(s,t,a,n){const{gameId:o,gameName:r}=F(),[,i]=v("userId"),[,c]=v("username"),[,u]=v("userAvatarId"),[m]=z("volume"),{language:d,translate:p}=C(),{notification:g}=L.useApp();return J({mutationKey:["add-player"],mutationFn:async()=>await De.run({action:se.JOIN_GAME,gameId:o,gameName:r,playerName:s,playerAvatarId:t,isGuest:a}),onSuccess:x=>{const b=x.data;i(b.id),c(b.name),u(b.avatarId),localStorage.setItem(pe("username"),b.name),localStorage.setItem(pe("avatarId"),b.avatarId),localStorage.setItem(pe("gameId"),o),m&&ae(Os(s??p("vei","babe")),d,m),n()},onError:x=>{g.error({message:p("Vixi, o aplicativo encontrou um erro ao tentar te adicionar como jogador","Oops, the application failed when trying to add you as a player"),description:JSON.stringify(x.message),placement:"bottomLeft"}),console.error(x)}})}function at({players:s,setSelectedAvatar:t,selectedAvatar:a,userId:n}){const[o,r]=fe(!1);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"lobby-step__avatar-selection",children:e.jsx(us,{arrow:!0,placement:"right",content:e.jsx(tt,{players:s,setSelectedAvatar:t,selectedAvatar:a,userId:n}),title:e.jsx(l,{pt:"Escolha seu avatar",en:"Choose your avatar"}),trigger:"click",open:o,onOpenChange:r,children:e.jsxs(_.svg,{viewBox:"0 0 100 100",className:"lobby-avatar",layoutId:"avatar",children:[e.jsx("use",{href:`${me}#avatar-${a}`}),e.jsx("title",{children:e.jsx($,{children:D[a].description})})]})})}),e.jsx("div",{className:"lobby-step__description",children:e.jsx("small",{children:e.jsx($,{children:D[a].description})})}),e.jsx(y,{type:"link",onClick:r,block:!0,children:e.jsx(l,{pt:"Trocar avatar",en:"Change avatar"})})]})}function tt({players:s,setSelectedAvatar:t,selectedAvatar:a,userId:n}){const o=h.useMemo(()=>Object.values(s).reduce((r,{name:i,avatarId:c,id:u})=>(u!==n&&(r[c]=i),r),{}),[s,n]);return e.jsx("div",{className:"avatar-selection-options",children:Ve.map(r=>{const i=D[r],c=!!o[r];return e.jsx(S,{title:c?e.jsx(l,{pt:`Usado por ${o[r]}`,en:`Used by ${o[r]}`}):e.jsx($,{children:i.description}),children:e.jsx(Ge,{onClick:()=>t(r),disabled:c,className:N("avatar-selection-options__avatar",r===a&&"avatar-selection-options__avatar--selected",c&&"avatar-selection-options__avatar--used"),children:e.jsxs("svg",{viewBox:"0 0 100 100",className:"avatar-selection-options__avatar-svg",children:[e.jsx("use",{href:`${me}#avatar-${r}`}),e.jsx("title",{children:e.jsx($,{children:i.description})})]})})},r)})})}function Ze({hasImages:s}){const[t,a]=z("blurEnabled"),[n,o]=z("volume"),r=c=>{a(c)},i=c=>{o(c?.5:0)};return e.jsxs(le,{className:"lobby-step__settings",split:e.jsx(Ce,{type:"vertical"}),children:[e.jsxs("div",{className:"lobby-step__settings-entry",children:[e.jsxs("div",{className:"lobby-step__switch-label",children:[e.jsx(l,{pt:"Som",en:"Sound"}),e.jsx(S,{title:e.jsx(l,{pt:"Alguns jogos tocam sons ou falas. Você pode mudar essa configuração durante o jogo.",en:"A few games will play speech. You may change this setting during the game."}),children:e.jsx(y,{type:"text",shape:"circle",icon:e.jsx(O,{}),size:"small"})})]}),e.jsx(P,{checkedChildren:"on",unCheckedChildren:"off",checked:n>0,onClick:i})]}),e.jsxs("div",{className:"lobby-step__settings-entry",children:[e.jsxs("div",{className:"lobby-step__switch-label",children:[e.jsx(l,{pt:"Efeitos",en:"Effects"}),e.jsx(S,{title:e.jsx(l,{pt:"Alguns jogos tocam efeitos. Você pode mudar essa configuração durante o jogo.",en:"A few games will play sound effects or speech. You may change this setting during the game."}),children:e.jsx(y,{type:"text",shape:"circle",icon:e.jsx(O,{}),size:"small"})})]}),e.jsx(P,{checkedChildren:"on",unCheckedChildren:"off",disabled:!0})]}),e.jsxs("div",{className:"lobby-step__settings-entry",children:[e.jsxs("div",{className:"lobby-step__switch-label",children:[e.jsx(l,{pt:"Credo",en:"Blur Button"}),e.jsx(S,{title:e.jsx(l,{pt:"Adiciona um botão em todas Cartas-imagem para embaça-las caso você tenha alguma fobia. Você pode mudar essa configuração durante o jogo",en:"Adds a button to every Image Card to blur them in case you have any phobia. You may change this setting during the game"}),children:e.jsx(y,{type:"text",shape:"circle",icon:e.jsx(O,{}),size:"small"})})]}),e.jsx(P,{checkedChildren:"on",unCheckedChildren:"off",checked:t,onClick:r,disabled:!s})]})]})}function nt({avatarsIds:s,setSelectedAvatar:t}){return e.jsxs("div",{className:"lobby-usual-avatar-selection",children:[e.jsx("div",{className:"lobby-usual-avatar-selection__title",children:e.jsx("small",{children:e.jsx(l,{pt:"Seus avatars mais usados",en:"Frequently used avatars"})})}),e.jsx("ul",{className:"lobby-usual-avatar-selection__list",children:s.map(a=>e.jsx(Ge,{onClick:()=>t(a),children:e.jsxs("svg",{viewBox:"0 0 100 100",className:"lobby-usual-avatar-selection__avatar",children:[e.jsx("use",{href:`${me}#avatar-${a}`}),e.jsx("title",{children:e.jsx($,{children:D[a].description})})]})},a))})]})}const ot=_(A.Title),rt=void 0;function it({players:s,setStep:t}){var j,w;const{currentUser:a,isGuest:n}=U(),o=K(),{translate:r}=C(),[i,c]=h.useState(((j=a==null?void 0:a.avatars)==null?void 0:j[0])??ms(Ve)),[u,m]=h.useState(((a==null?void 0:a.names)??[]).at(-1)??""),[d]=ne("username",""),[p]=ne("avatarId","");h.useEffect(()=>{n&&(d&&c(d),p&&m(p??""))},[n]);const{isPending:g,mutate:f}=st(u,i,n,()=>t(2)),x=!!((w=a.games)!=null&&w[o.gameName]),b=((a==null?void 0:a.names)??[]).map(B=>({value:B}));return e.jsxs(e.Fragment,{children:[e.jsx(ot,{level:2,className:"lobby-step__title",layoutId:"lobby-step-title",children:e.jsx(l,{pt:"Adicione seus dados",en:"Add your info"})}),x&&e.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:e.jsx(ce,{type:"info",message:e.jsx(l,{pt:"Você jogou esse jogo anteriormente",en:"You played this game before"}),className:"margin"})}),e.jsx(at,{players:s,setSelectedAvatar:c,selectedAvatar:i,userId:a.id}),e.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[(a==null?void 0:a.avatars.length)>0&&e.jsx(nt,{avatarsIds:a.avatars,setSelectedAvatar:c}),e.jsx(he,{className:"lobby-step__name-input",options:b,onChange:B=>m(B.trim()),onSelect:B=>m(B.trim()),placeholder:r("Digite seu nome","Type your name"),maxLength:10,value:u||rt}),e.jsx(Ze,{hasImages:o.tags.includes("images")}),e.jsx(y,{block:!0,loading:g,disabled:!u||!i,type:"primary",onClick:()=>f(),children:e.jsx(l,{pt:"Entrar",en:"Enter"})})]})]})}function re({icon:s,ghost:t=!0,className:a="",...n}){return e.jsx(hs,{icon:s??e.jsx(We,{}),ghost:t,className:N("host-button",a),...n})}function ln({duration:s=10,onExpire:t,hideTimer:a,children:n,...o}){const{timeLeft:r}=de({duration:s,autoStart:!0,onExpire:t,disabled:a});return e.jsxs(re,{...o,children:[n,!a&&e.jsx("span",{className:"host-button-timer",children:r})]})}function we(){const{createdBy:s}=F(),[t]=v("userId");return s===t}const es=({children:s,label:t,className:a="",...n})=>we()?e.jsxs("fieldset",{className:N("host-only-container",a),children:[e.jsxs("legend",{className:"host-only-container__legend",children:[e.jsx(We,{})," ",t??"Host Controls"]}),e.jsx(le,{...n,children:s})]}):e.jsx(e.Fragment,{});function ct({round:s}){return!s||s.current===s.total||s.forceLastRound?e.jsx(l,{pt:"Tela de Game Over",en:"Game Over Screen"}):e.jsx(l,{pt:"Próxima rodada",en:"Next Round"})}function lt({round:s,autoTriggerTime:t=30,children:a,withWaitingTimeBar:n}){const o=we(),{translate:r}=C(),{isKeyLoading:i}=G(),c=i("go-to-next-phase"),u=Ke({actionName:"go-to-next-phase",successMessage:r("Funcionou, próxima fase!","It worked, next phase!"),errorMessage:r("Vixi, o aplicativo encontrou um erro ao tentar ir para a próxima fase","The application found an error while trying to go to the next phase")}),m=()=>u({action:M.GO_TO_NEXT_PHASE}),d=!!t,{timeLeft:p,isRunning:g,pause:f,resume:x}=de({autoStart:t>0,duration:t,onExpire:m,disabled:!o||!d});return h.useEffect(()=>(c&&f(),()=>f()),[c]),e.jsxs(e.Fragment,{children:[n&&e.jsx(za,{duration:t,timeLeft:p}),e.jsxs(es,{label:"Host Action",className:N("host-only-container--float",V("slideInUp")),children:[e.jsx(S,{title:"Pause",children:e.jsx(re,{icon:g?e.jsx(wa,{}):e.jsx(Aa,{}),onClick:g?f:x,disabled:c})}),e.jsx(re,{disabled:c,onClick:m,icon:d&&e.jsx("span",{className:N("host-button-timer",!g&&V("flash",{speed:"slow",infinite:!0})),children:p}),children:a??e.jsx(ct,{round:s})})]})]})}const dt=_(A.Title),ut=_(A.Paragraph);function mt({players:s}){const t=K(),{message:a,notification:n}=L.useApp(),{gameId:o,gameName:r}=F(),{translate:i}=C(),{isLoading:c,setLoader:u}=G(),m=F(),[d]=v("username"),[p]=v("userAvatarId"),{mutate:g,isPending:f}=J({mutationKey:["lock-game"],mutationFn:async()=>(u("lock-game",!0),await Be.run({action:M.LOCK_GAME,gameId:o,gameName:r})),onSuccess:j=>{j.data.isLocked&&a.success(i("Jogo trancado e iniciado com sucesso!","Game locked and initialized successfully"))},onError:j=>{n.error({message:i("Vixi, o aplicativo encontrou um erro ao tentar trancar e iniciar o jogo","Oops, the application found an error while trying to lock and start the game"),description:JSON.stringify(j.message),placement:"bottomLeft"}),console.error(j)},onSettled:()=>{u("lock-game",!1)}});h.useEffect(()=>(u("lock-game",f),()=>{u("lock-game",!1)}),[f]);const x=Object.keys(s).length,b=Object.values(s).filter(j=>j.isReady).length;return e.jsxs(e.Fragment,{children:[e.jsx(dt,{level:2,className:"lobby-step__title",layoutId:"lobby-step-title",children:e.jsx(l,{pt:"Pronto!",en:"Ready!"})}),e.jsxs(ps,{vertical:!0,children:[e.jsx(_.svg,{viewBox:"0 0 100 100",className:"lobby-avatar",layoutId:"avatar",children:e.jsx("use",{href:`${me}#avatar-${p}`})}),e.jsx("div",{className:"lobby-step__description",children:e.jsxs("small",{children:[d||i("Fulano","Unknown"),","," ",e.jsx($,{children:D[p].description})]})})]}),e.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[e.jsx(Ze,{hasImages:t.tags.includes("images")}),e.jsx(ut,{className:"lobby-heading",children:e.jsx(l,{pt:"Aguarde os outros jogadores entrarem.",en:"Please, wait while other players join..."})}),e.jsxs(es,{className:"lobby-waiting__lock-button",direction:"vertical",children:[e.jsxs(A.Text,{className:"center padding",children:[e.jsx(l,{pt:"Jogadores necessários",en:"Players needed"}),":"," ",e.jsxs(ye,{children:[x,"/",m.min]})," ",e.jsx(l,{pt:"Prontos",en:"Ready"}),":"," ",e.jsxs(ye,{children:[b,"/",x]})]}),e.jsx(re,{onClick:()=>g(),disabled:c||x<m.min,loading:c,block:!0,children:e.jsx(l,{pt:"Trancar e Iniciar Jogo",en:"Lock and Start Game"})})]})]})]})}function ht({players:s,orientation:t}){const a=h.useMemo(()=>R.orderBy(Object.values(s),["updatedAt","name"],["asc"]),[s]);return e.jsx("div",{className:N("joined-players",t==="horizontal"&&"joined-players--horizontal"),children:a.map((n,o)=>e.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1,delay:o*.25},children:e.jsxs(_.div,{layoutId:`player-${n.id}`,className:"joined-players__player",animate:{y:[0,5,0],filter:["drop-shadow(0px 10px 4px rgba(0, 0, 0, 0.1))","drop-shadow(0px 20px 4px rgba(0, 0, 0, 0.05))","drop-shadow(0px 10px 4px rgba(0, 0, 0, 0.1))"],transition:{duration:R.sample([6,6.2,7,7.5,8]),ease:"easeInOut",repeat:Number.POSITIVE_INFINITY}},children:[e.jsx(ue,{dot:n==null?void 0:n.ready,color:"green",children:e.jsx(X,{id:n==null?void 0:n.avatarId,size:"large"})}),e.jsx("div",{className:"joined-players__avatar-name",children:e.jsx(l,{pt:"Fulano",en:"John Doe",custom:n==null?void 0:n.name})})]})},n.id))})}const pt=(s,t=1e3)=>{let a;return(...n)=>{clearTimeout(a),a=setTimeout(()=>{s.apply(void 0,n)},t)}};function xe({actionName:s,onBeforeCall:t=()=>{},onAfterCall:a=()=>{},onError:n=()=>{},onSuccess:o=()=>{},successMessage:r="API call was successful",errorMessage:i="API call has failed"}){const{message:c,notification:u}=L.useApp(),{setLoader:m}=G(),{gameId:d,gameName:p}=F(),[g]=v("userId"),f=J({mutationKey:[s],mutationFn:x=>De.run({gameId:d,gameName:p,playerId:g,...x}),onMutate:async()=>{m(s,!0),await t()},onSuccess:async()=>{await o(),c.success(r)},onError:x=>{u.error({message:i,description:JSON.stringify(x==null?void 0:x.message),placement:"bottomLeft"}),console.error(x),n()},onSettled:async()=>{await a(),m(s,!1)}});return pt(f.mutate)}const gt=3*60*1e3;function ss(s,t){const[a]=v("userId"),[n,o]=v("user"),[r,i]=h.useState(!1);return h.useEffect(()=>{if(a===ge){o({...gs,id:ge,ready:!0});return}a&&(s!=null&&s[a])&&o(s==null?void 0:s[a])},[s,a,o]),h.useEffect(()=>{if(a===ge){i(!1);return}if(a&&(n==null?void 0:n.ready)===!1){i(!1);return}if(!(t!=null&&t.updatedAt)){i((n==null?void 0:n.ready)??!0);return}if(a&&(n==null?void 0:n.updatedAt)<(t==null?void 0:t.updatedAt)){i(!1);return}i(!0)},[a,n==null?void 0:n.ready,n==null?void 0:n.updatedAt,t==null?void 0:t.updatedAt]),{...n,isReady:r,online:n.updatedAt?Date.now()-n.updatedAt<gt:!1}}function xt({players:s}){const{isLoading:t}=G(),{language:a,translate:n}=C(),o=ss(s),[r]=z("volume"),[,i]=v("isAdminEnabled"),c=we();Me(()=>{i(!0)});const u=n("Vixi, o aplicativo encontrou um erro ao tentar continuar","Oh no! The application found an error when trying to continue"),m=xe({actionName:"be-ready",successMessage:n("Pronto! Aguarde os outros jogadores estarem prontos","Done! Now wait for the other players"),errorMessage:u,onSuccess:()=>{ae(Ts(o.name),a,r)}}),d=xe({actionName:"be-ready",successMessage:n("Pronto! Aguarde os outros jogadores estarem prontos","Done! Now wait for the other players"),errorMessage:u,onSuccess:()=>{ae(Fs(o.name),a,r)}}),p=xe({actionName:"be-ready",successMessage:n("Vixi, se fudeu então, porque o jogo vai começar!","Sorry, you are screwed because the game is starting anyway!"),errorMessage:u,onSuccess:()=>{ae(Ls(o.name),a,r)}});return e.jsxs(ve,{gap:6,justify:"center",align:"center",wrap:"wrap",children:[e.jsx(y,{type:"primary",size:"small",icon:o.isReady?e.jsx(te,{}):e.jsx(Oa,{}),disabled:t||o.isReady||c,onClick:()=>m({action:se.MAKE_ME_READY}),loading:t,children:e.jsx(l,{pt:"Entendi tudo e estou pronto para jogar!",en:"I understood everything and I'm ready to play!"})}),e.jsx(y,{size:"small",icon:o.isReady?e.jsx(te,{}):e.jsx(va,{}),disabled:t||o.isReady||c,onClick:()=>d({action:se.MAKE_ME_READY}),loading:t,children:e.jsx(l,{pt:"Não entendi nada, mas vamos lá!",en:"I don't get it but let's go!"})}),e.jsx(y,{type:"primary",size:"small",danger:!0,icon:o.isReady?e.jsx(te,{}):e.jsx(Ea,{}),disabled:t||o.isReady||c,onClick:()=>p({action:se.MAKE_ME_READY}),loading:t,children:e.jsx(l,{pt:"Quê?",en:"What?"})})]})}function ft({players:s}){const t=K(),{language:a}=C();return e.jsxs(_.div,{className:"lobby-step__rules",initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0},transition:{delay:.25},children:[e.jsxs(ve,{vertical:!0,gap:6,children:[e.jsx(A.Title,{level:4,style:{marginTop:0},children:e.jsx(l,{pt:"Revise as regras",en:"Review the rules"})}),e.jsx(zs,{wrap:!0,size:[1,10],style:{display:"flex"},gameCode:t.gameCode,tags:t.tags}),e.jsx(Ie.PreviewGroup,{fallback:`${q.RULES}no-rules.jpg`,preview:{countRender:(n,o)=>e.jsxs(le,{direction:"vertical",size:"small",className:"text-center",children:[e.jsx("span",{children:t.rules[a][n]}),e.jsxs("span",{children:[n,"/",o]})]})},children:e.jsx("ul",{className:"lobby-step__rule-list",children:t.rules[a].map((n,o)=>e.jsxs(_.li,{className:"lobby-step__rule",...xs("fadeIn",{delay:1+o*.1}),children:[o>0&&e.jsx(Ie,{src:`${q.RULES}game-rule-${t.gameName}-${o}.jpg`,width:96,className:"border-radius",fallback:`${q.RULES}no-rules.jpg`}),e.jsx(A.Paragraph,{style:{marginBottom:0},children:n})]},n))})})]}),e.jsx(xt,{players:s})]})}const jt=_(A.Paragraph);function Oe({players:s,meta:t}){const{step:a,setStep:n}=$a(),{currentUser:o,isAuthenticated:r}=U(),[,i]=v("userId"),[,c]=v("username"),[,u]=v("userAvatarId"),[m]=ne("username",""),[d]=ne("avatarId",""),p=K(),g=s==null?void 0:s[o.id];return h.useEffect(()=>{g?(n(2),i(g.id),c(g.name),u(g.avatarId)):r?(n(1),fs()):(n(0),c(m??""),u(d??""))},[g,n,i,c,u,r,m,d]),e.jsxs(Qe,{phase:"LOBBY",allowedPhase:oe.DEFAULT.LOBBY,className:"lobby",children:[e.jsxs(js,{children:[e.jsxs(_.div,{className:"lobby-step",layout:!0,children:[e.jsxs(_.div,{className:"lobby-step__card",children:[e.jsx(Ne,{width:340,title:p==null?void 0:p.title,gameName:p==null?void 0:p.gameName,className:"lobby-step__banner"}),e.jsxs("div",{className:"lobby-step__content",children:[e.jsx(jt,{className:"lobby-step__summary italic",layoutId:"lobby-step-summary",children:e.jsx($,{children:p.summary})}),t.isLocked?e.jsxs(e.Fragment,{children:[e.jsx(A.Title,{className:"lobby-step__title",children:e.jsx(l,{pt:"Esse jogo está trancado",en:"This session is locked"})}),e.jsx(ce,{type:"warning",showIcon:!0,message:e.jsx(l,{pt:"O jogo já foi iniciado e novos jogadores não podem ser adicionados",en:"The game has started and new players cannot be added at this time"})})]}):e.jsxs(e.Fragment,{children:[a===0&&e.jsx(et,{setStep:n}),a===1&&e.jsx(it,{players:s,setStep:n}),a===2&&e.jsx(mt,{players:s})]})]})]}),e.jsxs("div",{className:"lobby-step__waiting",children:[a===2&&e.jsx(ft,{players:s}),e.jsx(ht,{players:s,orientation:a===1?"vertical":"horizontal"})]})]}),e.jsx(Je,{state:{phase:"LOBBY",round:{current:0,total:0,forceLastRound:!1},players:{}},players:s})]}),e.jsx(Xa,{})]})}function yt({state:s}){const t=Ds(),a=ys();return h.useEffect(()=>{a.invalidateQueries({queryKey:["meta",t]})},[t]),e.jsx(Qe,{phase:s==null?void 0:s.phase,allowedPhase:oe.DEFAULT.SETUP,className:"setup",children:e.jsxs("div",{className:"phase-announcement",children:[e.jsx(Ma,{colorScheme:"light",children:e.jsx(l,{pt:"Preparando o jogo...",en:"Setting up..."})}),e.jsx(Js,{className:"phase-announcement__icon"}),e.jsx(He,{children:e.jsx(l,{pt:"Aguarde um momento",en:"Just a moment"})})]})})}function bt({state:s}){const{dualTranslate:t}=C();return e.jsx($e,{description:t({en:`The phase "${s.phase}" is not defined for this game.`,pt:`A fase "${s.phase}" não está definida para este jogo.`})})}function vt(s){return e.jsx(ze,{message:{en:"Fetching game phase...",pt:"Buscando fase do jogo..."}})}function _t(s,t=!1){const a=bs(_s,s),n=Ue({queryKey:["firestore","doc",s],queryFn:async()=>(await Ns(a)).data()});return h.useEffect(()=>{if(t){const o=vs(a,()=>{n.refetch()});return()=>o()}},[t]),n}function Nt(s,t){const{notification:a}=L.useApp(),n=`games/${t}/${s}/state`,{isLoading:o,isRefetching:r,isError:i,error:c,data:u}=_t(n,!0);i&&(a.error({message:"The application found an error while trying to update the game state",description:JSON.stringify(c),placement:"bottomLeft"}),console.error(c));const m=u??{};return h.useEffect(()=>{(o||r)&&console.count("Refreshing state...")},[o,r]),m}function Ct(){const{notification:s}=L.useApp(),t=_e(),{translate:a}=C(),n=aa(9e5);h.useEffect(()=>{n&&s.warning({message:a("Página parada por um longo tempo, redirecionando...","The page has been idle for too long, redirecting..."),duration:5,onClose:()=>t("/"),placement:"top"})},[n,t,a,s])}function wt({players:s}){const[t]=v("showPlayersBar");return t?e.jsx("div",{className:N("players-status-bar",V("slideInRight")),children:e.jsx("ul",{className:"players-status-bar__list",children:Cs(s).map(a=>e.jsxs("li",{className:"players-status-bar__player",children:[e.jsx(S,{title:a.name,placement:"left",trigger:"hover",children:e.jsx(ue,{dot:!0,color:a.ready?"green":"gray",children:e.jsx(X,{id:a.avatarId,alt:a.name,size:"small",className:N(!a.ready&&"players-status-bar__avatar-not-ready")})})}),a.ready&&e.jsx("div",{className:"players-status-bar__ready",children:e.jsx("div",{className:"players-status-bar__ready-speech",children:e.jsx(l,{pt:"Pronto!",en:"I'm ready!"})})})]},`players-status-bar-${a.id}`))})}):e.jsx(e.Fragment,{})}function St({round:s,groupScore:t}){return e.jsxs("ul",{className:"game-info-drawer__meta",children:[e.jsxs("li",{children:[e.jsx("div",{className:"game-info-drawer__label-inline",children:e.jsx(l,{pt:"Rodada:",en:"Round:"})}),e.jsx(W,{className:"game-info-drawer__round",size:"small",children:s.current}),e.jsx("span",{className:"game-info-drawer__inline-separator",children:e.jsx(l,{pt:"de",en:"out of"})}),e.jsx(W,{className:"game-info-drawer__round",size:"small",children:s.total})]}),!!t&&e.jsxs("li",{children:[e.jsx("div",{className:"game-info-drawer__label-inline",children:e.jsx(l,{pt:"Pontos:",en:"Points:"})}),e.jsx(W,{className:"game-info-drawer__round",size:"default",style:{backgroundColor:"gold",color:"black"},children:t})]})]})}function At({players:s}){const{language:t}=C(),a=ss(s),n=h.useMemo(()=>R.orderBy(Object.values(s),["score","name"],["desc","asc"]),[s]);return e.jsx("ul",{children:n.map((o,r)=>e.jsxs("div",{className:"game-info-drawer__ranked-player",children:[r+1,"."," ",e.jsx(ue,{count:o.score,className:"game-info-drawer__avatar-with-badge",children:e.jsx(X,{id:o.avatarId,shape:"square"})}),o.name,", ",D[o.avatarId].description[t],o.id===a.id&&e.jsx(ye,{color:D[o.avatarId].color,className:"game-info-drawer__avatar-tag",children:e.jsx(l,{pt:"VOCÊ",en:"YOU"})})]},`ranked-${o.name}`))})}function It(){const{message:s}=L.useApp(),{blurCard:t}=ks(),a=Ys("resources"),{isLoading:n,isError:o,data:r}=Ue({queryKey:["credo"],queryFn:async()=>await(await fetch(`${a}/images-credo.json`)).json()}),[i,c]=h.useState({aliens:!1,cockroaches:!1,scorpions:!1,snakes:!1,spiders:!1}),u=(d,p)=>{c(g=>({...g,[d]:p}))},m=()=>{const d=[];Object.keys(i).forEach(p=>{i[p]&&r[p]&&d.push(r[p])}),d.flat().forEach(t),s.success(e.jsx(l,{pt:"Cartas 'credadas' com sucesso",en:"Cards blurred successfully"}))};return n?e.jsx("div",{className:"blur-options",children:e.jsx(qs,{})}):o?e.jsx("div",{className:"blur-options",children:e.jsx(ce,{type:"error",message:e.jsx(l,{pt:"Servidor falhou ao tentar baixar a lista de cartas credo",en:"Server failed while trying to fetch blur cards list"})})}):e.jsxs("div",{className:"blur-options",children:[e.jsxs("p",{children:[e.jsx(l,{pt:"Você pode embaçar cartas automaticamente por tema",en:"You may blur cards automatically by theme"}),":"]}),e.jsx(H,{checked:i.aliens,disabled:!r.aliens,onChange:d=>u("aliens",d.target.checked),className:"blur-options__checkbox",children:e.jsx(l,{pt:"alienígenas",en:"aliens"})}),e.jsx(H,{checked:i.cockroaches,disabled:!r.cockroaches,onChange:d=>u("cockroaches",d.target.checked),className:"blur-options__checkbox",children:e.jsx(l,{pt:"baratas",en:"cockroaches"})}),e.jsx(H,{checked:i.scorpions,disabled:!r.scorpions,onChange:d=>u("scorpions",d.target.checked),className:"blur-options__checkbox",children:e.jsx(l,{pt:"escorpiões",en:"scorpions"})}),e.jsx(H,{checked:i.snakes,disabled:!r.snakes,onChange:d=>u("snakes",d.target.checked),className:"blur-options__checkbox",children:e.jsx(l,{pt:"cobras",en:"snakes"})}),e.jsx(H,{checked:i.spiders,disabled:!r.spiders,onChange:d=>u("spiders",d.target.checked),className:"blur-options__checkbox",children:e.jsx(l,{pt:"aranhas",en:"spiders"})}),e.jsx(y,{type:"primary",ghost:!0,size:"small",onClick:m,children:e.jsx(l,{pt:"Credar selecionados",en:"Blur selected"})})]})}function Et(){const{isAdmin:s}=U(),[t,a]=v("isAdminEnabled"),{isDebugEnabled:n,toggleDevFeatures:o}=Hs(),[r,i]=z("blurEnabled"),[c,u]=z("volume"),m=p=>{i(p)},d=p=>{u(p?.5:0)};return e.jsxs("div",{className:"game-info-drawer__section-settings",children:[e.jsxs("div",{className:"game-info-drawer__settings-entry",children:[e.jsxs("div",{className:"game-info-drawer__switch-label",children:[e.jsx(l,{pt:"Idioma",en:"Language"})," ",e.jsx(S,{title:e.jsx(l,{pt:"Mudar língua do aplicativo, as cartas do jogo continuarão em sua língua original",en:"Change app language, the game cards will remain in its original language"}),children:e.jsx(y,{type:"text",shape:"circle",icon:e.jsx(O,{}),size:"small"})})]}),e.jsx(ws,{})]}),e.jsxs("div",{className:"game-info-drawer__settings-entry",children:[e.jsxs("div",{className:"game-info-drawer__switch-label",children:[e.jsx(l,{pt:"Som",en:"Sound"}),e.jsx(S,{title:e.jsx(l,{pt:"Muda ou desmuda sons no aplicativo",en:"Mute/Unmute sounds in the app"}),children:e.jsx(y,{type:"text",shape:"circle",icon:e.jsx(O,{}),size:"small"})})]}),e.jsx(P,{checkedChildren:"on",unCheckedChildren:"off",checked:c>0,onClick:d})]}),e.jsxs("div",{className:"game-info-drawer__settings-entry",children:[e.jsxs("div",{className:"game-info-drawer__switch-label",children:[e.jsx(l,{pt:"Botão Credo",en:"Blur Button"}),e.jsx(S,{title:e.jsx(l,{pt:"Adiciona um botão em todas Cartas-imagem para embaça-las caso você tenha alguma fobia",en:"Adds a button to every Image Card to blur them in case you have any phobia"}),children:e.jsx(y,{type:"text",shape:"circle",icon:e.jsx(O,{}),size:"small"})})]}),e.jsx(P,{checkedChildren:"on",unCheckedChildren:"off",checked:r,onClick:m})]}),r&&e.jsx("div",{className:"game-info-drawer__settings-entry",children:e.jsx(It,{})}),e.jsxs("div",{className:"game-info-drawer__settings-entry",children:[e.jsxs("div",{className:"game-info-drawer__switch-label",children:["Debug",e.jsx(S,{title:e.jsx(l,{pt:"Ativa coisas para ajudar o desenvolvedor a encontrar error. Use apenas quando instruído",en:"Activate debug mode. Only turn on when instructed"}),children:e.jsx(y,{type:"text",shape:"circle",icon:e.jsx(O,{}),size:"small"})})]}),e.jsx(P,{checkedChildren:"on",unCheckedChildren:"off",checked:n,onClick:o})]}),s&&e.jsxs("div",{className:"game-info-drawer__settings-entry",children:[e.jsxs("div",{className:"game-info-drawer__switch-label",children:["Admin",e.jsx(S,{title:e.jsx(l,{pt:"Ativa recursos para o administrador",en:"Activate admin mode"}),children:e.jsx(y,{type:"text",shape:"circle",icon:e.jsx(O,{}),size:"small"})})]}),e.jsx(P,{checkedChildren:"on",unCheckedChildren:"off",checked:t,onClick:()=>a(!t)})]})]})}function kt({players:s,state:t,userId:a}){var f,x,b;const n=K(),{language:o}=C(),[r,i]=fe(!1),[c,u]=fe(!1),m=_e(),{isAdmin:d,isAuthenticated:p,isGuest:g}=U();return t.phase==="LOBBY"?e.jsx(e.Fragment,{}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"game-info-drawer-container",children:[e.jsxs("button",{type:"button",className:"game-info-drawer-button",onClick:i,children:[e.jsxs("span",{className:"game-info-drawer-button__game-title",children:[((f=n.title)==null?void 0:f[o])??"?",e.jsxs(Bs,{devOnly:!0,children:["(",(x=s==null?void 0:s[a])==null?void 0:x.name,")"]})]}),e.jsx(W,{icon:e.jsx(Re,{}),size:"small"}),e.jsx("div",{className:"game-info-drawer-button__player-status-bar",children:e.jsx(wt,{players:s})})]}),e.jsxs(je,{title:e.jsx(Ne,{title:n==null?void 0:n.title,gameName:n.gameName,className:"round-corners",width:256,static:!0}),placement:"right",closable:!1,onClose:i,open:r,children:[p&&!g&&e.jsxs("p",{children:[e.jsx(ue,{size:"default",dot:!0,color:"green",children:e.jsx(X,{id:(b=s==null?void 0:s[a])==null?void 0:b.avatarId,shape:"square",size:"small"})})," ",e.jsx(l,{pt:"Você está logado!",en:"You are logged in!"})]}),e.jsxs(le,{children:[e.jsx(y,{type:"default",onClick:()=>u(!0),icon:e.jsx(Re,{}),children:e.jsx(l,{pt:"Configurações",en:"Settings"})}),e.jsx($s,{gameInfo:n}),e.jsx(je,{title:e.jsx(l,{pt:"Configurações",en:"Settings"}),width:200,closable:!1,onClose:u,open:c,children:e.jsx(Et,{})}),d&&e.jsx(y,{type:"default",danger:!0,onClick:()=>m("/hub"),icon:e.jsx(ya,{}),children:"Hub"})]}),e.jsx(Ce,{}),e.jsx(St,{round:(t==null?void 0:t.round)||0,groupScore:t==null?void 0:t.groupScore}),e.jsx(At,{players:s})]})]})})}function Pt({players:s}){return Ss(s)?e.jsx(lt,{round:{current:-1,total:10,forceLastRound:!1},autoTriggerTime:20,children:e.jsx(l,{pt:"Continuar",en:"Next"})}):e.jsx(e.Fragment,{})}function Te({state:s}){const t=_e(),[a,n]=h.useState(null),[o,r]=h.useState(!1),i=()=>{n(!1)},c=s.redirect;if(c){const m=Date.now();if(c.redirectAt-m>72e5)return e.jsx(e.Fragment,{});const d=As[c.gameName];return e.jsx(e.Fragment,{children:e.jsxs(Us,{title:e.jsx(l,{pt:"Você está convidado para uma nova partida",en:"You've been invited to a new session"}),open:a??!0,onCancel:i,onOk:()=>{r(!0),t(`/${c.gameId}`)},okButtonProps:{loading:o},okText:e.jsx(l,{pt:"Quero participar!",en:"Take me there!"}),cancelText:e.jsx(l,{pt:"Cancelar",en:"Cancel"}),children:[e.jsx(ve,{align:"center",justify:"center",children:e.jsx(Ne,{width:340,title:d.title,gameName:d.gameName,className:"lobby-step__banner"})}),e.jsx(be,{children:c.gameId})]})})}return e.jsx(e.Fragment,{})}function dn({gameCollection:s,getActiveComponent:t}){const a=F(),{language:n}=C(),o=Nt(a.gameId,s),[r]=v("userId"),[,i]=z("language"),c=o.players??{};if(Ct(),h.useEffect(()=>{n!==a.language&&i(a.language)},[a.language]),!r||!c[r])return e.jsx(Ee,{gameCollection:s,children:e.jsxs(Fe,{children:[e.jsx(Te,{state:o}),e.jsx(Oe,{state:o,players:c,meta:a})]})});const m=(o&&!o.phase?vt:o.phase===oe.DEFAULT.LOBBY?Oe:o.phase===oe.DEFAULT.SETUP?yt:t(o))||bt;return e.jsx(Is,{children:e.jsx(Ee,{gameCollection:s,children:e.jsxs(Fe,{children:[e.jsx(kt,{players:c,state:o,userId:r}),e.jsx(Te,{state:o}),e.jsx(m,{players:c,state:o,meta:a}),e.jsx(Pt,{players:c}),e.jsx(Je,{state:o,players:c})]})})})}function Fe({children:s}){const t=Rt();return e.jsx(Es,{theme:{token:t},children:s})}function Rt(){const s=ie();return h.useMemo(()=>{const t={};return s.primaryColor&&(t.colorPrimary=s.primaryColor,t.colorLink=s.primaryColor),s.surfaceColor&&(t.colorBgContainer=s.surfaceColor),t},[s])}const un=h.forwardRef(({children:s,announcement:t,fullWidth:a=!1,fullHeight:n=!1,className:o=""},r)=>e.jsxs("div",{ref:r,className:N("step",a&&"step--full-width",n&&"step--full-height",o),children:[t,s]}));function Ot({players:s,readyText:t,readyTextPlural:a,hideNames:n=!1}){const{readyPlayers:o,notReadyPlayers:r}=Object.values(s).reduce((i,c)=>(c.ready?i.readyPlayers.push(c):i.notReadyPlayers.push(c.name),i),{readyPlayers:[],notReadyPlayers:[]});return o.length===0?e.jsx("span",{}):e.jsxs("div",{className:"ready-player-bar",children:[e.jsxs("div",{className:"ready-player-bar__bar",children:[e.jsx(W.Group,{size:"small",children:o.map(i=>e.jsx(X,{id:i.avatarId},i.name))}),e.jsxs("span",{className:"ready-player-bar__speech-bubble",children:[e.jsx(A.Text,{children:o.length>1?e.jsx(l,{pt:"Estamos prontos!",en:"We're ready!",custom:a}):e.jsx(l,{pt:"Estou pronto!",en:"I'm ready!",custom:t})}),e.jsx(Zs,{className:"ready-player-bar__speech-bubble-icon"})]})]}),!n&&r.length>0&&e.jsxs("span",{className:"ready-player-bar__names",children:[e.jsx(l,{pt:"Esperando",en:"Waiting for"}),": ",r.join(", ")]})]})}function Tt({players:s,title:t,instruction:a,children:n,icon:o}){return Xe(),e.jsxs("div",{className:"waiting-room",children:[e.jsx(be,{colorScheme:"light",children:e.jsx(l,{pt:"Pronto!",en:"Done!",custom:t})}),o??e.jsx(Xs,{style:{width:"6rem"}}),e.jsxs("div",{className:"waiting-room__content",children:[e.jsx(He,{children:a||e.jsx(l,{pt:"Vamos aguardar os outros jogadores!",en:"Please wait for the other players!"})}),n]}),e.jsx(Ot,{players:s})]})}const Ft=s=>{switch(s){case"SERVER":return e.jsx(l,{pt:"Aguardando o servidor dar sinal de vida",en:"Waiting for the server to resuscitate"});case"PLAYERS":return e.jsx(l,{pt:"Vamos aguardar enquanto os outros jogadores terminam!",en:"Please wait while other players finish!"});default:return e.jsx(l,{pt:"Aguardando algo acontecer...",en:"Waiting for something..."})}};function mn({children:s,step:t,conditions:a,players:n,waitingRoom:o={}}){const r=Array.isArray(s)?s:[s];return n&&t>=r.length?e.jsx(Tt,{players:n,title:e.jsx(l,{pt:"Pronto!",en:"Done!"}),instruction:o.instruction??Ft(o.type??"PLAYERS"),children:o.content}):r[t]?(a==null?void 0:a[t])??!0?e.jsx(e.Fragment,{children:r[t]}):e.jsx("div",{}):e.jsx(Ws,{})}export{es as H,cn as P,te as R,un as S,za as W,Ma as a,ss as b,$a as c,Qe as d,mn as e,ln as f,dn as g,bt as h,oe as i,Xe as j,lt as k,Ot as l,we as m,re as n,Tt as o,Ea as p,wa as q,Aa as r,xe as u};
