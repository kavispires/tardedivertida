import{f as W,n as O,aG as je,bj as R,j as e,T as i,q as _,l as C,aL as v,bG as M,e as se,I,aM as le,P as _e,r as k,bD as N,bL as Re,B as ge,D as Ee,bH as Ne,aY as Ie,aW as qe,aX as we}from"./index-KhnDWtqd.js";import{u as oe,S as L,a as B,b as ne,c as D,P as H,d as $,e as z,k as Pe,l as Ae,g as Te,h as Z,i as Ge,j as Fe}from"./StepSwitcher-DQaOiUvi.js";import{F as ke}from"./FilterIcon-CZw69Cae.js";import{I as V}from"./Instruction-D4JXjD7_.js";import{u as re}from"./useBooleanDictionary-aPHYUBvr.js";import{u as ae}from"./useMock-BYfmmAKs.js";import{C as Y}from"./CharacterCard-D0PfTxUn.js";import{C as de}from"./CardHighlight-BbLsGTPT.js";import{R as U}from"./RuleInstruction-DODjplC_.js";import{B as Me}from"./index-IbYMwJQL.js";import{P as Ue}from"./PlayerIconsIcon-BzEwVu2U.js";import{R as We}from"./RoundAnnouncement-DO0euF4U.js";import{P as te,p as Oe,g as Le,a as Be,b as De}from"./PlayerGlyphs-Dz1AEKI5.js";import{N as Q}from"./NoIcon-CioVL7Lf.js";import{Y as K,M as He}from"./YesIcon-Dz25ba-r.js";import{G as q}from"./GlyphCard-D__DdqXT.js";/* empty css                             */import{I as $e}from"./ImageBlurButtonContainer-Cl8gcq_S.js";import{I as ye}from"./ImageCard-CU-rEaOC.js";import{M as Se}from"./MetricHighlight-J8Ystiqu.js";import{E as ze}from"./WritingIcon-BzPwjf57.js";import{P as F}from"./PointsHighlight-CMIbnY_R.js";import{u as Ve,R as Ye}from"./useVotingMatch-BoCXudKs.js";import"./Ribbon-DAdfCqCm.js";import{R as Qe}from"./RibbonGroup-Bj7w5Fl0.js";import{R as Ke}from"./ThunderboltOutlined-BjnoXoNr.js";import{u as Je}from"./SlideShowControls-CY5dvfo3.js";import{A as Xe}from"./AvatarName-DI3jGnum.js";import{P as ve}from"./PopoverRule-CbSoMJOI.js";import{S as Ze}from"./SlideShow-CQ4JbfGi.js";import{S as he}from"./StarPoints-QUhsQS3f.js";import{S as me,a as es,b as ee,c as ss}from"./SlideShowComposableComponents-DKorv3fp.js";import{S as rs}from"./StepRankingWrapper-olfZSrxB.js";import{R as os}from"./RoundsLeftInstruction-C3GGMHbp.js";import{T as ns}from"./TrophyIcon-CJAr_UX5.js";import"./GameOver-D8gPqpLD.js";import{G as as}from"./GameOverWrapper-CzHM9-dp.js";import{A as ts}from"./Achievements-l6RGzkuI.js";import{a as is}from"./achievements-BW6l1tk2.js";import{A as cs}from"./AvatarStrip-D8QjAcF1.js";import"./useBlurCards-DaCWG4D9.js";import"./speech-D47ffgBV.js";import"./useDevFeatures-BpY0uJRo.js";import"./RulesModal-DG0eZ_Bc.js";import"./DoubleRightOutlined-B9qpl8IC.js";import"./PurePanel-1fLmEmMx.js";import"./Game-DCS1H-5m.js";import"./WaitingRoomIcon-BpovjZh4.js";import"./AnimatedClockIcon-iuoHeLT8.js";import"./useMutation-kJwgSNc7.js";import"./index-DyKCfJY4.js";import"./useBubbleLock-pVXO7gwT.js";import"./index-soIMzOQO.js";import"./Overflow-DXjIKanZ.js";import"./useEvent-wEaUne0h.js";import"./index-DQzyEHGu.js";import"./Avatar-BS3hQk5-.js";import"./GameBanner-BAnT_evQ.js";import"./useTDBaseUrl-BF9foKiS.js";import"./index-CshNItYF.js";import"./InfoCircleOutlined-C8s4WoNP.js";import"./index-Bpy7izmx.js";import"./SignIn-Cb6XwnqL.js";import"./GoogleIcon-DsbP_NnU.js";import"./Loading-vwOlz5FP.js";import"./AnimatedLoaderIcon-DWr56qiF.js";import"./LikeFilled-BZXaGV6K.js";import"./StarFilled-BYJz_kcC.js";import"./StarFilled-CNctUIhy.js";import"./BoxCheckMarkIcon-DTxzDZdZ.js";import"./Sprite-BsiejBt5.js";import"./WarningOutlined-DIH-Q38E.js";import"./ImageBlurButton-Dtq-jBwT.js";import"./StarIcon-CsKy0kHK.js";import"./StepBackwardOutlined-CAZjIy9Q.js";import"./TrophyOutlined-Cg3Mgoow.js";import"./GarbageIcon-Fmo4csn8.js";import"./RankingBoard-BCqKzsrT.js";import"./CaretUpOutlined-CTN4lzvm.js";import"./ArrowRightOutlined-CxZCEjbR.js";import"./useMergedState-poA94PJI.js";import"./progress-D1th4gVz.js";import"./TheEndIcon-DHC21ZBm.js";import"./Container-pH3ip1tW.js";import"./Medal-Cj3yCS65.js";import"./QuestionCircleOutlined-CebtNFdz.js";const b={CHARACTER_FILTERING:"CHARACTER_FILTERING",CHARACTER_DESCRIPTION:"CHARACTER_DESCRIPTION",GUESSING:"GUESSING",RESULTS:"RESULTS"},ie={SUBMIT_CHARACTERS:"SUBMIT_CHARACTERS",SUBMIT_GLYPHS:"SUBMIT_GLYPHS",SUBMIT_GUESSES:"SUBMIT_GUESSES"},ls=10;function ds(r){const{translate:s}=W(),o=oe({actionName:"submit-characters",onSuccess:()=>r(2),onError:()=>r(0),successMessage:s("Ação submetida com sucesso","Action submitted successfully"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return n=>{o({action:ie.SUBMIT_CHARACTERS,...n})}}function hs(r){const{translate:s}=W(),o=oe({actionName:"submit-glyphs",onSuccess:()=>r(2),onError:()=>r(0),successMessage:s("Ação submetida com sucesso","Action submitted successfully"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return n=>{o({action:ie.SUBMIT_GLYPHS,...n})}}function ms(r){const{translate:s}=W(),o=oe({actionName:"submit-guesses",onSuccess:()=>r(2),onError:()=>r(0),successMessage:s("Ação submetida com sucesso","Action submitted successfully"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return n=>{o({action:ie.SUBMIT_GUESSES,...n})}}const ps=r=>O.sampleSize(r,6).map(s=>s.id);function us({user:r,announcement:s,onSelectCharacters:o}){const{isLoading:n}=je(),t=R(12,{gap:16,minWidth:100,maxWidth:200}),{dict:a,updateDict:c,length:l,keys:d}=re({}),m=r.availableCharacters??[];return ae(),e.jsxs(L,{fullWidth:!0,announcement:s,children:[e.jsx(B,{children:e.jsx(i,{pt:e.jsxs(e.Fragment,{children:["Selecione ",e.jsx(de,{children:"6"})," cartas"]}),en:e.jsxs(e.Fragment,{children:["Select ",e.jsx(de,{children:"6"})," cards"]})})}),e.jsx(U,{type:"action",children:e.jsx(i,{pt:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Selecione"})," 6 personagens/celebridades abaixo, dessas 5 serão usadas no jogo.",e.jsx("br",{}),"Essa etapa é necessária para que você não receba um personagem que não conheça."]}),en:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Select"})," 6 characters/celebrities below, 5 of them will be used in the game.",e.jsx("br",{}),"This step is necessary so that you don't receive a character you don't know."]})})}),e.jsx(_,{className:"grid-container grid-template-6 gap-4",wrap:!0,children:m.map(h=>e.jsx(C,{disabled:r.ready||n,onClick:()=>c(h.id),active:a[h.id],activeClass:"q-character-player",children:e.jsx(Y,{size:t,character:h})},h.id))}),e.jsxs(v,{children:[e.jsx(M,{size:"large",type:"dashed",onClick:()=>o({characters:ps(m)}),loading:n,disabled:n||r.ready,children:e.jsx(i,{pt:e.jsx(e.Fragment,{children:"Escolha pra mim"}),en:e.jsx(e.Fragment,{children:"Choose for me"})})}),e.jsx(Me,{count:l,children:e.jsx(M,{size:"large",onClick:()=>o({characters:d}),loading:n,disabled:r.ready||l!==6,children:e.jsx(i,{pt:"Enviar cartas",en:"Submit cards"})})})]})]})}function xs({players:r,state:s}){var l;const o=ne(r,s),{step:n,setStep:t}=D(),a=ds(t),c=e.jsx(H,{icon:e.jsx(ke,{}),title:e.jsx(i,{pt:"Quem você conhece?",en:"Who do you know?"}),currentRound:(l=s==null?void 0:s.round)==null?void 0:l.current,type:"overlay",children:e.jsx(V,{children:e.jsx(i,{pt:e.jsx(e.Fragment,{children:"Selecione personagens/pessoas que você conhece"}),en:e.jsx(e.Fragment,{children:"Select characters/people you know"})})})});return e.jsx($,{phase:s==null?void 0:s.phase,allowedPhase:b.CHARACTER_FILTERING,children:e.jsx(z,{step:n,players:r,children:e.jsx(us,{user:o,onSelectCharacters:a,announcement:c})})})}function js({user:r}){return r.selectedGlyphs?e.jsxs(_,{wrap:!0,children:[e.jsx(Y,{size:100,character:r.character}),e.jsx(te,{player:r,glyphWidth:60})]}):e.jsx(e.Fragment,{})}function w({character:r,width:s,imageCardMode:o,className:n}){return o?e.jsx($e,{cardId:r.id,children:e.jsx(ye,{id:r.id,cardWidth:s,className:n,preview:!1})}):e.jsx(Y,{character:r,size:s,className:n})}function gs({characters:r,playerCharacterId:s,tableOrder:o,showAll:n=!0,imageCardMode:t=!1}){const a=R(8,{gap:16,minWidth:150,maxWidth:200}),c=o.slice(0,Math.floor(o.length/2)),l=o.slice(Math.floor(o.length/2));return n?e.jsxs(v,{className:"q-table",wrap:!0,children:[e.jsx(v,{wrap:!0,children:c.map(d=>e.jsx(w,{character:r[d],width:a,imageCardMode:t,className:se(d===s&&"q-character-player")},d))}),e.jsx(v,{wrap:!0,children:l.map(d=>e.jsx(w,{character:r[d],width:a,imageCardMode:t,className:se(d===s&&"q-character-player")},d))})]}):e.jsx(v,{className:"q-table",children:e.jsx(Y,{character:r[s],size:a,className:"q-character-player"})})}function pe({children:r,type:s,iconSize:o,className:n}){return e.jsx(Se,{icon:e.jsx(K,{}),type:s,iconSize:o,className:n,children:r})}function ue({children:r,type:s,iconSize:o,className:n}){return e.jsx(Se,{icon:e.jsx(Q,{}),type:s,iconSize:o,className:n,children:r})}const xe=[0,1,2];function ys({user:r,announcement:s,onSelectGlyphs:o,characters:n,tableOrder:t,roundType:a,imageCardMode:c}){var T;const{translate:l}=W(),d=R(20,{gap:16,minWidth:50,maxWidth:75}),m=d+15,{dict:h,updateDict:p,keys:x}=re({}),{dict:f,updateDict:A,keys:E}=re({}),J=r.glyphs??[];return ae(),e.jsxs(L,{fullWidth:!0,announcement:s,children:[e.jsx(B,{children:e.jsx(i,{pt:e.jsx(e.Fragment,{children:"Descreva seu personagem com ícones"}),en:e.jsx(e.Fragment,{children:"Describe your character with glyphs"})})}),e.jsxs(U,{type:"rule",children:[e.jsx(i,{pt:e.jsxs(e.Fragment,{children:["Dos ícones abaixo, você pode selecionar até ",e.jsx(pe,{children:"3"})," positivos e até ",e.jsx(ue,{children:"3"})," negativos.",e.jsx("br",{})," Quando você clica em ícone, você determina se ele é relacionado ao seu personagem ou não.",e.jsx("br",{}),e.jsx("strong",{children:"A sua carta é a que tem a borda de bolinhas amarelas!"})]}),en:e.jsxs(e.Fragment,{children:["From the glyphs below, you may select up to ",e.jsx(pe,{children:"3"})," positive and ",e.jsx(ue,{children:"3"})," negative glyphs.",e.jsx("br",{}),"When you click on a glyph, you will determine if it's related or not to your character.",e.jsx("br",{}),e.jsx("strong",{children:"Your card is highlighted with the dotted yellow border!"})]})}),a==="SHOW"&&e.jsx(i,{pt:e.jsxs(e.Fragment,{children:[e.jsx("br",{}),"Você também pode ver todos os personagens abaixo caso queira evitar conflito com outros jogadores."]}),en:e.jsxs(e.Fragment,{children:[e.jsx("br",{}),"You can also take a look at all the characters for this round so you don't give clues that match others."]})})]}),a!=="SHOW"&&e.jsx(U,{type:"event",children:e.jsx(i,{pt:e.jsx(e.Fragment,{children:"De agora em diante, você vê apenas o seu personagem."}),en:e.jsx(e.Fragment,{children:"From now on, you only see your own character."})})}),e.jsx(gs,{characters:n,playerCharacterId:(T=r.character)==null?void 0:T.id,tableOrder:t,showAll:a==="SHOW",imageCardMode:c}),e.jsxs(v,{className:"q-selections",children:[e.jsx("div",{className:"q-selections__section q-selections__section--positive",children:xe.map(j=>{const g=x[j];return e.jsx("div",{className:"q-selections__positive",children:e.jsxs("div",{className:"q-selections__entry",children:[e.jsx(I,{icon:e.jsx(K,{})}),g!==void 0?e.jsx(C,{onClick:()=>p(g),title:l("Remover","Remove"),children:e.jsx(le,{title:e.jsx(i,{pt:"Remover",en:"Remove"}),children:e.jsx(q,{width:m,id:g})})}):e.jsx("div",{className:"q-selections__no-glyph",style:{width:`${m}px`,height:`${m}px`}})]})},`pos-${j}-${g}`)})}),e.jsx("div",{className:"q-selections__section q-selections__section--negative",children:xe.map(j=>{const g=E[j];return e.jsx("div",{className:"q-selections__positive",children:e.jsxs("div",{className:"q-selections__entry",children:[e.jsx(I,{icon:e.jsx(Q,{})}),g!==void 0?e.jsx(C,{onClick:()=>A(g),children:e.jsx(le,{title:e.jsx(i,{pt:"Remover",en:"Remove"}),trigger:"hover",children:e.jsx(q,{width:m,id:g})})}):e.jsx("div",{className:"q-selections__no-glyph",style:{width:`${m}px`,height:`${m}px`}})]})},`neg-${j}-${g}`)})})]}),e.jsx(_,{className:"glyphs",wrap:!0,children:J.map(j=>e.jsx(_e,{content:e.jsx(Ss,{id:j,updatePositive:p,updateNegative:A,disablePositive:x.length===3,disableNegative:E.length===3}),title:e.jsx(i,{pt:"Positivo ou Negativo?",en:"Positive or Negative"}),trigger:"click",children:e.jsx(C,{children:e.jsx(q,{width:d,id:j})})},j))}),e.jsx(v,{children:e.jsx(M,{size:"large",onClick:()=>o({glyphs:Oe(h,f)}),disabled:r.ready||x.length<1&&E.length<1,children:e.jsx(i,{pt:e.jsx(e.Fragment,{children:"Enviar ícones"}),en:e.jsx(e.Fragment,{children:"Submit glyphs"})})})})]})}function Ss({id:r,updatePositive:s,updateNegative:o,disablePositive:n,disableNegative:t}){return e.jsxs(_,{children:[e.jsx(C,{onClick:()=>s(r),disabled:n,children:e.jsx(I,{icon:e.jsx(K,{}),size:"large"})}),e.jsx(C,{onClick:()=>o(r),disabled:t,children:e.jsx(I,{icon:e.jsx(Q,{}),size:"large"})})]})}function vs({players:r,state:s}){var d;const o=ne(r,s),{step:n,goToNextStep:t,setStep:a}=D(),c=hs(a),l=e.jsx(H,{icon:e.jsx(Ue,{}),title:e.jsx(i,{pt:"Descreva seu personagem com ícones",en:"Describe your character with glyphs"}),currentRound:(d=s==null?void 0:s.round)==null?void 0:d.current,type:"overlay",children:e.jsx(V,{children:e.jsx(i,{pt:e.jsx(e.Fragment,{children:"Selecione até 6 ícones que ajudem os outros jogadores a adivinhar o seu personagem"}),en:e.jsx(e.Fragment,{children:"Select up to 6 glyphs that would help other players to guess who your character is"})})})});return e.jsx($,{phase:s==null?void 0:s.phase,allowedPhase:b.CHARACTER_DESCRIPTION,children:e.jsxs(z,{step:n,players:r,waitingRoom:{content:e.jsx(js,{user:o})},children:[e.jsx(We,{round:s==null?void 0:s.round,onPressButton:t,buttonText:" ",time:5}),e.jsx(ys,{user:o,onSelectGlyphs:c,characters:s.characters,tableOrder:s.tableOrder,announcement:l,roundType:s.roundType,imageCardMode:s.mode==="imageCards"})]})})}function P({currentRound:r}){return e.jsx(i,{pt:e.jsxs(e.Fragment,{children:["Você ganha ",e.jsx(F,{children:r}),"ponto para cada par que acertar e também"," ",e.jsx(F,{children:r}),"ponto para cada jogador que acertar o seu."]}),en:e.jsxs(e.Fragment,{children:["You get ",e.jsx(F,{children:r}),"point for each pair you get correctly and also ",e.jsx(F,{children:r}),"point for each player who gets your character correctly"]})})}function fs({user:r,announcement:s,onSubmitGuesses:o,players:n,characters:t,tableOrder:a,round:c,imageCardMode:l}){var ce;const{isLoading:d}=je(),m=R(20,{gap:16,minWidth:45,maxWidth:60}),h=R(8,{gap:16,minWidth:120,maxWidth:200}),{votes:p,setVotes:x,activateItem:f,isVotingComplete:A,isItemActive:E}=Ve("player",!0,Object.keys(n).length,{}),[J,T]=k.useState(!1),j=()=>{T(!0);const u=Object.keys(p),y=Object.values(p),X=Object.keys(n).map(S=>N(["player",S])).filter(S=>!u.includes(S)),be=O.shuffle(Object.keys(t).map(S=>N(["char",S])).filter(S=>!y.includes(S))),G={...p};return X.forEach((S,Ce)=>{G[S]||(G[S]=be[Ce])}),x(G),G},g=k.useCallback(()=>{if(r.character)return{[N(["player",r.id])]:N(["char",r.character.id])}},[r]);ae(),k.useEffect(()=>{const u=g();u&&x(y=>({...y,...u}))},[(ce=r==null?void 0:r.character)==null?void 0:ce.id]);const fe=Le(n,p);return e.jsxs(L,{fullWidth:!0,announcement:s,children:[e.jsx(B,{children:e.jsx(i,{pt:e.jsx(e.Fragment,{children:"Pareie os cada personagem com um jogador"}),en:e.jsx(e.Fragment,{children:"Pair player and characters"})})}),e.jsxs(U,{type:"rule",children:[e.jsx(i,{pt:e.jsxs(e.Fragment,{children:["De acordo com a seleção de ícones de cada jogador, tente adivinhar todos os pares.",e.jsx("br",{}),e.jsx("strong",{children:"Clique"})," em uma das barras de ícones então no personagem correspondente.",e.jsx("br",{}),"Para desfazer, basta selecionar normalmente que sua escolha era sobreposta."]}),en:e.jsxs(e.Fragment,{children:["Based on each player's glyphs selection, try to guess the pairs.",e.jsx("br",{}),e.jsx("strong",{children:"Click"})," on one of the glyph bars and then on the corresponding character.",e.jsx("br",{}),"To undo, just select normally that your choice was overridden."]})}),e.jsx("br",{}),e.jsx(P,{currentRound:c.current})]}),e.jsxs("div",{className:"q-voting-container",children:[e.jsx("div",{className:"q-voting-characters",children:a.map(u=>{const y=N(["char",u]),X=fe[u]??[];return e.jsxs(C,{onClick:()=>f(y),active:E(y),className:"q-voting-characters__button",children:[e.jsx(Qe,{labels:X}),e.jsx(w,{character:t[u],width:h,className:se(u==="a"&&"q-character-player"),imageCardMode:l})]},u)})}),e.jsx("div",{className:"q-players-glyphs",children:Re(n).map(u=>{const y=N(["player",u.id]);return e.jsx(C,{onClick:()=>f(y),active:E(y),children:e.jsx(te,{player:u,glyphWidth:m,done:!!p[y]})},`glyphs-for-${u.id}`)})})]}),e.jsxs(v,{children:[e.jsx(M,{size:"large",onClick:()=>o({guesses:Be(p),choseRandomly:J}),disabled:r.ready||!A,children:e.jsx(i,{pt:e.jsx(e.Fragment,{children:"Enviar pares"}),en:e.jsx(e.Fragment,{children:"Submit guesses"})})}),e.jsx(ge,{size:"large",type:"dashed",onClick:()=>j(),disabled:d||r.ready,icon:e.jsx(Ke,{}),children:e.jsx(i,{pt:e.jsx(e.Fragment,{children:"Desistir"}),en:e.jsx(e.Fragment,{children:"Guess for me"})})})]})]})}function bs({players:r,state:s}){var l;const o=ne(r,s),{step:n,setStep:t}=D(),a=ms(t),c=e.jsx(H,{icon:e.jsx(ze,{}),title:e.jsx(i,{pt:"Pareie os personagens e símbolos",en:"Pair characters with the players' glyphs"}),currentRound:(l=s==null?void 0:s.round)==null?void 0:l.current,type:"overlay",children:e.jsx(V,{children:e.jsx(P,{currentRound:s.round.current})})});return e.jsx($,{phase:s==null?void 0:s.phase,allowedPhase:b.GUESSING,children:e.jsx(z,{step:n,players:r,children:e.jsx(fs,{user:o,onSubmitGuesses:a,characters:s.characters,tableOrder:s.tableOrder,players:r,announcement:c,round:s.round,imageCardMode:s.mode==="imageCards"})})})}function Cs({players:r,playersSay:s,playersPoints:o,characters:n,currentColor:t,currentPlayer:a,round:c,imageCardMode:l}){const d=O.orderBy(Object.entries(s).map(([h,p])=>({cardId:h,character:n[h],playersIds:p,count:p.length,isCorrect:a.character.id===h})),["isCorrect","count","card.text"],["desc","desc","asc"]),m=s[a.character.id];return e.jsxs(_,{className:"q-gallery__info-container",direction:"vertical",children:[e.jsxs(_,{className:"q-gallery__votes",direction:"vertical",children:[e.jsx(me,{children:e.jsx(i,{pt:"Jogadores votaram",en:"Players voted"})}),d.map((h,p)=>e.jsxs("div",{className:"q-gallery__guess",children:[e.jsx(es,{winner:h.isCorrect,backgroundColor:t,children:l?e.jsx(ye,{id:h.character.id,cardWidth:35,className:"inline"}):e.jsx(Ee,{children:h.character.name})}),e.jsx(ee,{playersIds:h.playersIds,players:r})]},`guess-${h.cardId}-${p}`))]}),e.jsxs(_,{className:"q-gallery__votes",direction:"vertical",children:[e.jsx(me,{children:e.jsx(i,{pt:"Pontos",en:"Points"})}),m.length?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"q-gallery__players",children:e.jsx(ee,{playersIds:m,players:r,children:e.jsx(he,{quantity:c.current,keyPrefix:`guessers-points-${a.id}`})})}),e.jsx("div",{className:"q-gallery__player-points",children:e.jsx(ee,{playersIds:[a.id],players:r,children:e.jsx(he,{quantity:o==null?void 0:o[a.id],keyPrefix:`artist-points-${a.id}`})})})]}):e.jsx(ss,{children:e.jsx(i,{pt:"Esses ícones devem ter sido uma bosta, heim.",en:"It must have been a very crappy glyphs. What a shame..."})})]})]})}function _s({players:r,gallery:s,characters:o,slideShowConfig:n,round:t,imageCardMode:a}){Pe();const c=R(20,{gap:16,minWidth:45,maxWidth:60}),l=R(8,{gap:16,minWidth:120,maxWidth:200}),{playerId:d,characterId:m,playersPoints:h,playersSay:p}=s[n.slideIndex],x=r[d],f=Ne(x.avatarId);return e.jsxs(L,{className:"l-step-album",children:[e.jsx(B,{children:e.jsx(i,{pt:"Galeria",en:"Gallery"})}),e.jsx(ve,{content:e.jsx(P,{currentRound:t.current})}),e.jsxs(Ze,{config:n,barColor:f,leftClassName:"q-gallery__result",rightClassName:"q-gallery__info",children:[e.jsxs("div",{className:"q-gallery__result-container",children:[e.jsx("div",{className:"q-gallery__player",style:{backgroundColor:f},children:e.jsx(Xe,{player:x,size:"large"})}),e.jsxs(v,{vertical:!0,children:[e.jsx(w,{character:o[m],width:l,imageCardMode:a}),e.jsx(te,{player:x,glyphWidth:c})]})]}),e.jsx(Cs,{players:r,playersSay:p,playersPoints:h,characters:o,currentColor:f,currentPlayer:x,round:t,imageCardMode:a})]})]})}function Rs({players:r,ranking:s,round:o,onGoBack:n}){return e.jsxs(rs,{players:r,ranking:s,gainedPointsDescriptions:[e.jsx(i,{pt:"Votos corretos",en:"Correct guesses"},"1"),e.jsx(i,{pt:"Votos corretos em seu personagem por outros jogadores",en:"Correct guesses on your character by other players"},"2")],children:[e.jsx(ve,{content:e.jsx(P,{currentRound:o.current})}),e.jsx(os,{round:o}),e.jsx(ge,{size:"large",onClick:n,icon:e.jsx(Ye,{}),children:e.jsx(i,{pt:"Ver Galeria Novamente",en:"See Gallery Again"})}),e.jsx(Ae,{round:o})]})}function Es({players:r,state:s}){var l;const{step:o,goToPreviousStep:n,goToNextStep:t}=D(),a=Je({length:s.gallery.length,slideDuration:ls,onExpire:t}),c=()=>{a.reset(),n()};return e.jsx($,{phase:s==null?void 0:s.phase,allowedPhase:b.RESULTS,children:e.jsxs(z,{step:o,players:r,children:[e.jsx(H,{icon:e.jsx(He,{}),title:e.jsx(i,{pt:"Resultado",en:"Results"}),onClose:t,currentRound:(l=s==null?void 0:s.round)==null?void 0:l.current,unskippable:!0,type:"block",children:e.jsx(V,{children:e.jsx(P,{currentRound:s.round.current})})}),e.jsx(_s,{players:r,gallery:s.gallery,characters:s.characters,slideShowConfig:a,round:s.round,imageCardMode:s.mode==="imageCards"}),e.jsx(Rs,{players:r,ranking:s.ranking,round:s.round,onGoBack:c})]})})}function Ns({players:r,character:s,glyphWidth:o,imageCardsMode:n}){const[t,a]=k.useMemo(()=>De(s.glyphs??{}),[s.glyphs]);return e.jsxs("div",{className:"q-player-glyphs q-final-character",children:[e.jsx(cs,{player:r[s.playerId],withName:!0,className:"q-player-glyphs__strip"}),e.jsx(w,{width:100,character:s,imageCardMode:n}),t.map((c,l)=>e.jsxs("div",{className:"q-player-glyphs__entry q-player-glyphs__entry--positive",children:[e.jsx(I,{icon:e.jsx(K,{}),size:"small"}),c?e.jsx(q,{width:o,id:c}):e.jsx("div",{className:"q-selections__no-glyph",style:{width:`${o}px`,height:`${o}px`}})]},`pos-${s.id}-${c}-${l}`)),a.map((c,l)=>e.jsxs("div",{className:"q-player-glyphs__entry q-player-glyphs__entry--negative",children:[e.jsx(I,{icon:e.jsx(Q,{}),size:"small"}),c?e.jsx(q,{width:o,id:c}):e.jsx("div",{className:"q-selections__no-glyph",style:{width:`${o}px`,height:`${o}px`}})]},`neg-${s.id}-${c}-${l}`))]})}function Is({state:r,players:s,meta:o}){return e.jsxs(as,{state:r,players:s,announcementIcon:e.jsx(ns,{}),children:[e.jsx(ts,{players:s,achievements:r.achievements,reference:is}),e.jsx(v,{wrap:!0,children:O.orderBy(r.gallery,`name.${o.language}`).map(n=>{var t;return e.jsx(Ns,{players:s,character:n,glyphWidth:30,imageCardsMode:!!((t=o.options)!=null&&t.imageCardsMode)},n.id)})})]})}function qs(r){if(r&&!r.phase)return qe;switch(r.phase){case Z.DEFAULT.LOBBY:return Fe;case Z.DEFAULT.SETUP:return Ge;case b.CHARACTER_FILTERING:return xs;case b.CHARACTER_DESCRIPTION:return vs;case b.GUESSING:return bs;case b.RESULTS:return Es;case Z.DEFAULT.GAME_OVER:return Is;default:return we}}function co(){return e.jsx(Te,{gameCollection:Ie.QUEM_SOU_EU,getActiveComponent:qs})}export{co as default};
