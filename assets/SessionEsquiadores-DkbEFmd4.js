import{r as x,$ as as,c3 as rs,c4 as cs,c5 as De,c6 as ls,c7 as ds,c8 as qe,c9 as Ue,ca as us,cb as ms,cc as hs,cd as xs,ce as ps,cf as js,cg as fs,ch as gs,ci as vs,cj as Ss,ck as Ns,cl as bs,cm as ae,cn as ws,co as _s,cp as As,cq as me,cr as ys,f as Ge,j as e,au as We,bo as Ce,v as q,T as d,q as ze,h as he,I as je,c as He,bV as Es,at as L,bU as fe,B as re,F as Bs,cs as Ts,aE as Is}from"./index-C2u_lQxX.js";import{u as Ke,S as X,a as F,P as U,f as Ye,c as ks,d as Rs,e as Os}from"./Session-CpXcmjDT.js";import{u as G}from"./useWhichPlayerIsThe-DaIi52vl.js";import{G as P}from"./WritingIcon-B86vNKxf.js";import{Q as Cs}from"./QuestionIcon-BPWaQYyV.js";import{S as Z,P as I,a as W}from"./StepSwitcher-zLhOXikV.js";import{I as M}from"./useDevFeatures-CwIjQ4ct.js";import{T as ee}from"./TurnOrder-BhmuE0h7.js";import{R as Ls}from"./RoundAnnouncement-DeIMO5C4.js";import{V as ge}from"./ViewOr-Bx1kDirb.js";import{L as ce,S as Ps}from"./SkierIcon-DMhlACL5.js";import{P as S}from"./PlayerAvatarName-bg3SJbbT.js";import{T as ve}from"./TitledContainer-Is5L6Xne.js";import{u as Se}from"./useMock-C8BOMVjQ.js";import{D as Ms}from"./DevButton-D9KZ6KHm.js";import{P as ie}from"./PointsHighlight-sAes8lqx.js";import{R as J}from"./RuleInstruction-klcAVl26.js";import{M as Fs}from"./MetricHighlight-BHKjqpU6.js";import{A as Vs}from"./PlayerAvatarGroup-BC4iXdbI.js";import{T as Qe}from"./index-BS0RyX6P.js";import{S as Ds}from"./index-roFor7DZ.js";import{S as $e}from"./SkiingIcon-CERsf_ft.js";import{T as Je}from"./TimedButton-Co3ZJzu0.js";import{S as qs}from"./StepRankingWrapper-cTiF_hNj.js";import{Q as Us}from"./QualitySealIcon-BMc5L_V1.js";import{R as Gs}from"./TrophyOutlined-BsRY58A8.js";import{T as Ws}from"./TrophyIcon-B9AY2uZg.js";import"./RulesModal-BA7dl1b_.js";import{G as zs}from"./GameOverWrapper-B83ndHZG.js";import{A as Hs}from"./Achievements-C6-5pTLo.js";import{a as Ks}from"./achievements-BxjxP5BM.js";import"./Game-DbBVLFTD.js";import"./useMutation-DVaDTqqI.js";import"./speech-BYaPJbzd.js";import"./ResizeObserver.es-BGDHejGx.js";import"./index-DUmh9uda.js";import"./extends-CF3RwP-h.js";import"./useToggle-DRJq1LBz.js";import"./index-B57bKlNV.js";import"./PlayerAvatar-CiesE_Lz.js";import"./DebugOnly-BrfXkNZc.js";import"./useTDBaseUrl-BF9foKiS.js";import"./index-CTSiAxIv.js";import"./index-C0iWsLta.js";import"./index-BY6CTHGi.js";import"./SignIn-bAb9Nn3i.js";import"./GoogleIcon-CX3VdFM9.js";import"./AnimatedGearIcon-Cjkt9Sdu.js";import"./AnimatedClockIcon-CyNxt2Ff.js";import"./Loading-Djvn9VyN.js";import"./AnimatedLoaderIcon-CE0zH4om.js";import"./WaitingRoomIcon-CvERn8It.js";import"./LikeFilled-Dq1qf5Tx.js";import"./StarIcon-ComYoAts.js";import"./StarFilled-D_INAH1G.js";import"./RankingBoard-BPA4DFWE.js";import"./CaretUpOutlined-CwYHDM2z.js";import"./TheEndIcon-Ca3Uoz2h.js";import"./index-8EOTMkIB.js";import"./progress-BZSvwtxV.js";import"./Medal-CSg3dkQA.js";var Ys={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"unordered-list",theme:"outlined"};function xe(){return xe=Object.assign?Object.assign.bind():function(n){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},xe.apply(this,arguments)}const Qs=(n,s)=>x.createElement(as,xe({},n,{ref:s,icon:Ys})),$s=x.forwardRef(Qs),Js=(n,s,t)=>{const i=s-n;return((t-n)%i+i)%i+n};function Xe(n,s){return rs(n)?n[Js(0,n.length,s)]:n}class Xs{constructor(s){this.stop=()=>this.runAll("stop"),this.animations=s.filter(Boolean)}get finished(){return Promise.all(this.animations.map(s=>s.finished))}getAll(s){return this.animations[0][s]}setAll(s,t){for(let i=0;i<this.animations.length;i++)this.animations[i][s]=t}attachTimeline(s){const t=this.animations.map(i=>i.attachTimeline(s));return()=>{t.forEach((i,o)=>{i&&i(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(s){this.setAll("time",s)}get speed(){return this.getAll("speed")}set speed(s){this.setAll("speed",s)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){return Le(this.animations,"duration")}get iterationDuration(){return Le(this.animations,"iterationDuration")}runAll(s){this.animations.forEach(t=>t[s]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function Le(n,s){let t=0;for(let i=0;i<n.length;i++){const o=n[i][s];o!==null&&o>t&&(t=o)}return t}class Zs extends Xs{then(s,t){return this.finished.finally(s).then(()=>{})}}function en(n){return x.useEffect(()=>()=>n(),[])}function sn(n){n.values.forEach(s=>s.stop())}function pe(n,s){[...s].reverse().forEach(i=>{const o=n.getVariant(i);o&&De(n,o),n.variantChildren&&n.variantChildren.forEach(r=>{pe(r,s)})})}function nn(n,s){if(Array.isArray(s))return pe(n,s);if(typeof s=="string")return pe(n,[s]);De(n,s)}function tn(){const n=new Set,s={subscribe(t){return n.add(t),()=>void n.delete(t)},start(t,i){const o=[];return n.forEach(r=>{o.push(cs(r,t,{transitionOverride:i}))}),Promise.all(o)},set(t){return n.forEach(i=>{nn(i,t)})},stop(){n.forEach(t=>{sn(t)})},mount(){return()=>{s.stop()}}};return s}function Ne(n){return typeof n=="object"&&!Array.isArray(n)}function Ze(n,s,t,i){return typeof n=="string"&&Ne(s)?ls(n,t,i):n instanceof NodeList?Array.from(n):Array.isArray(n)?n:[n]}function on(n,s,t){return n*(s+1)}function Pe(n,s,t,i){return typeof s=="number"?s:s.startsWith("-")||s.startsWith("+")?Math.max(0,n+parseFloat(s)):s==="<"?t:s.startsWith("<")?Math.max(0,t+parseFloat(s.slice(1))):i.get(s)??n}function an(n,s,t){for(let i=0;i<n.length;i++){const o=n[i];o.at>s&&o.at<t&&(qe(n,o),i--)}}function rn(n,s,t,i,o,r){an(n,o,r);for(let c=0;c<s.length;c++)n.push({value:s[c],at:ds(o,r,i[c]),easing:Xe(t,c)})}function cn(n,s){for(let t=0;t<n.length;t++)n[t]=n[t]/(s+1)}function ln(n,s){return n.at===s.at?n.value===null?1:s.value===null?-1:0:n.at-s.at}const dn="easeInOut";function un(n,{defaultTransition:s={},...t}={},i,o){const r=s.duration||.3,c=new Map,a=new Map,l={},h=new Map;let u=0,m=0,p=0;for(let f=0;f<n.length;f++){const j=n[f];if(typeof j=="string"){h.set(j,m);continue}else if(!Array.isArray(j)){h.set(j.name,Pe(m,j.at,u,h));continue}let[A,N,g={}]=j;g.at!==void 0&&(m=Pe(m,g.at,u,h));let w=0;const V=(y,E,k,H=0,K=0)=>{const v=mn(y),{delay:de=0,times:B=us(v),type:ue="keyframes",repeat:se,repeatType:Hn,repeatDelay:Kn=0,...os}=E;let{ease:R=s.ease||"easeOut",duration:T}=E;const Be=typeof de=="function"?de(H,K):de,Te=v.length,Ie=xs(ue)?ue:o?.[ue||"keyframes"];if(Te<=2&&Ie){let Y=100;if(Te===2&&pn(v)){const Q=v[1]-v[0];Y=Math.abs(Q)}const ne={...os};T!==void 0&&(ne.duration=ps(T));const te=ms(ne,Y,Ie);R=te.ease,T=te.duration}T??(T=r);const ke=m+Be;B.length===1&&B[0]===0&&(B[1]=1);const Re=B.length-v.length;if(Re>0&&hs(B,Re),v.length===1&&v.unshift(null),se){T=on(T,se);const Y=[...v],ne=[...B];R=Array.isArray(R)?[...R]:[R];const te=[...R];for(let Q=0;Q<se;Q++){v.push(...Y);for(let $=0;$<Y.length;$++)B.push(ne[$]+(Q+1)),R.push($===0?"linear":Xe(te,$-1))}cn(B,se)}const Oe=ke+T;rn(k,v,R,B,ke,Oe),w=Math.max(Be+T,w),p=Math.max(Oe,p)};if(Ue(A)){const y=Me(A,a);V(N,g,Fe("default",y))}else{const y=Ze(A,N,i,l),E=y.length;for(let k=0;k<E;k++){N=N,g=g;const H=y[k],K=Me(H,a);for(const v in N)V(N[v],hn(g,v),Fe(v,K),k,E)}}u=m,m+=w}return a.forEach((f,j)=>{for(const A in f){const N=f[A];N.sort(ln);const g=[],w=[],V=[];for(let E=0;E<N.length;E++){const{at:k,value:H,easing:K}=N[E];g.push(H),w.push(js(0,p,k)),V.push(K||"easeOut")}w[0]!==0&&(w.unshift(0),g.unshift(g[0]),V.unshift(dn)),w[w.length-1]!==1&&(w.push(1),g.push(null)),c.has(j)||c.set(j,{keyframes:{},transition:{}});const y=c.get(j);y.keyframes[A]=g,y.transition[A]={...s,duration:p,ease:V,times:w,...t}}}),c}function Me(n,s){return!s.has(n)&&s.set(n,{}),s.get(n)}function Fe(n,s){return s[n]||(s[n]=[]),s[n]}function mn(n){return Array.isArray(n)?n:[n]}function hn(n,s){return n&&n[s]?{...n,...n[s]}:{...n}}const xn=n=>typeof n=="number",pn=n=>n.every(xn);function jn(n,s){return n in s}class fn extends fs{constructor(){super(...arguments),this.type="object"}readValueFromInstance(s,t){if(jn(t,s)){const i=s[t];if(typeof i=="string"||typeof i=="number")return i}}getBaseTargetFromProps(){}removeValueFromRenderState(s,t){delete t.output[s]}measureInstanceViewportBox(){return gs()}build(s,t){Object.assign(s.output,t)}renderInstance(s,{output:t}){Object.assign(s,t)}sortInstanceNodePosition(){return 0}}function gn(n){const s={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},t=vs(n)&&!Ss(n)?new Ns(s):new bs(s);t.mount(n),ae.set(n,t)}function vn(n){const s={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},t=new fn(s);t.mount(n),ae.set(n,t)}function Sn(n,s){return Ue(n)||typeof n=="number"||typeof n=="string"&&!Ne(s)}function es(n,s,t,i){const o=[];if(Sn(n,s))o.push(ws(n,Ne(s)&&s.default||s,t&&(t.default||t)));else{const r=Ze(n,s,i),c=r.length;for(let a=0;a<c;a++){const l=r[a],h=l instanceof Element?gn:vn;ae.has(l)||h(l);const u=ae.get(l),m={...t};"delay"in m&&typeof m.delay=="function"&&(m.delay=m.delay(a,c)),o.push(..._s(u,{...s,transition:m},{}))}}return o}function Nn(n,s,t){const i=[];return un(n,s,t,{spring:As}).forEach(({keyframes:r,transition:c},a)=>{i.push(...es(a,r,c))}),i}function bn(n){return Array.isArray(n)&&n.some(Array.isArray)}function wn(n){function s(t,i,o){let r=[],c;if(bn(t))r=Nn(t,i,n);else{const{onComplete:l,...h}=o||{};typeof l=="function"&&(c=l),r=es(t,i,h,n)}const a=new Zs(r);return c&&a.finished.then(c),n&&(n.animations.push(a),a.finished.then(()=>{qe(n.animations,a)})),a}return s}function _n(){const n=me(()=>({current:null,animations:[]})),s=me(()=>wn(n));return en(()=>{n.animations.forEach(t=>t.stop()),n.animations.length=0}),[n,s]}function An(){const n=me(tn);return ys(n.mount,[]),n}const yn=An,b={BETS:"BETS",STARTING_RESULTS:"STARTING_RESULTS",BOOSTS:"BOOSTS",PRELIMINARY_RESULTS:"PRELIMINARY_RESULTS",LAST_CHANGE:"LAST_CHANGE",FINAL_RESULTS:"FINAL_RESULTS"},ss={SUBMIT_CHOICES:"SUBMIT_CHOICES",SUBMIT_BETS:"SUBMIT_BETS"},O={INITIAL:"initial",BOOST:"boost",FINAL:"final"},oe={SKIERS_BETS:"skiersBets",SKIERS_BOOST:"skiersBoost"},be=["#F71735","#DDB832","#488B49","#247BA0","#683894","#CC5C3E"];function En(n){const{translate:s}=Ge(),t=Ke({actionName:"submit-choices",onBeforeCall:()=>n(3),onError:()=>n(2),successMessage:s("Escolhas enviadas com sucesso","Choices submitted successfully"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar enviar suas escolhas","Oops, the application failed to send your choices")});return i=>{t({action:ss.SUBMIT_CHOICES,...i})}}function we(n){const{translate:s}=Ge(),t=Ke({actionName:"submit-bets",onBeforeCall:()=>n(3),onError:()=>n(2),successMessage:s("Apostas enviadas com sucesso","Bets submitted successfully"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar enviar suas apostas","Oops, the application failed to send your bets")});return i=>{t({action:ss.SUBMIT_BETS,...i})}}function z(){return e.jsxs("div",{className:"initial-snow",children:[e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"})]})}const Ve={0:"#c3c3c3",1:"#d2bc6c",2:"#d4bb60",3:"#d6ba55",4:"#d8b949",5:"#dab83e",6:"#dcb732",7:"#d29639",8:"#c87540",9:"#be5347",10:"#b4324e"};function _({value:n,title:s}){return s?e.jsx(We,{title:s,children:e.jsx(Ce,{size:"small",style:{background:Ve[n]},children:n??0})}):e.jsx(Ce,{size:"small",style:{background:Ve[n]},children:n??0})}function _e({lodges:n,user:s,betType:t}){return e.jsx("div",{className:"lodges",children:n.map(i=>{const o=s?.[t]?.[i.id]??0,r=s?.bets?.[i.id]??0;return e.jsxs("div",{className:"lodge",style:{width:84},children:[e.jsxs("div",{className:"lodge__icon",children:[e.jsx(ce,{width:64,color:be[i.id]}),e.jsx("span",{className:"lodge__number",children:i.id+1})]}),e.jsxs("div",{className:"lodge__bet",children:[e.jsx(_,{value:r}),e.jsx(_,{value:o})]})]},i.id)})})}function ns({players:n,user:s}){const t=x.useMemo(()=>q.orderBy(Object.values(n).filter(i=>i.id!==s.id),["name"],["asc"]),[n,s.id]);return e.jsx(ve,{title:e.jsx(d,{pt:"Suas apostas",en:"Your bets"}),children:e.jsx("div",{className:"skier-bets",children:t.map(i=>e.jsxs("div",{className:"lodge",children:[e.jsx("div",{className:"lodge__icon",children:e.jsx(S,{player:i})}),e.jsxs("div",{className:"lodge__bets",children:[s.skierBets!==void 0&&e.jsx("div",{className:"lodge__bet",children:e.jsx(_,{title:e.jsx(d,{pt:"Apostas iniciais",en:"Initial Bets"}),value:s.skierBets[i.id]??0})}),s.skiersBoost!==void 0&&e.jsx("div",{className:"lodge__bet",children:e.jsx(_,{title:e.jsx(d,{pt:"Apostas de bônus",en:"Bonus Bets"}),value:s.skiersBoost[i.id]??0})})]})]},i.id))})})}const Bn={0:[0,1,2,3,4,5],1:[0,1,2,3],2:[2,3,4,5],3:[0,1],4:[2,3],5:[4,5]},Tn=(n,s)=>{const t={},i=Bn[s];for(let o=0;o<n;o++){const r=q.sample(i);r!==void 0&&(t[r]=(t[r]??0)+1)}return t};function C({children:n}){return e.jsx(Fs,{icon:e.jsx(P,{}),children:n})}function In(n,s="horizontal"){const[t,i]=x.useState("right");return x.useEffect(()=>{const o=r=>{if(n.current){const c=n.current.getBoundingClientRect(),a=c.left+c.width/2,l=c.top+c.height/2;i(s==="horizontal"?r.clientX<a?"left":"right":r.clientY<l?"up":"down")}};return window.addEventListener("mousemove",o),()=>{window.removeEventListener("mousemove",o)}},[s,n]),t}const kn="/tardedivertida/assets/mountain-icons-C5_KWYa6.svg";function le({mountain:n,skier:s,animateFrom:t=0,animateTo:i,betType:o,showLevel:r}){const c=ze(6,{gap:32,margin:64,maxWidth:175}),a=c*2,[l,h]=_n(),u=[x.useRef(null),x.useRef(null),x.useRef(null),x.useRef(null),x.useRef(null),x.useRef(null)],m=yn(),p=u[t];x.useEffect(()=>{if(p?.current){const j=p.current.getBoundingClientRect();h(i?[[l.current,{left:j.x+c-32,top:j.y-32},{duration:0}],[l.current,{left:j.x+c-32+(i==="left"?-(c/2):c/2),top:j.y+j.height-64},{delay:4,duration:3,ease:"circIn"}]]:[[l.current,{left:j.x+c-32,top:j.y-32},{duration:0}]])}},[p?.current]);const f=In(l,"horizontal");return e.jsxs("div",{className:"ski-mountain",children:[e.jsx(he.span,{ref:l,className:"ski-mountain__skier",animate:m,children:e.jsx(je,{size:"large",icon:e.jsx(Ps,{color:Es(s.avatarId)}),className:He("ski-mountain__skier-icon",`ski-mountain__skier-icon--${f}`)})}),e.jsxs("div",{className:"ski-mountain__dilemmas",children:[e.jsx("span",{}),e.jsx("span",{}),e.jsx(D,{mountainEntry:n[0],width:a,ref:u[0],showDirection:r>=0,animate:o==="initial"}),e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{}),e.jsx(D,{mountainEntry:n[1],width:a,ref:u[1],showDirection:r>0,animate:o==="boost"}),e.jsx(D,{mountainEntry:n[2],width:a,ref:u[2],showDirection:r>0,animate:o==="boost"}),e.jsx("span",{}),e.jsx(D,{mountainEntry:n[3],width:a,ref:u[3],showDirection:r>1,animate:o==="final"}),e.jsx(D,{mountainEntry:n[4],width:a,ref:u[4],showDirection:r>1,animate:o==="final"}),e.jsx(D,{mountainEntry:n[5],width:a,ref:u[5],showDirection:r>1,animate:o==="final"})]})]})}const Rn=(n,s,t)=>!n||t?"#ffffff":s?"#98b9fe":"#ffffff",On=(n,s)=>n&&s?"#98b9fe":"#ffffff",D=x.forwardRef(({mountainEntry:n,width:s,showDirection:t,animate:i},o)=>{const r=Rn(t,n.selected,i),c=On(t,n.selected);return e.jsxs("div",{ref:o,className:"ski-mountain-entry",style:{width:s},children:[e.jsx("div",{className:"ski-mountain-entry__prompt",children:n.dilemma.prompt}),e.jsx(ts,{spriteId:n.spriteId,width:s/2}),e.jsxs("div",{className:"ski-mountain-entry__options",children:[e.jsx(he.div,{className:"ski-mountain-entry__option",initial:{backgroundColor:n.direction==="left"?r:"#ffffff"},animate:{backgroundColor:n.direction==="left"?c:"#ffffff"},transition:{duration:3,delay:6},children:n.dilemma.left}),e.jsx(he.div,{className:"ski-mountain-entry__option",initial:{backgroundColor:n.direction==="right"?r:"#ffffff"},animate:{backgroundColor:n.direction==="right"?c:"#ffffff"},transition:{duration:3,delay:6},children:n.dilemma.right})]})]})});function ts({spriteId:n,width:s}){return e.jsxs("div",{className:"ski-mountain-entry__illustration",children:[e.jsx("svg",{viewBox:"0 0 512 512",className:"ski-mountain-entry__icon",children:e.jsx("use",{href:`${kn}#${n}`})}),e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 285.5 104.2",className:"ski-mountain-entry__path",style:{width:s},children:[e.jsx("path",{fill:"none",stroke:"#bfd8ea",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4.5",d:"M142.7 2.3s-.3 2-1.4 5.6"}),e.jsx("path",{fill:"none",stroke:"#bfd8ea",strokeDasharray:"0 0 11.26 11.26",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4.5",d:"M137 18.3C126.2 39.8 96.1 77.8 13.4 99.2"}),e.jsx("path",{fill:"none",stroke:"#bfd8ea",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4.5",d:"m8 100.6-5.7 1.3M142.7 2.3s.3 2 1.5 5.6"}),e.jsx("path",{fill:"none",stroke:"#bfd8ea",strokeDasharray:"0 0 11.26 11.26",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4.5",d:"M148.5 18.3c10.7 21.5 40.9 59.5 123.6 80.9"})]})]})}function Ae({lodges:n,players:s,user:t,onSubmitBets:i,betType:o}){const r=ze(6,{gap:32,margin:64,maxWidth:175}),[c,a]=x.useState(n.reduce((u,m)=>(u[m.id]=0,u),{})),[l,h]=x.useState(t.chips??0);return e.jsxs(L,{direction:"vertical",children:[e.jsx("div",{className:"lodges",children:n.map(u=>e.jsxs("div",{className:"lodge",style:{width:r},children:[e.jsxs("div",{className:"lodge__icon",children:[e.jsx(ce,{width:r/3,color:be[u.id]}),e.jsx("span",{className:"lodge__number",children:u.id+1})]}),e.jsxs("div",{className:"lodge__players",children:[e.jsx(We,{title:e.jsx(d,{pt:"Jogadores que apostaram nessa cabana",en:"Players who bet on this lodge"}),children:e.jsx(je,{icon:e.jsx(P,{}),size:"small"})}),e.jsx(Vs,{list:u.playersIds.map(m=>s[m]),size:"small",user:t,maxCount:6})]}),e.jsxs("div",{className:"lodge__bets",children:[t.initial!==void 0&&e.jsx("div",{className:"lodge__bet",children:e.jsx(_,{title:e.jsx(d,{pt:"Apostas iniciais",en:"Initial Bets"}),value:t.initial[u.id]??0})}),t.boost!==void 0&&e.jsx("div",{className:"lodge__bet",children:e.jsx(_,{title:e.jsx(d,{pt:"Apostas de bônus",en:"Bonus Bets"}),value:t.boost[u.id]??0})}),t.final!==void 0&&e.jsx("div",{className:"lodge__bet",children:e.jsx(_,{title:e.jsx(d,{pt:"Apostas finais",en:"Final Bets"}),value:t.final[u.id]??0})})]}),i&&e.jsx("div",{className:"lodge__bet",children:e.jsx(Qe,{style:{width:"100%"},type:"number",value:c[u.id],min:0,max:c[u.id]+l,onChange:m=>{const p=m,f=p-c[u.id];l-f>=0&&(a({...c,[u.id]:p}),h(l-f))},suffix:e.jsx(d,{pt:"fichas",en:"chips"})})})]},u.id))}),i&&e.jsxs(L,{children:[e.jsx(C,{children:l}),e.jsx(fe,{size:"large",onClick:()=>i({bets:c,betType:o}),disabled:l>0,children:e.jsx(d,{pt:"Enviar apostas",en:"Send bets"})})]})]})}function ye({announcement:n,players:s,turnOrder:t,user:i,skier:o,mountain:r,lodges:c,onSubmitBets:a,betType:l,animateFrom:h,animateTo:u,catchUp:m}){Se();let p=-1;return l===O.BOOST&&(p=0),l===O.FINAL&&(p=1),e.jsxs(Z,{fullWidth:!0,announcement:n,children:[e.jsxs(X,{children:[l===O.INITIAL&&e.jsx(d,{pt:"Faça suas apostas",en:"Make your bets"}),l===O.BOOST&&e.jsx(d,{pt:"Mais uma chance de melhorar suas apostas",en:"Boost your bets"}),l===O.FINAL&&e.jsx(d,{pt:"Última chance de apostar",en:"Last chance to bet"})]}),e.jsxs(J,{type:"rule",children:[e.jsx(d,{pt:e.jsxs(e.Fragment,{children:["O(A) skier ",e.jsx(S,{player:o})," está descendo essa montanha e finalizará em uma das cabanas. Qual cabana você acha que ele(a) vai escolher?",e.jsx("br",{}),"Você tem ",e.jsx(C,{children:i.chips})," fichas para apostar. Cada ficha vale"," ",e.jsx(ie,{children:"1 ponto"})," se você acertar a cabana escolhida.",e.jsx("br",{}),e.jsx("strong",{children:"BÔNUS:"})," Você também ganha ",e.jsx(ie,{children:"1 ponto"})," para cada cabana que você não aposta nada, então você vai preferir distribuir os pontos ou focar em somente algumas?"]}),en:e.jsxs(e.Fragment,{children:["The skier ",e.jsx(S,{player:o})," is skiing down this mountain and will finish in one of the lodges. Which lodge do you think they will choose?",e.jsx("br",{}),"You have ",e.jsx(C,{children:i.chips})," chips to bet. Each chip is worth"," ",e.jsx(ie,{children:"1 point"}),"if you guess the chosen lodge.",e.jsx("br",{}),e.jsx("strong",{children:"BONUS:"})," You also earn ",e.jsx(ie,{children:"1 point"})," for each lodge you don't bet on, so will you prefer to distribute the points or focus on just a few?"]})}),l===O.INITIAL&&m&&m.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx(d,{pt:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"ATENÇÃO:"})," Já que ",m.map(f=>s[f].name).join(", ")," ","está(ão) em último, ele(s) tem ",e.jsx(C,{children:"2 fichas"})," a mais."]}),en:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"ATTENTION:"})," Since ",m.map(f=>s[f].name).join(", ")," are last, they have ",e.jsx(C,{children:"2 more chips"}),"."]})})]})]}),e.jsx(le,{mountain:r,skier:o,animateFrom:h,animateTo:u,showLevel:p}),e.jsx(Ae,{lodges:c,players:s,user:i,onSubmitBets:a,betType:l},i.chips),e.jsx(Ms,{onClick:()=>a({bets:Tn(i.chips??0,h),betType:l}),children:"Mock Bets"}),e.jsx(ee,{players:s,order:t,activePlayerId:o.id})]})}function Cn({announcement:n,players:s,turnOrder:t,user:i,mountain:o,onSubmitChoices:r}){const{step:c,goToNextStep:a}=F(0),[l,h]=x.useState([]);Se();const u=x.useMemo(()=>q.shuffle(o),[o]),m=u[c],p=c===u.length,f=(j,A)=>{const N=o.findIndex(g=>g.id===j);h(g=>(g[N]=A,g)),a()};return e.jsxs(Z,{fullWidth:!0,announcement:n,children:[e.jsx(X,{children:e.jsx(d,{pt:"Responda as perguntas",en:"Answer the questions"})}),e.jsx(J,{type:"action",children:e.jsx(d,{pt:e.jsxs(e.Fragment,{children:["Responda as perguntas abaixo. Suas respostas determinará qual cabana seu esquiador irá parar quando descer a montanha.",e.jsx("br",{}),"A ordem aqui não é importante."]}),en:e.jsxs(e.Fragment,{children:["Answer the questions below. Your answers will determine which lodge your skier will stop when descending the mountain.",e.jsx("br",{}),"The order here is not important."]})})}),e.jsx(Ds,{size:"small",current:c,items:[{title:"❄"},{title:"❄"},{title:"❄"},{title:"❄"},{title:"❄"},{title:"❄"},{title:"!"}]}),m&&e.jsxs("div",{className:"ski-mountain-entry my-6",children:[e.jsxs("div",{className:"ski-mountain-entry__prompt",children:[m.dilemma.prompt,m.id]}),e.jsx(ts,{spriteId:m.spriteId,width:256}),e.jsxs("div",{className:"ski-mountain-entry__options",children:[e.jsx(re,{block:!0,onClick:()=>f(m.id,"left"),children:m.dilemma.left}),e.jsx(re,{block:!0,onClick:()=>f(m.id,"right"),children:m.dilemma.right})]})]}),p&&e.jsxs(L,{direction:"vertical",children:[e.jsx(J,{type:"event",children:e.jsx(d,{pt:"Você respondeu todas as perguntas. Clique em 'Enviar' para finalizar.",en:"You answered all questions. Click 'Send' to complete"})}),e.jsx(fe,{onClick:()=>r({choices:l}),size:"large",children:e.jsx(d,{pt:"Enviar",en:"Send"})})]}),e.jsx(ee,{players:s,order:t,activePlayerId:i.id})]})}function Ln({state:n,players:s,user:t}){const{step:i,setStep:o,goToNextStep:r}=F(),[c,a]=G("activeSkierId",n,s),l=En(o),h=we(o),u=a?e.jsx(I,{icon:e.jsx(Cs,{}),title:e.jsx(d,{pt:"Responda as perguntas",en:"Answer the questions"}),currentRound:n?.round?.current,type:"overlay",duration:5,children:e.jsx(M,{children:e.jsx(d,{pt:"Responda as perguntas",en:"Answer the questions"})})}):e.jsx(I,{icon:e.jsx(P,{}),title:e.jsx(d,{pt:"Apostas",en:"Bets"}),currentRound:n?.round?.current,type:"overlay",duration:5,children:e.jsx(M,{children:e.jsx(d,{pt:"Distribua seus pontos de acordo com a opinião do esquiador",en:"Distribute your points according to skier"})})});return e.jsxs(U,{phase:n?.phase,allowedPhase:b.BETS,children:[e.jsx(z,{}),e.jsxs(W,{step:i,players:s,waitingRoom:{content:!a&&e.jsx(_e,{user:t,lodges:n.lodges,betType:"initial"})},children:[e.jsx(Ls,{round:n.round,time:5,onPressButton:r,children:e.jsx(ee,{players:s,order:n.turnOrder,activePlayerId:n.activeSkierId})}),e.jsxs(ge,{condition:a,children:[e.jsx(Cn,{announcement:u,players:s,turnOrder:n.turnOrder,user:t,mountain:n.mountain,onSubmitChoices:l}),e.jsx(ye,{announcement:u,players:s,turnOrder:n.turnOrder,user:t,skier:c,mountain:n.mountain,lodges:n.lodges,onSubmitBets:h,betType:"initial",animateFrom:n.animateFrom,animateTo:n.animateTo,catchUp:n.catchUp})]})]})]})}function Ee({announcement:n,players:s,turnOrder:t,user:i,skier:o,mountain:r,lodges:c,betType:a,animateFrom:l,animateTo:h,goToNextStep:u}){let m=0;return a===O.BOOST&&(m=1),a===O.FINAL&&(m=2),e.jsxs(Z,{fullWidth:!0,announcement:n,children:[e.jsx(X,{children:e.jsx(d,{pt:"Uhuuuuu!",en:"Weeeeeeeee"})}),e.jsxs(J,{type:"event",children:[a==="initial"&&e.jsx(d,{pt:e.jsxs(e.Fragment,{children:["E ",e.jsx(S,{player:o})," desceu a primeira descida..."]}),en:e.jsxs(e.Fragment,{children:["And ",e.jsx(S,{player:o})," finished the first slope..."]})}),a==="boost"&&e.jsx(d,{pt:e.jsxs(e.Fragment,{children:["E lá vai ",e.jsx(S,{player:o})," de novo..."]}),en:e.jsxs(e.Fragment,{children:["And there goes ",e.jsx(S,{player:o})," again..."]})}),a==="final"&&e.jsx(d,{pt:e.jsxs(e.Fragment,{children:[e.jsx(S,{player:o})," finalizou a descida e foi para uma cabana."]}),en:e.jsxs(e.Fragment,{children:[e.jsx(S,{player:o})," finished the slope and went to a lodge."]})})]}),a!=="final"&&e.jsx(Ye,{withWaitingTimeBar:!0,autoTriggerTime:15,children:"Next"}),e.jsx(le,{mountain:r,skier:o,animateFrom:l,animateTo:h,betType:a,showLevel:m}),e.jsx(Ae,{lodges:c,players:s,user:i,betType:a}),a==="final"&&e.jsx(L,{children:e.jsx(Je,{duration:12,onExpire:u,onClick:u,icon:e.jsx($s,{}),children:e.jsx(d,{pt:"Ver Ranking",en:"See Ranking"})})}),e.jsx(ee,{players:s,order:t,activePlayerId:o.id})]})}function Pn({players:n,state:s,user:t}){const{step:i}=F(),[o]=G("activeSkierId",s,n),r=e.jsx(I,{icon:e.jsx($e,{}),title:e.jsx(d,{pt:"Primeira descida",en:"First slope"}),currentRound:s?.round?.current,type:"overlay",duration:3,children:e.jsx(M,{children:"..."})});return e.jsxs(U,{phase:s?.phase,allowedPhase:b.STARTING_RESULTS,children:[e.jsx(z,{}),e.jsx(W,{step:i,players:n,children:e.jsx(Ee,{announcement:r,players:n,user:t,turnOrder:s.turnOrder,skier:o,mountain:s.mountain,lodges:s.lodges,betType:"initial",animateFrom:s.animateFrom,animateTo:s.animateTo})})]})}function Mn({players:n,user:s,onSubmitBets:t,betType:i}){const o=x.useMemo(()=>q.orderBy(Object.values(n).filter(h=>h.id!==s.id),["name"],["asc"]),[n,s.id]),[r,c]=x.useState(o.reduce((h,u)=>(h[u.id]=0,h),{})),[a,l]=x.useState(s.chips??0);return e.jsxs(L,{direction:"vertical",children:[e.jsx("div",{className:"skier-bets",children:o.map(h=>e.jsxs("div",{className:"lodge",children:[e.jsx("div",{className:"lodge__icon",children:e.jsx(S,{player:h})}),e.jsxs("div",{className:"lodge__bets",children:[s[oe.SKIERS_BETS]!==void 0&&e.jsx("div",{className:"lodge__bet",children:e.jsx(_,{title:e.jsx(d,{pt:"Apostas iniciais",en:"Initial Bets"}),value:s[oe.SKIERS_BETS][h.id]??0})}),s[oe.SKIERS_BOOST]!==void 0&&e.jsx("div",{className:"lodge__bet",children:e.jsx(_,{title:e.jsx(d,{pt:"Apostas de bônus",en:"Bonus Bets"}),value:s[oe.SKIERS_BOOST][h.id]??0})})]}),t&&e.jsx("div",{className:"lodge__bet",children:e.jsx(Qe,{style:{width:"100%"},type:"number",value:r[h.id],min:0,max:r[h.id]+a,onChange:u=>{const m=u,p=m-r[h.id];a-p>=0&&(c({...r,[h.id]:m}),l(a-p))},suffix:e.jsx(d,{pt:"fichas",en:"chips"})})})]},h.id))}),t&&e.jsxs(L,{children:[e.jsx(C,{children:a}),e.jsx(fe,{size:"large",onClick:()=>t({bets:r,betType:i}),disabled:a>0,children:e.jsx(d,{pt:"Enviar apostas",en:"Send bets"})})]})]})}function is({announcement:n,players:s,turnOrder:t,user:i,skier:o,mountain:r,lodges:c,onSubmitBets:a,betType:l,animateFrom:h,animateTo:u,playerBetType:m}){return Se(),e.jsxs(Z,{fullWidth:!0,announcement:n,children:[e.jsx(X,{children:e.jsx(d,{pt:"Escolha jogadores",en:"Choose players"})}),e.jsx(J,{type:"rule",children:e.jsx(d,{pt:e.jsxs(e.Fragment,{children:["Como esquiador você aposta ganha pontos baseado nos pontos que os outros jogadores ganharem.",e.jsx("br",{}),"Você tem ",e.jsx(C,{children:i.chips})," fichas para apostar em quais jogadores você quer compartilhar pontos. Cada ficha vale 20% dos pontos que o jogador ganhar."]}),en:e.jsxs(e.Fragment,{children:["As a skier you bet and win points based on the points other players win.",e.jsx("br",{}),"You have ",e.jsx(C,{children:i.chips})," chips to bet on which players you want to share points with. Each chip is worth 20% of the points the player wins."]})})}),e.jsx(le,{mountain:r,skier:o,animateFrom:h,animateTo:u,betType:l,showLevel:3}),e.jsx(Ae,{lodges:c,players:s,user:i,betType:l}),e.jsx(Mn,{players:s,user:i,onSubmitBets:a,betType:m}),e.jsx(ee,{players:s,order:t,activePlayerId:o.id})]})}function Fn({players:n,state:s,user:t}){const{step:i,setStep:o}=F(),[r,c]=G("activeSkierId",s,n),a=we(o),l=c?e.jsx(I,{icon:e.jsx(P,{}),title:e.jsx(d,{pt:"Aposte nos jogadores",en:"Bet on the players"}),currentRound:s?.round?.current,type:"overlay",duration:5}):e.jsx(I,{icon:e.jsx(P,{}),title:e.jsx(d,{pt:"Apostas Bônus",en:"Boost Bets"}),currentRound:s?.round?.current,type:"overlay",duration:5,children:e.jsx(M,{children:e.jsx(d,{pt:"Distribua seus pontos bônus de acordo com o que o esquiador",en:"Distribute your boost points according to skier"})})});return e.jsxs(U,{phase:s?.phase,allowedPhase:b.BOOSTS,children:[e.jsx(z,{}),e.jsx(W,{step:i,players:n,waitingRoom:{content:c?e.jsx(ns,{user:t,players:n}):e.jsx(_e,{user:t,lodges:s.lodges,betType:"boost"})},children:e.jsxs(ge,{condition:c,children:[e.jsx(is,{announcement:l,players:n,turnOrder:s.turnOrder,user:t,skier:r,mountain:s.mountain,lodges:s.lodges,onSubmitBets:a,betType:"boost",animateFrom:s.animateFrom,animateTo:s.animateTo,playerBetType:"skiersBets"}),e.jsx(ye,{announcement:l,players:n,turnOrder:s.turnOrder,user:t,skier:r,mountain:s.mountain,lodges:s.lodges,onSubmitBets:a,betType:"boost",animateFrom:s.animateFrom,animateTo:s.animateTo})]})})]})}function Vn({players:n,state:s,user:t}){const{step:i}=F(),[o]=G("activeSkierId",s,n),r=e.jsx(I,{icon:e.jsx($e,{}),title:e.jsx(d,{pt:"Segunda descida",en:"Second slope"}),currentRound:s?.round?.current,type:"overlay",duration:3,children:e.jsx(M,{children:"..."})});return e.jsxs(U,{phase:s?.phase,allowedPhase:b.PRELIMINARY_RESULTS,children:[e.jsx(z,{}),e.jsx(W,{step:i,players:n,children:e.jsx(Ee,{announcement:r,players:n,user:t,turnOrder:s.turnOrder,skier:o,mountain:s.mountain,lodges:s.lodges,betType:"boost",animateFrom:s.animateFrom,animateTo:s.animateTo})})]})}function Dn({players:n,state:s,user:t}){const{step:i,setStep:o}=F(),[r,c]=G("activeSkierId",s,n),a=we(o),l=c?e.jsx(I,{icon:e.jsx(P,{}),title:e.jsx(d,{pt:"Aposte nos jogadores",en:"Bet on the players"}),currentRound:s?.round?.current,type:"overlay",duration:5}):e.jsx(I,{icon:e.jsx(P,{}),title:e.jsx(d,{pt:"Aposta Final",en:"Final Bet"}),currentRound:s?.round?.current,type:"overlay",duration:5,children:e.jsx(M,{children:e.jsx(d,{pt:"Escolha sua cabana final",en:"Choose your final lodge"})})});return e.jsxs(U,{phase:s?.phase,allowedPhase:b.LAST_CHANGE,children:[e.jsx(z,{}),e.jsx(W,{step:i,players:n,waitingRoom:{content:c?e.jsx(ns,{user:t,players:n}):e.jsx(_e,{user:t,lodges:s.lodges,betType:"final"})},children:e.jsxs(ge,{condition:c,children:[e.jsx(is,{announcement:l,players:n,turnOrder:s.turnOrder,user:t,skier:r,mountain:s.mountain,lodges:s.lodges,onSubmitBets:a,betType:"final",animateFrom:s.animateFrom,animateTo:s.animateTo,playerBetType:"skiersBoost"}),e.jsx(ye,{announcement:l,players:n,turnOrder:s.turnOrder,user:t,skier:r,mountain:s.mountain,lodges:s.lodges,onSubmitBets:a,betType:"final",animateFrom:s.animateFrom,animateTo:s.animateTo})]})})]})}function qn({players:n,ranking:s,goToPreviousStep:t,round:i}){return e.jsxs(qs,{players:n,ranking:s,gainedPointsDescriptions:[e.jsx(d,{pt:"Pontos por chegar na cabana certa",en:"Points for reaching the correct lodge"},"1"),e.jsx(d,{pt:"Pontos pelas cabanas sem nenhuma aposta",en:"Points for lodges without any bets"},"2"),e.jsx(d,{pt:"Esquiador: pontos relativos às apostas em outros jogadores",en:"Skier: points related to bets on other players"},"3"),e.jsx(d,{pt:"Esquiador: pontos por cada jogador não apostado",en:"Skier: points for each player not betted on"},"4")],children:[e.jsx(L,{children:e.jsx(re,{onClick:t,children:e.jsx(d,{pt:"Ver resultado novamente",en:"See results again"})})}),e.jsx(Ye,{round:i})]})}function Un({players:n,skier:s,lodges:t,goToNextStep:i,goToPreviousStep:o}){const r=x.useMemo(()=>q.orderBy(t,["selected",a=>a.playersIds.length,"id"],["desc","desc","asc"]),[t]),c=x.useMemo(()=>q.orderBy(Object.values(n).filter(a=>a.id!==s.id),[a=>(s.skiersBets?.[a.id]??0)+(s.skiersBoost?.[a.id]??0),"name"],["desc","asc"]),[n,s.id,s.skiersBets,s.skiersBoost]);return e.jsxs(Z,{children:[e.jsx(X,{children:e.jsx(d,{pt:"Resumo das Apostas",en:"Bets Summary"})}),e.jsx("div",{className:"lodge-results",children:r.map(a=>e.jsxs("div",{className:"lodge-result",children:[e.jsx("div",{className:"lodge-result__selected",children:e.jsx(je,{size:"large",icon:e.jsx(Us,{className:He(!a.selected&&"invisible")})})}),e.jsx("div",{className:"lodge-result__lodge",children:e.jsxs("div",{className:"lodge__icon",children:[e.jsx(ce,{width:64,color:be[a.id]}),e.jsx("span",{className:"lodge__number",children:a.id+1})]})}),e.jsx("div",{className:"lodge-result__players",children:a.playersIds.map(l=>{const h=n[l];return e.jsxs("div",{children:[e.jsx(_,{value:h.bets?.[a.id]??0}),e.jsx(S,{player:h})]},l)})})]},a.id))}),e.jsx(ve,{title:e.jsxs(Bs,{children:[e.jsx(S,{player:s})," ",e.jsx(d,{pt:"Apostas do Esquiador",en:" the skier's Bets"})]}),contentProps:{className:"contained"},children:c.map(a=>{const l=(s.skiersBets?.[a.id]??0)+(s.skiersBoost?.[a.id]??0);return e.jsxs("div",{className:"lodge",children:[e.jsx("div",{className:"lodge__icon",children:e.jsx(S,{player:a})}),e.jsx("div",{className:"lodge__bets",children:e.jsx("div",{className:"lodge__bet",children:e.jsx(_,{value:l})})})]},a.id)})}),e.jsxs(L,{children:[e.jsx(re,{icon:e.jsx(Ts,{}),onClick:o,children:e.jsx(d,{pt:"Ver Montanha",en:"See Mountain"})}),e.jsx(Je,{duration:25,onExpire:i,onClick:i,icon:e.jsx(Gs,{}),children:e.jsx(d,{pt:"Ver Ranking",en:"See Ranking"})})]})]})}function Gn({players:n,state:s,user:t}){const{step:i,goToNextStep:o,goToPreviousStep:r}=F(),[c]=G("activeSkierId",s,n),a=e.jsx(I,{icon:e.jsx(ce,{}),title:e.jsx(d,{pt:"E chegamos uma cabana!",en:"We've reached a lodge!"}),currentRound:s?.round?.current,type:"overlay",duration:3,children:e.jsx(M,{children:"..."})});return e.jsxs(U,{phase:s?.phase,allowedPhase:b.FINAL_RESULTS,children:[e.jsx(z,{}),e.jsxs(W,{step:i,players:n,children:[e.jsx(Ee,{announcement:a,players:n,user:t,turnOrder:s.turnOrder,skier:c,mountain:s.mountain,lodges:s.lodges,betType:"final",animateFrom:s.animateFrom,animateTo:s.animateTo,goToNextStep:o}),e.jsx(Un,{players:n,skier:c,lodges:s.lodges,goToNextStep:o,goToPreviousStep:r}),e.jsx(qn,{players:n,round:s.round,ranking:s.ranking,goToPreviousStep:r})]})]})}function Wn({state:n,players:s}){const t=n.gallery??[];return e.jsxs(zs,{state:n,players:s,announcementIcon:e.jsx(Ws,{}),children:[e.jsx(Hs,{players:s,achievements:n.achievements,reference:Ks}),e.jsx(ve,{title:e.jsx(d,{pt:"Montanhas Pares",en:"Best Pairs"}),className:"mt-4",contentProps:{direction:"vertical"},children:t.map(i=>e.jsx(le,{mountain:i.mountain,skier:s[i.skierId],animateFrom:0,animateTo:null,showLevel:10},i.id))})]})}function zn(n){switch(n.phase){case b.BETS:return Ln;case b.STARTING_RESULTS:return Pn;case b.BOOSTS:return Fn;case b.PRELIMINARY_RESULTS:return Vn;case b.LAST_CHANGE:return Dn;case b.FINAL_RESULTS:return Gn;case Os.DEFAULT.GAME_OVER:return Wn;default:return Rs}}function si(){return e.jsx(ks,{gameCollection:Is.ESQUIADORES,getActiveComponent:zn})}export{si as default};
