import{r as s,dW as Q,cv as ue,a4 as ge,dL as te,u as le,c as M,af as re,au as me,g as pe,m as fe,a as ye,d6 as $e,dn as he,b as Ce,bX as Se,cB as be,bW as ke,bQ as xe}from"./index-CSOb4vtC.js";const Pe={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,railColor:"#D9D9D9",railWidth:1,gapPosition:"bottom",loading:!1},Ee=()=>{const e=s.useRef([]),t=s.useRef(null);return s.useEffect(()=>{const r=Date.now();let o=!1;e.current.forEach(n=>{if(!n)return;o=!0;const a=n.style;a.transitionDuration=".3s, .3s, .3s, .06s",t.current&&r-t.current<100&&(a.transitionDuration="0s, 0s")}),o&&(t.current=Date.now())}),e.current},ne=({bg:e,children:t})=>s.createElement("div",{style:{width:"100%",height:"100%",background:e}},t);function ie(e,t){return Object.keys(e).map(r=>{const o=parseFloat(r),n=`${Math.floor(o*t)}%`;return`${e[r]} ${n}`})}const Ne=s.forwardRef((e,t)=>{const{prefixCls:r,color:o,gradientId:n,radius:a,className:d,style:u,ptg:i,strokeLinecap:g,strokeWidth:h,size:m,gapDegree:l}=e,$=o&&typeof o=="object",k=$?"#FFF":void 0,E=m/2,b=s.createElement("circle",{className:Q(`${r}-circle-path`,d),r:a,cx:E,cy:E,stroke:k,strokeLinecap:g,strokeWidth:h,opacity:i===0?0:1,style:u,ref:t});if(!$)return b;const v=`${n}-conic`,p=l?`${180+l/2}deg`:"0deg",C=ie(o,(360-l)/360),y=ie(o,1),f=`conic-gradient(from ${p}, ${C.join(", ")})`,x=`linear-gradient(to ${l?"bottom":"top"}, ${y.join(", ")})`;return s.createElement(s.Fragment,null,s.createElement("mask",{id:v},b),s.createElement("foreignObject",{x:0,y:0,width:m,height:m,mask:`url(#${v})`},s.createElement(ne,{bg:x},s.createElement(ne,{bg:f}))))}),V=100,ee=(e,t,r,o,n,a,d,u,i,g,h=0)=>{const m=r/100*360*((360-a)/360),l=a===0?0:{bottom:0,top:180,left:90,right:-90}[d];let $=(100-o)/100*t;i==="round"&&o!==100&&($+=g/2,$>=t&&($=t-.01));const k=V/2;return{stroke:typeof u=="string"?u:void 0,strokeDasharray:`${t}px ${e}`,strokeDashoffset:$+h,transform:`rotate(${n+m+l}deg)`,transformOrigin:`${k}px ${k}px`,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},ve=({id:e,loading:t})=>{if(!t)return{indeterminateStyleProps:{},indeterminateStyleAnimation:null};const r=`${e}-indeterminate-animate`;return{indeterminateStyleProps:{transform:"rotate(0deg)",animation:`${r} 1s linear infinite`},indeterminateStyleAnimation:ue.createElement("style",null,`@keyframes ${r} {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }`)}};function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},oe.apply(this,arguments)}function ce(e){const t=e??[];return Array.isArray(t)?t:[t]}const we=e=>{const{id:t,prefixCls:r,classNames:o={},styles:n={},steps:a,strokeWidth:d,railWidth:u,gapDegree:i=0,gapPosition:g,railColor:h,strokeLinecap:m,style:l,className:$,strokeColor:k,percent:E,loading:b,...v}={...Pe,...e},p=V/2,C=ge(t),y=`${C}-gradient`,f=p-d/2,x=Math.PI*2*f,P=i>0?90+i/2:-90,S=x*((360-i)/360),{count:I,gap:A}=typeof a=="object"?a:{count:a,gap:2},R=ce(E),W=ce(k),T=W.find(N=>N&&typeof N=="object"),c=T&&typeof T=="object"?"butt":m,{indeterminateStyleProps:G,indeterminateStyleAnimation:J}=ve({id:C,loading:b}),U=ee(x,S,0,100,P,i,g,h,c,d),O=Ee(),H=()=>{let N=0;return R.map((L,D)=>{const X=W[D]||W[W.length-1],B=ee(x,S,N,L,P,i,g,X,c,d);return N+=L,s.createElement(Ne,{key:D,color:X,ptg:L,radius:f,prefixCls:r,gradientId:y,className:o.track,style:{...B,...G,...n.track},strokeLinecap:c,strokeWidth:d,gapDegree:i,ref:w=>{O[D]=w},size:V})}).reverse()},F=()=>{const N=Math.round(I*(R[0]/100)),L=100/I;let D=0;return new Array(I).fill(null).map((X,B)=>{const w=B<=N-1?W[0]:h,j=w&&typeof w=="object"?`url(#${y})`:void 0,q=ee(x,S,D,L,P,i,g,w,"butt",d,A);return D+=(S-q.strokeDashoffset+A)*100/S,s.createElement("circle",{key:B,className:Q(`${r}-circle-path`,o.track),r:f,cx:p,cy:p,stroke:j,strokeWidth:d,opacity:1,style:{...q,...n.track},ref:z=>{O[B]=z}})})};return s.createElement("svg",oe({className:Q(`${r}-circle`,o.root,$),viewBox:`0 0 ${V} ${V}`,style:{...n.root,...l},id:t,role:"presentation"},v),!I&&s.createElement("circle",{className:Q(`${r}-circle-rail`,o.rail),r:f,cx:p,cy:p,stroke:h,strokeLinecap:c,strokeWidth:u||d,style:{...U,...n.rail}}),I?F():H(),J)};function _(e){return!e||e<0?0:e>100?100:e}function Y({success:e}){let t;return e&&"percent"in e&&(t=e.percent),t}const Ie=({percent:e,success:t})=>{const r=_(Y({success:t}));return[r,_(_(e)-r)]},Ae=({success:e={},strokeColor:t})=>{const{strokeColor:r}=e;return[r||te.green,t||null]},Z=(e,t,r)=>{let o=-1,n=-1;if(t==="step"){const a=r.steps,d=r.strokeWidth;typeof e=="string"||typeof e>"u"?(o=e==="small"?2:14,n=d??8):typeof e=="number"?[o,n]=[e,e]:[o=14,n=8]=Array.isArray(e)?e:[e.width,e.height],o*=a}else if(t==="line"){const a=r?.strokeWidth;typeof e=="string"||typeof e>"u"?n=a||(e==="small"?6:8):typeof e=="number"?[o,n]=[e,e]:[o=-1,n=8]=Array.isArray(e)?e:[e.width,e.height]}else(t==="circle"||t==="dashboard")&&(typeof e=="string"||typeof e>"u"?[o,n]=e==="small"?[60,60]:[120,120]:typeof e=="number"?[o,n]=[e,e]:Array.isArray(e)&&(o=e[0]??e[1]??120,n=e[0]??e[1]??120));return[o,n]},De=3,We=e=>De/e*100,ae=["root","body","indicator"],Le=e=>{const{prefixCls:t,classNames:r,styles:o,railColor:n,trailColor:a,strokeLinecap:d="round",gapPosition:u,gapPlacement:i,gapDegree:g,width:h=120,type:m,children:l,success:$,size:k=h,steps:E}=e,{direction:b}=le("progress"),v=n??a,[p,C]=Z(k,"circle");let{strokeWidth:y}=e;y===void 0&&(y=Math.max(We(p),6));const f={width:p,height:C,fontSize:p*.15+6},x=s.useMemo(()=>{if(g||g===0)return g;if(m==="dashboard")return 75},[g,m]),P=Ie(e),S=s.useMemo(()=>{const c=(i??u)||m==="dashboard"&&"bottom"||void 0,G=b==="rtl";switch(c){case"start":return G?"right":"left";case"end":return G?"left":"right";default:return c}},[b,i,u,m]),I=Object.prototype.toString.call(e.strokeColor)==="[object Object]",A=Ae({success:$,strokeColor:e.strokeColor}),R=M(`${t}-body`,{[`${t}-circle-gradient`]:I},r.body),W=s.createElement(we,{steps:E,percent:E?P[1]:P,strokeWidth:y,railWidth:y,strokeColor:E?A[1]:A,strokeLinecap:d,railColor:v,prefixCls:t,gapDegree:x,gapPosition:S,classNames:re(r,ae),styles:re(o,ae)}),T=p<=20,K=s.createElement("div",{className:R,style:{...f,...o.body}},W,!T&&l);return T?s.createElement(me,{title:l},K):K},se="--progress-line-stroke-color",Me=e=>{const t="-100%";return new $e("antProgressLTRActive",{"0%":{transform:`translateX(${t}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${t}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},Re=e=>{const{componentCls:t,iconCls:r}=e;return{[t]:{...ye(e),display:"inline-flex","&-rtl":{direction:"rtl"},[`${t}-indicator`]:{color:e.colorText,lineHeight:1,whiteSpace:"nowrap",verticalAlign:"middle",wordBreak:"normal",[r]:{fontSize:e.fontSize}},[`&${t}-status-exception`]:{[`${t}-indicator`]:{color:e.colorError}},[`&${t}-status-success`]:{[`${t}-indicator`]:{color:e.colorSuccess}}}}},je=e=>{const{componentCls:t}=e;return{[`${t}-line`]:{position:"relative",width:"100%",fontSize:e.fontSize,[`${t}-body`]:{display:"inline-flex",alignItems:"center",width:"100%",gap:e.marginXS},[`${t}-rail`]:{flex:"auto",background:e.remainingColor,borderRadius:e.lineBorderRadius,position:"relative",width:"100%"},[`&${t}-status-active`]:{[`${t}-track:after`]:{content:'""',position:"absolute",inset:0,backgroundColor:e.colorBgContainer,borderRadius:"inherit",opacity:0,animationName:Me(),animationDuration:e.progressActiveMotionDuration,animationTimingFunction:e.motionEaseOutQuint,animationIterationCount:"infinite"}},[`${t}-track`]:{position:"absolute",insetInlineStart:0,insetBlock:0,borderRadius:"inherit",background:e.defaultColor,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`,minWidth:"max-content",display:"flex",alignItems:"center","&-success":{background:e.colorSuccess}},[`&${t}-status-exception`]:{[`${t}-track`]:{background:e.colorError}},[`&${t}-status-success`]:{[`${t}-track`]:{background:e.colorSuccess}},[`${t}-indicator-outer`]:{[`&${t}-indicator-start`]:{order:-1}},[`${t}-body-layout-bottom`]:{flexDirection:"column",alignItems:"center",gap:e.marginXXS},[`${t}-indicator${t}-indicator-inner`]:{color:e.colorWhite,paddingInline:e.paddingXXS,width:"100%",display:"flex",justifyContent:"center",[`&${t}-indicator-end`]:{justifyContent:"end"},[`&${t}-indicator-start`]:{justifyContent:"start"},[`&${t}-indicator-bright`]:{color:"rgba(0, 0, 0, 0.45)"}}}}},Te=e=>{const{componentCls:t,iconCls:r}=e;return{[`${t}-circle`]:{[`${t}-circle-rail`]:{stroke:e.remainingColor},[`${t}-body:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.defaultColor}},[`${t}-body`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`${t}-indicator`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:e.circleTextColor,fontSize:e.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[r]:{fontSize:e.circleIconFontSize}},[`&${t}-status-exception`]:{[`${t}-body:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorError}}},[`&${t}-status-success`]:{[`${t}-body:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorSuccess}}}},[`${t}-inline-circle`]:{lineHeight:1,[`${t}-inner`]:{verticalAlign:"bottom"}}}},Oe=e=>{const{componentCls:t}=e;return{[t]:{[`${t}-steps`]:{display:"inline-block","&-body":{display:"flex",flexDirection:"row",alignItems:"center",gap:e.progressStepMarginInlineEnd,[`${t}-indicator`]:{marginInlineStart:e.marginXS}},"&-item":{flexShrink:0,minWidth:e.progressStepMinWidth,backgroundColor:e.remainingColor,transition:`all ${e.motionDurationSlow}`,"&-active":{backgroundColor:e.defaultColor}}}}}},Fe=e=>{const{componentCls:t,iconCls:r}=e;return{[t]:{[`${t}-small&-line, ${t}-small&-line ${t}-indicator ${r}`]:{fontSize:e.fontSizeSM}}}},Xe=e=>({circleTextColor:e.colorText,defaultColor:e.colorInfo,remainingColor:e.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em",circleIconFontSize:`${e.fontSize/e.fontSizeSM}em`}),Be=pe("Progress",e=>{const t=e.calc(e.marginXXS).div(2).equal(),r=fe(e,{progressStepMarginInlineEnd:t,progressStepMinWidth:t,progressActiveMotionDuration:"2.4s"});return[Re(r),je(r),Te(r),Oe(r),Fe(r)]},Xe),_e=e=>{let t=[];return Object.keys(e).forEach(r=>{const o=Number.parseFloat(r.replace(/%/g,""));Number.isNaN(o)||t.push({key:o,value:e[r]})}),t=t.sort((r,o)=>r.key-o.key),t.map(({key:r,value:o})=>`${o} ${r}%`).join(", ")},Ge=(e,t)=>{const{from:r=te.blue,to:o=te.blue,direction:n=t==="rtl"?"to left":"to right",...a}=e;if(Object.keys(a).length!==0){const u=_e(a),i=`linear-gradient(${n}, ${u})`;return{background:i,[se]:i}}const d=`linear-gradient(${n}, ${r}, ${o})`;return{background:d,[se]:d}},He=e=>{const{prefixCls:t,classNames:r,styles:o,direction:n,percent:a,size:d,strokeWidth:u,strokeColor:i,strokeLinecap:g="round",children:h,railColor:m,trailColor:l,percentPosition:$,success:k}=e,{align:E,type:b}=$,v=m??l,p=g==="square"||g==="butt"?0:void 0,C=d??[-1,u||(d==="small"?6:8)],[y,f]=Z(C,"line",{strokeWidth:u}),x={backgroundColor:v||void 0,borderRadius:p,height:f},P=`${t}-track`,S=i&&typeof i!="string"?Ge(i,n):{[se]:i,background:i},I={width:`${_(a)}%`,height:f,borderRadius:p,...S},A=Y(e),R={width:`${_(A)}%`,height:f,borderRadius:p,backgroundColor:k?.strokeColor};return s.createElement("div",{className:M(`${t}-body`,r.body,{[`${t}-body-layout-bottom`]:E==="center"&&b==="outer"}),style:{width:y>0?y:"100%",...o.body}},s.createElement("div",{className:M(`${t}-rail`,r.rail),style:{...x,...o.rail}},s.createElement("div",{className:M(P,r.track),style:{...I,...o.track}},b==="inner"&&h),A!==void 0&&s.createElement("div",{className:M(P,`${P}-success`,r.track),style:{...R,...o.track}})),b==="outer"&&h)},Ke=e=>{const{classNames:t,styles:r,size:o,steps:n,rounding:a=Math.round,percent:d=0,strokeWidth:u=8,strokeColor:i,railColor:g,trailColor:h,prefixCls:m,children:l}=e,$=a(n*(d/100)),E=o??[o==="small"?2:14,u],[b,v]=Z(E,"step",{steps:n,strokeWidth:u}),p=b/n,C=Array.from({length:n}),y=g??h;for(let f=0;f<n;f++){const x=Array.isArray(i)?i[f]:i;C[f]=s.createElement("div",{key:f,className:M(`${m}-steps-item`,{[`${m}-steps-item-active`]:f<=$-1},t.track),style:{backgroundColor:f<=$-1?x:y,width:p,height:v,...r.track}})}return s.createElement("div",{className:M(`${m}-steps-body`,t.body),style:r.body},C,l)},Ve=["normal","exception","active","success"],Qe=s.forwardRef((e,t)=>{const{prefixCls:r,className:o,rootClassName:n,classNames:a,styles:d,steps:u,strokeColor:i,percent:g=0,size:h="default",showInfo:m=!0,type:l="line",status:$,format:k,style:E,percentPosition:b={},...v}=e,{align:p="end",type:C="outer"}=b,y=Array.isArray(i)?i[0]:i,f=typeof i=="string"||Array.isArray(i)?i:void 0,x=s.useMemo(()=>{if(y){const w=typeof y=="string"?y:Object.values(y)[0];return new he(w).isLight()}return!1},[i]),P=s.useMemo(()=>{const w=Y(e);return Number.parseInt(w!==void 0?(w??0)?.toString():(g??0)?.toString(),10)},[g,e.success]),S=s.useMemo(()=>!Ve.includes($)&&P>=100?"success":$||"normal",[$,P]),{getPrefixCls:I,direction:A,className:R,style:W,classNames:T,styles:K}=le("progress"),c=I("progress",r),[G,J]=Be(c),U={...e,percent:g,type:l,size:h,showInfo:m,percentPosition:b},[O,H]=Ce([T,a],[K,d],{props:U}),F=l==="line",N=F&&!u,L=s.useMemo(()=>{if(!m)return null;const w=Y(e);let j;const q=k||(de=>`${de}%`),z=F&&x&&C==="inner";return C==="inner"||k||S!=="exception"&&S!=="success"?j=q(_(g),_(w)):S==="exception"?j=F?s.createElement(Se,null):s.createElement(be,null):S==="success"&&(j=F?s.createElement(ke,null):s.createElement(xe,null)),s.createElement("span",{className:M(`${c}-indicator`,{[`${c}-indicator-bright`]:z,[`${c}-indicator-${p}`]:N,[`${c}-indicator-${C}`]:N},O.indicator),style:H.indicator,title:typeof j=="string"?j:void 0},j)},[m,g,P,S,l,c,k,F,x,C,p,N,O.indicator,H.indicator]),D={...e,classNames:O,styles:H};let X;l==="line"?X=u?s.createElement(Ke,{...D,strokeColor:f,prefixCls:c,steps:typeof u=="object"?u.count:u},L):s.createElement(He,{...D,strokeColor:y,prefixCls:c,direction:A,percentPosition:{align:p,type:C}},L):(l==="circle"||l==="dashboard")&&(X=s.createElement(Le,{...D,strokeColor:y,prefixCls:c,progressStatus:S},L));const B=M(c,`${c}-status-${S}`,{[`${c}-${l==="dashboard"&&"circle"||l}`]:l!=="line",[`${c}-inline-circle`]:l==="circle"&&Z(h,"circle")[0]<=20,[`${c}-line`]:N,[`${c}-line-align-${p}`]:N,[`${c}-line-position-${C}`]:N,[`${c}-steps`]:u,[`${c}-show-info`]:m,[`${c}-${h}`]:typeof h=="string",[`${c}-rtl`]:A==="rtl"},R,o,n,O.root,G,J);return s.createElement("div",{ref:t,style:{...W,...H.root,...E},className:B,role:"progressbar","aria-valuenow":P,"aria-valuemin":0,"aria-valuemax":100,...re(v,["railColor","trailColor","strokeWidth","width","gapDegree","gapPosition","gapPlacement","strokeLinecap","success"])},X)});export{Qe as P};
