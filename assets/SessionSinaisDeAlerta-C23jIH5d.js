import{h as W,H as O,r as v,j as e,T as p,q as E,o as L,I as G,N as y,aP as D,aM as de,n as M,x as ue,B as _,ch as pe,fY as X,F as me,ci as ee,a_ as he}from"./index-DkEKA8qA.js";import{u as se,S as B,b as F,P as U,c as V,d as z,a as te,i as je,j as xe,f as ge,g as fe,h as ve}from"./StepSwitcher-BNpNDi3E.js";import{D as Se,E as be}from"./WritingIcon-BSzyDkw6.js";import{I as P}from"./useDevFeatures-CbsmdQhm.js";import{R as we}from"./RoundAnnouncement-C5lMmyWS.js";import{m as Ae,R as Ie}from"./drawing-Cm_zqEUA.js";import{u as Ce}from"./DebugOnly-B9b7jXXU.js";import{u as re}from"./useMock-CbrdOcrj.js";import{P as Ne}from"./PanicIcon-Bz3UenhN.js";import{u as ye}from"./useAudio-C98Jd5qy.js";import{D as De}from"./DrawingCanvas-Dh-1KiHv.js";import{C as $}from"./Card-B-JJ_iAm.js";import{D as Te}from"./DevButton-D0MF0C2K.js";import{V as ke}from"./ViewIf-qgMpzyEs.js";import{P as f}from"./PointsHighlight-DlrAaZJO.js";import{C as Ge}from"./CanvasResizer-CT2FYHud.js";import{T as k}from"./TitledContainer-DVFR5yR5.js";import{R as Pe}from"./RuleInstruction-DPk0pNji.js";import{P as oe}from"./PopoverRule-BFtmsdZ5.js";import{C as q}from"./CheckMarkIcon-BFyD8DDV.js";import{P as ae}from"./PlayerAvatarName-BejnICQc.js";import{C as Re}from"./CanvasSVG-DJcC-iq0.js";import{R as Ee}from"./ThunderboltOutlined-UiV9vnMP.js";import{R as _e}from"./CloudUploadOutlined-DvkgtE7L.js";import{u as We}from"./SlideShowControls-x3tUVozy.js";import{W as Oe}from"./WarningSignIcon-rFTnQFAO.js";import{S as Le}from"./SlideShow-CnFWi5mD.js";import{P as Me}from"./PlayerAvatarEntry-CtCln49S.js";import{S as H,a as ne,b as Be,c as Fe}from"./SlideShowComposableComponents-nzCQNqrM.js";import{S as Ue}from"./StarIcon-BmQmSS2t.js";import{S as Ve}from"./StepRankingWrapper-DN6K4woQ.js";import{C as ze}from"./CrownIcon-BaHy6VVE.js";import"./GameBanner-gYxAU2Et.js";import{G as $e}from"./GameOverWrapper-C-aSucy8.js";import{A as qe}from"./Achievements-C84pd9dZ.js";import{a as He}from"./achievements-BfFZpvTu.js";import{P as Ye}from"./progress-ICFBPeqU.js";import"./speech-Cyh-P9dx.js";import"./RulesModal-BZqGgaeS.js";import"./index-p2bnsD9x.js";import"./PurePanel-CvO7-6Z-.js";import"./Game-CpWtAibJ.js";import"./useMutation-_bfJGZJv.js";import"./index-DPyKtybL.js";import"./index-B_aA8y2Y.js";import"./Overflow-DNplt4pk.js";import"./index-D0i9lHFu.js";import"./index-3LJSnleM.js";import"./PlayerAvatar-fqyaTmzy.js";import"./useTDBaseUrl-BF9foKiS.js";import"./index-DLSOxjGt.js";import"./Loading-DBl99xqU.js";import"./useBubbleLock-DwDXtHeQ.js";import"./AnimatedLoaderIcon-FA4Kqm7w.js";import"./InfoCircleOutlined-CE5e_T5D.js";import"./index-CUZ7A_fi.js";import"./SignIn-vxpy1TbZ.js";import"./GoogleIcon-Bo67vAut.js";import"./WaitingRoomIcon-Co7pbnn2.js";import"./AnimatedClockIcon-CeqAHxue.js";import"./LikeFilled-DU7s31vx.js";import"./useSetState-CLLgQdQl.js";import"./UndoOutlined-KUkKJY-w.js";import"./DeleteOutlined-GE6UaUev.js";import"./MetricHighlight-CQVS1r9n.js";import"./index-BXHay3oR.js";import"./DragOutlined-BNJ80Z85.js";import"./StarFilled-VKkKe8Uw.js";import"./StepBackwardOutlined-BHMeNjZQ.js";import"./TrophyOutlined-DVGcPvKe.js";import"./GarbageIcon-ZdrW3Lpo.js";import"./RankingBoard-CnMRvuSx.js";import"./CaretUpOutlined-D4Z6Wgex.js";import"./TheEndIcon-CQw5alqB.js";import"./ArrowRightOutlined-CYMRaAzG.js";import"./Medal-CuqfQ5pM.js";const N={DRAWING:"DRAWING",EVALUATION:"EVALUATION",GALLERY:"GALLERY"},ie={SUBMIT_DRAWING:"SUBMIT_DRAWING",SUBMIT_EVALUATION:"SUBMIT_EVALUATION"},Je=7;function Qe(s){const{translate:t}=W(),r=se({actionName:"submit-drawing",onBeforeCall:()=>s(2),onError:()=>s(1),successMessage:t("Acabou o tempo! Aguarde enquanto os outros participantes desenham","Time's up! Wait for the other players to finish their art"),errorMessage:t("Vixi, o aplicativo encontrou um erro ao tentar enviar o desenho","Oops, the application failed to send your art")});return a=>{r({action:ie.SUBMIT_DRAWING,...a})}}function Ke(s){const{translate:t}=W(),r=se({actionName:"submit-guesses",onSuccess:()=>s(2),onError:()=>s(0),successMessage:t("Avaliação enviada! Agora aguarde os outros jogadores","Evaluation sent successfully! Wait for the other players"),errorMessage:t("Vixi, o aplicativo encontrou um erro ao tentar enviar sua avaliação","Oops, the application failed to send your evaluation")});return a=>{r({action:ie.SUBMIT_EVALUATION,...a})}}const Xe="/tardedivertida/assets/sinais-de-alerta-30-DihigEak.mp3";function Ze(){const[s]=O("volume"),[t,,r]=ye({src:Xe,autoPlay:!0,loop:!1});return v.useEffect(()=>{r.volume(s)},[s]),e.jsx(e.Fragment,{children:t})}const Y=(s,t,r,a)=>a==="en"?`${s[r].text} ${s[t].text}`:`${s[t].text} ${s[r].text}`;function ce(s){return e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 500 500",...s,children:[e.jsx("rect",{width:"370",height:"370",x:"64.2",y:"64.2",fill:"#fbb903",rx:"30",ry:"30",transform:"rotate(45 249.198 249.201)"}),e.jsx("rect",{width:"338",height:"338",x:"80.2",y:"80.2",fill:"none",stroke:"#000",strokeMiterlimit:"10",strokeWidth:"6",rx:"15",ry:"15",transform:"rotate(45 249.198 249.201)"})]})}function es({user:s,cards:t,onSubmitDrawing:r,startDrawingTimer:a,announcement:n,gameLanguage:i,timeLimit:o}){const{translate:l}=W(),[c,d]=v.useState([]),[h,x]=v.useState(!1),{seconds:w,start:A,isRunning:b}=Ce({duration:o+5,autoStart:!1,onExpire:()=>{x(!0),r({drawing:JSON.stringify(c)})}});v.useEffect(()=>{!b&&a&&A()},[a,b,A]);const I=()=>r({drawing:JSON.stringify(Ae())});re();const C=Y(t,s.currentSubjectId,s.currentDescriptorId,i);return e.jsxs(B,{announcement:n,children:[e.jsx($,{size:"large",header:l("Desenhe","Draw"),className:"sda-card",color:"yellow",children:b&&e.jsxs(e.Fragment,{children:[C,e.jsx("span",{className:"sda-card__timer",children:w>1?w-2:0})]})}),b&&e.jsx(Ze,{}),e.jsx(Te,{onClick:I,children:"Mock Drawing"}),h?e.jsx(Ne,{style:{background:"white",width:"500px",padding:"2em"}}):e.jsx(De,{lines:c,setLines:d,className:"sda-warning-canvas",mask:e.jsx(ce,{className:"sda-warning-canvas-mask"}),showControls:b})]})}function ss({state:s,players:t,meta:r,user:a}){const{step:n,goToNextStep:i,setStep:o}=F(0),[l,c]=v.useState(!1),d=s.timeLimit??30,h=Qe(o),x=e.jsx(U,{icon:e.jsx(Se,{}),title:e.jsx(p,{pt:"Alerte!",en:"Warn!"}),currentRound:s?.round?.current,buttonText:e.jsx(p,{pt:"Um dó, lá, si... vamos e... já!",en:"Ready! Set! Go!"}),type:"overlay",withoutTimer:!0,onClose:()=>c(!0),children:e.jsx(P,{children:e.jsx(p,{pt:e.jsxs(e.Fragment,{children:["Você tem ",d," segundos para ler e desenhar sua carta"]}),en:e.jsxs(e.Fragment,{children:["You have ",d," seconds to read and draw your card"]})})})});return e.jsx(V,{phase:s?.phase,allowedPhase:N.DRAWING,children:e.jsxs(z,{step:n,players:t,children:[e.jsx(we,{round:s?.round,onPressButton:i,buttonText:" ",time:5,unskippable:!0}),e.jsx(es,{gameLanguage:r.language,user:a,cards:s?.cards,onSubmitDrawing:h,announcement:x,startDrawingTimer:l,timeLimit:d})]})})}const le=()=>e.jsx(P,{children:e.jsx(p,{pt:e.jsxs(e.Fragment,{children:["Encontre o par de cartas relacionado a cada desenho clicando em uma carta em seguida no desenho.",e.jsx("br",{}),"Quando você selecionar todos os pares, envie sua avaliação!"]}),en:e.jsxs(e.Fragment,{children:["Match the pair of cards related to each drawing by clicking on a card and then on the drawing.",e.jsx("br",{}),"When you've selected all pairs, send your evaluation!"]})})}),ts=()=>e.jsx(P,{children:e.jsx(p,{pt:e.jsxs(e.Fragment,{children:["Agora, mostraremos cada placa, o que os jogadores votaram e a resposta final.",e.jsx("br",{}),"Se você acertou as duas cartas, você ganha ",e.jsx(f,{type:"positive",children:"2"})," ","pontos e o artista ganha ",e.jsx(f,{type:"positive",children:"3"})," pontos.",e.jsx("br",{}),"Se você acertou uma das cartas, você NÃO ganha nada, mas o artista ganha"," ",e.jsx(f,{type:"positive",children:"1"})," ponto."]}),en:e.jsxs(e.Fragment,{children:["Now we show each art, what players voted, and the final answer.",e.jsx("br",{}),"If you matched both cards, you get ",e.jsx(f,{type:"positive",children:"2"})," points and the artist gets ",e.jsx(f,{type:"positive",children:"3"})," points.",e.jsx("br",{}),"If you matched one card, you get nothing, but the artist gets"," ",e.jsx(f,{type:"positive",children:"1"})," point."]})})}),rs=()=>e.jsx(P,{children:e.jsx(p,{pt:e.jsxs(e.Fragment,{children:["Se você acertou as duas cartas, você ganha ",e.jsx(f,{type:"positive",children:"2"})," ","pontos e o artista ganha ",e.jsx(f,{type:"positive",children:"3"})," pontos.",e.jsx("br",{}),"Se você acertou uma das cartas, você NÃO ganha nada, mas o artista ganha"," ",e.jsx(f,{type:"positive",children:"1"})," ponto."]}),en:e.jsxs(e.Fragment,{children:["If you matched both cards, you get ",e.jsx(f,{type:"positive",children:"2"})," points and the artist gets ",e.jsx(f,{type:"positive",children:"3"})," points.",e.jsx("br",{}),"If you matched one card, you get nothing, but the artist gets"," ",e.jsx(f,{type:"positive",children:"1"})," point."]})})}),os=s=>s.includes("wss"),as=s=>s.includes("wsd"),Z=s=>s?os(s)?"subject":as(s)?"descriptor":"drawing":"none";function ns({drawings:s,userId:t,subjectsIds:r,descriptorsIds:a}){const n=()=>s.reduce((u,{playerId:m,subjectId:g})=>(u[m]="",m===t&&(u[m]=g),u),{}),i=()=>s.reduce((u,{playerId:m,descriptorId:g})=>(u[m]="",m===t&&(u[m]=g),u),{}),[o,l]=v.useState(""),[c,d]=v.useState(n()),[h,x]=v.useState(i()),w=u=>{if(u===o)return l("");const m=Z(o),g=Z(u);if(m===g)return l(u);if(u&&(m==="drawing"||g==="drawing")){if(g==="subject")return l(""),d(S=>({...S,[o]:u}));if(g==="descriptor")return l(""),x(S=>({...S,[o]:u}));if(m==="subject")return l(""),d(S=>({...S,[u]:o}));if(m==="descriptor")return l(""),x(S=>({...S,[u]:o}))}l(u)},A=()=>{l(""),d(n()),x(i())},b=v.useMemo(()=>{const u={};return Object.values(c).forEach(m=>{m&&(u[m]=!0)}),Object.values(h).forEach(m=>{m&&(u[m]=!0)}),u},[c,h]),I=v.useMemo(()=>Object.values(c).every(Boolean)&&Object.values(h).every(Boolean),[c,h]);return{activeItem:o,activateItem:w,subjectGuesses:c,descriptorGuesses:h,matchedItems:b,isComplete:I,resetGuesses:A,randomSelection:()=>{const u=Object.values(c),m=E.shuffle(r.filter(j=>!u.includes(j))),g={};Object.keys(c).forEach(j=>{c[j]||(g[j]=m.pop()??"")});const S=Object.values(h),R=E.shuffle(a.filter(j=>!S.includes(j))),T={};Object.keys(h).forEach(j=>{h[j]||(T[j]=R.pop()??"")}),d(j=>({...j,...g})),x(j=>({...j,...T}))}}}function J({drawing:s,width:t}){return e.jsxs("div",{className:"sda-alert-sign",children:[e.jsx(ce,{style:{width:t},className:"sda-alert-sign__mask"}),e.jsx(Re,{drawing:s,width:t,className:"sda-alert-sign__canvas"})]})}function is({players:s,cards:t,drawings:r,onSelect:a,subjectGuesses:n,descriptorGuesses:i,gameLanguage:o,activeItem:l}){const[c]=O("canvasSize");return e.jsx(k,{title:e.jsx(p,{pt:"Desenhos",en:"Drawings"}),contentProps:{className:"div-container"},className:"contained",children:r.map(d=>{const h=t?.[n?.[d.playerId]]?.text,x=t?.[i?.[d.playerId]]?.text,w=h&&x;return e.jsxs(L,{style:{width:c},onClick:()=>a(d.playerId),className:"sda-word-button",active:d.playerId===l,activeClass:"sda-word-button--active",children:[e.jsxs("span",{className:"sda-word-button__avatar",children:[w&&e.jsx(G,{icon:e.jsx(q,{}),className:"sda-word-button__matched"}),e.jsx(ae,{player:s[d.playerId]})]}),e.jsx(J,{drawing:d.drawing,width:c}),e.jsx(y.Text,{code:!0,className:"uppercase",children:o==="pt"?e.jsxs(e.Fragment,{children:[h??"?"," ",x??"?"]}):e.jsxs(e.Fragment,{children:[x??"?"," ",h??"?"]})})]},d.playerId)})})}function cs({cards:s,onSelect:t,subjectsIds:r,activeItem:a,matchedItems:n}){return e.jsx(D,{size:"small",wrap:!0,children:r.map(i=>e.jsxs(L,{onClick:()=>t(i),active:a===i,className:"sda-word-button",children:[n[i]&&e.jsx(G,{icon:e.jsx(q,{}),className:"sda-word-button__matched"}),e.jsx($,{hideHeader:!0,children:s[i].text})]},i))})}function ls({cards:s,onSelect:t,descriptorsIds:r,activeItem:a,matchedItems:n}){return e.jsx(D,{size:"small",wrap:!0,children:r.map(i=>e.jsxs(L,{onClick:()=>t(i),active:a===i,className:"sda-word-button",children:[n[i]&&e.jsx(G,{icon:e.jsx(q,{}),className:"sda-word-button__matched"}),e.jsx($,{hideHeader:!0,children:s[i].text})]},i))})}function ds({players:s,onSubmitGuesses:t,cards:r,drawings:a,subjectsIds:n,descriptorsIds:i,announcement:o,user:l,gameLanguage:c}){const{isLoading:d}=de(),h=M(6,{gap:16,minWidth:120,maxWidth:500}),[x,w]=O("canvasSize"),{subjectGuesses:A,descriptorGuesses:b,activateItem:I,activeItem:C,matchedItems:u,resetGuesses:m,isComplete:g,randomSelection:S}=ns({drawings:a,userId:l.id,subjectsIds:n,descriptorsIds:i}),[R,T]=v.useState(!1),j=()=>{T(!0),S()};v.useEffect(()=>{x||w(Math.floor(h/50)*50)},[x,h]),re(()=>{j()},[]);const Q=e.jsx(k,{title:e.jsx(p,{pt:"Descritores",en:"Descriptors"}),children:e.jsx(ls,{cards:r,descriptorsIds:i,onSelect:I,activeItem:C,matchedItems:u})}),K=e.jsx(k,{title:e.jsx(p,{pt:"Sujeitos",en:"Subjects"}),children:e.jsx(cs,{cards:r,subjectsIds:n,onSelect:I,activeItem:C,matchedItems:u})});return e.jsxs(B,{announcement:o,fullWidth:!0,children:[e.jsx(te,{children:e.jsx(p,{pt:"Adivinhação",en:"Match the Pairs"})}),e.jsx(oe,{content:e.jsx(le,{})}),e.jsx(Ge,{}),e.jsx(Pe,{type:"action",children:e.jsx(p,{pt:e.jsxs(e.Fragment,{children:["Faça pares com as cartas e os desenhos. Cada desenho tem um sujeito e um descritor correspondente.",e.jsx("br",{}),"Basta clicar em uma carta e depois em seu desenho correspondente.",e.jsx("br",{}),"Para refazer, basta reselecionar o desenho ou carta normalmente.",e.jsx("br",{}),"Quando estiver pronto, clique em ",e.jsx("b",{children:"Enviar sua avaliação"}),"."]}),en:e.jsxs(e.Fragment,{children:["Match the cards and drawings. Each drawing has a corresponding subject and descriptor.",e.jsx("br",{}),"Simply click on a card and then on its corresponding drawing.",e.jsx("br",{}),"To redo, just reselect the drawing or card normally.",e.jsx("br",{}),"When you're ready, click ",e.jsx("b",{children:"Send evaluation"}),"."]})})}),e.jsxs(ue,{direction:"vertical",children:[e.jsxs(D,{wrap:!0,children:[e.jsx(_,{type:"default",icon:e.jsx(Ie,{}),onClick:m,disabled:d,children:e.jsx(p,{pt:"Limpar seleções",en:"Clear selections"})}),e.jsx(_,{type:"default",icon:e.jsx(Ee,{}),onClick:j,disabled:d||g,children:e.jsx(p,{pt:"Chutar restantes",en:"Guess for me"})}),e.jsx(pe,{onClick:()=>t({guesses:us(a,A,b),choseRandomly:R}),disabled:!g,icon:e.jsx(_e,{}),children:e.jsx(p,{pt:"Enviar sua avaliação",en:"Send evaluation"})})]}),e.jsx(is,{players:s,cards:r,drawings:a,onSelect:I,subjectGuesses:A,descriptorGuesses:b,gameLanguage:c,activeItem:C}),c==="pt"?K:Q,c==="pt"?Q:K]})]})}const us=(s,t,r)=>{const a={};return s.forEach(({playerId:n})=>{a[n]=[r[n],t[n]]}),a};function ps({state:s,players:t,meta:r,user:a}){const{step:n,setStep:i}=F(0),o=Ke(i),l=e.jsx(U,{icon:e.jsx(be,{}),title:e.jsx(p,{pt:"Adivinhação",en:"Match the cards"}),currentRound:s?.round?.current,type:"overlay",duration:s.round.current<2?12:void 0,children:e.jsx(le,{})});return e.jsx(V,{phase:s?.phase,allowedPhase:N.EVALUATION,children:e.jsx(z,{step:n,players:t,children:e.jsx(ke,{condition:s.drawings&&a.id,children:e.jsx(ds,{announcement:l,gameLanguage:r.language,user:a,players:t,onSubmitGuesses:o,cards:s.cards,drawings:s.drawings,subjectsIds:s.subjectsIds,descriptorsIds:s.descriptorsIds})})})})}function ms({artist:s}){return e.jsxs("div",{className:"sda-gallery__credits",children:[e.jsx(H,{children:e.jsx(p,{pt:"Criador",en:"Creator"})}),e.jsx("span",{className:"uppercase",children:e.jsx(Me,{player:s})})]})}function hs({players:s,cards:t,artistColor:r,galleryEntry:a,gameLanguage:n}){const i=v.useMemo(()=>E.orderBy(a.playersSay.map(o=>{const l=Y(t,o.subjectId,o.descriptorId,n),c=a.subjectId===o.subjectId,d=a.descriptorId===o.descriptorId;return{id:l,playersIds:o.playersIds,score:o.score,subject:t[o.subjectId],subjectCorrect:c,descriptor:t[o.descriptorId],descriptorCorrect:d,correctness:Number(c)+Number(d),count:o.playersIds.length}}),["correctness","count","id"],["desc","desc","asc"]),[t,a,n]);return e.jsxs("div",{className:"sda-gallery__guesses",children:[e.jsx(H,{children:e.jsx(p,{pt:"Participantes votaram",en:"Players voted"})}),i.map((o,l)=>{const c=e.jsx(y.Text,{keyboard:o.subjectCorrect,style:o.subjectCorrect&&o.correctness===1?{backgroundColor:r,color:X(r)}:{color:"inherit",backgroundColor:"inherit"},children:o.subject.text}),d=e.jsx(y.Text,{keyboard:o.descriptorCorrect,style:o.descriptorCorrect&&o.correctness===1?{backgroundColor:r,color:X(r)}:{color:"inherit",backgroundColor:"inherit"},children:o.descriptor.text});return e.jsxs("div",{className:"sda-gallery__guess",children:[e.jsx(ne,{winner:o.correctness===2,backgroundColor:r,extra:e.jsxs(me,{align:"center",gap:3,children:[e.jsx(G,{icon:e.jsx(Ue,{}),size:"small"})," ",o.score]}),children:n==="pt"?e.jsxs("span",{children:[c," ",d]}):e.jsxs("span",{children:[d," ",c]})}),e.jsx(Be,{playersIds:o.playersIds,players:s})]},`guess-${o.id}-${l}`)})]})}function js({cards:s,galleryEntry:t,gameLanguage:r}){return e.jsxs("div",{className:"sda-gallery__result",children:[t.correctness!==2&&e.jsxs(e.Fragment,{children:[e.jsx(H,{children:e.jsx(p,{pt:"E o título correto da placa é",en:"And the warning sign title is"})}),e.jsx(ne,{winner:!0,children:Y(s,t.subjectId,t.descriptorId,r)}),t.artistScore===0&&e.jsx(Fe,{children:e.jsx(p,{pt:"Esse desenho deve ter sido muito ruim.",en:"It must have been a very crappy drawing. Shame..."})})]}),e.jsxs(y.Paragraph,{className:"mt-2",children:[e.jsx(p,{pt:"O criador ganhou",en:"The creator earned"}),":"," ",e.jsx(f,{children:t.artistScore})," pontos"]})]})}function xs({gallery:s,players:t,cards:r,slideShowConfig:a,gameLanguage:n}){je();const i=M(3,{gap:16,minWidth:150,maxWidth:300}),o=s[a.slideIndex],l=t[o.artistId],c=ee(l.avatarId);return e.jsxs(B,{fullWidth:!0,children:[e.jsx(te,{size:"small",children:e.jsx(p,{pt:"Galeria de Placas",en:"Signs Gallery"})}),e.jsx(oe,{content:e.jsx(rs,{})}),e.jsxs(Le,{config:a,barColor:c,leftClassName:"sda-gallery__canvas",rightClassName:"sda-gallery__info",children:[e.jsx("div",{children:e.jsx(J,{drawing:o.drawing,width:i})}),e.jsxs(e.Fragment,{children:[e.jsx(ms,{artist:l}),e.jsx(hs,{players:t,cards:r,artistColor:c,galleryEntry:o,gameLanguage:n}),e.jsx(js,{cards:r,galleryEntry:o,gameLanguage:n})]})]})]})}function gs({players:s,ranking:t,onGoBack:r,round:a}){return e.jsxs(Ve,{players:s,ranking:t,gainedPointsDescriptions:[e.jsx(p,{pt:"Pares corretos",en:"Correct matches"},"1"),e.jsx(p,{pt:"Pontos por seu desenho",en:"Points for your drawing"},"2")],children:[e.jsx(D,{children:e.jsx(_,{onClick:r,children:e.jsx(p,{pt:"Ver resultado novamente",en:"See results again"})})}),e.jsx(xe,{round:a})]})}function fs({state:s,players:t,meta:r}){const{step:a,goToNextStep:n,goToPreviousStep:i}=F(0),o=We({length:s.gallery.length,slideDuration:Je,onExpire:n}),l=()=>{o.reset(),i()};return e.jsx(V,{phase:s?.phase,allowedPhase:N.GALLERY,children:e.jsxs(z,{step:a,players:t,children:[e.jsx(U,{icon:e.jsx(Oe,{}),title:e.jsx(p,{pt:"Galeria de Placas",en:"Signs Gallery"}),onClose:n,currentRound:s?.round?.current,unskippable:!0,type:"block",duration:s.round.current<3?12:void 0,children:e.jsx(ts,{})}),e.jsx(xs,{gallery:s.gallery,players:t,cards:s.cards,gameLanguage:r.language,slideShowConfig:o}),e.jsx(gs,{players:t,ranking:s.ranking,round:s.round,onGoBack:l})]})})}function vs({entry:s,players:t,width:r}){const a=t[s.playerId],n=ee(a.avatarId);return e.jsxs(D,{vertical:!0,contained:!0,children:[e.jsx(ae,{player:a}),e.jsx(J,{drawing:s.drawing,width:r}),e.jsx(y.Text,{code:!0,className:"uppercase",children:s.title}),e.jsx(Ye,{percent:s.accuracy*100,size:"small",style:{width:r},strokeColor:n})]})}function Ss({state:s,players:t}){const r=M(8,{gap:16,minWidth:100,maxWidth:500});return e.jsxs($e,{state:s,players:t,announcementIcon:e.jsx(ze,{}),children:[e.jsx(qe,{players:t,achievements:s.achievements,reference:He}),e.jsx(k,{title:e.jsx(p,{pt:"Sinais",en:"Sings"}),contentProps:{className:"final-gallery"},children:s.gallery.map(a=>e.jsx(vs,{entry:a,players:t,width:r},`${a.playerId}-${a.id}`))})]})}function bs(s){switch(s.phase){case N.DRAWING:return ss;case N.EVALUATION:return ps;case N.GALLERY:return fs;case ve.DEFAULT.GAME_OVER:return Ss;default:return fe}}function zt(){return e.jsx(ge,{gameCollection:he.SINAIS_DE_ALERTA,getActiveComponent:bs})}export{zt as default};
