import{f as O,aH as ue,l as R,j as e,T as i,s as _,n as C,aK as S,cH as M,e as Z,I,aL as ie,P as Ce,r as k,cE as N,cQ as _e,B as xe,o as je,D as Re,cI as Ee,aX as Ne}from"./index-sFOv56G6.js";import{u as se,S as U,a as H,b as re,c as B,P as L,d as D,e as $,j as Ie,k as qe,g as we,h as Ae,i as Pe}from"./StepSwitcher-OMQUTJcB.js";import{F as Te}from"./FilterIcon-wlu63y6o.js";import{I as z}from"./Instruction-CPlezEjI.js";import{u as ee}from"./useBooleanDictionary-DN1fCHgf.js";import{u as oe}from"./useMock-C6LvWWsv.js";import{C as V}from"./CharacterCard-BsWi0HyB.js";import{C as ce}from"./CardHighlight-Cq5p3WqE.js";import{R as W}from"./RuleInstruction-C-T5vAzD.js";import{a as Ge}from"./sampleSize-Cyjg2GMQ.js";import{B as Fe}from"./index-Sbs-WCCV.js";import{P as ke}from"./PlayerIconsIcon-BSoSgrfd.js";import{R as Me}from"./RoundAnnouncement-Smso2lfS.js";import{P as ne,p as We,g as Oe,a as Ue,b as He}from"./PlayerGlyphs-CJe3OvlK.js";import{N as Y}from"./NoIcon-DYOdo4Ko.js";import{Y as Q,M as Be}from"./YesIcon-CK_ACNDw.js";import{G as q}from"./GlyphCard-B0FwCqhq.js";/* empty css                             */import{I as Le}from"./ImageBlurButtonContainer-DZYG0MQ5.js";import{I as ge}from"./ImageCard-Bkb4utGi.js";import{M as ye}from"./MetricHighlight-RLoshJpA.js";import{E as De}from"./WritingIcon-Zaqdy98l.js";import{P as F}from"./PointsHighlight-Cb4Z_YIM.js";import{s as $e}from"./shuffle-CgfKXyg-.js";import{u as ze}from"./useVotingMatch-CgmEAzNp.js";import"./Ribbon-D8SSHcqf.js";import{R as Ve}from"./RibbonGroup-DfqBJXGX.js";import{R as Ye}from"./ThunderboltOutlined-BR_E1JeY.js";import{u as Qe}from"./SlideShowControls-B9EznKMl.js";import{A as Ke}from"./AvatarName-V65wRLD5.js";import{P as ve}from"./PopoverRule-XwMWWI0-.js";import{S as Je}from"./SlideShow-v8dGr16_.js";import{S as le}from"./StarPoints-Cm6G8sjN.js";import{S as de,a as Xe,b as X,c as Ze}from"./SlideShowComposableComponents-ohT09nZj.js";import{S as es}from"./StepRankingWrapper-CsnwznMT.js";import{R as ss}from"./RoundsLeftInstruction-D-Cx9mf_.js";import{R as rs}from"./PictureOutlined-1GGTSRA7.js";import{T as os}from"./TrophyIcon-CGazTi-j.js";import{G as ns}from"./GameOverWrapper-DBdE6wPh.js";import{A as ts}from"./Achievements-KXZNMwb1.js";import{a as as}from"./achievements-BW6l1tk2.js";import{A as is}from"./AvatarStrip-nl30IoMO.js";import"./toFinite-M68g1Cyo.js";import"./speech-CQGwxCev.js";import"./useDevFeatures-BtT40veR.js";import"./RulesModal-MpK8mYio.js";import"./DoubleRightOutlined-oWgnOWWB.js";import"./PurePanel-CJwWDpVx.js";import"./Game-B3WG-oFA.js";import"./useMutation-DEYoBDEG.js";import"./index-DJ6UM5pO.js";import"./index-D1uzqAEI.js";import"./Overflow-B_dQuxT0.js";import"./useEvent-FC6KD2aw.js";import"./index-Hmsdn-v9.js";import"./Avatar-CEVYmQj_.js";import"./GameBanner-DphsoONg.js";import"./useTDBaseUrl-BF9foKiS.js";import"./index-DXmdXL5n.js";import"./Loading-BaKTMQeh.js";import"./useBubbleLock-LYYGbBcK.js";import"./AnimatedLoaderIcon-C9A3vfNl.js";import"./InfoCircleOutlined-Bwmag0dN.js";import"./index-BWzIaqmk.js";import"./SignIn-Dty2ZNnH.js";import"./GoogleIcon-CgU-0odk.js";import"./WaitingRoomIcon-CS_RWVSF.js";import"./AnimatedClockIcon-mF0U2aVF.js";import"./StarFilled-B_5F_JIq.js";import"./StarFilled-CNctUIhy.js";import"./_copyArray-DyNXx8uz.js";import"./_isIterateeCall-Y9Ut6aSG.js";import"./BoxCheckMarkIcon-6hX-gv_3.js";import"./Sprite-tZyfxsVq.js";import"./WarningOutlined-Ce3tjK-w.js";import"./ImageBlurButton-By7ZATQq.js";import"./StarIcon-BP4Csf3V.js";import"./StepBackwardOutlined-D4wV6ILg.js";import"./TrophyOutlined-DvYIVxFv.js";import"./GarbageIcon-Bdy2xYnG.js";import"./RankingBoard-Bg6v2Nb3.js";import"./CaretUpOutlined-CTN4lzvm.js";import"./TheEndIcon-CbYFtUze.js";import"./ArrowRightOutlined-iw3yIEiH.js";import"./useMergedState-Bn1kQmj-.js";import"./progress-DJOxGueJ.js";import"./TitledContainer-C4h88Wp-.js";import"./Medal-CoNUAdDx.js";import"./QuestionCircleOutlined-B7CL9UMy.js";const b={CHARACTER_FILTERING:"CHARACTER_FILTERING",CHARACTER_DESCRIPTION:"CHARACTER_DESCRIPTION",GUESSING:"GUESSING",RESULTS:"RESULTS"},te={SUBMIT_CHARACTERS:"SUBMIT_CHARACTERS",SUBMIT_GLYPHS:"SUBMIT_GLYPHS",SUBMIT_GUESSES:"SUBMIT_GUESSES"},cs=10;function ls(r){const{translate:s}=O(),o=se({actionName:"submit-characters",onSuccess:()=>r(2),onError:()=>r(0),successMessage:s("Ação submetida com sucesso","Action submitted successfully"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return n=>{o({action:te.SUBMIT_CHARACTERS,...n})}}function ds(r){const{translate:s}=O(),o=se({actionName:"submit-glyphs",onSuccess:()=>r(2),onError:()=>r(0),successMessage:s("Ação submetida com sucesso","Action submitted successfully"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return n=>{o({action:te.SUBMIT_GLYPHS,...n})}}function hs(r){const{translate:s}=O(),o=se({actionName:"submit-guesses",onSuccess:()=>r(2),onError:()=>r(0),successMessage:s("Ação submetida com sucesso","Action submitted successfully"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return n=>{o({action:te.SUBMIT_GUESSES,...n})}}const ms=r=>Ge(r,6).map(s=>s.id);function ps({user:r,announcement:s,onSelectCharacters:o}){const{isLoading:n}=ue(),a=R(12,{gap:16,minWidth:100,maxWidth:200}),{dict:t,updateDict:c,length:l,keys:d}=ee({}),m=r.availableCharacters??[];return oe(),e.jsxs(U,{fullWidth:!0,announcement:s,children:[e.jsx(H,{children:e.jsx(i,{pt:e.jsxs(e.Fragment,{children:["Selecione ",e.jsx(ce,{children:"6"})," cartas"]}),en:e.jsxs(e.Fragment,{children:["Select ",e.jsx(ce,{children:"6"})," cards"]})})}),e.jsx(W,{type:"action",children:e.jsx(i,{pt:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Selecione"})," 6 personagens/celebridades abaixo, dessas 5 serão usadas no jogo.",e.jsx("br",{}),"Essa etapa é necessária para que você não receba um personagem que não conheça."]}),en:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Select"})," 6 characters/celebrities below, 5 of them will be used in the game.",e.jsx("br",{}),"This step is necessary so that you don't receive a character you don't know."]})})}),e.jsx(_,{className:"grid-container grid-template-6 gap-4",wrap:!0,children:m.map(h=>e.jsx(C,{disabled:r.ready||n,onClick:()=>c(h.id),active:t[h.id],activeClass:"q-character-player",children:e.jsx(V,{size:a,character:h})},h.id))}),e.jsxs(S,{children:[e.jsx(M,{size:"large",type:"dashed",onClick:()=>o({characters:ms(m)}),loading:n,disabled:n||r.ready,children:e.jsx(i,{pt:e.jsx(e.Fragment,{children:"Escolha pra mim"}),en:e.jsx(e.Fragment,{children:"Choose for me"})})}),e.jsx(Fe,{count:l,children:e.jsx(M,{size:"large",onClick:()=>o({characters:d}),loading:n,disabled:r.ready||l!==6,children:e.jsx(i,{pt:"Enviar cartas",en:"Submit cards"})})})]})]})}function us({players:r,state:s}){var l;const o=re(r,s),{step:n,setStep:a}=B(),t=ls(a),c=e.jsx(L,{icon:e.jsx(Te,{}),title:e.jsx(i,{pt:"Quem você conhece?",en:"Who do you know?"}),currentRound:(l=s==null?void 0:s.round)==null?void 0:l.current,type:"overlay",children:e.jsx(z,{children:e.jsx(i,{pt:e.jsx(e.Fragment,{children:"Selecione personagens/pessoas que você conhece"}),en:e.jsx(e.Fragment,{children:"Select characters/people you know"})})})});return e.jsx(D,{phase:s==null?void 0:s.phase,allowedPhase:b.CHARACTER_FILTERING,children:e.jsx($,{step:n,players:r,children:e.jsx(ps,{user:o,onSelectCharacters:t,announcement:c})})})}function xs({user:r}){return r.selectedGlyphs?e.jsxs(_,{wrap:!0,children:[e.jsx(V,{size:100,character:r.character}),e.jsx(ne,{player:r,glyphWidth:60})]}):e.jsx(e.Fragment,{})}function w({character:r,width:s,imageCardMode:o,className:n}){return o?e.jsx(Le,{cardId:r.id,children:e.jsx(ge,{id:r.id,cardWidth:s,className:n,preview:!1})}):e.jsx(V,{character:r,size:s,className:n})}function js({characters:r,playerCharacterId:s,tableOrder:o,showAll:n=!0,imageCardMode:a=!1}){const t=R(8,{gap:16,minWidth:150,maxWidth:200}),c=o.slice(0,Math.floor(o.length/2)),l=o.slice(Math.floor(o.length/2));return n?e.jsxs(S,{className:"q-table",wrap:!0,children:[e.jsx(S,{wrap:!0,children:c.map(d=>e.jsx(w,{character:r[d],width:t,imageCardMode:a,className:Z(d===s&&"q-character-player")},d))}),e.jsx(S,{wrap:!0,children:l.map(d=>e.jsx(w,{character:r[d],width:t,imageCardMode:a,className:Z(d===s&&"q-character-player")},d))})]}):e.jsx(S,{className:"q-table",children:e.jsx(V,{character:r[s],size:t,className:"q-character-player"})})}function he({children:r,type:s,iconSize:o,className:n}){return e.jsx(ye,{icon:e.jsx(Q,{}),type:s,iconSize:o,className:n,children:r})}function me({children:r,type:s,iconSize:o,className:n}){return e.jsx(ye,{icon:e.jsx(Y,{}),type:s,iconSize:o,className:n,children:r})}const pe=[0,1,2];function gs({user:r,announcement:s,onSelectGlyphs:o,characters:n,tableOrder:a,roundType:t,imageCardMode:c}){var T;const{translate:l}=O(),d=R(20,{gap:16,minWidth:50,maxWidth:75}),m=d+15,{dict:h,updateDict:p,keys:x}=ee({}),{dict:f,updateDict:P,keys:E}=ee({}),K=r.glyphs??[];return oe(),e.jsxs(U,{fullWidth:!0,announcement:s,children:[e.jsx(H,{children:e.jsx(i,{pt:e.jsx(e.Fragment,{children:"Descreva seu personagem com ícones"}),en:e.jsx(e.Fragment,{children:"Describe your character with glyphs"})})}),e.jsxs(W,{type:"rule",children:[e.jsx(i,{pt:e.jsxs(e.Fragment,{children:["Dos ícones abaixo, você pode selecionar até ",e.jsx(he,{children:"3"})," positivos e até ",e.jsx(me,{children:"3"})," negativos.",e.jsx("br",{})," Quando você clica em ícone, você determina se ele é relacionado ao seu personagem ou não.",e.jsx("br",{}),e.jsx("strong",{children:"A sua carta é a que tem a borda de bolinhas amarelas!"})]}),en:e.jsxs(e.Fragment,{children:["From the glyphs below, you may select up to ",e.jsx(he,{children:"3"})," positive and ",e.jsx(me,{children:"3"})," negative glyphs.",e.jsx("br",{}),"When you click on a glyph, you will determine if it's related or not to your character.",e.jsx("br",{}),e.jsx("strong",{children:"Your card is highlighted with the dotted yellow border!"})]})}),t==="SHOW"&&e.jsx(i,{pt:e.jsxs(e.Fragment,{children:[e.jsx("br",{}),"Você também pode ver todos os personagens abaixo caso queira evitar conflito com outros jogadores."]}),en:e.jsxs(e.Fragment,{children:[e.jsx("br",{}),"You can also take a look at all the characters for this round so you don't give clues that match others."]})})]}),t!=="SHOW"&&e.jsx(W,{type:"event",children:e.jsx(i,{pt:e.jsx(e.Fragment,{children:"De agora em diante, você vê apenas o seu personagem."}),en:e.jsx(e.Fragment,{children:"From now on, you only see your own character."})})}),e.jsx(js,{characters:n,playerCharacterId:(T=r.character)==null?void 0:T.id,tableOrder:a,showAll:t==="SHOW",imageCardMode:c}),e.jsxs(S,{className:"q-selections",children:[e.jsx("div",{className:"q-selections__section q-selections__section--positive",children:pe.map(j=>{const g=x[j];return e.jsx("div",{className:"q-selections__positive",children:e.jsxs("div",{className:"q-selections__entry",children:[e.jsx(I,{icon:e.jsx(Q,{})}),g!==void 0?e.jsx(C,{onClick:()=>p(g),title:l("Remover","Remove"),children:e.jsx(ie,{title:e.jsx(i,{pt:"Remover",en:"Remove"}),children:e.jsx(q,{width:m,id:g})})}):e.jsx("div",{className:"q-selections__no-glyph",style:{width:`${m}px`,height:`${m}px`}})]})},`pos-${j}-${g}`)})}),e.jsx("div",{className:"q-selections__section q-selections__section--negative",children:pe.map(j=>{const g=E[j];return e.jsx("div",{className:"q-selections__positive",children:e.jsxs("div",{className:"q-selections__entry",children:[e.jsx(I,{icon:e.jsx(Y,{})}),g!==void 0?e.jsx(C,{onClick:()=>P(g),children:e.jsx(ie,{title:e.jsx(i,{pt:"Remover",en:"Remove"}),trigger:"hover",children:e.jsx(q,{width:m,id:g})})}):e.jsx("div",{className:"q-selections__no-glyph",style:{width:`${m}px`,height:`${m}px`}})]})},`neg-${j}-${g}`)})})]}),e.jsx(_,{className:"glyphs",wrap:!0,children:K.map(j=>e.jsx(Ce,{content:e.jsx(ys,{id:j,updatePositive:p,updateNegative:P,disablePositive:x.length===3,disableNegative:E.length===3}),title:e.jsx(i,{pt:"Positivo ou Negativo?",en:"Positive or Negative"}),trigger:"click",children:e.jsx(C,{children:e.jsx(q,{width:d,id:j})})},j))}),e.jsx(S,{children:e.jsx(M,{size:"large",onClick:()=>o({glyphs:We(h,f)}),disabled:r.ready||x.length<1&&E.length<1,children:e.jsx(i,{pt:e.jsx(e.Fragment,{children:"Enviar ícones"}),en:e.jsx(e.Fragment,{children:"Submit glyphs"})})})})]})}function ys({id:r,updatePositive:s,updateNegative:o,disablePositive:n,disableNegative:a}){return e.jsxs(_,{children:[e.jsx(C,{onClick:()=>s(r),disabled:n,children:e.jsx(I,{icon:e.jsx(Q,{}),size:"large"})}),e.jsx(C,{onClick:()=>o(r),disabled:a,children:e.jsx(I,{icon:e.jsx(Y,{}),size:"large"})})]})}function vs({players:r,state:s}){var d;const o=re(r,s),{step:n,goToNextStep:a,setStep:t}=B(),c=ds(t),l=e.jsx(L,{icon:e.jsx(ke,{}),title:e.jsx(i,{pt:"Descreva seu personagem com ícones",en:"Describe your character with glyphs"}),currentRound:(d=s==null?void 0:s.round)==null?void 0:d.current,type:"overlay",children:e.jsx(z,{children:e.jsx(i,{pt:e.jsx(e.Fragment,{children:"Selecione até 6 ícones que ajudem os outros jogadores a adivinhar o seu personagem"}),en:e.jsx(e.Fragment,{children:"Select up to 6 glyphs that would help other players to guess who your character is"})})})});return e.jsx(D,{phase:s==null?void 0:s.phase,allowedPhase:b.CHARACTER_DESCRIPTION,children:e.jsxs($,{step:n,players:r,waitingRoom:{content:e.jsx(xs,{user:o})},children:[e.jsx(Me,{round:s==null?void 0:s.round,onPressButton:a,buttonText:" ",time:5}),e.jsx(gs,{user:o,onSelectGlyphs:c,characters:s.characters,tableOrder:s.tableOrder,announcement:l,roundType:s.roundType,imageCardMode:s.mode==="imageCards"})]})})}function A({currentRound:r}){return e.jsx(i,{pt:e.jsxs(e.Fragment,{children:["Você ganha ",e.jsx(F,{children:r}),"ponto para cada par que acertar e também"," ",e.jsx(F,{children:r}),"ponto para cada jogador que acertar o seu."]}),en:e.jsxs(e.Fragment,{children:["You get ",e.jsx(F,{children:r}),"point for each pair you get correctly and also ",e.jsx(F,{children:r}),"point for each player who gets your character correctly"]})})}function Ss({user:r,announcement:s,onSubmitGuesses:o,players:n,characters:a,tableOrder:t,round:c,imageCardMode:l}){var ae;const{isLoading:d}=ue(),m=R(20,{gap:16,minWidth:45,maxWidth:60}),h=R(8,{gap:16,minWidth:120,maxWidth:200}),{votes:p,setVotes:x,activateItem:f,isVotingComplete:P,isItemActive:E}=ze("player",!0,Object.keys(n).length,{}),[K,T]=k.useState(!1),j=()=>{T(!0);const u=Object.keys(p),y=Object.values(p),J=Object.keys(n).map(v=>N(["player",v])).filter(v=>!u.includes(v)),fe=$e(Object.keys(a).map(v=>N(["char",v])).filter(v=>!y.includes(v))),G={...p};return J.forEach((v,be)=>{G[v]||(G[v]=fe[be])}),x(G),G},g=k.useCallback(()=>{if(r.character)return{[N(["player",r.id])]:N(["char",r.character.id])}},[r]);oe(),k.useEffect(()=>{const u=g();u&&x(y=>({...y,...u}))},[(ae=r==null?void 0:r.character)==null?void 0:ae.id]);const Se=Oe(n,p);return e.jsxs(U,{fullWidth:!0,announcement:s,children:[e.jsx(H,{children:e.jsx(i,{pt:e.jsx(e.Fragment,{children:"Pareie os cada personagem com um jogador"}),en:e.jsx(e.Fragment,{children:"Pair player and characters"})})}),e.jsxs(W,{type:"rule",children:[e.jsx(i,{pt:e.jsxs(e.Fragment,{children:["De acordo com a seleção de ícones de cada jogador, tente adivinhar todos os pares.",e.jsx("br",{}),e.jsx("strong",{children:"Clique"})," em uma das barras de ícones então no personagem correspondente.",e.jsx("br",{}),"Para desfazer, basta selecionar normalmente que sua escolha era sobreposta."]}),en:e.jsxs(e.Fragment,{children:["Based on each player's glyphs selection, try to guess the pairs.",e.jsx("br",{}),e.jsx("strong",{children:"Click"})," on one of the glyph bars and then on the corresponding character.",e.jsx("br",{}),"To undo, just select normally that your choice was overridden."]})}),e.jsx("br",{}),e.jsx(A,{currentRound:c.current})]}),e.jsxs("div",{className:"q-voting-container",children:[e.jsx("div",{className:"q-voting-characters",children:t.map(u=>{const y=N(["char",u]),J=Se[u]??[];return e.jsxs(C,{onClick:()=>f(y),active:E(y),className:"q-voting-characters__button",children:[e.jsx(Ve,{labels:J}),e.jsx(w,{character:a[u],width:h,className:Z(u==="a"&&"q-character-player"),imageCardMode:l})]},u)})}),e.jsx("div",{className:"q-players-glyphs",children:_e(n).map(u=>{const y=N(["player",u.id]);return e.jsx(C,{onClick:()=>f(y),active:E(y),children:e.jsx(ne,{player:u,glyphWidth:m,done:!!p[y]})},`glyphs-for-${u.id}`)})})]}),e.jsxs(S,{children:[e.jsx(M,{size:"large",onClick:()=>o({guesses:Ue(p),choseRandomly:K}),disabled:r.ready||!P,children:e.jsx(i,{pt:e.jsx(e.Fragment,{children:"Enviar pares"}),en:e.jsx(e.Fragment,{children:"Submit guesses"})})}),e.jsx(xe,{size:"large",type:"dashed",onClick:()=>j(),disabled:d||r.ready,icon:e.jsx(Ye,{}),children:e.jsx(i,{pt:e.jsx(e.Fragment,{children:"Desistir"}),en:e.jsx(e.Fragment,{children:"Guess for me"})})})]})]})}function fs({players:r,state:s}){var l;const o=re(r,s),{step:n,setStep:a}=B(),t=hs(a),c=e.jsx(L,{icon:e.jsx(De,{}),title:e.jsx(i,{pt:"Pareie os personagens e símbolos",en:"Pair characters with the players' glyphs"}),currentRound:(l=s==null?void 0:s.round)==null?void 0:l.current,type:"overlay",children:e.jsx(z,{children:e.jsx(A,{currentRound:s.round.current})})});return e.jsx(D,{phase:s==null?void 0:s.phase,allowedPhase:b.GUESSING,children:e.jsx($,{step:n,players:r,children:e.jsx(Ss,{user:o,onSubmitGuesses:t,characters:s.characters,tableOrder:s.tableOrder,players:r,announcement:c,round:s.round,imageCardMode:s.mode==="imageCards"})})})}function bs({players:r,playersSay:s,playersPoints:o,characters:n,currentColor:a,currentPlayer:t,round:c,imageCardMode:l}){const d=je(Object.entries(s).map(([h,p])=>({cardId:h,character:n[h],playersIds:p,count:p.length,isCorrect:t.character.id===h})),["isCorrect","count","card.text"],["desc","desc","asc"]),m=s[t.character.id];return e.jsxs(_,{className:"q-gallery__info-container",direction:"vertical",children:[e.jsxs(_,{className:"q-gallery__votes",direction:"vertical",children:[e.jsx(de,{children:e.jsx(i,{pt:"Jogadores votaram",en:"Players voted"})}),d.map((h,p)=>e.jsxs("div",{className:"q-gallery__guess",children:[e.jsx(Xe,{winner:h.isCorrect,backgroundColor:a,children:l?e.jsx(ge,{id:h.character.id,cardWidth:35,className:"inline"}):e.jsx(Re,{children:h.character.name})}),e.jsx(X,{playersIds:h.playersIds,players:r})]},`guess-${h.cardId}-${p}`))]}),e.jsxs(_,{className:"q-gallery__votes",direction:"vertical",children:[e.jsx(de,{children:e.jsx(i,{pt:"Pontos",en:"Points"})}),m.length?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"q-gallery__players",children:e.jsx(X,{playersIds:m,players:r,children:e.jsx(le,{quantity:c.current,keyPrefix:`guessers-points-${t.id}`})})}),e.jsx("div",{className:"q-gallery__player-points",children:e.jsx(X,{playersIds:[t.id],players:r,children:e.jsx(le,{quantity:o==null?void 0:o[t.id],keyPrefix:`artist-points-${t.id}`})})})]}):e.jsx(Ze,{children:e.jsx(i,{pt:"Esses ícones devem ter sido uma bosta, heim.",en:"It must have been a very crappy glyphs. What a shame..."})})]})]})}function Cs({players:r,gallery:s,characters:o,slideShowConfig:n,round:a,imageCardMode:t}){Ie();const c=R(20,{gap:16,minWidth:45,maxWidth:60}),l=R(8,{gap:16,minWidth:120,maxWidth:200}),{playerId:d,characterId:m,playersPoints:h,playersSay:p}=s[n.slideIndex],x=r[d],f=Ee(x.avatarId);return e.jsxs(U,{className:"l-step-album",children:[e.jsx(H,{children:e.jsx(i,{pt:"Galeria",en:"Gallery"})}),e.jsx(ve,{content:e.jsx(A,{currentRound:a.current})}),e.jsxs(Je,{config:n,barColor:f,leftClassName:"q-gallery__result",rightClassName:"q-gallery__info",children:[e.jsxs("div",{className:"q-gallery__result-container",children:[e.jsx("div",{className:"q-gallery__player",style:{backgroundColor:f},children:e.jsx(Ke,{player:x,size:"large"})}),e.jsxs(S,{vertical:!0,children:[e.jsx(w,{character:o[m],width:l,imageCardMode:t}),e.jsx(ne,{player:x,glyphWidth:c})]})]}),e.jsx(bs,{players:r,playersSay:p,playersPoints:h,characters:o,currentColor:f,currentPlayer:x,round:a,imageCardMode:t})]})]})}function _s({players:r,ranking:s,round:o,onGoBack:n}){return e.jsxs(es,{players:r,ranking:s,gainedPointsDescriptions:[e.jsx(i,{pt:"Votos corretos",en:"Correct guesses"},"1"),e.jsx(i,{pt:"Votos corretos em seu personagem por outros jogadores",en:"Correct guesses on your character by other players"},"2")],children:[e.jsx(ve,{content:e.jsx(A,{currentRound:o.current})}),e.jsx(ss,{round:o}),e.jsx(xe,{size:"large",onClick:n,icon:e.jsx(rs,{}),children:e.jsx(i,{pt:"Ver Galeria Novamente",en:"See Gallery Again"})}),e.jsx(qe,{round:o})]})}function Rs({players:r,state:s}){var l;const{step:o,goToPreviousStep:n,goToNextStep:a}=B(),t=Qe({length:s.gallery.length,slideDuration:cs,onExpire:a}),c=()=>{t.reset(),n()};return e.jsx(D,{phase:s==null?void 0:s.phase,allowedPhase:b.RESULTS,children:e.jsxs($,{step:o,players:r,children:[e.jsx(L,{icon:e.jsx(Be,{}),title:e.jsx(i,{pt:"Resultado",en:"Results"}),onClose:a,currentRound:(l=s==null?void 0:s.round)==null?void 0:l.current,unskippable:!0,type:"block",children:e.jsx(z,{children:e.jsx(A,{currentRound:s.round.current})})}),e.jsx(Cs,{players:r,gallery:s.gallery,characters:s.characters,slideShowConfig:t,round:s.round,imageCardMode:s.mode==="imageCards"}),e.jsx(_s,{players:r,ranking:s.ranking,round:s.round,onGoBack:c})]})})}function Es({players:r,character:s,glyphWidth:o,imageCardsMode:n}){const[a,t]=k.useMemo(()=>He(s.glyphs??{}),[s.glyphs]);return e.jsxs("div",{className:"q-player-glyphs q-final-character",children:[e.jsx(is,{player:r[s.playerId],withName:!0,className:"q-player-glyphs__strip"}),e.jsx(w,{width:100,character:s,imageCardMode:n}),a.map((c,l)=>e.jsxs("div",{className:"q-player-glyphs__entry q-player-glyphs__entry--positive",children:[e.jsx(I,{icon:e.jsx(Q,{}),size:"small"}),c?e.jsx(q,{width:o,id:c}):e.jsx("div",{className:"q-selections__no-glyph",style:{width:`${o}px`,height:`${o}px`}})]},`pos-${s.id}-${c}-${l}`)),t.map((c,l)=>e.jsxs("div",{className:"q-player-glyphs__entry q-player-glyphs__entry--negative",children:[e.jsx(I,{icon:e.jsx(Y,{}),size:"small"}),c?e.jsx(q,{width:o,id:c}):e.jsx("div",{className:"q-selections__no-glyph",style:{width:`${o}px`,height:`${o}px`}})]},`neg-${s.id}-${c}-${l}`))]})}function Ns({state:r,players:s,meta:o}){return e.jsxs(ns,{state:r,players:s,announcementIcon:e.jsx(os,{}),children:[e.jsx(ts,{players:s,achievements:r.achievements,reference:as}),e.jsx(S,{wrap:!0,children:je(r.gallery,`name.${o.language}`).map(n=>{var a;return e.jsx(Es,{players:s,character:n,glyphWidth:30,imageCardsMode:!!((a=o.options)!=null&&a.imageCardsMode)},n.id)})})]})}function Is(r){switch(r.phase){case b.CHARACTER_FILTERING:return us;case b.CHARACTER_DESCRIPTION:return vs;case b.GUESSING:return fs;case b.RESULTS:return Rs;case Pe.DEFAULT.GAME_OVER:return Ns;default:return Ae}}function ho(){return e.jsx(we,{gameCollection:Ne.QUEM_SOU_EU,getActiveComponent:Is})}export{ho as default};
