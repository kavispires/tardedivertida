import{r as b,ay as ye,f as w,bf as U,bz as br,F as vr,n as nr,bn as Le,j as e,D as J,J as tr,aL as G,b1 as Ir,e as j,aH as Or,l as Nr,T as u,a$ as pe,B as Tr,I as ke,bb as A,aF as ar,aK as q,bE as xe,i as X,aX as Sr,aV as _r,aW as Ar}from"./index-CQUMMVDG.js";import{u as be,S as ve,b as Ie,c as H,d as Oe,P as Ne,e as Te,f as O,g as Se,n as Er,i as Cr,j as wr,k as Rr,l as $r}from"./StepSwitcher-Cltrlngp.js";import{u as ir}from"./useWhichPlayerIsThe-BienN5uq.js";import{Q as Dr}from"./QuestionIcon-DcdEAURa.js";import{I as $}from"./Instruction-BcmUACq2.js";import{S as sr}from"./SignCard-Cz2twplz.js";import{u as Lr}from"./useTDBaseUrl-BF9foKiS.js";import{S as or}from"./index-DM0bH6ac.js";import{V as kr}from"./VerticalAlignTopOutlined-v_ZPtoJ9.js";import{R as qr}from"./StepBackwardOutlined-CRQAUTIE.js";import{A as F}from"./AvatarName-DIZJIZlp.js";import{R as D}from"./RuleInstruction-DN3QIpN4.js";import{V as R}from"./ViewIf-Dx-pJO2X.js";import{A as Fr,a as Pr}from"./AlienStarEyesIcon-DHmsRwME.js";import{A as qe}from"./AlienNeutralIcon-mb2bVclW.js";import{C as dr}from"./Card-CVNI8OKP.js";import{C as cr}from"./CharacterCard-CBV82Jmw.js";import{I as lr}from"./ItemCard-CflSsGvY.js";import{S as ur}from"./SuspectCard-CNIlLjF3.js";/* empty css                             */import{I as mr}from"./ImageCard-DSHAVMIq.js";import{P as Br}from"./index-igwYyNuM.js";import{R as Ur}from"./CloseCircleOutlined-Dh_3gi92.js";import{a as Mr}from"./useBlurCards-BNBaHpYL.js";import{C as Vr}from"./Collapse-CWc3g6-a.js";import{F as Gr}from"./Table-BflFT9Dr.js";import{T as Fe}from"./index-D9a1HKEb.js";import{N as Hr}from"./NuclearExplosionIcon-BrqzhFn0.js";import{T as _}from"./TextHighlight-RzvVEwxu.js";import{V as _e}from"./ViewOr-BkEx7VU8.js";import{M as Wr}from"./MysteryBoxIcon-Cz8fhh9a.js";import{T as Pe}from"./RulesModal-CyiumakY.js";import{T as Yr}from"./TheEndIcon-UcvM5_Bv.js";import"./GameOver-Dfoeq1n2.js";import{G as zr}from"./GameOverWrapper-T3rdZG_8.js";import{A as Qr}from"./Achievements-BAyv2Mp4.js";import{a as Kr}from"./achievements-BSYlXBla.js";import"./speech-DcZj5YcT.js";import"./useDevFeatures-NUd8DDqp.js";import"./useMutation-CNFCaVbz.js";import"./Game-DMEYRr-s.js";import"./WaitingRoomIcon-DaW3uofA.js";import"./AnimatedClockIcon-Cr0gLJd3.js";import"./PurePanel-DkMXBX4K.js";import"./index-SVYsEjXI.js";import"./Overflow-3IsHxuZJ.js";import"./useEvent-DBQOYUIG.js";import"./index-DjhFmCe7.js";import"./Avatar-CmeCW0wX.js";import"./GameBanner-DY8t2G9E.js";import"./InfoCircleOutlined-tNBm2eLt.js";import"./index-CnGqfOjc.js";import"./SignIn-Cqng2M16.js";import"./GoogleIcon-QYeWCHdD.js";import"./DoubleRightOutlined-_thKMvXL.js";import"./Loading-BcJgtUMy.js";import"./AnimatedLoaderIcon-T0eGRTHJ.js";import"./LikeFilled-Clhf1Kqr.js";import"./Sprite-C1udt0Hk.js";import"./WarningOutlined-CclWfmT_.js";import"./StarFilled-D0W2b4Hd.js";import"./StarFilled-CNctUIhy.js";import"./ImageBlurButtonContainer-0igmRsBa.js";import"./ImageBlurButton-BnRq3atq.js";import"./EllipsisOutlined-B6_2mSqc.js";import"./index-De6wMb-w.js";import"./useBubbleLock-Dck5kWPv.js";import"./useId-0-OfsZou.js";import"./scrollTo-KRbcs74W.js";import"./FilterFilled-B9EqEaba.js";import"./iconUtil-CJfzjpEk.js";import"./CaretDownOutlined-Dv3U9ShB.js";import"./CaretUpOutlined-CTN4lzvm.js";import"./WritingIcon-D_CabSBO.js";import"./ArrowRightOutlined-CQllJ8az.js";import"./useMergedState-D5RTwnQi.js";import"./progress-2u_7ipfX.js";import"./Container-B97coqBy.js";import"./Medal-DKUNn8kV.js";import"./QuestionCircleOutlined-DVgZxFlY.js";var Jr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M112 476h160v72H112zm320 0h160v72H432zm320 0h160v72H752z"}}]},name:"dash",theme:"outlined"},Xr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 780H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM505.7 669a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V176c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8z"}}]},name:"vertical-align-bottom",theme:"outlined"};function je(){return je=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},je.apply(this,arguments)}const Zr=(n,r)=>b.createElement(ye,je({},n,{ref:r,icon:Jr})),en=b.forwardRef(Zr);function fe(){return fe=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},fe.apply(this,arguments)}const rn=(n,r)=>b.createElement(ye,fe({},n,{ref:r,icon:Xr})),nn=b.forwardRef(rn);function ge(){return ge=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},ge.apply(this,arguments)}const tn=(n,r)=>b.createElement(ye,ge({},n,{ref:r,icon:kr})),an=b.forwardRef(tn),Ae={SUBMIT_REQUEST:"SUBMIT_REQUEST",SUBMIT_DELIVERY:"SUBMIT_DELIVERY",STOP_DELIVERY:"STOP_DELIVERY"},L={A:"A",B:"B",TABOO:"TABOO"},Ee=[L.A,L.B],N={IDLE:"IDLE",WIN:"WIN",LOSE:"LOSE",CONTINUE:"CONTINUE"},Z={IDLE:"IDLE",A:L.A,B:L.B};function sn(){const{translate:n}=w(),r=be({actionName:"submit-request",successMessage:n("Ação submetida com sucesso","Action submitted successfully"),errorMessage:n("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return t=>{r({action:Ae.SUBMIT_REQUEST,...t})}}function on(){const{translate:n}=w(),r=be({actionName:"submit-delivery",successMessage:n("Ação submetida com sucesso","Action submitted successfully"),errorMessage:n("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return t=>{r({action:Ae.SUBMIT_DELIVERY,...t})}}function dn(){const{translate:n}=w(),r=be({actionName:"stop-delivery",successMessage:n("Ação submetida com sucesso","Action submitted successfully"),errorMessage:n("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return()=>{r({action:Ae.STOP_DELIVERY})}}var ee,Be;function hr(){if(Be)return ee;Be=1;function n(r){var t=typeof r;return r!=null&&(t=="object"||t=="function")}return ee=n,ee}var re,Ue;function cn(){if(Ue)return re;Ue=1;var n=typeof U=="object"&&U&&U.Object===Object&&U;return re=n,re}var ne,Me;function pr(){if(Me)return ne;Me=1;var n=cn(),r=typeof self=="object"&&self&&self.Object===Object&&self,t=n||r||Function("return this")();return ne=t,ne}var te,Ve;function ln(){if(Ve)return te;Ve=1;var n=pr(),r=function(){return n.Date.now()};return te=r,te}var ae,Ge;function un(){if(Ge)return ae;Ge=1;var n=/\s/;function r(t){for(var a=t.length;a--&&n.test(t.charAt(a)););return a}return ae=r,ae}var ie,He;function mn(){if(He)return ie;He=1;var n=un(),r=/^\s+/;function t(a){return a&&a.slice(0,n(a)+1).replace(r,"")}return ie=t,ie}var se,We;function xr(){if(We)return se;We=1;var n=pr(),r=n.Symbol;return se=r,se}var oe,Ye;function hn(){if(Ye)return oe;Ye=1;var n=xr(),r=Object.prototype,t=r.hasOwnProperty,a=r.toString,s=n?n.toStringTag:void 0;function c(m){var h=t.call(m,s),o=m[s];try{m[s]=void 0;var i=!0}catch{}var l=a.call(m);return i&&(h?m[s]=o:delete m[s]),l}return oe=c,oe}var de,ze;function pn(){if(ze)return de;ze=1;var n=Object.prototype,r=n.toString;function t(a){return r.call(a)}return de=t,de}var ce,Qe;function xn(){if(Qe)return ce;Qe=1;var n=xr(),r=hn(),t=pn(),a="[object Null]",s="[object Undefined]",c=n?n.toStringTag:void 0;function m(h){return h==null?h===void 0?s:a:c&&c in Object(h)?r(h):t(h)}return ce=m,ce}var le,Ke;function jn(){if(Ke)return le;Ke=1;function n(r){return r!=null&&typeof r=="object"}return le=n,le}var ue,Je;function fn(){if(Je)return ue;Je=1;var n=xn(),r=jn(),t="[object Symbol]";function a(s){return typeof s=="symbol"||r(s)&&n(s)==t}return ue=a,ue}var me,Xe;function gn(){if(Xe)return me;Xe=1;var n=mn(),r=hr(),t=fn(),a=NaN,s=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,m=/^0o[0-7]+$/i,h=parseInt;function o(i){if(typeof i=="number")return i;if(t(i))return a;if(r(i)){var l=typeof i.valueOf=="function"?i.valueOf():i;i=r(l)?l+"":l}if(typeof i!="string")return i===0?i:+i;i=n(i);var x=c.test(i);return x||m.test(i)?h(i.slice(2),x?2:8):s.test(i)?a:+i}return me=o,me}var he,Ze;function yn(){if(Ze)return he;Ze=1;var n=hr(),r=ln(),t=gn(),a="Expected a function",s=Math.max,c=Math.min;function m(h,o,i){var l,x,p,y,d,f,v=0,E=!1,T=!1,S=!0;if(typeof h!="function")throw new TypeError(a);o=t(o)||0,n(i)&&(E=!!i.leading,T="maxWait"in i,p=T?s(t(i.maxWait)||0,o):p,S="trailing"in i?!!i.trailing:S);function I(g){var C=l,k=x;return l=x=void 0,v=g,y=h.apply(k,C),y}function Q(g){return v=g,d=setTimeout(B,o),E?I(g):y}function fr(g){var C=g-f,k=g-v,De=o-C;return T?c(De,p-k):De}function Re(g){var C=g-f,k=g-v;return f===void 0||C>=o||C<0||T&&k>=p}function B(){var g=r();if(Re(g))return $e(g);d=setTimeout(B,fr(g))}function $e(g){return d=void 0,S&&l?I(g):(l=x=void 0,y)}function gr(){d!==void 0&&clearTimeout(d),v=0,l=f=x=d=void 0}function yr(){return d===void 0?y:$e(r())}function K(){var g=r(),C=Re(g);if(l=arguments,x=this,f=g,C){if(d===void 0)return Q(f);if(T)return clearTimeout(d),d=setTimeout(B,o),I(f)}return d===void 0&&(d=setTimeout(B,o)),y}return K.cancel=gr,K.flush=yr,K}return he=m,he}var bn=yn();const vn=br(bn);function jr(n){const r=Lr("resources");return vr({queryKey:["items-attributes"],queryFn:async()=>await(await fetch(`${r}/items-attributes.json`)).json(),enabled:n,staleTime:Number.POSITIVE_INFINITY})}function Ce({value:n,onChange:r,availableAttributeKeys:t,disabled:a}){const{language:s}=w(),{isLoading:c,data:m={}}=jr(!0),[h,o]=b.useState(""),i=b.useCallback(vn(d=>{o(d)},300),[]),l=b.useMemo(()=>nr.orderBy(t?Object.values(m).filter(d=>t.includes(d.id)):Object.values(m),[`name.${s}`],["asc"]),[m,t,s]),x=b.useMemo(()=>l.reduce((d,f)=>(d[f.id]=Le(`${f.name[s]} ${f.description[s]} ${f.keywords}`).toLowerCase(),d),{}),[l,s]),p=b.useMemo(()=>l.filter(d=>h===""||x[d.id].includes(Le(h.toLowerCase()))),[l,x,h]),y=(d,f)=>{r(On(n,d,f))};return e.jsx(or,{spinning:c,children:e.jsxs("div",{className:"alien-keyboard",style:{width:"100%"},children:[e.jsxs("div",{className:"alien-keyboard__keys",children:[In.map(d=>e.jsxs("button",{type:"button",className:"alien-keyboard__key alien-keyboard__key--helper",onClick:()=>y(d.id,"helper"),disabled:a,children:[d.icon,e.jsx("small",{children:e.jsx(J,{children:d.name})})]},d.id)),e.jsx("div",{className:"alien-keyboard__search",children:e.jsx(tr.Search,{placeholder:"Search",onChange:d=>i(d.target.value),onSearch:d=>i(d),style:{width:156},disabled:a,allowClear:!0})})]}),e.jsx("div",{className:"alien-keyboard__keys",children:p.map(d=>e.jsx(G,{title:e.jsx("div",{className:"center",children:e.jsx(J,{children:d.description})}),children:e.jsxs("button",{type:"button",className:"alien-keyboard__key",onClick:()=>y(d.id,"attribute"),disabled:a,children:[e.jsx(sr,{width:32,id:`${d.spriteId.split("-")[1]}`,className:"transparent"}),e.jsx("small",{children:e.jsx(J,{children:d.name})})]})},d.id))})]})})}const In=[{id:"^",name:{en:"NOT",pt:"NÃO"},icon:e.jsx(an,{}),type:"helper"},{id:"~",name:{en:"SORTA",pt:"MEIO"},icon:e.jsx(en,{}),type:"helper"},{id:"*",name:{en:"VERY",pt:"MUITO"},icon:e.jsx(nn,{}),type:"helper"},{id:"<",name:{en:"Backspace",pt:"Apagar"},icon:e.jsx(qr,{})}],On=(n,r,t)=>{const a=n[n.length-1]??"",s=!Ir.includes(a.toUpperCase());return t==="attribute"?s?`${n}${r}`:n.includes(r)?n:`${n}+${r}`:t==="helper"?r==="<"?s?n.slice(0,-1):n.slice(0,-4):s?`${n.slice(0,-1)}${r}`:`${n}${r}`:n};function P({value:n,withTranslation:r=!1,className:t,...a}){const{isLoading:s,data:c={}}=jr(!0),{dualTranslate:m}=w(),h=b.useMemo(()=>Nn(n).map(i=>{const l=i[0],x=i.substring(1);if(x&&(c!=null&&c[x])){const p=c[x];return{spriteId:p==null?void 0:p.spriteId,variant:er[l],name:{pt:`${M[l].pt}${p==null?void 0:p.name.pt}`.trim().toLowerCase(),en:`${M[l].en}${p==null?void 0:p.name.en}`.trim().toLowerCase()},description:{en:(p==null?void 0:p.description.en)??"",pt:(p==null?void 0:p.description.pt)??""}}}return{spriteId:"",variant:er[l],name:{pt:`${M[l].pt} `,en:`${M[l].en} `},description:{pt:"",en:""}}}),[n,c]);return e.jsxs(or,{spinning:s,children:[e.jsx("div",{className:j("alien-text",t),...a,children:h.map(o=>e.jsx(G,{title:m(o.name),children:e.jsx("div",{className:j("alien-text__character",`alien-text__character--${o.variant}`),children:e.jsx(sr,{width:48,id:`${o.spriteId.split("-")[1]}`,className:"transparent"})})},`${o.spriteId}-${o.variant}`))}),r&&e.jsx("div",{className:"alien-text-translation",children:h.map(o=>e.jsx(G,{title:m(o.description),children:e.jsx("span",{className:"alien-text-translation__text",children:m(o.name)})},`${o.spriteId}-${o.variant}`))})]})}function Nn(n){const r=[];for(let t=0;t<n.length;t+=4)r.push(n.substring(t,t+4));return r}const M={"+":{en:"",pt:""},"^":{en:"not ",pt:"não "},"~":{en:"sorta ",pt:"meio "},"*":{en:"very ",pt:"muito "}},er={"+":"normal","^":"not","~":"sorta","*":"very"};function V({entry:n,deckType:r,userSide:t}){const{dualTranslate:a}=w(),s=Ee.indexOf(t);return r==="items"?e.jsx("div",{className:j("cd-board-entry",`cd-board-entry--${n.affiliation[s]}`),children:e.jsx(lr,{id:`${n.data.id}`,title:n.data.name?a(n.data.name):void 0})},`cd-board-entry-${n.data.id}`):r==="images"?e.jsx("div",{className:j("cd-board-entry",`cd-board-entry--${n.affiliation[s]}`),children:e.jsx(mr,{id:n.data.id,cardWidth:72,className:"board-entry-image-card"})},`cd-board-entry-${n.data.id}`):r==="contenders"?e.jsx("div",{className:j("cd-board-entry",`cd-board-entry--${n.affiliation[s]}`),children:e.jsx(cr,{character:n.data,size:96,className:"board-entry-image-card"})},`cd-board-entry-${n.data.id}`):r==="suspects"?e.jsx("div",{className:j("cd-board-entry",`cd-board-entry--${n.affiliation[s]}`),children:e.jsx(ur,{suspect:n.data,width:72,hideName:!0})},`cd-board-entry-${n.data.id}`):r==="words"?e.jsx("div",{className:j("cd-board-entry",`cd-board-entry--${n.affiliation[s]}`),children:e.jsx(dr,{hideHeader:!0,children:n.data.text})},`cd-board-entry-${n.data.id}`):e.jsx("div",{className:j("cd-board-entry",`cd-board-entry--${n.affiliation[s]}`),children:n.id},`cd-board-entry-${n.id}`)}function W({deck:n,deckType:r,userId:t,userSide:a,onClick:s,animateEntries:c=[],disabled:m}){const h=Ee.indexOf(a),o=b.useMemo(()=>{const i=h===0?1:0,l=we(a);return n.some(x=>{var p;return x.affiliation[h]===L.TABOO&&x.affiliation[i]===l&&((p=x.deliveredBy)==null?void 0:p.length)})},[n,a,h]);return e.jsx(Or.PreviewGroup,{children:e.jsx("div",{className:"cd-board",children:n.map(i=>{var x,p;const l=i.affiliation[h]===L.TABOO&&o;return s&&i.status===Z.IDLE&&!((x=i.deliveredBy)!=null&&x.includes(t))&&!l?e.jsx(Br,{title:e.jsx(u,{en:"Are you sure you want to deliver this item?",pt:"Você tem certeza que deseja entregar este item?"}),trigger:r==="images"?"hover":"click",onConfirm:()=>s(i),children:e.jsx(Nr,{disabled:m,className:"cd-board-entry-entry-wrapper",children:e.jsx(rr,{entry:i,userId:t,userSide:a,animateEntries:c,children:e.jsx(V,{entry:i,deckType:r,userSide:a})})},i.id)},i.id):i.status===Z.A||i.status===Z.B?e.jsx("span",{className:j(c.includes(i.id)&&pe("slideInDown")),children:e.jsx(Tn,{side:i.status,children:e.jsx(V,{entry:i,deckType:r,userSide:a})})},i.id):(((p=i==null?void 0:i.deliveredBy)==null?void 0:p.length)??0)>0?e.jsx("div",{className:"cd-board-entry-entry-wrapper",children:e.jsx(rr,{entry:i,userId:t,userSide:a,animateEntries:c,children:e.jsx(V,{entry:i,deckType:r,userSide:a})})},i.id):e.jsxs("div",{className:j("cd-board-entry-entry-wrapper",l&&s&&"cd-board-entry-entry-wrapper--not-allowed"),children:[l&&e.jsx("div",{className:"cd-board-entry-taboo",children:e.jsx(G,{title:e.jsx(u,{en:"You already found the other player's item that matches one of your taboos so none of these other ones can be an item for the other player anymore.",pt:"Você já encontrou o item do outro jogador que corresponde a um dos seus tabus, então nenhum desses outros tabus seus pode ser um item para o outro jogador."}),children:e.jsx(Tr,{shape:"circle",size:"small",icon:e.jsx(Ur,{})})})}),e.jsx(V,{entry:i,deckType:r,userSide:a})]},i.id)})})})}function Tn({side:n,children:r}){const[t,a]=Mr(!1);return e.jsxs("div",{className:"cd-board-entry-cover",onClick:a,children:[e.jsx("div",{className:j("cd-board-entry-cover__alien",`cd-board-entry-cover__alien--${we(n)}`,t&&"cd-board-entry-cover__alien--open"),children:n==="A"?e.jsx(Fr,{style:{width:36}}):e.jsx(Pr,{style:{width:36}})}),r]})}function rr({children:n,entry:r,userId:t,userSide:a,animateEntries:s}){var h,o,i,l;if((((h=r==null?void 0:r.deliveredBy)==null?void 0:h.length)??0)===0)return e.jsx(e.Fragment,{children:n});const c=(o=r.deliveredBy)==null?void 0:o.includes(t),m=!!((i=r.deliveredBy)!=null&&i.filter(x=>x!==t).length);return e.jsxs("div",{className:j("cd-board-entry-neutral",((l=r.deliveredBy)==null?void 0:l.includes(t))&&"cd-board-entry-neutral--not-allowed"),children:[c&&e.jsx("span",{className:j(s.includes(r.id)&&pe("tada")),children:e.jsx(ke,{className:j("cd-board-entry-neutral-item",`cd-board-entry-neutral-item--${a}`),icon:e.jsx(qe,{color:a==="A"?"teal":"orange"})})}),m&&e.jsx("span",{className:j(s.includes(r.id)&&pe("tada")),children:e.jsx(ke,{className:j("cd-board-entry-neutral-item",`cd-board-entry-neutral-item--${we(a)}`),icon:e.jsx(qe,{color:a==="A"?"orange":"teal"})})}),n]})}const we=n=>n==="A"?"B":"A";function Y({summary:n,players:r,round:t}){const a=Object.values(r).find(c=>c.side==="A"),s=Object.values(r).find(c=>c.side==="B");return!a||!s?null:e.jsxs("div",{className:"cd-summary",children:[e.jsxs("div",{className:"cd-summary__entry",children:[e.jsx("div",{className:"cd-summary__number",children:t.total-t.current+1}),e.jsx("div",{className:"cd-summary__entry-label",children:e.jsx(u,{en:"Rounds left",pt:"Rodadas restantes"})})]}),e.jsxs("div",{className:"cd-summary__entry",children:[e.jsx("div",{className:"cd-summary__number cd-summary__number--left",children:n.deliverablesLeft}),e.jsx("div",{className:"cd-summary__entry-label",children:e.jsx(u,{en:"Items left",pt:"Itens restantes"})})]}),e.jsxs("div",{className:"cd-summary__entry",children:[e.jsx("div",{className:"cd-summary__number cd-summary__number--A",children:n.deliverablesLeftForA}),e.jsx("div",{className:"cd-summary__entry-label",children:e.jsx(F,{player:a})})]}),e.jsxs("div",{className:"cd-summary__entry",children:[e.jsx("div",{className:"cd-summary__number cd-summary__number--B",children:n.deliverablesLeftForB}),e.jsx("div",{className:"cd-summary__entry-label",children:e.jsx(F,{player:s})})]})]})}function Sn({deliverable:n,deckType:r,userSide:t}){const{dualTranslate:a}=w(),s=Ee.indexOf(t);return r==="items"?e.jsx("div",{className:j("cd-history-entry",`cd-history-entry--${n.affiliation[s]}`),children:e.jsx(lr,{id:`${n.data.id}`,title:n.data.name?a(n.data.name):void 0,width:64})},`cd-history-entry-${n.data.id}`):r==="images"?e.jsx("div",{className:j("cd-history-entry",`cd-history-entry--${n.affiliation[s]}`),children:e.jsx(mr,{id:n.data.id,cardWidth:48,className:"history-entry-image-card"})},`cd-history-entry-${n.data.id}`):r==="contenders"?e.jsx("div",{className:j("cd-history-entry",`cd-history-entry--${n.affiliation[s]}`),children:e.jsx(cr,{character:n.data,size:96,className:"history-entry-image-card"})},`cd-history-entry-${n.data.id}`):r==="suspects"?e.jsx("div",{className:j("cd-history-entry",`cd-history-entry--${n.affiliation[s]}`),children:e.jsx(ur,{suspect:n.data,width:72,hideName:!0})},`cd-history-entry-${n.data.id}`):r==="words"?e.jsx("div",{className:j("cd-history-entry",`cd-history-entry--${n.affiliation[s]}`),children:e.jsx(dr,{hideHeader:!0,children:n.data.text})},`cd-history-entry-${n.data.id}`):e.jsx("div",{className:"cd-board-entry",children:n.id})}function z({history:n,players:r,deck:t,deckType:a,clueInputType:s,userSide:c}){const m=b.useMemo(()=>nr.keyBy(t,"id"),[t]),h=[{key:"player",title:e.jsx(u,{pt:"Jogador",en:"Player"}),dataIndex:"requesterId",render:i=>e.jsx(F,{player:r[i]})},{key:"clue",title:e.jsx(u,{pt:"Pedido",en:"Dica"}),dataIndex:"clue",render:i=>s==="alien-keyboard"?e.jsx(P,{value:i,withTranslation:!0}):i},{key:"quantity",title:e.jsx(u,{pt:"Quantidade",en:"Quantity"}),dataIndex:"quantity"},{key:"deliverables",title:e.jsx(u,{pt:"Itens",en:"Items"}),dataIndex:"deliverables",render:i=>e.jsx(A,{wrap:"wrap",gap:8,children:i.map(l=>e.jsx(Sn,{deliverable:m[l],deckType:a,userSide:c},l))})}],o=[{key:"history",label:e.jsx(u,{pt:"Histórico de Perguntas",en:"Inquiry History"}),children:e.jsx(Gr,{dataSource:n,columns:h,pagination:!1})}];return e.jsx($,{contained:!0,children:e.jsx(Vr,{items:o})})}function _n({players:n,user:r,announcement:t,deckType:a,deck:s,status:c,history:m,requester:h,isTheRequester:o,summary:i,clueInputType:l,round:x,onSubmitRequest:p}){const{isLoading:y}=ar(),[d,f]=b.useState(""),[v,E]=b.useState(1),{dualTranslate:T}=w(),S=()=>{p({clue:d,clueQuantity:v})};return e.jsxs(ve,{fullWidth:!0,announcement:t,children:[e.jsx(Ie,{size:"small",wait:o,children:o?e.jsx(u,{pt:e.jsx(e.Fragment,{children:"Peça algo!"}),en:e.jsx(e.Fragment,{children:"Ask for something!"})}):e.jsx(u,{pt:e.jsxs(e.Fragment,{children:["Aguarde ",e.jsx(F,{player:h})," pedir algo"]}),en:e.jsxs(e.Fragment,{children:["Wait for ",e.jsx(F,{player:h})," to ask for something"]})})}),e.jsx(D,{type:"rule",children:c===N.IDLE?e.jsx(u,{en:"It's the first round, so any of you can give the first clue",pt:"É a primeira rodada, então qualquer um de vocês pode dar a primeira dica"}):e.jsx(u,{en:"Players alternate asking for items, unless one player is done asking for all of their items",pt:"Os jogadores alternam pedindo itens, a menos que um jogador tenha terminado de pedir todos os seus itens"})}),e.jsxs(A,{gap:8,align:"center",children:[e.jsx(W,{deck:s,deckType:a,userId:r.id,userSide:r.side}),e.jsx(Y,{summary:i,players:n,round:x})]}),e.jsxs(R,{condition:l==="alien-keyboard",children:[e.jsx(R,{condition:o,children:e.jsx(D,{type:"action",children:e.jsx(u,{en:"Use the keyboard below to type your request and add the number of items you want",pt:"Use o teclado abaixo para digitar seu pedido e adicione o número de itens que deseja"})})}),e.jsxs(q,{vertical:!0,children:[e.jsx(R,{condition:o,children:e.jsxs(A,{gap:8,align:"center",children:[e.jsx(P,{value:d,withTranslation:!0}),e.jsxs("strong",{children:[e.jsx(u,{en:"Quantity",pt:"Quantidade"}),":"]}),e.jsx(Fe,{value:v,onChange:I=>E(I??1),min:0,max:6,size:"large"}),e.jsx(xe,{size:"large",loading:y,disabled:!d,onClick:S,children:e.jsx(u,{en:"Submit",pt:"Enviar"})})]})}),e.jsx(Ce,{value:d,onChange:f,disabled:!o||r.ready})]})]}),e.jsxs(R,{condition:l!=="alien-keyboard"&&o,children:[e.jsx(D,{type:"rule",children:e.jsx(u,{en:"You can ask for items by typing your request in the input box",pt:"Você pode pedir itens digitando seu pedido no campo de entrada"})}),e.jsxs(q,{vertical:!0,children:[e.jsxs(A,{gap:8,align:"center",children:[e.jsx(tr,{size:"large",value:d,onChange:I=>f(I.target.value),placeholder:T({pt:"Digite seu pedido aqui",en:"Type your request here"})}),e.jsxs("strong",{children:[e.jsx(u,{en:"Quantity",pt:"Quantidade"}),":"]}),e.jsx(Fe,{value:v,onChange:I=>E(I??1),min:0,max:6,size:"large"})]}),e.jsx(xe,{size:"large",loading:y,disabled:!d,onClick:S,children:e.jsx(u,{en:"Submit",pt:"Enviar"})})]})]}),e.jsx(z,{history:m,players:n,deck:s,deckType:a,clueInputType:l,userSide:r.side})]})}function An({players:n,state:r}){var o;const t=H(n,r),{step:a}=Oe(),[s,c]=r.status===N.IDLE?[t,!0]:ir("requesterId",r,n),m=sn(),h=e.jsx(Ne,{icon:e.jsx(Dr,{}),title:c?e.jsx(u,{pt:"Peça algo",en:"Ask for something"}):e.jsx(u,{pt:"O outro jogador pede algo",en:"The other player asks for something"}),currentRound:(o=r==null?void 0:r.round)==null?void 0:o.current,type:"overlay",children:e.jsx($,{children:e.jsx(u,{pt:e.jsx(e.Fragment,{children:"Cada alienígena deve dar dicar para todos os itens marcados com sua cor"}),en:e.jsx(e.Fragment,{children:"Each alien must give clues for all items marked with their color"})})})});return e.jsx(Te,{phase:r==null?void 0:r.phase,allowedPhase:O.COMUNICACAO_DUO.ASKING_FOR_SOMETHING,children:e.jsx(Se,{step:a,players:n,children:e.jsx(_n,{user:t,players:n,announcement:h,deckType:r.deckType,deck:r.deck,status:r.status,history:r.history,requester:s,isTheRequester:c,summary:r.summary,clueInputType:r.clueInputType,onSubmitRequest:m,round:r.round})})})}function En({announcement:n,players:r,user:t,deckType:a,deck:s,status:c,history:m,summary:h,clueInputType:o,round:i,clue:l,clueQuantity:x,entryIdToAnimate:p,nextPhase:y}){const d=b.useMemo(()=>c===N.CONTINUE&&!p?{en:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Skip!"})," All done for this round, let's try another clue"]}),pt:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Passa!"})," Tudo certo para esta rodada, vamos tentar outra dica"]})}:c===N.WIN?{en:e.jsx(e.Fragment,{children:"All items have been found!"}),pt:e.jsx(e.Fragment,{children:"Todos os itens foram encontrados!"})}:c===N.LOSE?{en:e.jsxs(e.Fragment,{children:["Nooooo, a ",e.jsx(_,{children:"taboo"})," item has been selected!"]}),pt:e.jsxs(e.Fragment,{children:["Nãããão, um item ",e.jsx(_,{children:"taboo"})," foi selecionado!"]})}:c===N.CONTINUE&&y===O.COMUNICACAO_DUO.ASKING_FOR_SOMETHING?{en:e.jsxs(e.Fragment,{children:[e.jsx(_,{children:"Neutral!"})," All done fir this round, let's try another clue."]}),pt:e.jsxs(e.Fragment,{children:[e.jsx(_,{children:"Neutro!"})," Vamos para a próxima rodada."]})}:{en:e.jsxs(e.Fragment,{children:[e.jsx(_,{children:"Correct!"})," Want to try one more item?"]}),pt:e.jsxs(e.Fragment,{children:[e.jsx(_,{children:"Correto!"})," Quer tentar outro item?"]})},[c,p,y]);return e.jsxs(ve,{fullWidth:!0,announcement:n,children:[e.jsx(Ie,{size:"small",children:e.jsx(u,{en:"Results",pt:"Resultado"})}),e.jsx(D,{type:"event",children:e.jsx(u,{en:d.en,pt:d.pt})}),e.jsx(Er,{round:i,autoTriggerTime:c!==N.CONTINUE?5:2,withWaitingTimeBar:!0}),e.jsxs(A,{gap:8,align:"center",className:"mb-4",children:[e.jsx("div",{className:"cd-clue-quantity",children:x}),e.jsxs(_e,{condition:o==="alien-keyboard",children:[e.jsx(P,{value:l,withTranslation:!0}),e.jsx(_,{style:{fontSize:"1.5rem",background:"white"},children:l})]})]}),e.jsxs(A,{gap:8,align:"center",children:[e.jsx(W,{deck:s,deckType:a,userId:t.id,userSide:t.side,animateEntries:p?[p]:[]}),e.jsx(Y,{summary:h,players:r,round:i})]}),e.jsx(R,{condition:o==="alien-keyboard",children:e.jsx(q,{children:e.jsx(Ce,{value:"",onChange:()=>{},disabled:!0})})}),e.jsx(z,{history:m,players:r,deck:s,deckType:a,clueInputType:o,userSide:t.side})]})}function Cn({players:n,state:r}){var c;const t=H(n,r),{step:a}=Oe(),s=r.status===N.LOSE?e.jsx(Ne,{icon:e.jsx(Hr,{}),title:e.jsx(u,{pt:"Nãaaaaaooooooo",en:"Nooooooooo"}),currentRound:(c=r==null?void 0:r.round)==null?void 0:c.current,type:"overlay",duration:4}):void 0;return e.jsx(Te,{phase:r==null?void 0:r.phase,allowedPhase:O.COMUNICACAO_DUO.VERIFICATION,children:e.jsx(Se,{step:a,players:n,children:e.jsx(En,{user:t,players:n,deckType:r.deckType,deck:r.deck,status:r.status,history:r.history,summary:r.summary,clueInputType:r.clueInputType,clue:r.clue,clueQuantity:r.clueQuantity,round:r.round,entryIdToAnimate:r.entryIdToAnimate,nextPhase:r.nextPhase,announcement:s})})})}function wn({players:n,user:r,announcement:t,deckType:a,deck:s,history:c,isTheRequester:m,summary:h,clueInputType:o,round:i,onSubmitDelivery:l,onStopDelivery:x,clue:p,clueQuantity:y}){var E,T,S,I;const{isLoading:d}=ar(),f=Q=>{l({delivery:Q.id})},v=c[c.length-1];return e.jsxs(ve,{fullWidth:!0,announcement:t,children:[e.jsx(Ie,{size:"small",wait:m,children:m?e.jsx(u,{pt:e.jsx(e.Fragment,{children:"Aguarde o outro jogador responder com alguma coisa"}),en:e.jsx(e.Fragment,{children:"Wait for the other player to answer with something"})}):e.jsx(u,{pt:e.jsx(e.Fragment,{children:"Dê um item"}),en:e.jsx(e.Fragment,{children:"Give an item"})})}),e.jsx(D,{type:m?"wait":"action",children:m?e.jsxs(e.Fragment,{children:[e.jsx(u,{en:"You asked for an item and the other player now must deliver at least one item. If they are correct, they can try another",pt:"Você pediu um item e o outro jogador agora deve entregar pelo menos um deles. Se eles acertarem, podem tentar outro"}),e.jsx("br",{}),e.jsx(u,{en:"After delivering at least one, the player may stop and skip to the next turn",pt:"Depois de entregar pelo menos um, o jogador pode parar e pular para a próxima rodada"})]}):e.jsxs(e.Fragment,{children:[e.jsx(u,{en:"The other player asked for an item and you must deliver at least one item. If you are correct, you can try another",pt:"O outro jogador pediu um item e você deve entregar pelo menos um deles. Se você acertar, você pode tentar outro"}),e.jsx("br",{}),e.jsx(u,{en:"Click on the item one by one to deliver them. After delivering at least one, you will able to stop and skip to the next turn",pt:"Clique nos itens um por um para entregá-los. Depois de entregar pelo menos um, você poderá parar e pular para a próxima rodada"})]})}),e.jsx(R,{condition:((E=v.deliverables)==null?void 0:E.length)>0&&!m,children:e.jsxs(D,{type:"rule",children:[((T=v.deliverables)==null?void 0:T.length)>=y?e.jsx(u,{en:"You have delivered all the items you needed in this round. You can stop now or try to deliver more",pt:"Você entregou todos os itens que precisava nesta rodada. Você pode parar agora ou tentar entregar mais"}):e.jsx(u,{en:e.jsxs(e.Fragment,{children:["You have delivered ",e.jsx(Pe,{children:(S=v.deliverables)==null?void 0:S.length}),"things this round. You may stop now and skip to the next turn"]}),pt:e.jsxs(e.Fragment,{children:["Você entregou ",e.jsx(Pe,{children:(I=v.deliverables)==null?void 0:I.length}),"coisas essa rodada. Você pode parar agora e pular para a próxima rodada"]})}),e.jsx("br",{}),e.jsx(xe,{onClick:x,type:"default",loading:d,block:!0,children:e.jsx(u,{en:"Stop",pt:"Parar"})})]})}),e.jsxs(A,{gap:8,align:"center",className:"mb-4",children:[e.jsx("div",{className:"cd-clue-quantity",children:y}),e.jsxs(_e,{condition:o==="alien-keyboard",children:[e.jsx(P,{value:p,withTranslation:!0}),e.jsx(_,{style:{fontSize:"1.5rem",background:"white"},children:p})]})]}),e.jsxs(A,{gap:8,align:"center",children:[e.jsx(W,{deck:s,deckType:a,userId:r.id,userSide:r.side,onClick:m?void 0:f,disabled:d}),e.jsx(Y,{summary:h,players:n,round:i})]}),e.jsx(R,{condition:o==="alien-keyboard",children:e.jsx(q,{children:e.jsx(Ce,{value:"",onChange:()=>{},disabled:!0})})}),e.jsx(z,{history:c,players:n,deck:s,deckType:a,clueInputType:o,userSide:r.side})]})}function Rn({players:n,state:r}){var x;const t=H(n,r),{step:a}=Oe(),[s,c]=ir("requesterId",r,n),m=on(),h=dn(),i=r.history[r.history.length-1].deliverables.length>0,l=e.jsx(Ne,{icon:e.jsx(Wr,{}),title:c?e.jsx(u,{pt:"Você pediu!",en:"You asked for"}):e.jsx(u,{pt:"Por favor, me vê aí...",en:"Please give me..."}),currentRound:(x=r==null?void 0:r.round)==null?void 0:x.current,type:"overlay",duration:3,children:e.jsx($,{children:e.jsxs(_e,{condition:r.clueInputType==="alien-keyboard",children:[e.jsx(P,{value:r.clue??""}),e.jsx(_,{style:{fontSize:"1.5rem"},children:r.clue})]})})});return e.jsx(Te,{phase:r==null?void 0:r.phase,allowedPhase:O.COMUNICACAO_DUO.DELIVER_SOMETHING,children:e.jsx(Se,{step:a,players:n,children:e.jsx(wn,{user:t,players:n,announcement:i?void 0:l,deckType:r.deckType,deck:r.deck,status:r.status,history:r.history,requester:s,isTheRequester:c,summary:r.summary,clueInputType:r.clueInputType,clue:r.clue,clueQuantity:r.clueQuantity,onSubmitDelivery:m,onStopDelivery:h,round:r.round})})})}function $n({state:n,players:r}){const t=H(r,n);return e.jsxs(zr,{state:n,players:r,announcementIcon:e.jsx(Yr,{}),children:[e.jsxs(q,{vertical:!0,children:[n.status===N.WIN&&e.jsxs(e.Fragment,{children:[e.jsx(X,{level:3,children:e.jsx(u,{pt:"Vocês venceram!",en:"You won!"})}),e.jsx($,{contained:!0,children:e.jsx(u,{pt:"Vocês comunicaram todos os items",en:"You communicated all items"})})]}),n.status===N.LOSE&&e.jsxs(e.Fragment,{children:[e.jsx(X,{level:3,children:e.jsx(u,{pt:"Vocês perderam!",en:"You lost!"})}),e.jsx($,{contained:!0,children:e.jsx(u,{pt:"Alguém clicou em  um tabu",en:"Someone selected a taboo"})})]}),n.status===N.CONTINUE&&e.jsxs(e.Fragment,{children:[e.jsx(X,{level:3,children:e.jsx(u,{pt:"Vocês perderam!",en:"You lost!"})}),e.jsx($,{contained:!0,children:e.jsx(u,{pt:"As rodadas acabaram antes que vocês comunicassem todos os itens",en:"The rounds ended before you communicated all items"})})]})]}),e.jsx(Qr,{players:r,achievements:n.achievements,reference:Kr}),e.jsxs(A,{gap:8,align:"center",children:[e.jsx(W,{deck:n.deck,deckType:n.deckType,userId:t.id,userSide:t.side}),e.jsx(Y,{summary:n.summary,players:r,round:n.round})]}),e.jsx(z,{history:n.history,players:r,deck:n.deck,deckType:n.deckType,clueInputType:n.clueInputType,userSide:t.side})]})}function Dn(n){if(n&&!n.phase)return _r;switch(n.phase){case O.DEFAULT.LOBBY:return $r;case O.DEFAULT.RULES:return Rr;case O.DEFAULT.SETUP:return wr;case O.COMUNICACAO_DUO.ASKING_FOR_SOMETHING:return An;case O.COMUNICACAO_DUO.DELIVER_SOMETHING:return Rn;case O.COMUNICACAO_DUO.VERIFICATION:return Cn;case O.DEFAULT.GAME_OVER:return $n;default:return Ar}}function oa(){return e.jsx(Cr,{gameCollection:Sr.COMUNICACAO_DUO,getActiveComponent:Dn})}export{oa as default};
