import{r as p,aF as me,a7 as pe,j as e,h as V,q as I,e as h,T as d,ca as S,O as he,s as ae,P as L,I as x,aM as oe,aP as C,B as ie,aT as xe,b6 as U,aQ as B,cd as je,bE as T,a_ as ge}from"./index-CGSQCK0t.js";import{u as W,P as M,S as G,a as q,b as D,c as X,d as Y,H as fe,e as ve,f as ye,g as Ae,h as be}from"./StepSwitcher-riAWV7qW.js";import{L as k}from"./LockIcon-DT7Jjzuo.js";import{S as ce,T as Ne}from"./TimedWritingIcon-D2kuT0JS.js";import{T as A}from"./TimeHighlight-oLUzA6og.js";import{I as w}from"./useDevFeatures-4QR5HvPz.js";import{T as R}from"./TextHighlight-BBQU5doS.js";import{R as Se}from"./RoundAnnouncement-B0bBzutb.js";import{u as _e}from"./DebugOnly-CI0uw_R2.js";import{u as we}from"./useMock-DzbdTnVI.js";import{D as K}from"./DevButton-BbZ_bfHf.js";import{R as J}from"./RuleInstruction-BTOlawPn.js";import{A as Re}from"./AnimatedClockIcon-DGotG7CH.js";import{M as Ee}from"./MetricHighlight-BbMtYAlA.js";import{m as ee}from"./clues-CfU41eOQ.js";import{B as Te}from"./BoxQuestionMarkIcon-Cw34nd4G.js";import{B as Ie}from"./BoxXIcon-BBd_dJxK.js";import{N as z}from"./NoIcon-C2NNfHES.js";import{S as Ce,a as ke}from"./SpeechBubbleThumbsUpIcon-ChLcA5rH.js";import{P as He}from"./PlayerAvatar-DZkmtLXb.js";import{P as E}from"./PlayerAvatarName-CZpoHAVP.js";import{P as g}from"./PointsHighlight-CUSwFIdn.js";import{R as Me}from"./LockFilled-Dmktt0PI.js";import{D as Pe}from"./index-D5DYhoAJ.js";import{T as le}from"./TimedTimerBar-DKwTCgmh.js";import{V as $e}from"./VerifyListIcon-CepDiEhd.js";import{R as de}from"./PlusOutlined-UT8o0ADj.js";import{R as Oe}from"./RankIcon-BcDKW-Ek.js";import{S as Fe}from"./StepRanking-BfYS1-uy.js";import{T as Le}from"./speech-DPLxsvHj.js";import{R as Ue}from"./TrophyOutlined-DfPGpqP5.js";import{C as Be}from"./CrownIcon-CbClqPz1.js";import"./GameBanner-BiB3i5W6.js";import{G as ze}from"./GameOverWrapper-BrlD7RZ7.js";import{A as Ve}from"./Achievements-BBt2sdln.js";import{T as se}from"./TitledContainer-DUpYPwWK.js";import{a as We}from"./achievements-DKaYe857.js";import"./RulesModal-WYtPVJHj.js";import"./WritingIcon-DDH-TRUI.js";import"./index-2x-tnb_W.js";import"./PurePanel-DsjFyYmk.js";import"./Game-Bg1Z5STA.js";import"./useMutation-BXEqyBJN.js";import"./index-WouEotSt.js";import"./index-C39LbwFe.js";import"./Overflow-RsMGoRvb.js";import"./index-D3RWvR2x.js";import"./index-DeVsjLs3.js";import"./useTDBaseUrl-BF9foKiS.js";import"./index-BhBdG--N.js";import"./Loading-Be1moASX.js";import"./useBubbleLock-BnRdg95y.js";import"./AnimatedLoaderIcon-DQ1E5w_H.js";import"./InfoCircleOutlined-CPB6yJYi.js";import"./SignIn-bWFf5ziQ.js";import"./GoogleIcon-DCtzGIji.js";import"./WaitingRoomIcon-C_iyn3kK.js";import"./LikeFilled-CyE-gQre.js";import"./ClockIcon-C6AkfjF1.js";import"./StarFilled-yu4V3BzG.js";import"./StarIcon-C8TDa5V5.js";import"./TimerBar-CEnplf7P.js";import"./progress-BP3zqMsa.js";import"./StepRankingWrapper-oj2MiU-f.js";import"./RankingBoard-DENxntVo.js";import"./CaretUpOutlined-BH-Lil8S.js";import"./TheEndIcon-BdMfADAT.js";import"./ArrowRightOutlined-B7g1X7DC.js";import"./Medal--dsqLftD.js";var Ge={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464H332V240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v68c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-68c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM540 701v53c0 4.4-3.6 8-8 8h-40c-4.4 0-8-3.6-8-8v-53a48.01 48.01 0 1156 0z"}}]},name:"unlock",theme:"filled"},qe=function(r,n){return p.createElement(me,pe({},r,{ref:n,icon:Ge}))},De=p.forwardRef(qe);const Xe=s=>s<10?`0${s}`:s;function Ye({icon:s,type:r,iconSize:n,children:o,className:c="",iconPlacement:t="before",minutes:i=0,seconds:a}){return e.jsxs(Ee,{icon:s??e.jsx(Re,{}),type:r,iconSize:n,className:c,iconPlacement:t,children:[i,":",Xe(a),o]})}const _={ANSWERING:"ANSWERING",EVALUATION:"EVALUATION",RESULTS:"RESULTS"},Q={SUBMIT_ANSWERS:"SUBMIT_ANSWERS",NEXT_EVALUATION_GROUP:"NEXT_EVALUATION_GROUP",SUBMIT_REJECTED_ANSWERS:"SUBMIT_REJECTED_ANSWERS"},P=180,H=P/60;function Je(s){const{translate:r}=V(),n=W({actionName:"submit-answers",onSuccess:()=>s(3),onError:()=>s(2),successMessage:r("Respostas submetidas com sucesso","Answers submitted successfully"),errorMessage:r("Vixi, o aplicativo encontrou um erro ao tentar enviar suas respostas","Oops, the application found an error while trying to submit your answers")});return o=>{n({action:Q.SUBMIT_ANSWERS,...o})}}function Qe(){const{translate:s}=V(),r=W({actionName:"go-to-next-evaluation-group",successMessage:s("Ação submetida com sucesso","Action submitted successfully"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return()=>{r({action:Q.NEXT_EVALUATION_GROUP})}}function Ze(){const{translate:s}=V(),r=W({actionName:"go-to-next-evaluation-group",successMessage:s("Ação submetida com sucesso","Action submitted successfully"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return n=>{r({action:Q.SUBMIT_REJECTED_ANSWERS,...n})}}const Ke=s=>{const r={};return s.xHeaders.forEach((n,o)=>{s.yHeaders.forEach((c,t)=>{const i=`${o}-${t}`;r[i]={id:i,answer:"",timestamp:0}})}),r},es=(s,r,n,o)=>{if(o||Math.random()>.5){if(!(Math.random()>.1))return{id:s,answer:`ç${ee()}ç`,timestamp:I.random(30,Math.max(P,45))};let i=ee();if(n.type==="starts-with"&&(i=`${n.letters}${i}`),n.type==="ends-with"&&(i=`${i}${n.letters}`),n.type==="includes"){const a=I.random(0,i.length-1);i=`${i.slice(0,a)}${n.letters}${i.slice(a)}`}return{id:s,answer:i,timestamp:I.random(1,180)}}return{id:s,answer:"",timestamp:0}},re=(s,r,n,o)=>{const c={...s};return Object.keys(c).forEach(t=>{const[i,a]=t.split("-").map(Number),l=r[i],u=n[a],f=es(t,l,u,o);f&&(c[t]=f)}),c},ss="/tardedivertida/assets/category-icons-BT_vZNlh.svg";function rs({category:s,width:r=35,className:n=""}){return e.jsx("div",{className:h("category-icon",n),style:{width:`${r}px`,height:`${r}px`},children:e.jsx("svg",{viewBox:"0 0 512 512",style:{width:`${r}px`,height:`${r}px`},children:e.jsx("use",{href:`${ss}#${s}`})})})}function ns({grid:s,answers:r,updateAnswer:n,toggleLock:o}){const c=p.useMemo(()=>new Array((s.xHeaders.length+1)*(s.yHeaders.length+1)).fill(0).map((i,a)=>{const l=a%(s.xHeaders.length+1),u=Math.floor(a/(s.xHeaders.length+1));return l===0&&u===0?{type:"corner"}:l===0?s.yHeaders[u-1]:u===0?s.xHeaders[l-1]:{id:`${l-1}-${u-1}`,type:"cell"}}),[s.xHeaders,s.yHeaders]);return e.jsx("div",{className:"adedanhx-grid",style:{gridTemplateColumns:`auto repeat(${s.xHeaders.length}, 1fr)`,gridTemplateRows:`auto repeat(${s.yHeaders.length}, 1fr)`},children:c.map(t=>{const i=String((t?.letters||t?.label||t.id)??t.type);let a=ue;return t?.letters&&(a=O),t?.label&&(a=$),t?.type==="cell"&&(a=as),e.jsx(a,{data:t,toggleLock:o,updateAnswer:n,answer:r?.[t?.id]},i)})})}function ts({grid:s,players:r,answersGrid:n,answersGroups:o}){const c=p.useMemo(()=>new Array((s.xHeaders.length+1)*(s.yHeaders.length+1)).fill(0).map((i,a)=>{const l=a%(s.xHeaders.length+1),u=Math.floor(a/(s.xHeaders.length+1));if(l===0&&u===0)return{type:"corner"};if(l===0)return s.yHeaders[u-1];if(u===0)return s.xHeaders[l-1];const f=`${l-1}-${u-1}`,m=n[f];return{id:`${l-1}-${u-1}`,type:"cell",result:m}}),[s.xHeaders,s.yHeaders,n]);return e.jsx("div",{className:"adedanhx-grid",style:{gridTemplateColumns:`auto repeat(${s.xHeaders.length}, 1fr)`,gridTemplateRows:`auto repeat(${s.yHeaders.length}, 1fr)`},children:c.map(t=>{const i=String((t?.letters||t?.label||t.id)??t.type);let a=ue;return t?.letters&&(a=O),t?.label&&(a=$),t?.type==="cell"&&(a=os,t.groupAnswer=o.find(l=>l.id===t.id)),e.jsx(a,{data:t,updateAnswer:S,players:r},i)})})}function ue(s){return e.jsx("div",{className:h("adedanhx-grid-cell adedanhx-grid-cell__corner"),children:"."})}function $({data:s}){const{label:r,category:n,level:o}=s;return e.jsxs("div",{className:h("adedanhx-grid-cell adedanhx-grid-cell__header"),children:[e.jsx("span",{className:"adedanhx-grid-cell__category-icon",children:e.jsx(rs,{category:n})}),e.jsx("span",{className:"adedanhx-grid-cell__category-label",children:r}),e.jsx("span",{className:"adedanhx-grid-cell__level",children:Array(o).fill("✰").join("")})]})}function O({data:s}){const{letters:r,level:n,type:o}=s;return e.jsxs("div",{className:h("adedanhx-grid-cell adedanhx-grid-cell__header"),children:[e.jsxs("span",{className:h("adedanhx-grid-cell__letters-type",`adedanhx-grid-cell__letters-type--${o}`),children:[o==="ends-with"&&e.jsx(d,{pt:"Termina com",en:"Ends with"}),o==="includes"&&e.jsx(d,{pt:"Contém",en:"Includes"})]}),e.jsxs("span",{className:"adedanhx-grid-cell__letters-label",children:[o==="ends-with"&&"-",r]}),e.jsx("span",{className:"adedanhx-grid-cell__level",children:Array(n).fill("✰").join("")})]})}function as({data:s,answer:r,toggleLock:n=()=>{},updateAnswer:o}){const{id:c}=s,t=(r?.timestamp??0)>0;return e.jsxs("div",{className:h("adedanhx-grid-cell adedanhx-grid-cell__writing"),children:[e.jsx(he,{className:"adedanhx-grid-cell__input",placeholder:"?",onChange:i=>o(c,i.target.value),disabled:t}),e.jsx(ae,{checkedChildren:e.jsx(Me,{}),unCheckedChildren:e.jsx(De,{}),onClick:()=>n(c),disabled:!r?.answer})]})}function os({data:s,players:r}){const{result:n,groupAnswer:o}=s;return!o||o?.answers?.length===0||!r?e.jsx(L,{content:e.jsx(d,{pt:"Ninguém respondeu essa",en:"Nobody has answered this one"}),children:e.jsx("div",{className:h("adedanhx-grid-cell adedanhx-grid-cell__results"),children:e.jsx(x,{icon:e.jsx(Te,{}),size:"large"})})}):o?.answers?.length>0&&!n?e.jsx(L,{content:e.jsx(ne,{groupAnswer:o,players:r}),children:e.jsx("div",{className:h("adedanhx-grid-cell adedanhx-grid-cell__results"),children:e.jsx(x,{icon:e.jsx(Ie,{}),size:"large"})})}):e.jsx(L,{content:e.jsx(ne,{groupAnswer:o,players:r}),children:e.jsxs("div",{className:h("adedanhx-grid-cell adedanhx-grid-cell__results"),children:[e.jsx("span",{className:"adedanhx-grid-cell__results-player",children:e.jsx(E,{player:r[n.main.playerId]})}),e.jsxs("span",{className:"adedanhx-grid-cell__results-answer",children:['"',n.main.answer,'"']}),e.jsx("span",{className:"adedanhx-grid-cell__results-score",children:e.jsx(g,{type:"positive",children:n.main.score})}),e.jsx(Pe,{className:"adedanhx-grid-cell__results-divider"}),e.jsxs("span",{className:"adedanhx-grid-cell__results-players",children:[e.jsxs("div",{children:[e.jsx(g,{children:n.score})," "]}),n.playerIds.map(c=>e.jsx(He,{avatarId:r[c].avatarId,alt:r[c].name,size:"small"},`${n.id}-${c}`))]})]})})}function ne({groupAnswer:s,players:r}){return e.jsx("ul",{className:"popover-results",children:s.answers.map(n=>e.jsxs(p.Fragment,{children:[e.jsx(E,{player:r[n.playerId]}),e.jsx("span",{children:n.answer}),n.autoRejected&&e.jsx(x,{icon:e.jsx(z,{}),size:"small"}),n.rejected&&e.jsx(x,{icon:e.jsx(Ce,{}),size:"small"}),!n.rejected&&!n.autoRejected&&e.jsx(x,{icon:e.jsx(ke,{}),size:"small"})]},n.id))})}function is({stopper:s,onSubmit:r}){return e.jsxs(e.Fragment,{children:[e.jsx(M,{icon:e.jsx(ce,{}),title:"STOP!",currentRound:1,type:"overlay",duration:4,children:e.jsx(w,{children:e.jsx(d,{pt:e.jsxs(e.Fragment,{children:[e.jsx(E,{player:s})," parou o jogo!",e.jsx("br",{}),"Você tem ",e.jsx(A,{children:"5 segundos"})," pra terminar o que tava escrevendo!"]}),en:e.jsxs(e.Fragment,{children:[e.jsx(E,{player:s})," stopped the game!",e.jsx("br",{}),"You have ",e.jsx(A,{children:"5 seconds"})," to finish what you were writing!"]})})})}),e.jsx(le,{duration:12,onExpire:r})]})}function cs({grid:s,onSubmitAnswers:r,user:n,players:o,stoppedBy:c}){const{isLoading:t}=oe(),[i,a]=p.useState(Ke(s)),l=j=>{r({answers:Object.values(i).reduce((v,y)=>(y.answer&&(v[y.id]=`${y.answer}${xe}${y.timestamp}`),v),{}),stop:j?n.id:void 0})},{timeLeft:u,seconds:f,minutes:m}=_e({duration:P,onExpire:l}),b=(j,v)=>{a(y=>({...y,[j]:{...y[j],answer:v.trim()}}))},F=j=>{a(v=>({...v,[j]:{...v[j],timestamp:v[j].timestamp?0:u}}))};we();const N=Object.values(i).every(j=>j.timestamp>0);return e.jsxs(G,{fullWidth:!0,children:[e.jsxs(q,{children:[e.jsx(d,{pt:"Complete a grade",en:"Complete the grid"})," ",e.jsx(Ye,{seconds:f,minutes:m,iconSize:"large",className:"timer"})]}),c&&e.jsx(is,{stopper:o[c],onSubmit:l}),e.jsx(J,{type:"rule",children:e.jsx(d,{pt:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Escreva"})," na ordem que achar melhor e não esqueça de ",e.jsx("strong",{children:"apertar"})," do botão de cadeado ",e.jsx(x,{size:"small",icon:e.jsx(k,{})})," a cada resposta para que seu tempo seja gravado corretamente.",e.jsx("br",{}),"Você tem ",e.jsxs(A,{children:[H," minutos"]}),"!"]}),en:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Write"})," tne the answers in the order you think is best and don't forget to"," ",e.jsx("strong",{children:"press"})," the lock button ",e.jsx(x,{size:"small",icon:e.jsx(k,{})})," after each answer.",e.jsx("br",{}),"You have ",e.jsxs(A,{children:[H," minutes"]}),"!"]})})}),e.jsx(ns,{grid:s,answers:i,updateAnswer:b,toggleLock:F}),e.jsxs(w,{contained:!0,children:[e.jsx(d,{pt:"Se você acabar todas as células antes do tempo você pode apertar stop para finalizar a rodada.",en:"If you finish all the cells before the time you can press stop to end the round."}),e.jsxs(C,{children:[e.jsx(K,{ghost:!0,onClick:()=>a(re(i,s.xHeaders,s.yHeaders)),children:"Mock Answers"}),e.jsx(K,{ghost:!0,onClick:()=>a(re(i,s.xHeaders,s.yHeaders,!0)),children:"Mock Stop"}),e.jsx(ie,{type:"primary",size:"large",className:"button",onClick:()=>l(!0),disabled:t||u<20||!N,loading:t,icon:e.jsx(x,{size:"small",icon:e.jsx(ce,{})}),children:e.jsx(d,{pt:"STOP!",en:"STOP!"})})]})]})]})}function ls({players:s,state:r,user:n}){const{step:o,goToNextStep:c,setStep:t}=D(),i=Je(t);return e.jsx(X,{phase:r?.phase,allowedPhase:_.ANSWERING,children:e.jsxs(Y,{step:o,players:s,children:[e.jsx(Se,{round:r?.round,onPressButton:c,buttonText:" ",time:r?.round?.current===1?10:5,unskippable:!0,children:e.jsx(w,{contained:!0,children:e.jsx(d,{pt:e.jsxs(e.Fragment,{children:["Você tem ",e.jsxs(A,{children:[H," minutos"]})," para preencher o maior número de células da tabela combinando coluna e linha.",e.jsx("br",{}),"A cada célula que você completa, lembre-se de apertar o"," ",e.jsx(x,{size:"small",icon:e.jsx(k,{})})," cadeado para gravar o tempo."]}),en:e.jsxs(e.Fragment,{children:["You have ",e.jsxs(A,{children:[H," minutes"]})," to fill in as many cells of the table as possible by combining column and row.",e.jsx("br",{}),"For each cell you complete, remember to press the"," ",e.jsx(x,{size:"small",icon:e.jsx(k,{})})," lock to record the time."]})})})}),e.jsx(M,{icon:e.jsx(Ne,{}),title:e.jsx(d,{pt:"Adedanhe!",en:"Write!!!"}),currentRound:r?.round?.current,type:"block",onClose:c,duration:r.grid.xHeaders.length*4,unskippable:!0,children:e.jsx(w,{children:e.jsx(d,{pt:e.jsxs(e.Fragment,{children:["As categorias da rodada são"," ",r.grid.xHeaders.map(a=>e.jsx(R,{dark:!0,children:a.label},a.label)),".",e.jsx("br",{}),"Você ganha pontos bônus se você for o primeiro a responder uma célula! Boa sorte!"]}),en:e.jsxs(e.Fragment,{children:["The round categories are"," ",r.grid.xHeaders.map(a=>e.jsx(R,{dark:!0,children:a.label},a.label)),".",e.jsx("br",{}),"You get bonus points if you are the first to answer a cell! Good luck!"]})})})}),e.jsx(cs,{players:s,user:n,grid:r.grid,onSubmitAnswers:i,stoppedBy:r.stop})]})})}function Z(){return e.jsx(d,{pt:e.jsxs(e.Fragment,{children:["Cada resposta válida ganha ",e.jsx(g,{children:"pontos"})," de acordo com as estrelas sua letra (linha).",e.jsx("br",{}),"O primeiro jogador a responder em cada célula, também ganha"," ",e.jsx(g,{type:"positive",children:"pontos bônus"})," igual as estrelas da categoria (coluna)."]}),en:e.jsxs(e.Fragment,{children:["Each valid answer earns ",e.jsx(g,{children:"points"})," according to the stars of its letter (row).",e.jsx("br",{}),"The first player to answer in each cell also earns"," ",e.jsx(g,{type:"positive",children:"bonus points"})," equal to the stars of the category (column)."]})})}function ds({answersGroup:s,players:r,user:n,onSubmitRejections:o,timer:c}){const{isLoading:t}=oe(),[i,a]=p.useState(""),[l,u]=p.useState({});p.useEffect(()=>{i!==s.id&&(u({}),a(s.id))},[s.id]);const f=(m,b)=>{u(F=>{const N={...F};return!b&&N[m]?delete N[m]:N[m]=b,N})};return e.jsxs("div",{children:[e.jsxs("div",{className:"div-container evaluation-entry",children:[e.jsxs("div",{className:"div-container evaluation-entry__side",children:[e.jsx("span",{className:h(U("flipInY")),children:e.jsx($,{data:s.topic,updateAnswer:S})},s.topic.id),e.jsx(de,{}),e.jsx("span",{className:h(U("flipInY")),children:e.jsx(O,{data:s.letter,updateAnswer:S})},s.letter.letters)]}),e.jsxs("div",{className:h("div-container evaluation-entry__side",U("fadeIn")),children:[s.answers.map(m=>e.jsxs("div",{className:"evaluation-entry__player",children:[e.jsxs(A,{children:[P-m.timestamp,'"']})," ",e.jsx(E,{player:r[m.playerId]})," ",e.jsx("span",{className:h("evaluation-entry__answer-text",m.autoRejected&&"evaluation-entry__answer-text--rejected"),children:e.jsx(B,{title:m.answer,children:m.answer})}),m.autoRejected?e.jsx(B,{title:e.jsx(d,{pt:"Resposta rejeitada automaticamente por não condizer com a letra",en:"Auto rejected for not fit the letter"}),children:e.jsx(x,{icon:e.jsx(z,{}),size:"small"})}):e.jsx(ae,{checkedChildren:e.jsx(x,{icon:e.jsx(z,{}),size:"small"}),unCheckedChildren:e.jsx(je,{}),onClick:b=>f(m.id,b),checked:l[m.id]?!0:void 0})]},m.playerId)),e.jsx(C,{className:"evaluation-entry__reject-button",children:e.jsx(ie,{type:"primary",shape:"round",onClick:()=>o({evaluations:l}),loading:t,disabled:I.isEqual(l,n.evaluations),children:e.jsx(d,{pt:"Atualizar rejeições",en:"Reject wrong answers"})})})]},s.id)]}),e.jsx(C,{children:e.jsx(le,{duration:c,onExpire:S,className:"margin"})},s.id)]})}function us({players:s,user:r,announcement:n,answersGroups:o,answersGroupIndex:c,onNextGroup:t,onSubmitRejections:i}){const a=o[c],l=p.useMemo(()=>Math.min(a.answers.length*3,12),[a.answers.length]);return e.jsxs(G,{fullWidth:!0,announcement:n,children:[e.jsx(q,{children:e.jsx(d,{pt:e.jsxs(e.Fragment,{children:["Avaliação"," ",e.jsxs(R,{children:[c+1," / ",o.length]})]}),en:e.jsxs(e.Fragment,{children:["Evaluation"," ",e.jsxs(R,{children:[c+1," / ",o.length]})]})})}),e.jsx(J,{type:"rule",children:e.jsx(d,{pt:e.jsxs(e.Fragment,{children:["Se você acha que alguma não está certa dentro da categoria e letra, aperte o botãozinho para marcar como errado.",e.jsx("br",{}),"Todos que responderam ganham"," ",e.jsxs(g,{children:[a.letter.level," ",T(a.letter.level,"ponto")]})," ","e o primeiro jogador que respondeu corretamente ganha"," ",e.jsxs(g,{type:"positive",children:[a.topic.level," ",T(a.topic.level,"ponto")]}),"adicionais."]}),en:e.jsxs(e.Fragment,{children:["If you think any of the answers is wrong, ",e.jsx("strong",{children:"hit"})," the check mark switch and submit wrong answers.",e.jsx("br",{}),"Everyone who answered earns"," ",e.jsxs(g,{children:[a.letter.level," ",T(a.letter.level,"point")]}),"and the first player who answered correctly earns additional"," ",e.jsxs(g,{type:"positive",children:[a.topic.level," ",T(a.topic.level,"point")]}),"."]})})}),e.jsx(ds,{answersGroup:a,players:s,user:r,onSubmitRejections:i,timer:c===0?15:l}),e.jsx(ms,{onNextGroup:t,duration:c===0?15:l,players:s},c)]})}function ms({onNextGroup:s,duration:r,players:n}){const[o,c]=p.useState(!0),t=p.useMemo(()=>Object.values(n).filter(i=>i.ready).length,[n]);return e.jsxs(fe,{className:"m-admin",direction:"vertical",align:"center",children:[e.jsxs("span",{children:[e.jsx(d,{pt:"Rejeições",en:"Rejections"}),": ",e.jsx(R,{children:t})]}),e.jsx(ve,{onClick:s,disabled:o,duration:r,onExpire:()=>c(!1),children:e.jsx(d,{pt:"Confirmar e ir paro o próximo grupo",en:"Confirm and go to next answer"})})]})}function ps({players:s,state:r,user:n}){const{step:o}=D(),c=Qe(),t=Ze(),i=e.jsx(M,{icon:e.jsx($e,{}),title:e.jsx(d,{pt:"Avaliação",en:"Evaluation"}),currentRound:r?.round?.current,type:"overlay",duration:10,children:e.jsxs(w,{children:[e.jsx(d,{pt:e.jsxs(e.Fragment,{children:["Vamos conferir cada resposta!",e.jsx("br",{})]}),en:e.jsxs(e.Fragment,{children:["Let's check each answer!",e.jsx("br",{})]})}),e.jsx(Z,{})]})});return e.jsx(X,{phase:r?.phase,allowedPhase:_.EVALUATION,children:e.jsx(Y,{step:o,players:s,children:e.jsx(us,{players:s,user:n,announcement:i,answersGroups:r.answersGroups,answersGroupIndex:r.answersGroupIndex,onNextGroup:c,onSubmitRejections:t})})})}function hs({grid:s,players:r,answersGrid:n,answersGroups:o,goToNextStep:c,announcement:t}){return e.jsxs(G,{fullWidth:!0,announcement:t,children:[e.jsx(q,{children:e.jsx(d,{pt:e.jsx(e.Fragment,{children:"Resultado"}),en:e.jsx(e.Fragment,{children:"Results"})})}),e.jsx(J,{type:"rule",children:e.jsx(Z,{})}),e.jsx(ts,{grid:s,answersGrid:n,answersGroups:o,players:r}),e.jsx(C,{children:e.jsx(Le,{duration:25,icon:e.jsx(Ue,{}),onExpire:c,onClick:c,children:e.jsx(d,{pt:"Ver Ranking",en:"See Ranking"})})})]})}function xs({players:s,state:r,user:n}){const{step:o,goToNextStep:c,goToPreviousStep:t}=D(0),[i,a]=p.useState(!0);p.useEffect(()=>{i&&o>0&&a(!1)},[o,i]);const l=e.jsx(M,{icon:e.jsx(Oe,{}),title:e.jsx(d,{pt:"Resultado",en:"Results"}),currentRound:r?.round?.current,type:"overlay",children:e.jsx(w,{children:e.jsx(Z,{})})});return e.jsx(X,{phase:r?.phase,allowedPhase:_.RESULTS,children:e.jsxs(Y,{step:o,players:s,children:[e.jsx(hs,{players:s,user:n,announcement:l,grid:r.grid,answersGrid:r.answersGrid,answersGroups:r.answersGroups,goToNextStep:c}),e.jsx(Fe,{ranking:r.ranking,players:s,goToPreviousStep:t,round:r.round})]})})}function te({entry:s}){return e.jsxs("div",{className:"final-gallery-entry",children:[e.jsx($,{data:s.topic,updateAnswer:S}),e.jsx(de,{}),e.jsx(O,{data:s.letter,updateAnswer:S}),s.topAnswer&&e.jsx("span",{className:"final-gallery-entry__answer",children:e.jsx(B,{title:s.topAnswer.answer,children:s.topAnswer.answer})})]})}function js({state:s,players:r}){return e.jsxs(ze,{state:s,players:r,announcementIcon:e.jsx(Be,{}),children:[e.jsx(Ve,{players:r,achievements:s.achievements,reference:We}),e.jsx(se,{title:e.jsx(d,{pt:"Respostas Mais Rápidas",en:"Fastest Answers"}),contentProps:{className:"final-gallery"},children:s.topAnswers.map(n=>e.jsx(te,{entry:n},n.id))}),e.jsx(se,{title:e.jsx(d,{pt:"Sem Respostas",en:"No Answers"}),contentProps:{className:"final-gallery"},children:s.noAnswers.map(n=>e.jsx(te,{entry:n},n.id))})]})}function gs(s){switch(s.phase){case _.ANSWERING:return ls;case _.EVALUATION:return ps;case _.RESULTS:return xs;case be.DEFAULT.GAME_OVER:return js;default:return Ae}}function Hr(){return e.jsx(ye,{gameCollection:ge.ADEDANHX,getActiveComponent:gs})}export{Hr as default};
