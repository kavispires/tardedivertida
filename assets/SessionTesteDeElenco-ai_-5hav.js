import{r as f,ae as ne,af as oe,h as M,j as e,T as l,aH as Y,n as b,I as R,D as x,aM as E,bJ as ae,bq as P,s as T,k as w,b0 as G,bF as V,aN as A,bE as ie,B as ce,K as le,aZ as de,aX as me,aY as he}from"./index-Vw57CEN-.js";import{u as K,a as J,S as z,b as D,c as X,d as F,P as H,e as $,f as j,g as k,n as ue,H as pe,i as xe,j as je,k as fe,l as Ee}from"./StepSwitcher-BCR2DGha.js";import{g as L,f as ve,e as ge,c as Te,b as Se,M as _e,d as N,F as Ce,C as Ae,h as Ie,S as Ne,G as Oe,A as be,a as ye,R as Me}from"./SupportIcon-BRtFmA1a.js";import{I as S}from"./Instruction-D7Tn2Dv1.js";import{M as I}from"./MetricHighlight-ePbs84Xj.js";import{I as we}from"./ItemCard-DxBgY2h9.js";import{C as _}from"./Container-CtvYID2M.js";import{R as q}from"./RuleInstruction-BoFOBKak.js";import{T as C}from"./TextHighlight-Dtq0-toe.js";import{P as W}from"./PointsHighlight-D8cUvy0l.js";import{S as O}from"./SuspectCard-CclYsLZO.js";import{P as Le}from"./index-DDBYXE76.js";import{N as Re}from"./NoIcon-Z5A003By.js";import{B as Pe}from"./WritingIcon-CsZ6Zrqy.js";import{K as Ge}from"./KnifeIcon-D7TyrelA.js";import{L as ze}from"./LoveIcon-DvyZe1Tx.js";import{P as De}from"./PlayerIcon-Dq3uTBCi.js";import{S as Fe}from"./SkullIcon-C17ef0mp.js";import{S as He}from"./StarIcon-CpRay8_2.js";import{S as $e}from"./StepRankingWrapper-D3cPnwRS.js";import{T as ke}from"./speech-CfSCm4wv.js";/* empty css                             */import{I as Z}from"./ImageCard-C1eRMeRm.js";import{A as ee}from"./Avatar-yx2rb8Te.js";import{R as qe}from"./TrophyOutlined-CBJL7_oN.js";import{C as Ve}from"./CrownIcon-3teCdxc_.js";import"./GameOver-B_4AwHlZ.js";import{G as We}from"./GameOverWrapper-C0uLOuPs.js";import{A as Be}from"./Achievements-gsBikQaa.js";import{a as Ue}from"./achievements-BDjWFbEg.js";import{D as B}from"./index-DOvvu0pO.js";import"./useBlurCards-DOK7HwS-.js";import"./RulesModal-d9O90WdN.js";import"./index-CkAC6SzL.js";import"./PurePanel-DULuiT7D.js";import"./useMutation-Bm-mtOSI.js";import"./Game-KwWnvbw7.js";import"./WaitingRoomIcon-Bvp9HYFo.js";import"./AnimatedClockIcon-DJ2t1FhV.js";import"./index-BN6mvInZ.js";import"./useBubbleLock-COax8yFK.js";import"./index-C676bHiK.js";import"./Overflow-Bke7JJh6.js";import"./useEvent-DnS_cXrR.js";import"./index-D6jgGGxq.js";import"./GameBanner-D9OMyDG1.js";import"./useDevFeatures-DofYkQOJ.js";import"./useTDBaseUrl-BF9foKiS.js";import"./index-DwZJHyoF.js";import"./InfoCircleOutlined-De59D9o1.js";import"./SignIn-CzquHbwE.js";import"./GoogleIcon-BG2v1Ozx.js";import"./Loading-DLud394M.js";import"./AnimatedLoaderIcon-BTOIEdDS.js";import"./LikeFilled-Csh8QZoA.js";import"./Sprite-CzvDR_0H.js";import"./WarningOutlined-BZhYQDb0.js";import"./StarFilled-29zOlQZn.js";import"./RankingBoard-tTJ2paPs.js";import"./CaretUpOutlined-BbSAi9TM.js";import"./index-DSx9WWdp.js";import"./useMergedState-JCdFXNB_.js";import"./progress-DH6_ibVo.js";import"./TheEndIcon-BJ0HQsdw.js";import"./Medal-DZQgha9z.js";var Qe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M764 280.9c-14-30.6-33.9-58.1-59.3-81.6C653.1 151.4 584.6 125 512 125s-141.1 26.4-192.7 74.2c-25.4 23.6-45.3 51-59.3 81.7-14.6 32-22 65.9-22 100.9v27c0 6.2 5 11.2 11.2 11.2h54c6.2 0 11.2-5 11.2-11.2v-27c0-99.5 88.6-180.4 197.6-180.4s197.6 80.9 197.6 180.4c0 40.8-14.5 79.2-42 111.2-27.2 31.7-65.6 54.4-108.1 64-24.3 5.5-46.2 19.2-61.7 38.8a110.85 110.85 0 00-23.9 68.6v31.4c0 6.2 5 11.2 11.2 11.2h54c6.2 0 11.2-5 11.2-11.2v-31.4c0-15.7 10.9-29.5 26-32.9 58.4-13.2 111.4-44.7 149.3-88.7 19.1-22.3 34-47.1 44.3-74 10.7-27.9 16.1-57.2 16.1-87 0-35-7.4-69-22-100.9zM512 787c-30.9 0-56 25.1-56 56s25.1 56 56 56 56-25.1 56-56-25.1-56-56-56z"}}]},name:"question",theme:"outlined"},Ye=function(s,n){return f.createElement(ne,oe({},s,{ref:n,icon:Qe}))},Ke=f.forwardRef(Ye);const se={SELECT_MOVIE_GENRE:"SELECT_MOVIE_GENRE",SELECT_ACTOR:"SELECT_ACTOR"};function Je(r){const{translate:s}=M(),n=K({actionName:"submit-genre",onSuccess:()=>r(2),onError:()=>r(0),successMessage:s("Gênero submetido com sucesso","Genre submitted successfully"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return t=>{n({action:se.SELECT_MOVIE_GENRE,...t})}}function Xe(r){const{translate:s}=M(),n=K({actionName:"submit-genre",onSuccess:()=>r(2),onError:()=>r(0),successMessage:s("Ator submetido com sucesso","Actor submitted successfully"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return t=>{n({action:se.SELECT_ACTOR,...t})}}function U({children:r}){return e.jsx(I,{icon:e.jsx(L,{}),children:r})}function re(){return e.jsx(l,{pt:e.jsxs(e.Fragment,{children:["Somos diretores de elenco tentando determinar os atores para um filme! Haverá"," ",e.jsx(U,{children:"5 papéis"})," para escalar, mas primeiro precisamos decidir qual é o gênero do filme em que vamos trabalhar!"]}),en:e.jsxs(e.Fragment,{children:["We are casting directors trying to determine the cast for a movie! There will be"," ",e.jsx(U,{children:"5 roles"})," to cast, but we first need to decide what genre is the movie we'll be working on!"]})})}const p={ACTION:_e,COMEDY:Se,DRAMA:Te,HORROR:ge,SCI_FI:ve},Ze=(r,s)=>{if(s==="en"){let t=`Write the script for the trailer of a ${r.genre.en} movie titled "${r.movieTitle}" movie that contains the following characters and their traits. Give the characters names and if the story contains a narrator, make him/her also one of the characters related to the protagonist. End the text with an impactful question. Here are the characters:
`;return Object.values(r.roles).forEach(o=>{if(o.cast){o.id==="THE_SPECIAL_GUEST"?t+=`
The reveal `:t+=`
${o.title.en} `,o.id==="THE_NARRATOR"&&(t+="(reveal the narrator as one of the characters related to the protagonist) "),t+=`- ${o.description.en}:`;const c=o.candidates[o.actor??""];t+=` ${c.name[s].split(" ")[0]}, ${c.gender}, age ${c.age}, ${c.ethnicity},`,t+=` with the traits: ${o.traits.join(", ")}.
`}}),t}let n=`Escreva o resumo de um filme de ${r.genre.pt} entitulado "${r.movieTitle}" que contenha os personagens e incorpore as suas características na trama, seja criativo e também incorpore esses objetos na trama: ${r.movieProps.map(t=>t.name.pt).join(", ")}. Dê um nome a cada personagem. Para a idade, escolha um número aleatório dentre a faixa dada, por exemplo 20-30, diga 26 anos. Não use parenteses no texto. Adicione um plot twist inesperado. Aqui vão os personagens: 
`;return Object.values(r.roles).forEach(t=>{if(t.cast){t.id==="THE_SPECIAL_GUEST"?n+=`
A revelação `:n+=`
${t.title.pt} `,t.id==="THE_NARRATOR"&&(n+="(revele que o narrador como um dos personagens relacionados ao protagonista) "),n+=`- ${t.description.pt}:`;const o=t.candidates[t.actor??""];n+=` ${o.name[s].split(" ")[0]},  ${o.gender==="male"?"homem":"mulher"}, idade entre ${o.age}, ${o.ethnicity},`,n+=` com as características: ${t.traits.join(", ")}.
`}}),n},es=r=>{const s=Object.values(r.roles).filter(d=>d.cast),n=s.length,t=s.filter(d=>d.actor&&d.candidates[d.actor].gender==="male").length,o=s.filter(d=>{var g;return d.actor&&((g=d.candidates[d.actor])==null?void 0:g.gender)==="female"}).length,c=Math.round(Math.min(o,t)/Math.max(o,t)*100),a=new Set(s.map(d=>d.candidates[d.actor].age)),i=a.size<=1?0:Math.round((a.size-1)/(n-1)*100),m=new Set(s.map(d=>d.candidates[d.actor].ethnicity)),u=m.size<=1?0:Math.round((m.size-1)/(n-1)*100);let v=!1;if(r.rolesOrder.includes("THE_LOVE_INTEREST")&&r.roles.THE_LOVE_INTEREST.actor&&r.rolesOrder.includes("THE_PROTAGONIST")&&r.roles.THE_PROTAGONIST.actor){const d=r.roles.THE_LOVE_INTEREST.candidates[r.roles.THE_LOVE_INTEREST.actor].gender,g=r.roles.THE_PROTAGONIST.candidates[r.roles.THE_PROTAGONIST.actor].gender;v=d===g}return{genderDiversity:c,ageDiversity:i,ethnicityDiversity:u,isLGBTQA:v}};function ss({user:r,announcement:s,genres:n,onSubmitGenre:t,moviesTitles:o,movieProps:c}){const{isLoading:a}=Y(),[i,m]=f.useState(""),[u,v]=f.useState(""),[d,g]=f.useState([]);return J(),e.jsxs(z,{fullWidth:!0,announcement:s,children:[e.jsx(D,{children:e.jsx(l,{en:e.jsx(e.Fragment,{children:"Let's customize the movie!"}),pt:e.jsx(e.Fragment,{children:"Vamos personalizar o filme!"})})}),e.jsx(q,{type:"rule",children:e.jsx(re,{})}),e.jsx(_,{title:e.jsx(l,{en:"Select the genre of te movie",pt:"Selecione o gênero do filme"}),contentProps:{style:{gridTemplateColumns:`repeat(${n.length}, 1fr)`},className:"movie-personalization-selection"},children:n.map(h=>{const te=(p==null?void 0:p[h.key])??N;return e.jsxs(b,{onClick:()=>v(h.key),disabled:a||r.ready,className:"movie-personalization-selection__button",active:u===h.key,activeClass:"movie-personalization-selection__button--selected",children:[e.jsx(R,{icon:e.jsx(te,{}),size:64}),e.jsx(x,{children:h.title})]},h.key)})}),e.jsx(_,{title:e.jsx(l,{en:"Select the title of te movie",pt:"Selecione o título do filme"}),contentProps:{style:{gridTemplateColumns:`repeat(${o.length}, 1fr)`},className:"movie-personalization-selection"},children:o.map(h=>e.jsx(b,{onClick:()=>m(h),disabled:a||r.ready,className:"movie-personalization-selection__button",active:i===h,activeClass:"movie-personalization-selection__button--selected",children:e.jsx("span",{children:h})},h))}),e.jsx(_,{title:e.jsx(l,{en:"Select a thing important for the plot",pt:"Selecione um elemento importante para o enredo"}),contentProps:{style:{gridTemplateColumns:`repeat(${c.length}, 1fr)`},className:"movie-personalization-selection movie-personalization-selection__items"},children:c.map(h=>e.jsx(b,{onClick:()=>g([h.id]),disabled:a||r.ready,className:"movie-personalization-selection__button",active:d[0]===h.id,activeClass:"movie-personalization-selection__button--selected",children:e.jsx(we,{id:h.id,text:h.name,className:"movie-personalization-selection__item-card"})},h.id))}),e.jsx(E,{children:e.jsx(ae,{size:"large",onClick:()=>t({genre:u,movieTitle:i,propsIds:d}),disabled:r.ready||!u||!i||!d.length,children:e.jsx(l,{en:"Submit",pt:"Enviar"})})})]})}function rs({players:r,state:s}){var i;const n=X(r,s),{step:t,setStep:o}=F(),c=Je(o),a=e.jsx(H,{icon:e.jsx(N,{}),title:e.jsx(l,{pt:"Seleção do Gênero do Filme",en:"Movie Genre Selection"}),currentRound:(i=s==null?void 0:s.round)==null?void 0:i.current,type:"overlay",children:e.jsx(S,{children:e.jsx(re,{})})});return e.jsx($,{phase:s==null?void 0:s.phase,allowedPhase:j.TESTE_DE_ELENCO.MOVIE_GENRE_SELECTION,children:e.jsx(k,{step:t,players:r,children:e.jsx(ss,{user:n,onSubmitGenre:c,genres:s.genres,moviesTitles:s.movieTitles,movieProps:s.movieProps,announcement:a})})})}function ts({actors:r,user:s,onSubmitActor:n,selection:t}){const o=P(4,{gap:16,minWidth:80,maxWidth:150,margin:16}),{isLoading:c}=Y(),{language:a,translate:i}=M();return e.jsx(E,{className:"actors-board",wrap:!0,children:t.map(m=>{const u=r[m],v=u.name[a];return e.jsx(Le,{title:i(`Tem certeza que quer escolher ${v}?`,`Are you sure you want to choose ${v}?`),onConfirm:()=>n({actorId:u.id}),okText:i("Sim","Yes"),cancelText:i("Não","No"),disabled:c||s.ready,children:e.jsx(b,{className:"characters-table__character characters-table__character-button",disabled:c||s.ready,children:e.jsx(O,{suspect:u,width:o})})},u.id)})})}function y({activeRole:r,instruction:s,movie:n,children:t,outcome:o}){const c=r.traits.length,a=(n==null?void 0:n.id)??"",i=(p==null?void 0:p[a])??N;return e.jsxs(T,{wrap:!0,children:[e.jsxs(T,{className:"role",direction:"vertical",align:"center",children:[n&&e.jsxs(e.Fragment,{children:[e.jsx(i,{width:75}),e.jsx(w,{size:"small",className:"role__title",children:n.movieTitle}),e.jsx(C,{children:e.jsx(x,{children:n.genre})})]}),t]}),e.jsxs(T,{className:"role",direction:"vertical",children:[s!=="CAST"&&e.jsx("div",{className:"role__round",children:e.jsx(G,{size:"large",style:{backgroundColor:"orange"},children:s==="SELECT"||o==="CAST"?r.round:r.round-1})}),e.jsx(w,{size:"small",className:"role__title",children:e.jsx(x,{children:r.title})}),e.jsxs(S,{className:"role__description",children:['"',e.jsx(x,{children:r.description}),'"']}),e.jsxs(S,{className:"role__instructions",children:[s==="SELECT"&&e.jsx(l,{pt:e.jsxs(e.Fragment,{children:["Selecione o ator que mais combina com"," ",V(c,"a característica","as características")," abaixo:"]}),en:e.jsxs(e.Fragment,{children:["Select the actor that best fits the ",V(c,"trait")," below:"]})}),s==="RESULT"&&e.jsx(l,{pt:"Esses são as características para esse papel:",en:"These are the traits for this role:"}),s==="CAST"&&!r.cast&&e.jsxs("div",{className:"role__cancelled",children:[e.jsx(R,{icon:e.jsx(Re,{})})," ",e.jsx(l,{pt:"Papel cancelado por falta de atores competentes",en:"Role canceled due to lack of competent actors"})]})]}),e.jsx(S,{className:"role__traits",children:e.jsx("ul",{children:r.traits.map((m,u)=>u===c-1&&s==="RESULT"&&o==="CONTINUE"?e.jsx(f.Fragment,{},m):e.jsx("li",{children:e.jsx(C,{children:m})},m))})})]})]})}function ns(r){return e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",...r,children:[e.jsx("path",{fill:"#b6c4cf",d:"M279 60l-141 98-3 7h-28v178h28l3 9 141 98c8 5 18 0 18-10V69c0-9-10-15-18-9z"}),e.jsx("path",{fill:"#f79595",d:"M339 213c-4 6-4 12 1 17 6 7 9 16 9 25 0 10-3 18-9 25-4 5-5 12 0 17 6 7 18 8 24 1a63 63 0 000-85c-7-7-19-7-25 0z"}),e.jsx("path",{fill:"#fd8087",d:"M376 168c-4 6-3 13 2 18 20 18 33 42 33 69s-12 52-32 69c-6 5-7 13-2 19 6 6 17 7 23 1 26-22 42-54 42-89s-17-67-43-89c-6-6-17-5-23 2z"}),e.jsx("path",{fill:"#fe646f",d:"M413 123c-5 6-4 14 2 18 35 28 57 69 58 114 0 45-22 86-57 114-6 5-7 13-2 19 6 6 16 7 23 2 41-33 67-82 66-135 0-54-26-102-68-135-6-5-17-4-22 3z"}),e.jsx("path",{fill:"#9facba",d:"M279 412l-141-99v39l141 98c8 5 18 0 18-10v-38c0 9-10 15-18 10z"}),e.jsx("path",{fill:"#596c76",d:"M138 352H36c-16 0-30-13-30-30V188c0-17 14-30 30-30h102z"}),e.jsx("path",{fill:"#465a61",d:"M6 284v38c0 17 14 30 30 30h102v-39H36c-16 0-30-13-30-29z"}),e.jsx("path",{d:"M285 51c-4 0-7 1-11 3l-138 97H37c-20 0-37 16-37 37v69a7 7 0 1015 0v-69c0-12 10-22 22-22h94v178H37c-12 0-22-10-22-22v-30a7 7 0 10-15 0v30c0 20 17 37 37 37h99l138 96c4 3 7 4 11 4 11 0 19-9 19-19V216a7 7 0 10-15 0v224c0 3-2 4-4 4l-2-1-137-95V162l137-95 2-1c2 0 4 1 4 4v111a7 7 0 1015 0V70c0-10-8-19-19-19zm84 251c12-13 18-30 18-47s-7-34-18-47c-10-10-27-10-36 1-7 8-6 19 1 27 5 5 7 12 7 19 0 8-2 14-7 20-7 8-7 19 0 27 8 11 26 11 35 0zm-24-10c-2-2-2-5 0-7a45 45 0 000-59c-2-3-2-5 0-8 3-3 9-4 12 0 10 11 15 23 15 37s-5 27-14 37c-3 4-10 4-13 0z"}),e.jsx("path",{d:"M448 255c0-36-16-70-44-94-5-4-10-6-16-6-7 0-14 3-18 8v1c-7 8-6 21 3 28 19 17 30 39 30 63s-11 47-30 63c-8 8-10 20-2 29 8 10 24 11 33 3 29-25 44-59 44-95zm-53 83c-4 3-10 3-13-1-2-2-1-5 1-8 23-19 35-45 35-74 0-28-13-55-35-74-3-2-3-5-1-8 1-2 4-3 6-3l6 2c25 22 39 51 39 83s-13 61-38 83z"}),e.jsx("path",{d:"M510 255c0-54-26-105-71-140-10-8-25-6-33 4-7 9-5 22 4 29 34 27 54 66 54 107v1c0 40-19 79-53 107a20 20 0 00-3 29c8 10 23 11 33 3 44-35 69-86 69-139zm-79 128c-3 3-9 3-12-1-2-2-1-6 1-8 38-30 59-73 59-118v-1c0-46-22-89-60-119-3-2-3-5-1-8 3-3 8-4 12-1 41 32 65 79 65 128v1c0 48-23 95-64 127z"})]})}function Q({movie:r}){const s={main:He,anti:Fe,supporting:Ie,important:L,love:ze,comic:Ae,voice:ns,minor:De,visual:Ce,dead:Ge,mentor:Pe};return e.jsx("div",{className:"cast-summary",children:r.rolesOrder.map(n=>{const t=r.roles[n],o=(s==null?void 0:s[t.type])??L;return e.jsxs("div",{className:"cast-summary__entry",children:[e.jsx("div",{className:"cast-summary__type",children:e.jsx(A,{title:e.jsx(x,{children:t.title}),children:e.jsx(R,{icon:e.jsx(o,{}),size:"small"})})}),e.jsx("div",{className:"cast-summary__cast",children:t.cast?e.jsx(ie,{}):e.jsx(Ke,{})})]},n)})})}function os({user:r,announcement:s,activeRole:n,onSubmitActor:t,movie:o}){return J(),e.jsxs(z,{fullWidth:!0,announcement:s,children:[e.jsx(D,{children:e.jsx(l,{pt:e.jsx(e.Fragment,{children:"Selecione um ator!"}),en:e.jsx(e.Fragment,{children:"Cast a role:"})})}),e.jsx(y,{activeRole:n,instruction:"SELECT",movie:o,children:e.jsx(Q,{movie:o})}),e.jsx(ts,{actors:n.candidates,selection:n.selection,user:r,onSubmitActor:t}),e.jsx(q,{type:"rule",children:e.jsx(l,{pt:e.jsxs(e.Fragment,{children:["Se um ator receber mais de 50% dos votos, ele será escolhido para o papel!",e.jsx("br",{}),"Caso contrário, o papel vai o final da fila e vamos reselecioná-lo na próxima rodada (igual segundo turno de eleição).",e.jsx("br",{}),"Você ganha ",e.jsx(W,{children:"1"})," por cada jogador que escolher o mesmo ator que você."]}),en:e.jsxs(e.Fragment,{children:["If an actor receives more than 50% of the votes, he will be chosen for the role!",e.jsx("br",{}),"Otherwise, the role goes to the end of the queue and we will reselect it in the next round.",e.jsx("br",{}),"You earn ",e.jsx(W,{children:"1"})," for each player who chooses the same actor as you."]})})}),e.jsx(Q,{movie:o})]})}function as({players:r,state:s}){var m;const n=X(r,s),{step:t,setStep:o}=F(),c=Xe(o),a=s.movie.roles[s.activeRoleId],i=e.jsx(H,{icon:e.jsx(Ne,{}),title:e.jsxs(e.Fragment,{children:[e.jsx(l,{pt:"Seleção",en:"Actor Selection"}),": ",e.jsx(x,{children:a.title})]}),currentRound:(m=s==null?void 0:s.round)==null?void 0:m.current,type:"overlay",children:e.jsxs(S,{children:[e.jsx(l,{pt:e.jsx(e.Fragment,{children:"Quem vai ser o"}),en:e.jsx(e.Fragment,{children:"Who is the best choice for"})}),e.jsx(C,{children:e.jsx(x,{children:a.description})})]})});return e.jsx($,{phase:s==null?void 0:s.phase,allowedPhase:j.TESTE_DE_ELENCO.ACTOR_SELECTION,children:e.jsx(k,{step:t,players:r,children:e.jsx(os,{user:n,activeRole:a,onSubmitActor:c,announcement:i,movie:s.movie})})})}function is({players:r,ranking:s,goToPreviousStep:n,round:t}){return e.jsxs($e,{players:r,ranking:s,gainedPointsDescriptions:[e.jsx(l,{pt:"Adivinhou corretamente",en:"Correct guess"},"1"),e.jsx(l,{pt:"Era o alvo e foi adivinhado corretamente",en:"Was guessed correctly"},"2")],children:[e.jsx(E,{align:"center",children:e.jsx(ce,{onClick:n,children:e.jsx(l,{pt:"Ver resultado novamente",en:"See results again"})})}),e.jsx(ue,{round:t})]})}function cs({actors:r,players:s,selection:n,playersSelections:t}){const o=P(4,{gap:16,minWidth:80,maxWidth:150,margin:16});return e.jsx(E,{className:"actors-board",wrap:!0,children:n.map(c=>{const a=r[c];return e.jsxs(T,{className:"actors-board__actor",direction:"vertical",children:[e.jsx(E,{children:e.jsx(G.Group,{max:{count:7},children:t[c].map(i=>e.jsx(ee,{id:s[i].avatarId},`actor-avatar-${s[i].avatarId}`))})}),e.jsx(O,{suspect:a,width:o})]},a.id)})})}function ls({actors:r,players:s,selection:n,playersSelections:t}){const o=P(6,{gap:16,minWidth:70,maxWidth:120,margin:16}),c=f.useMemo(()=>Object.values(r).filter(a=>!n.includes(a.id)),[r,n]);return c.length===0?e.jsx(e.Fragment,{}):e.jsx(E,{className:"actors-board",wrap:!0,children:c.map(a=>e.jsxs(T,{className:"actors-board__actor",direction:"vertical",children:[e.jsx(O,{suspect:a,width:o}),e.jsx(E,{children:e.jsx(G.Group,{max:{count:5},children:(t[a.id]??[]).map(i=>e.jsx(ee,{id:s[i].avatarId},`actor-avatar-${s[i].avatarId}`))})})]},a.id))})}function ds({announcement:r,activeRole:s,goToNextStep:n,outcome:t,players:o}){const c=f.useMemo(()=>Object.values(o).reduce((a,i)=>(a[i.actorId]===void 0&&(a[i.actorId]=[]),a[i.actorId].push(i.id),a),{}),[o]);return e.jsxs(z,{fullWidth:!0,announcement:r,children:[e.jsx(D,{children:e.jsx(l,{pt:"Resultado",en:"Results"})}),e.jsx(y,{activeRole:s,instruction:"RESULT",outcome:t,children:t==="CAST"&&s.actor?e.jsx(O,{suspect:s.candidates[s.actor],width:120}):e.jsx(Z,{id:"us-unknown",cardWidth:120,preview:!1})}),e.jsxs(q,{type:"event",children:[t==="CONTINUE"&&e.jsx(l,{pt:"Os diretores não chegaram num consenso. Aqui estão os atores selecionados para a próxima fase:",en:"The directors did not reach a consensus. Here are the selected actors for the next phase:"}),t==="CAST"&&s.actor&&e.jsx(l,{pt:e.jsxs(e.Fragment,{children:[e.jsx(C,{children:e.jsx(x,{children:s.candidates[s.actor].name})})," ","foi escolhido(a) para o papel!"]}),en:e.jsxs(e.Fragment,{children:[e.jsx(C,{children:e.jsx(x,{children:s.candidates[s.actor].name})})," ","was chosen for the role!"]})}),t==="FAIL"&&e.jsx(l,{pt:"Deu ruim! Ninguém foi escolhido para o papel! E vão remover o personagem do roteiro",en:"Oh no! Nobody was chosen for the role! And they will remove the character from the script"})]}),e.jsx(cs,{actors:s.candidates,selection:s.selection,players:o,playersSelections:c}),e.jsx(E,{align:"center",children:e.jsx(ke,{duration:25,onExpire:n,onClick:n,icon:e.jsx(qe,{}),children:e.jsx(l,{pt:"Ver Ranking",en:"See Ranking"})})}),e.jsx(_,{title:t==="CONTINUE"?e.jsx(l,{pt:"Atores que não receberam a maioria de votos e estão fora da próxima próxima fase:",en:"Actors that did not receive the majority of votes and are out for the next phase:"}):e.jsx(l,{pt:"Atores não escolhidos:",en:"Actors that were not chosen:"}),children:e.jsx(ls,{actors:s.candidates??{},selection:s.selection??[],players:o,playersSelections:c})})]})}function ms({players:r,state:s}){var m,u;const{step:n,goToNextStep:t,goToPreviousStep:o}=F(0),c=s.movie.roles[s.activeRoleId],a=(p==null?void 0:p[(m=s==null?void 0:s.movie)==null?void 0:m.id])??N,i=e.jsx(H,{icon:e.jsx(a,{}),title:e.jsxs(e.Fragment,{children:[e.jsx(l,{pt:"Resultado",en:"Results"}),": ",e.jsx(x,{children:c.title})]}),currentRound:(u=s==null?void 0:s.round)==null?void 0:u.current,type:"overlay",duration:4,children:e.jsx(S,{children:e.jsx(l,{pt:e.jsx(e.Fragment,{children:"E o papel foi escolhido?"}),en:e.jsx(e.Fragment,{children:"So was the role cast?"})})})});return e.jsx($,{phase:s==null?void 0:s.phase,allowedPhase:j.TESTE_DE_ELENCO.RESULT,children:e.jsxs(k,{step:n,players:r,children:[e.jsx(ds,{activeRole:c,outcome:s.outcome,players:r,announcement:i,goToNextStep:t}),e.jsx(is,{players:r,round:s.round,ranking:s.ranking,goToPreviousStep:o})]})})}function hs({movie:r}){const s=f.useMemo(()=>es(r),[r]);return e.jsxs("div",{className:"summary",children:[e.jsx(A,{title:e.jsx(l,{pt:"Diversidade de gênero",en:"Gender Diversity"}),children:e.jsx("div",{children:e.jsxs(I,{icon:e.jsx(Oe,{}),children:[s.genderDiversity,"%"]})})}),e.jsx(B,{type:"vertical"}),e.jsx(A,{title:e.jsx(l,{pt:"Diversidade de idade",en:"Age Diversity"}),children:e.jsx("div",{children:e.jsxs(I,{icon:e.jsx(be,{}),children:[s.ageDiversity,"%"]})})}),e.jsx(B,{type:"vertical"}),e.jsx(A,{title:e.jsx(l,{pt:"Diversidade cultural",en:"Cultural Diversity"}),children:e.jsx("div",{children:e.jsxs(I,{icon:e.jsx(ye,{}),children:[s.ethnicityDiversity,"%"]})})}),s.isLGBTQA&&e.jsx(A,{title:e.jsx(l,{pt:"LGBTQIA+",en:"LGBTQIA+"}),children:e.jsx("div",{children:e.jsx(I,{icon:e.jsx(Me,{}),children:"100%"})})})]})}function us({state:r,players:s}){const{language:n}=M(),t=r.movie,o=(t==null?void 0:t.id)??"",c=(p==null?void 0:p[o])??N;return e.jsxs(We,{state:r,players:s,announcementIcon:e.jsx(Ve,{}),children:[e.jsx(Be,{players:s,achievements:r.achievements,reference:Ue}),e.jsx(_,{title:e.jsx(l,{pt:"O Filme",en:"The Movie"}),contentProps:{className:"final-gallery"},children:e.jsx(T,{className:"role",direction:"vertical",align:"center",children:t&&e.jsxs(e.Fragment,{children:[e.jsx(c,{width:75}),e.jsx(w,{size:"small",className:"role__title",children:t.movieTitle}),e.jsx(C,{children:e.jsx(x,{children:t.genre})}),e.jsx(hs,{movie:t}),t.rolesOrder.reverse().map(a=>{const i=t.roles[a];if(i.cast&&i.actor){const m=i.candidates[i.actor];return e.jsx(y,{activeRole:i,instruction:"CAST",children:e.jsx(O,{suspect:m,width:100})},a)}return e.jsx(y,{activeRole:i,instruction:"CAST",children:e.jsx(Z,{id:"us-unknown",cardWidth:120,preview:!1})},a)})]})})}),e.jsx(pe,{children:e.jsx(_,{title:"Chat GPT Prompt",children:e.jsx(le.TextArea,{readOnly:!0,value:Ze(r.movie,n),rows:5,cols:20,className:"chat-gpt"})})})]})}function ps(r){if(r&&!r.phase)return me;switch(r.phase){case j.DEFAULT.LOBBY:return Ee;case j.DEFAULT.RULES:return fe;case j.DEFAULT.SETUP:return je;case j.TESTE_DE_ELENCO.MOVIE_GENRE_SELECTION:return rs;case j.TESTE_DE_ELENCO.ACTOR_SELECTION:return as;case j.TESTE_DE_ELENCO.RESULT:return ms;case j.DEFAULT.GAME_OVER:return us;default:return he}}function Ir(){return e.jsx(xe,{gameCollection:de.TESTE_DE_ELENCO,getActiveComponent:ps})}export{Ir as default};
