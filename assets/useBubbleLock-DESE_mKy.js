import{r as u,a0 as y,a7 as I,Z as U,a5 as w,a6 as j,a2 as L,_ as F,dA as V}from"./index-CdRPejj5.js";function P(e){var n=u.useRef();n.current=e;var a=u.useCallback(function(){for(var t,r=arguments.length,c=new Array(r),f=0;f<r;f++)c[f]=arguments[f];return(t=n.current)===null||t===void 0?void 0:t.call.apply(t,[n].concat(c))},[]);return a}function B(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var $=B()?u.useLayoutEffect:u.useEffect,H=function(n,a){var t=u.useRef(!0);$(function(){return n(t.current)},a),$(function(){return t.current=!1,function(){t.current=!0}},[])},N=function(n,a){H(function(t){if(!t)return n()},a)};function M(e){var n=u.useRef(!1),a=u.useState(e),t=y(a,2),r=t[0],c=t[1];u.useEffect(function(){return n.current=!1,function(){n.current=!0}},[]);function f(l,s){s&&n.current||c(l)}return[r,f]}function S(e){return e!==void 0}function T(e,n){var a=n||{},t=a.defaultValue,r=a.value,c=a.onChange,f=a.postState,l=M(function(){return S(r)?r:S(t)?typeof t=="function"?t():t:typeof e=="function"?e():e}),s=y(l,2),p=s[0],h=s[1],i=r!==void 0?r:p,b=f?f(i):i,g=P(c),_=M([i]),d=y(_,2),C=d[0],E=d[1];N(function(){var v=C[0];p!==v&&g(p,v)},[C]),N(function(){S(r)||h(r)},[r]);var R=P(function(v,k){h(v,k),E([i],k)});return[b,R]}var W=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],q=u.forwardRef(function(e,n){var a=e.prefixCls,t=a===void 0?"rc-checkbox":a,r=e.className,c=e.style,f=e.checked,l=e.disabled,s=e.defaultChecked,p=s===void 0?!1:s,h=e.type,i=h===void 0?"checkbox":h,b=e.title,g=e.onChange,_=I(e,W),d=u.useRef(null),C=u.useRef(null),E=T(p,{value:f}),R=y(E,2),v=R[0],k=R[1];u.useImperativeHandle(n,function(){return{focus:function(o){var m;(m=d.current)===null||m===void 0||m.focus(o)},blur:function(){var o;(o=d.current)===null||o===void 0||o.blur()},input:d.current,nativeElement:C.current}});var A=U(t,r,w(w({},"".concat(t,"-checked"),v),"".concat(t,"-disabled"),l)),D=function(o){l||("checked"in e||k(o.target.checked),g==null||g({target:L(L({},e),{},{type:i,checked:o.target.checked}),stopPropagation:function(){o.stopPropagation()},preventDefault:function(){o.preventDefault()},nativeEvent:o.nativeEvent}))};return u.createElement("span",{className:A,title:b,style:c,ref:C},u.createElement("input",j({},_,{className:"".concat(t,"-input"),ref:d,onChange:D,disabled:l,checked:!!v,type:i})),u.createElement("span",{className:"".concat(t,"-inner")}))});function z(e){const n=F.useRef(null),a=()=>{V.cancel(n.current),n.current=null};return[()=>{a(),n.current=V(()=>{n.current=null})},c=>{n.current&&(c.stopPropagation(),a()),e==null||e(c)}]}export{q as C,z as u};
