import{r as l,aF as R,a7 as f,j as s,x as b,b6 as g,B as u,T as m}from"./index-eDOzuYHG.js";import{u as v}from"./DebugOnly-6PAk40IZ.js";import{R as _}from"./StepBackwardOutlined-BYPC8Tu1.js";import{p as y,q as C}from"./StepSwitcher-D3i7Qj_k.js";import{R as E}from"./TrophyOutlined-BMCS5Aq0.js";var F={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M676.4 528.95L293.2 829.97c-14.25 11.2-35.2 1.1-35.2-16.95V210.97c0-18.05 20.95-28.14 35.2-16.94l383.2 301.02a21.53 21.53 0 010 33.9M694 864h64a8 8 0 008-8V168a8 8 0 00-8-8h-64a8 8 0 00-8 8v688a8 8 0 008 8"}}]},name:"step-forward",theme:"outlined"},M=function(t,n){return l.createElement(R,f({},t,{ref:n,icon:F}))},N=l.forwardRef(M);function O(e){const[t,n]=l.useState(0),[a,i]=l.useState(!0);return l.useEffect(()=>{a&&t===e.length-1&&i(!1)},[a,t,e.length]),{...e,slideIndex:t,setSlideIndex:n,reset:()=>n(0),isFirstGalleryRunThrough:a,setIsFirstGalleryRunThrough:i}}function V({config:e,disableControls:t,barColor:n="gray",nextButtonProps:a}){const i=e.slideDuration??10,o=i*e.length,{timeLeft:d,isRunning:h,pause:x,resume:p}=v({duration:o,autoStart:!0,onExpire:()=>e.onExpire()}),c=t??e.isFirstGalleryRunThrough;l.useEffect(()=>{const r=Math.max(0,Math.min(e.length-1,Math.floor((o-d)/i)));return h&&d<o&&d>0&&r!==e.slideIndex&&e.setSlideIndex(r),()=>{}},[d,e,i,o]);const j=()=>{x(),e.setSlideIndex(r=>Math.max(r-1,0))},S=()=>{x(),e.setSlideIndex(r=>Math.min(r+1,e.length-1))},I=l.useMemo(()=>Array(e.length).fill("").map((r,w)=>s.jsx("div",{className:"slide-show__controls-timer-bar-node",style:{width:`${99/e.length}%`},children:r},`control-timer-bar-${r+w}`)),[e.length]);return s.jsxs("div",{className:"slide-show__controls",children:[s.jsxs("div",{className:"slide-show__controls-timer-bar",children:[s.jsx("div",{className:"slide-show__controls-timer-bar-base",children:I}),s.jsx("span",{className:"slide-show__controls-timer-bar-pill",style:{width:`${$(o,d)}%`,backgroundColor:n}})]}),s.jsxs(b,{style:{opacity:c?0:100},className:g("fadeIn"),children:[s.jsx(u,{size:"large",icon:s.jsx(_,{}),onClick:j,disabled:c||e.slideIndex===0,children:s.jsx(m,{pt:"Anterior",en:"Previous"})}),s.jsx(u,{size:"large",icon:h?s.jsx(y,{}):s.jsx(C,{}),onClick:h?x:p}),s.jsxs(u,{size:"large",onClick:S,disabled:c||e.slideIndex===e.length-1,children:[s.jsx(m,{pt:"PrÃ³ximo",en:"Next"})," ",s.jsx(N,{})]}),s.jsx(u,{...a,size:"large",onClick:()=>e.onExpire(),icon:a?.icon??s.jsx(E,{}),disabled:c,children:a?.children??s.jsx(m,{pt:"Ver Ranking",en:"See Ranking"})})]})]})}function $(e,t){return e===0?100:(1-t/e)*100}export{V as S,O as u};
