import{r as p,az as qe,cF as cs,cG as ls,cH as ds,cI as Ge,cJ as us,cK as ms,cL as hs,cM as We,cN as xs,cO as ps,cP as js,cQ as fs,cR as gs,cS as vs,cT as Ss,cU as bs,cV as Ns,cW as ws,cX as As,cY as ae,cZ as _s,c_ as Es,c$ as Bs,d0 as xe,d1 as Ts,f as ze,j as e,aM as He,a$ as Me,n as U,T as u,bj as Ye,bk as pe,I as ve,e as Ke,bH as ys,aL as L,bG as Se,B as ce,bc as Is,aY as ks,aW as Os,aX as Rs}from"./index-KhnDWtqd.js";import{u as $e,S as Z,a as ee,c as F,b as q,P as I,d as G,e as W,l as Qe,g as Cs,h as he,i as Ls,j as Ps}from"./StepSwitcher-DQaOiUvi.js";import{u as z}from"./useWhichPlayerIsThe-D_dvoXdR.js";import{G as P}from"./WritingIcon-BzPwjf57.js";import{Q as Ms}from"./QuestionIcon-DdcevnEb.js";import{I as M}from"./Instruction-D4JXjD7_.js";import{T as se}from"./TurnOrder-KZBZS5yL.js";import{R as Fs}from"./RoundAnnouncement-DO0euF4U.js";import{V as be}from"./ViewOr-DeRYBQKq.js";import{L as le,S as Ds}from"./SkierIcon-DajR6VrB.js";import{A as S}from"./AvatarName-DI3jGnum.js";import{C as Ne}from"./Container-pH3ip1tW.js";import{u as we}from"./useMock-BYfmmAKs.js";import{D as Vs}from"./DevButton-QO90_YlA.js";import{P as oe}from"./PointsHighlight-CMIbnY_R.js";import{R as J}from"./RuleInstruction-DODjplC_.js";import{M as Us}from"./MetricHighlight-J8Ystiqu.js";import{A as qs}from"./AvatarGroup-DbTRfTLx.js";import{T as Xe}from"./index-DyKCfJY4.js";import{S as Gs}from"./index-AyDEDzf1.js";import{S as Je}from"./SkiingIcon-DhRblDD3.js";import{T as Ze}from"./speech-D47ffgBV.js";import{S as Ws}from"./StepRankingWrapper-olfZSrxB.js";import{Q as zs}from"./QualitySealIcon-BI6_693Z.js";import{R as Hs}from"./TrophyOutlined-Cg3Mgoow.js";import{T as Ys}from"./TrophyIcon-CJAr_UX5.js";import"./GameOver-D8gPqpLD.js";import{G as Ks}from"./GameOverWrapper-CzHM9-dp.js";import{A as $s}from"./Achievements-l6RGzkuI.js";import{a as Qs}from"./achievements-BxjxP5BM.js";import"./useBlurCards-DaCWG4D9.js";import"./RulesModal-DG0eZ_Bc.js";import"./DoubleRightOutlined-B9qpl8IC.js";import"./PurePanel-1fLmEmMx.js";import"./Game-DCS1H-5m.js";import"./WaitingRoomIcon-BpovjZh4.js";import"./AnimatedClockIcon-iuoHeLT8.js";import"./useMutation-kJwgSNc7.js";import"./index-soIMzOQO.js";import"./Overflow-DXjIKanZ.js";import"./useEvent-wEaUne0h.js";import"./index-DQzyEHGu.js";import"./index-IbYMwJQL.js";import"./Avatar-BS3hQk5-.js";import"./GameBanner-BAnT_evQ.js";import"./useDevFeatures-BpY0uJRo.js";import"./useTDBaseUrl-BF9foKiS.js";import"./index-CshNItYF.js";import"./InfoCircleOutlined-C8s4WoNP.js";import"./index-Bpy7izmx.js";import"./SignIn-Cb6XwnqL.js";import"./GoogleIcon-DsbP_NnU.js";import"./Loading-vwOlz5FP.js";import"./AnimatedLoaderIcon-DWr56qiF.js";import"./LikeFilled-BZXaGV6K.js";import"./StarIcon-CsKy0kHK.js";import"./StarFilled-BYJz_kcC.js";import"./StarFilled-CNctUIhy.js";import"./useBubbleLock-pVXO7gwT.js";import"./progress-D1th4gVz.js";import"./RankingBoard-BCqKzsrT.js";import"./CaretUpOutlined-CTN4lzvm.js";import"./ArrowRightOutlined-CxZCEjbR.js";import"./useMergedState-poA94PJI.js";import"./TheEndIcon-DHC21ZBm.js";import"./Medal-Cj3yCS65.js";import"./QuestionCircleOutlined-CebtNFdz.js";var Xs={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"unordered-list",theme:"outlined"};function je(){return je=Object.assign?Object.assign.bind():function(n){for(var s=1;s<arguments.length;s++){var i=arguments[s];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}return n},je.apply(this,arguments)}const Js=(n,s)=>p.createElement(qe,je({},n,{ref:s,icon:cs})),Zs=p.forwardRef(Js);function fe(){return fe=Object.assign?Object.assign.bind():function(n){for(var s=1;s<arguments.length;s++){var i=arguments[s];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}return n},fe.apply(this,arguments)}const en=(n,s)=>p.createElement(qe,fe({},n,{ref:s,icon:Xs})),sn=p.forwardRef(en),nn=(n,s,i)=>{const t=s-n;return((i-n)%t+t)%t+n};function es(n,s){return ls(n)?n[nn(0,n.length,s)]:n}class tn{constructor(s){this.stop=()=>this.runAll("stop"),this.animations=s.filter(Boolean)}get finished(){return Promise.all(this.animations.map(s=>s.finished))}getAll(s){return this.animations[0][s]}setAll(s,i){for(let t=0;t<this.animations.length;t++)this.animations[t][s]=i}attachTimeline(s){const i=this.animations.map(t=>t.attachTimeline(s));return()=>{i.forEach((t,o)=>{t&&t(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(s){this.setAll("time",s)}get speed(){return this.getAll("speed")}set speed(s){this.setAll("speed",s)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let s=0;for(let i=0;i<this.animations.length;i++)s=Math.max(s,this.animations[i].duration);return s}runAll(s){this.animations.forEach(i=>i[s]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class on extends tn{then(s,i){return this.finished.finally(s).then(()=>{})}}function rn(n){return p.useEffect(()=>()=>n(),[])}function an(n){n.values.forEach(s=>s.stop())}function ge(n,s){[...s].reverse().forEach(t=>{const o=n.getVariant(t);o&&Ge(n,o),n.variantChildren&&n.variantChildren.forEach(c=>{ge(c,s)})})}function cn(n,s){if(Array.isArray(s))return ge(n,s);if(typeof s=="string")return ge(n,[s]);Ge(n,s)}function ln(){const n=new Set,s={subscribe(i){return n.add(i),()=>void n.delete(i)},start(i,t){const o=[];return n.forEach(c=>{o.push(ds(c,i,{transitionOverride:t}))}),Promise.all(o)},set(i){return n.forEach(t=>{cn(t,i)})},stop(){n.forEach(i=>{an(i)})},mount(){return()=>{s.stop()}}};return s}function Ae(n){return typeof n=="object"&&!Array.isArray(n)}function ss(n,s,i,t){return typeof n=="string"&&Ae(s)?us(n,i,t):n instanceof NodeList?Array.from(n):Array.isArray(n)?n:[n]}function dn(n,s,i){return n*(s+1)}function Fe(n,s,i,t){return typeof s=="number"?s:s.startsWith("-")||s.startsWith("+")?Math.max(0,n+parseFloat(s)):s==="<"?i:t.get(s)??n}function un(n,s,i){for(let t=0;t<n.length;t++){const o=n[t];o.at>s&&o.at<i&&(hs(n,o),t--)}}function mn(n,s,i,t,o,c){un(n,o,c);for(let a=0;a<s.length;a++)n.push({value:s[a],at:ms(o,c,t[a]),easing:es(i,a)})}function hn(n,s){for(let i=0;i<n.length;i++)n[i]=n[i]/(s+1)}function xn(n,s){return n.at===s.at?n.value===null?1:s.value===null?-1:0:n.at-s.at}const pn="easeInOut";function jn(n,{defaultTransition:s={},...i}={},t,o){const c=s.duration||.3,a=new Map,r=new Map,l={},m=new Map;let d=0,h=0,x=0;for(let f=0;f<n.length;f++){const j=n[f];if(typeof j=="string"){m.set(j,h);continue}else if(!Array.isArray(j)){m.set(j.name,Fe(h,j.at,d,m));continue}let[_,b,g={}]=j;g.at!==void 0&&(h=Fe(h,g.at,d,m));let w=0;const D=(E,B,k,Y=0,K=0)=>{const v=fn(E),{delay:ue=0,times:T=xs(v),type:me="keyframes",repeat:ne,repeatType:Xn,repeatDelay:Jn=0,...as}=B;let{ease:O=s.ease||"easeOut",duration:y}=B;const ke=typeof ue=="function"?ue(Y,K):ue,Oe=v.length,Re=fs(me)?me:o==null?void 0:o[me];if(Oe<=2&&Re){let $=100;if(Oe===2&&Sn(v)){const Q=v[1]-v[0];$=Math.abs(Q)}const ie={...as};y!==void 0&&(ie.duration=gs(y));const te=ps(ie,$,Re);O=te.ease,y=te.duration}y??(y=c);const Ce=h+ke;T.length===1&&T[0]===0&&(T[1]=1);const Le=T.length-v.length;if(Le>0&&js(T,Le),v.length===1&&v.unshift(null),ne){y=dn(y,ne);const $=[...v],ie=[...T];O=Array.isArray(O)?[...O]:[O];const te=[...O];for(let Q=0;Q<ne;Q++){v.push(...$);for(let X=0;X<$.length;X++)T.push(ie[X]+(Q+1)),O.push(X===0?"linear":es(te,X-1))}hn(T,ne)}const Pe=Ce+y;mn(k,v,O,T,Ce,Pe),w=Math.max(ke+y,w),x=Math.max(Pe,x)};if(We(_)){const E=De(_,r);D(b,g,Ve("default",E))}else{const E=ss(_,b,t,l),B=E.length;for(let k=0;k<B;k++){b=b,g=g;const Y=E[k],K=De(Y,r);for(const v in b)D(b[v],gn(g,v),Ve(v,K),k,B)}}d=h,h+=w}return r.forEach((f,j)=>{for(const _ in f){const b=f[_];b.sort(xn);const g=[],w=[],D=[];for(let B=0;B<b.length;B++){const{at:k,value:Y,easing:K}=b[B];g.push(Y),w.push(vs(0,x,k)),D.push(K||"easeOut")}w[0]!==0&&(w.unshift(0),g.unshift(g[0]),D.unshift(pn)),w[w.length-1]!==1&&(w.push(1),g.push(null)),a.has(j)||a.set(j,{keyframes:{},transition:{}});const E=a.get(j);E.keyframes[_]=g,E.transition[_]={...s,duration:x,ease:D,times:w,...i}}}),a}function De(n,s){return!s.has(n)&&s.set(n,{}),s.get(n)}function Ve(n,s){return s[n]||(s[n]=[]),s[n]}function fn(n){return Array.isArray(n)?n:[n]}function gn(n,s){return n&&n[s]?{...n,...n[s]}:{...n}}const vn=n=>typeof n=="number",Sn=n=>n.every(vn);function bn(n,s){return n in s}class Nn extends Ss{constructor(){super(...arguments),this.type="object"}readValueFromInstance(s,i){if(bn(i,s)){const t=s[i];if(typeof t=="string"||typeof t=="number")return t}}getBaseTargetFromProps(){}removeValueFromRenderState(s,i){delete i.output[s]}measureInstanceViewportBox(){return bs()}build(s,i){Object.assign(s.output,i)}renderInstance(s,{output:i}){Object.assign(s,i)}sortInstanceNodePosition(){return 0}}function wn(n){const s={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},i=Ns(n)?new ws(s):new As(s);i.mount(n),ae.set(n,i)}function An(n){const s={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},i=new Nn(s);i.mount(n),ae.set(n,i)}function _n(n,s){return We(n)||typeof n=="number"||typeof n=="string"&&!Ae(s)}function ns(n,s,i,t){const o=[];if(_n(n,s))o.push(_s(n,Ae(s)&&s.default||s,i&&(i.default||i)));else{const c=ss(n,s,t),a=c.length;for(let r=0;r<a;r++){const l=c[r],m=l instanceof Element?wn:An;ae.has(l)||m(l);const d=ae.get(l),h={...i};"delay"in h&&typeof h.delay=="function"&&(h.delay=h.delay(r,a)),o.push(...Es(d,{...s,transition:h},{}))}}return o}function En(n,s,i){const t=[];return jn(n,s,i,{spring:Bs}).forEach(({keyframes:c,transition:a},r)=>{t.push(...ns(r,c,a))}),t}function Bn(n){return Array.isArray(n)&&n.some(Array.isArray)}function Tn(n){function s(i,t,o){let c=[];Bn(i)?c=En(i,t,n):c=ns(i,t,o,n);const a=new on(c);return n&&n.animations.push(a),a}return s}function yn(){const n=xe(()=>({current:null,animations:[]})),s=xe(()=>Tn(n));return rn(()=>{n.animations.forEach(i=>i.stop())}),[n,s]}function In(){const n=xe(ln);return Ts(n.mount,[]),n}const kn=In,N={BETS:"BETS",STARTING_RESULTS:"STARTING_RESULTS",BOOSTS:"BOOSTS",PRELIMINARY_RESULTS:"PRELIMINARY_RESULTS",LAST_CHANGE:"LAST_CHANGE",FINAL_RESULTS:"FINAL_RESULTS"},is={SUBMIT_CHOICES:"SUBMIT_CHOICES",SUBMIT_BETS:"SUBMIT_BETS"},R={INITIAL:"initial",BOOST:"boost",FINAL:"final"},re={SKIERS_BETS:"skiersBets",SKIERS_BOOST:"skiersBoost"},_e=["#F71735","#DDB832","#488B49","#247BA0","#683894","#CC5C3E"];function On(n){const{translate:s}=ze(),i=$e({actionName:"submit-choices",onBeforeCall:()=>n(3),onError:()=>n(2),successMessage:s("Escolhas enviadas com sucesso","Choices submitted successfully"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar enviar suas escolhas","Oops, the application failed to send your choices")});return t=>{i({action:is.SUBMIT_CHOICES,...t})}}function Ee(n){const{translate:s}=ze(),i=$e({actionName:"submit-bets",onBeforeCall:()=>n(3),onError:()=>n(2),successMessage:s("Apostas enviadas com sucesso","Bets submitted successfully"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar enviar suas apostas","Oops, the application failed to send your bets")});return t=>{i({action:is.SUBMIT_BETS,...t})}}function H(){return e.jsxs("div",{className:"initial-snow",children:[e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"}),e.jsx("div",{className:"snow",children:"❄"})]})}const Ue={0:"#c3c3c3",1:"#d2bc6c",2:"#d4bb60",3:"#d6ba55",4:"#d8b949",5:"#dab83e",6:"#dcb732",7:"#d29639",8:"#c87540",9:"#be5347",10:"#b4324e"};function A({value:n,title:s}){return s?e.jsx(He,{title:s,children:e.jsx(Me,{size:"small",style:{background:Ue[n]},children:n??0})}):e.jsx(Me,{size:"small",style:{background:Ue[n]},children:n??0})}function Be({lodges:n,user:s,betType:i}){return e.jsx("div",{className:"lodges",children:n.map(t=>{var a,r;const o=((a=s==null?void 0:s[i])==null?void 0:a[t.id])??0,c=((r=s==null?void 0:s.bets)==null?void 0:r[t.id])??0;return e.jsxs("div",{className:"lodge",style:{width:84},children:[e.jsxs("div",{className:"lodge__icon",children:[e.jsx(le,{width:64,color:_e[t.id]}),e.jsx("span",{className:"lodge__number",children:t.id+1})]}),e.jsxs("div",{className:"lodge__bet",children:[e.jsx(A,{value:c}),e.jsx(A,{value:o})]})]},t.id)})})}function ts({players:n,user:s}){const i=p.useMemo(()=>U.orderBy(Object.values(n).filter(t=>t.id!==s.id),["name"],["asc"]),[n,s.id]);return e.jsx(Ne,{title:e.jsx(u,{pt:"Suas apostas",en:"Your bets"}),children:e.jsx("div",{className:"skier-bets",children:i.map(t=>e.jsxs("div",{className:"lodge",children:[e.jsx("div",{className:"lodge__icon",children:e.jsx(S,{player:t})}),e.jsxs("div",{className:"lodge__bets",children:[s.skierBets!==void 0&&e.jsx("div",{className:"lodge__bet",children:e.jsx(A,{title:e.jsx(u,{pt:"Apostas iniciais",en:"Initial Bets"}),value:s.skierBets[t.id]??0})}),s.skiersBoost!==void 0&&e.jsx("div",{className:"lodge__bet",children:e.jsx(A,{title:e.jsx(u,{pt:"Apostas de bônus",en:"Bonus Bets"}),value:s.skiersBoost[t.id]??0})})]})]},t.id))})})}const Rn={0:[0,1,2,3,4,5],1:[0,1,2,3],2:[2,3,4,5],3:[0,1],4:[2,3],5:[4,5]},Cn=(n,s)=>{const i={},t=Rn[s];for(let o=0;o<n;o++){const c=U.sample(t);c!==void 0&&(i[c]=(i[c]??0)+1)}return i};function C({children:n}){return e.jsx(Us,{icon:e.jsx(P,{}),children:n})}function Ln(n,s="horizontal"){const[i,t]=p.useState("right");return p.useEffect(()=>{const o=c=>{if(n.current){const a=n.current.getBoundingClientRect(),r=a.left+a.width/2,l=a.top+a.height/2;t(s==="horizontal"?c.clientX<r?"left":"right":c.clientY<l?"up":"down")}};return window.addEventListener("mousemove",o),()=>{window.removeEventListener("mousemove",o)}},[s,n]),i}const Pn="/tardedivertida/assets/mountain-icons-C5_KWYa6.svg";function de({mountain:n,skier:s,animateFrom:i=0,animateTo:t,betType:o,showLevel:c}){const a=Ye(6,{gap:32,margin:64,maxWidth:175}),r=a*2,[l,m]=yn(),d=[p.useRef(null),p.useRef(null),p.useRef(null),p.useRef(null),p.useRef(null),p.useRef(null)],h=kn(),x=d[i];p.useEffect(()=>{if(x!=null&&x.current){const j=x.current.getBoundingClientRect();m(t?[[l.current,{left:j.x+a-32,top:j.y-32},{duration:0}],[l.current,{left:j.x+a-32+(t==="left"?-(a/2):a/2),top:j.y+j.height-64},{delay:4,duration:3,ease:"circIn"}]]:[[l.current,{left:j.x+a-32,top:j.y-32},{duration:0}]])}},[x==null?void 0:x.current]);const f=Ln(l,"horizontal");return e.jsxs("div",{className:"ski-mountain",children:[e.jsx(pe.span,{ref:l,className:"ski-mountain__skier",animate:h,children:e.jsx(ve,{size:"large",icon:e.jsx(Ds,{color:ys(s.avatarId)}),className:Ke("ski-mountain__skier-icon",`ski-mountain__skier-icon--${f}`)})}),e.jsxs("div",{className:"ski-mountain__dilemmas",children:[e.jsx("span",{}),e.jsx("span",{}),e.jsx(V,{mountainEntry:n[0],width:r,ref:d[0],showDirection:c>=0,animate:o==="initial"}),e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{}),e.jsx(V,{mountainEntry:n[1],width:r,ref:d[1],showDirection:c>0,animate:o==="boost"}),e.jsx(V,{mountainEntry:n[2],width:r,ref:d[2],showDirection:c>0,animate:o==="boost"}),e.jsx("span",{}),e.jsx(V,{mountainEntry:n[3],width:r,ref:d[3],showDirection:c>1,animate:o==="final"}),e.jsx(V,{mountainEntry:n[4],width:r,ref:d[4],showDirection:c>1,animate:o==="final"}),e.jsx(V,{mountainEntry:n[5],width:r,ref:d[5],showDirection:c>1,animate:o==="final"})]})]})}const Mn=(n,s,i)=>!n||i?"#ffffff":s?"#98b9fe":"#ffffff",Fn=(n,s)=>n&&s?"#98b9fe":"#ffffff",V=p.forwardRef(({mountainEntry:n,width:s,showDirection:i,animate:t},o)=>{const c=Mn(i,n.selected,t),a=Fn(i,n.selected);return e.jsxs("div",{ref:o,className:"ski-mountain-entry",style:{width:s},children:[e.jsx("div",{className:"ski-mountain-entry__prompt",children:n.dilemma.prompt}),e.jsx(os,{spriteId:n.spriteId,width:s/2}),e.jsxs("div",{className:"ski-mountain-entry__options",children:[e.jsx(pe.div,{className:"ski-mountain-entry__option",initial:{backgroundColor:n.direction==="left"?c:"#ffffff"},animate:{backgroundColor:n.direction==="left"?a:"#ffffff"},transition:{duration:3,delay:6},children:n.dilemma.left}),e.jsx(pe.div,{className:"ski-mountain-entry__option",initial:{backgroundColor:n.direction==="right"?c:"#ffffff"},animate:{backgroundColor:n.direction==="right"?a:"#ffffff"},transition:{duration:3,delay:6},children:n.dilemma.right})]})]})});function os({spriteId:n,width:s}){return e.jsxs("div",{className:"ski-mountain-entry__illustration",children:[e.jsx("svg",{viewBox:"0 0 512 512",className:"ski-mountain-entry__icon",children:e.jsx("use",{href:`${Pn}#${n}`})}),e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 285.5 104.2",className:"ski-mountain-entry__path",style:{width:s},children:[e.jsx("path",{fill:"none",stroke:"#bfd8ea",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4.5",d:"M142.7 2.3s-.3 2-1.4 5.6"}),e.jsx("path",{fill:"none",stroke:"#bfd8ea",strokeDasharray:"0 0 11.26 11.26",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4.5",d:"M137 18.3C126.2 39.8 96.1 77.8 13.4 99.2"}),e.jsx("path",{fill:"none",stroke:"#bfd8ea",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4.5",d:"m8 100.6-5.7 1.3M142.7 2.3s.3 2 1.5 5.6"}),e.jsx("path",{fill:"none",stroke:"#bfd8ea",strokeDasharray:"0 0 11.26 11.26",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4.5",d:"M148.5 18.3c10.7 21.5 40.9 59.5 123.6 80.9"})]})]})}function Te({lodges:n,players:s,user:i,onSubmitBets:t,betType:o}){const c=Ye(6,{gap:32,margin:64,maxWidth:175}),[a,r]=p.useState(n.reduce((d,h)=>Object.assign(d,{[h.id]:0}),{})),[l,m]=p.useState(i.chips??0);return e.jsxs(L,{direction:"vertical",children:[e.jsx("div",{className:"lodges",children:n.map(d=>e.jsxs("div",{className:"lodge",style:{width:c},children:[e.jsxs("div",{className:"lodge__icon",children:[e.jsx(le,{width:c/3,color:_e[d.id]}),e.jsx("span",{className:"lodge__number",children:d.id+1})]}),e.jsxs("div",{className:"lodge__players",children:[e.jsx(He,{title:e.jsx(u,{pt:"Jogadores que apostaram nessa cabana",en:"Players who bet on this lodge"}),children:e.jsx(ve,{icon:e.jsx(P,{}),size:"small"})}),e.jsx(qs,{list:d.playersIds.map(h=>s[h]),size:"small",user:i,maxCount:6})]}),e.jsxs("div",{className:"lodge__bets",children:[i.initial!==void 0&&e.jsx("div",{className:"lodge__bet",children:e.jsx(A,{title:e.jsx(u,{pt:"Apostas iniciais",en:"Initial Bets"}),value:i.initial[d.id]??0})}),i.boost!==void 0&&e.jsx("div",{className:"lodge__bet",children:e.jsx(A,{title:e.jsx(u,{pt:"Apostas de bônus",en:"Bonus Bets"}),value:i.boost[d.id]??0})}),i.final!==void 0&&e.jsx("div",{className:"lodge__bet",children:e.jsx(A,{title:e.jsx(u,{pt:"Apostas finais",en:"Final Bets"}),value:i.final[d.id]??0})})]}),t&&e.jsx("div",{className:"lodge__bet",children:e.jsx(Xe,{style:{width:"100%"},type:"number",value:a[d.id],min:0,max:a[d.id]+l,onChange:h=>{const x=h,f=x-a[d.id];l-f>=0&&(r({...a,[d.id]:x}),m(l-f))},suffix:e.jsx(u,{pt:"fichas",en:"chips"})})})]},d.id))}),t&&e.jsxs(L,{children:[e.jsx(C,{children:l}),e.jsx(Se,{size:"large",onClick:()=>t({bets:a,betType:o}),disabled:l>0,children:e.jsx(u,{pt:"Enviar apostas",en:"Send bets"})})]})]})}function ye({announcement:n,players:s,turnOrder:i,user:t,skier:o,mountain:c,lodges:a,onSubmitBets:r,betType:l,animateFrom:m,animateTo:d,catchUp:h}){we();let x=-1;return l===R.BOOST&&(x=0),l===R.FINAL&&(x=1),e.jsxs(Z,{fullWidth:!0,announcement:n,children:[e.jsxs(ee,{children:[l===R.INITIAL&&e.jsx(u,{pt:"Faça suas apostas",en:"Make your bets"}),l===R.BOOST&&e.jsx(u,{pt:"Mais uma chance de melhorar suas apostas",en:"Boost your bets"}),l===R.FINAL&&e.jsx(u,{pt:"Última chance de apostar",en:"Last chance to bet"})]}),e.jsxs(J,{type:"rule",children:[e.jsx(u,{pt:e.jsxs(e.Fragment,{children:["O(A) skier ",e.jsx(S,{player:o})," está descendo essa montanha e finalizará em uma das cabanas. Qual cabana você acha que ele(a) vai escolher?",e.jsx("br",{}),"Você tem ",e.jsx(C,{children:t.chips})," fichas para apostar. Cada ficha vale"," ",e.jsx(oe,{children:"1 ponto"})," se você acertar a cabana escolhida.",e.jsx("br",{}),e.jsx("strong",{children:"BÔNUS:"})," Você também ganha ",e.jsx(oe,{children:"1 ponto"})," para cada cabana que você não aposta nada, então você vai preferir distribuir os pontos ou focar em somente algumas?"]}),en:e.jsxs(e.Fragment,{children:["The skier ",e.jsx(S,{player:o})," is skiing down this mountain and will finish in one of the lodges. Which lodge do you think they will choose?",e.jsx("br",{}),"You have ",e.jsx(C,{children:t.chips})," chips to bet. Each chip is worth"," ",e.jsx(oe,{children:"1 point"}),"if you guess the chosen lodge.",e.jsx("br",{}),e.jsx("strong",{children:"BONUS:"})," You also earn ",e.jsx(oe,{children:"1 point"})," for each lodge you don't bet on, so will you prefer to distribute the points or focus on just a few?"]})}),l===R.INITIAL&&h&&h.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx(u,{pt:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"ATENÇÃO:"})," Já que ",h.map(f=>s[f].name).join(", ")," ","está(ão) em último, ele(s) tem ",e.jsx(C,{children:"2 fichas"})," a mais."]}),en:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"ATTENTION:"})," Since ",h.map(f=>s[f].name).join(", ")," are last, they have ",e.jsx(C,{children:"2 more chips"}),"."]})})]})]}),e.jsx(de,{mountain:c,skier:o,animateFrom:m,animateTo:d,showLevel:x}),e.jsx(Te,{lodges:a,players:s,user:t,onSubmitBets:r,betType:l},t.chips),e.jsx(Vs,{onClick:()=>r({bets:Cn(t.chips??0,m),betType:l}),children:"Mock Bets"}),e.jsx(se,{players:s,order:i,activePlayerId:o.id})]})}function Dn({announcement:n,players:s,turnOrder:i,user:t,mountain:o,onSubmitChoices:c}){const{step:a,goToNextStep:r}=F(0),[l,m]=p.useState([]);we();const d=p.useMemo(()=>U.shuffle(o),[o]),h=d[a],x=a===d.length,f=(j,_)=>{const b=o.findIndex(g=>g.id===j);m(g=>(g[b]=_,g)),r()};return e.jsxs(Z,{fullWidth:!0,announcement:n,children:[e.jsx(ee,{children:e.jsx(u,{pt:"Responda as perguntas",en:"Answer the questions"})}),e.jsx(J,{type:"action",children:e.jsx(u,{pt:e.jsxs(e.Fragment,{children:["Responda as perguntas abaixo. Suas respostas determinará qual cabana seu esquiador irá parar quando descer a montanha.",e.jsx("br",{}),"A ordem aqui não é importante."]}),en:e.jsxs(e.Fragment,{children:["Answer the questions below. Your answers will determine which lodge your skier will stop when descending the mountain.",e.jsx("br",{}),"The order here is not important."]})})}),e.jsx(Gs,{size:"small",current:a,items:[{title:"❄"},{title:"❄"},{title:"❄"},{title:"❄"},{title:"❄"},{title:"❄"},{title:"!"}]}),h&&e.jsxs("div",{className:"ski-mountain-entry my-6",children:[e.jsxs("div",{className:"ski-mountain-entry__prompt",children:[h.dilemma.prompt,h.id]}),e.jsx(os,{spriteId:h.spriteId,width:256}),e.jsxs("div",{className:"ski-mountain-entry__options",children:[e.jsx(ce,{block:!0,onClick:()=>f(h.id,"left"),children:h.dilemma.left}),e.jsx(ce,{block:!0,onClick:()=>f(h.id,"right"),children:h.dilemma.right})]})]}),x&&e.jsxs(L,{direction:"vertical",children:[e.jsx(J,{type:"event",children:e.jsx(u,{pt:"Você respondeu todas as perguntas. Clique em 'Enviar' para finalizar.",en:"You answered all questions. Click 'Send' to complete"})}),e.jsx(Se,{onClick:()=>c({choices:l}),size:"large",children:e.jsx(u,{pt:"Enviar",en:"Send"})})]}),e.jsx(se,{players:s,order:i,activePlayerId:t.id})]})}function Vn({players:n,state:s}){var h,x;const i=q(n,s),{step:t,setStep:o,goToNextStep:c}=F(),[a,r]=z("activeSkierId",s,n),l=On(o),m=Ee(o),d=r?e.jsx(I,{icon:e.jsx(Ms,{}),title:e.jsx(u,{pt:"Responda as perguntas",en:"Answer the questions"}),currentRound:(h=s==null?void 0:s.round)==null?void 0:h.current,type:"overlay",duration:5,children:e.jsx(M,{children:e.jsx(u,{pt:"Responda as perguntas",en:"Answer the questions"})})}):e.jsx(I,{icon:e.jsx(P,{}),title:e.jsx(u,{pt:"Apostas",en:"Bets"}),currentRound:(x=s==null?void 0:s.round)==null?void 0:x.current,type:"overlay",duration:5,children:e.jsx(M,{children:e.jsx(u,{pt:"Distribua seus pontos de acordo com a opinião do esquiador",en:"Distribute your points according to skier"})})});return e.jsxs(G,{phase:s==null?void 0:s.phase,allowedPhase:N.BETS,children:[e.jsx(H,{}),e.jsxs(W,{step:t,players:n,waitingRoom:{content:!r&&e.jsx(Be,{user:i,lodges:s.lodges,betType:"initial"})},children:[e.jsx(Fs,{round:s.round,time:5,onPressButton:c,children:e.jsx(se,{players:n,order:s.turnOrder,activePlayerId:s.activeSkierId})}),e.jsxs(be,{condition:r,children:[e.jsx(Dn,{announcement:d,players:n,turnOrder:s.turnOrder,user:i,mountain:s.mountain,onSubmitChoices:l}),e.jsx(ye,{announcement:d,players:n,turnOrder:s.turnOrder,user:i,skier:a,mountain:s.mountain,lodges:s.lodges,onSubmitBets:m,betType:"initial",animateFrom:s.animateFrom,animateTo:s.animateTo,catchUp:s.catchUp})]})]})]})}function Ie({announcement:n,players:s,turnOrder:i,user:t,skier:o,mountain:c,lodges:a,betType:r,animateFrom:l,animateTo:m,goToNextStep:d}){let h=0;return r===R.BOOST&&(h=1),r===R.FINAL&&(h=2),e.jsxs(Z,{fullWidth:!0,announcement:n,children:[e.jsx(ee,{children:e.jsx(u,{pt:"Uhuuuuu!",en:"Weeeeeeeee"})}),e.jsxs(J,{type:"event",children:[r==="initial"&&e.jsx(u,{pt:e.jsxs(e.Fragment,{children:["E ",e.jsx(S,{player:o})," desceu a primeira descida..."]}),en:e.jsxs(e.Fragment,{children:["And ",e.jsx(S,{player:o})," finished the first slope..."]})}),r==="boost"&&e.jsx(u,{pt:e.jsxs(e.Fragment,{children:["E lá vai ",e.jsx(S,{player:o})," de novo..."]}),en:e.jsxs(e.Fragment,{children:["And there goes ",e.jsx(S,{player:o})," again..."]})}),r==="final"&&e.jsx(u,{pt:e.jsxs(e.Fragment,{children:[e.jsx(S,{player:o})," finalizou a descida e foi para uma cabana."]}),en:e.jsxs(e.Fragment,{children:[e.jsx(S,{player:o})," finished the slope and went to a lodge."]})})]}),r!=="final"&&e.jsx(Qe,{withWaitingTimeBar:!0,autoTriggerTime:15,children:"Next"}),e.jsx(de,{mountain:c,skier:o,animateFrom:l,animateTo:m,betType:r,showLevel:h}),e.jsx(Te,{lodges:a,players:s,user:t,betType:r}),r==="final"&&e.jsx(L,{children:e.jsx(Ze,{duration:12,onExpire:d,onClick:d,icon:e.jsx(sn,{}),children:e.jsx(u,{pt:"Ver Ranking",en:"See Ranking"})})}),e.jsx(se,{players:s,order:i,activePlayerId:o.id})]})}function Un({players:n,state:s}){var a;const i=q(n,s),{step:t}=F(),[o]=z("activeSkierId",s,n),c=e.jsx(I,{icon:e.jsx(Je,{}),title:e.jsx(u,{pt:"Primeira descida",en:"First slope"}),currentRound:(a=s==null?void 0:s.round)==null?void 0:a.current,type:"overlay",duration:3,children:e.jsx(M,{children:"..."})});return e.jsxs(G,{phase:s==null?void 0:s.phase,allowedPhase:N.STARTING_RESULTS,children:[e.jsx(H,{}),e.jsx(W,{step:t,players:n,children:e.jsx(Ie,{announcement:c,players:n,user:i,turnOrder:s.turnOrder,skier:o,mountain:s.mountain,lodges:s.lodges,betType:"initial",animateFrom:s.animateFrom,animateTo:s.animateTo})})]})}function qn({players:n,user:s,onSubmitBets:i,betType:t}){const o=p.useMemo(()=>U.orderBy(Object.values(n).filter(m=>m.id!==s.id),["name"],["asc"]),[n,s.id]),[c,a]=p.useState(o.reduce((m,d)=>Object.assign(m,{[d.id]:0}),{})),[r,l]=p.useState(s.chips??0);return e.jsxs(L,{direction:"vertical",children:[e.jsx("div",{className:"skier-bets",children:o.map(m=>e.jsxs("div",{className:"lodge",children:[e.jsx("div",{className:"lodge__icon",children:e.jsx(S,{player:m})}),e.jsxs("div",{className:"lodge__bets",children:[s[re.SKIERS_BETS]!==void 0&&e.jsx("div",{className:"lodge__bet",children:e.jsx(A,{title:e.jsx(u,{pt:"Apostas iniciais",en:"Initial Bets"}),value:s[re.SKIERS_BETS][m.id]??0})}),s[re.SKIERS_BOOST]!==void 0&&e.jsx("div",{className:"lodge__bet",children:e.jsx(A,{title:e.jsx(u,{pt:"Apostas de bônus",en:"Bonus Bets"}),value:s[re.SKIERS_BOOST][m.id]??0})})]}),i&&e.jsx("div",{className:"lodge__bet",children:e.jsx(Xe,{style:{width:"100%"},type:"number",value:c[m.id],min:0,max:c[m.id]+r,onChange:d=>{const h=d,x=h-c[m.id];r-x>=0&&(a({...c,[m.id]:h}),l(r-x))},suffix:e.jsx(u,{pt:"fichas",en:"chips"})})})]},m.id))}),i&&e.jsxs(L,{children:[e.jsx(C,{children:r}),e.jsx(Se,{size:"large",onClick:()=>i({bets:c,betType:t}),disabled:r>0,children:e.jsx(u,{pt:"Enviar apostas",en:"Send bets"})})]})]})}function rs({announcement:n,players:s,turnOrder:i,user:t,skier:o,mountain:c,lodges:a,onSubmitBets:r,betType:l,animateFrom:m,animateTo:d,playerBetType:h}){return we(),e.jsxs(Z,{fullWidth:!0,announcement:n,children:[e.jsx(ee,{children:e.jsx(u,{pt:"Escolha jogadores",en:"Choose players"})}),e.jsx(J,{type:"rule",children:e.jsx(u,{pt:e.jsxs(e.Fragment,{children:["Como esquiador você aposta ganha pontos baseado nos pontos que os outros jogadores ganharem.",e.jsx("br",{}),"Você tem ",e.jsx(C,{children:t.chips})," fichas para apostar em quais jogadores você quer compartilhar pontos. Cada ficha vale 20% dos pontos que o jogador ganhar."]}),en:e.jsxs(e.Fragment,{children:["As a skier you bet and win points based on the points other players win.",e.jsx("br",{}),"You have ",e.jsx(C,{children:t.chips})," chips to bet on which players you want to share points with. Each chip is worth 20% of the points the player wins."]})})}),e.jsx(de,{mountain:c,skier:o,animateFrom:m,animateTo:d,betType:l,showLevel:3}),e.jsx(Te,{lodges:a,players:s,user:t,betType:l}),e.jsx(qn,{players:s,user:t,onSubmitBets:r,betType:h}),e.jsx(se,{players:s,order:i,activePlayerId:o.id})]})}function Gn({players:n,state:s}){var m,d;const i=q(n,s),{step:t,setStep:o}=F(),[c,a]=z("activeSkierId",s,n),r=Ee(o),l=a?e.jsx(I,{icon:e.jsx(P,{}),title:e.jsx(u,{pt:"Aposte nos jogadores",en:"Bet on the players"}),currentRound:(m=s==null?void 0:s.round)==null?void 0:m.current,type:"overlay",duration:5}):e.jsx(I,{icon:e.jsx(P,{}),title:e.jsx(u,{pt:"Apostas Bônus",en:"Boost Bets"}),currentRound:(d=s==null?void 0:s.round)==null?void 0:d.current,type:"overlay",duration:5,children:e.jsx(M,{children:e.jsx(u,{pt:"Distribua seus pontos bônus de acordo com o que o esquiador",en:"Distribute your boost points according to skier"})})});return e.jsxs(G,{phase:s==null?void 0:s.phase,allowedPhase:N.BOOSTS,children:[e.jsx(H,{}),e.jsx(W,{step:t,players:n,waitingRoom:{content:a?e.jsx(ts,{user:i,players:n}):e.jsx(Be,{user:i,lodges:s.lodges,betType:"boost"})},children:e.jsxs(be,{condition:a,children:[e.jsx(rs,{announcement:l,players:n,turnOrder:s.turnOrder,user:i,skier:c,mountain:s.mountain,lodges:s.lodges,onSubmitBets:r,betType:"boost",animateFrom:s.animateFrom,animateTo:s.animateTo,playerBetType:"skiersBets"}),e.jsx(ye,{announcement:l,players:n,turnOrder:s.turnOrder,user:i,skier:c,mountain:s.mountain,lodges:s.lodges,onSubmitBets:r,betType:"boost",animateFrom:s.animateFrom,animateTo:s.animateTo})]})})]})}function Wn({players:n,state:s}){var a;const i=q(n,s),{step:t}=F(),[o]=z("activeSkierId",s,n),c=e.jsx(I,{icon:e.jsx(Je,{}),title:e.jsx(u,{pt:"Segunda descida",en:"Second slope"}),currentRound:(a=s==null?void 0:s.round)==null?void 0:a.current,type:"overlay",duration:3,children:e.jsx(M,{children:"..."})});return e.jsxs(G,{phase:s==null?void 0:s.phase,allowedPhase:N.PRELIMINARY_RESULTS,children:[e.jsx(H,{}),e.jsx(W,{step:t,players:n,children:e.jsx(Ie,{announcement:c,players:n,user:i,turnOrder:s.turnOrder,skier:o,mountain:s.mountain,lodges:s.lodges,betType:"boost",animateFrom:s.animateFrom,animateTo:s.animateTo})})]})}function zn({players:n,state:s}){var m,d;const i=q(n,s),{step:t,setStep:o}=F(),[c,a]=z("activeSkierId",s,n),r=Ee(o),l=a?e.jsx(I,{icon:e.jsx(P,{}),title:e.jsx(u,{pt:"Aposte nos jogadores",en:"Bet on the players"}),currentRound:(m=s==null?void 0:s.round)==null?void 0:m.current,type:"overlay",duration:5}):e.jsx(I,{icon:e.jsx(P,{}),title:e.jsx(u,{pt:"Aposta Final",en:"Final Bet"}),currentRound:(d=s==null?void 0:s.round)==null?void 0:d.current,type:"overlay",duration:5,children:e.jsx(M,{children:e.jsx(u,{pt:"Escolha sua cabana final",en:"Choose your final lodge"})})});return e.jsxs(G,{phase:s==null?void 0:s.phase,allowedPhase:N.LAST_CHANGE,children:[e.jsx(H,{}),e.jsx(W,{step:t,players:n,waitingRoom:{content:a?e.jsx(ts,{user:i,players:n}):e.jsx(Be,{user:i,lodges:s.lodges,betType:"final"})},children:e.jsxs(be,{condition:a,children:[e.jsx(rs,{announcement:l,players:n,turnOrder:s.turnOrder,user:i,skier:c,mountain:s.mountain,lodges:s.lodges,onSubmitBets:r,betType:"final",animateFrom:s.animateFrom,animateTo:s.animateTo,playerBetType:"skiersBoost"}),e.jsx(ye,{announcement:l,players:n,turnOrder:s.turnOrder,user:i,skier:c,mountain:s.mountain,lodges:s.lodges,onSubmitBets:r,betType:"final",animateFrom:s.animateFrom,animateTo:s.animateTo})]})})]})}function Hn({players:n,ranking:s,goToPreviousStep:i,round:t}){return e.jsxs(Ws,{players:n,ranking:s,gainedPointsDescriptions:[e.jsx(u,{pt:"Pontos por chegar na cabana certa",en:"Points for reaching the correct lodge"},"1"),e.jsx(u,{pt:"Pontos pelas cabanas sem nenhuma aposta",en:"Points for lodges without any bets"},"2"),e.jsx(u,{pt:"Esquiador: pontos relativos às apostas em outros jogadores",en:"Skier: points related to bets on other players"},"3"),e.jsx(u,{pt:"Esquiador: pontos por cada jogador não apostado",en:"Skier: points for each player not betted on"},"4")],children:[e.jsx(L,{children:e.jsx(ce,{onClick:i,children:e.jsx(u,{pt:"Ver resultado novamente",en:"See results again"})})}),e.jsx(Qe,{round:t})]})}function Yn({players:n,skier:s,lodges:i,goToNextStep:t,goToPreviousStep:o}){const c=p.useMemo(()=>U.orderBy(i,["selected",r=>r.playersIds.length,"id"],["desc","desc","asc"]),[i]),a=p.useMemo(()=>U.orderBy(Object.values(n).filter(r=>r.id!==s.id),[r=>{var l,m;return(((l=s.skiersBets)==null?void 0:l[r.id])??0)+(((m=s.skiersBoost)==null?void 0:m[r.id])??0)},"name"],["desc","asc"]),[n,s.id,s.skiersBets,s.skiersBoost]);return e.jsxs(Z,{children:[e.jsx(ee,{children:e.jsx(u,{pt:"Resumo das Apostas",en:"Bets Summary"})}),e.jsx("div",{className:"lodge-results",children:c.map(r=>e.jsxs("div",{className:"lodge-result",children:[e.jsx("div",{className:"lodge-result__selected",children:e.jsx(ve,{size:"large",icon:e.jsx(zs,{className:Ke(!r.selected&&"invisible")})})}),e.jsx("div",{className:"lodge-result__lodge",children:e.jsxs("div",{className:"lodge__icon",children:[e.jsx(le,{width:64,color:_e[r.id]}),e.jsx("span",{className:"lodge__number",children:r.id+1})]})}),e.jsx("div",{className:"lodge-result__players",children:r.playersIds.map(l=>{var d;const m=n[l];return e.jsxs("div",{children:[e.jsx(A,{value:((d=m.bets)==null?void 0:d[r.id])??0}),e.jsx(S,{player:m})]},l)})})]},r.id))}),e.jsx(Ne,{title:e.jsxs(Is,{children:[e.jsx(S,{player:s})," ",e.jsx(u,{pt:"Apostas do Esquiador",en:" the skier's Bets"})]}),contentProps:{className:"contained"},children:a.map(r=>{var m,d;const l=(((m=s.skiersBets)==null?void 0:m[r.id])??0)+(((d=s.skiersBoost)==null?void 0:d[r.id])??0);return e.jsxs("div",{className:"lodge",children:[e.jsx("div",{className:"lodge__icon",children:e.jsx(S,{player:r})}),e.jsx("div",{className:"lodge__bets",children:e.jsx("div",{className:"lodge__bet",children:e.jsx(A,{value:l})})})]},r.id)})}),e.jsxs(L,{children:[e.jsx(ce,{icon:e.jsx(Zs,{}),onClick:o,children:e.jsx(u,{pt:"Ver Montanha",en:"See Mountain"})}),e.jsx(Ze,{duration:25,onExpire:t,onClick:t,icon:e.jsx(Hs,{}),children:e.jsx(u,{pt:"Ver Ranking",en:"See Ranking"})})]})]})}function Kn({players:n,state:s}){var l;const i=q(n,s),{step:t,goToNextStep:o,goToPreviousStep:c}=F(),[a]=z("activeSkierId",s,n),r=e.jsx(I,{icon:e.jsx(le,{}),title:e.jsx(u,{pt:"E chegamos uma cabana!",en:"We've reached a lodge!"}),currentRound:(l=s==null?void 0:s.round)==null?void 0:l.current,type:"overlay",duration:3,children:e.jsx(M,{children:"..."})});return e.jsxs(G,{phase:s==null?void 0:s.phase,allowedPhase:N.FINAL_RESULTS,children:[e.jsx(H,{}),e.jsxs(W,{step:t,players:n,children:[e.jsx(Ie,{announcement:r,players:n,user:i,turnOrder:s.turnOrder,skier:a,mountain:s.mountain,lodges:s.lodges,betType:"final",animateFrom:s.animateFrom,animateTo:s.animateTo,goToNextStep:o}),e.jsx(Yn,{players:n,skier:a,lodges:s.lodges,goToNextStep:o,goToPreviousStep:c}),e.jsx(Hn,{players:n,round:s.round,ranking:s.ranking,goToPreviousStep:c})]})]})}function $n({state:n,players:s}){const i=n.gallery??[];return e.jsxs(Ks,{state:n,players:s,announcementIcon:e.jsx(Ys,{}),children:[e.jsx($s,{players:s,achievements:n.achievements,reference:Qs}),e.jsx(Ne,{title:e.jsx(u,{pt:"Montanhas Pares",en:"Best Pairs"}),className:"mt-4",contentProps:{direction:"vertical"},children:i.map(t=>e.jsx(de,{mountain:t.mountain,skier:s[t.skierId],animateFrom:0,animateTo:null,showLevel:10},t.id))})]})}function Qn(n){if(n&&!n.phase)return Os;switch(n.phase){case he.DEFAULT.LOBBY:return Ps;case he.DEFAULT.SETUP:return Ls;case N.BETS:return Vn;case N.STARTING_RESULTS:return Un;case N.BOOSTS:return Gn;case N.PRELIMINARY_RESULTS:return Wn;case N.LAST_CHANGE:return zn;case N.FINAL_RESULTS:return Kn;case he.DEFAULT.GAME_OVER:return $n;default:return Rs}}function mt(){return e.jsx(Cs,{gameCollection:ks.ESQUIADORES,getActiveComponent:Qn})}export{mt as default};
