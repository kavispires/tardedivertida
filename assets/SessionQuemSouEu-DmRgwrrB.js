import{f as O,n as W,aG as xe,bj as E,j as e,T as i,q as C,l as _,aL as f,bF as M,e as ee,I as q,aM as ce,P as _e,r as F,bC as N,bK as Ce,B as je,D as Ee,bG as Re,aY as Ne,aW as qe,aX as we}from"./index-BTRYo_JU.js";import{u as re,a as oe,S as B,b as L,c as ne,d as D,P as $,e as H,f as x,g as z,m as Ie,n as Pe,i as Ue,j as Ae,k as Ge,l as Te}from"./StepSwitcher-DnkTIRnq.js";import{F as Fe}from"./FilterIcon-BdhOK28B.js";import{I as V}from"./Instruction-BWsH0zfP.js";import{u as se}from"./useBooleanDictionary-CWoHBF9h.js";import{C as Q}from"./CharacterCard-DXs3EOQ1.js";import{C as le}from"./CardHighlight-BpqkI_CO.js";import{R as k}from"./RuleInstruction-DXytLzLg.js";import{B as Me}from"./index-BuD-th2M.js";import{P as ke}from"./PlayerIconsIcon-Uc_Lb_q4.js";import{R as Oe}from"./RoundAnnouncement-D3oqVAWc.js";import{P as ae,p as We,g as Be,a as Le,b as De}from"./PlayerGlyphs-BzW0dXOQ.js";import{N as Y}from"./NoIcon-CXiSKkI0.js";import{Y as K,M as $e}from"./YesIcon-KAN3u2aV.js";import{G as w}from"./GlyphCard-ByjcPLq3.js";/* empty css                             */import{I as He}from"./ImageBlurButtonContainer-e1Fbk6L4.js";import{I as ge}from"./ImageCard-BVh6qr5M.js";import{M as ye}from"./MetricHighlight-CNg2LqOC.js";import{E as ze}from"./WritingIcon-D6LBsyev.js";import{P as T}from"./PointsHighlight-Ba1GEDtW.js";import{u as Ve,R as Qe}from"./useVotingMatch-BJPEQsA5.js";import{R as Ye}from"./RibbonGroup-bNMNf5ay.js";import{R as Ke}from"./ThunderboltOutlined-35Jqn4so.js";import{u as Je}from"./SlideShowControls-itS88Jy6.js";import{A as Xe}from"./AvatarName-DAenfZgV.js";import{P as ve}from"./PopoverRule-C-maDR30.js";import{S as Ze}from"./SlideShow-BAGOMBnt.js";import{S as de}from"./StarPoints-Bwzb_MfU.js";import{S as he,a as es,b as Z,c as ss}from"./SlideShowComposableComponents-mSfZiUcE.js";import{S as rs}from"./StepRankingWrapper-nRGimJ4u.js";import{R as os}from"./RoundsLeftInstruction-DCcxJ9Qm.js";import{T as ns}from"./TrophyIcon-Bg6OeVq2.js";import"./GameOver-CMXfCRxr.js";import{G as as}from"./GameOverWrapper-BXAAv3Eb.js";import{A as ts}from"./Achievements-DYLN-sms.js";import{a as is}from"./achievements-BW6l1tk2.js";import{A as cs}from"./AvatarStrip-DzM0A_-I.js";import"./useBlurCards-DsbGDTih.js";import"./speech-CjFYMbZ_.js";import"./useDevFeatures-2MI9JLMb.js";import"./RulesModal-C76og4QM.js";import"./DoubleRightOutlined-K_i5wRdY.js";import"./PurePanel-CTbaOXVZ.js";import"./useMutation-Y0s_HXnf.js";import"./Game-LGO8TFe5.js";import"./WaitingRoomIcon-Bo40Gclr.js";import"./AnimatedClockIcon-BDIxvchV.js";import"./index-DQmIDfSh.js";import"./useBubbleLock-DT_m3yep.js";import"./index-dP7AQMWH.js";import"./Overflow-D27nJfac.js";import"./useEvent-BwBIfN2J.js";import"./index-DX9UPUKj.js";import"./Avatar-DW9OA1dO.js";import"./GameBanner-D1metudZ.js";import"./useTDBaseUrl-BF9foKiS.js";import"./index-C1CA2Fg3.js";import"./InfoCircleOutlined-DfJnCAq1.js";import"./index-DBrFGq3m.js";import"./SignIn-JevPnEZv.js";import"./GoogleIcon-CVRgS1Xf.js";import"./Loading-CG6iLMHE.js";import"./AnimatedLoaderIcon-BwNpHgfi.js";import"./LikeFilled-wzJD_VGZ.js";import"./StarFilled-C0wh3iHN.js";import"./StarFilled-CNctUIhy.js";import"./BoxCheckMarkIcon-C4xH7ONX.js";import"./Sprite-Ca9BEowv.js";import"./WarningOutlined-B3EsXJRm.js";import"./ImageBlurButton-9chCdybS.js";import"./StarIcon-DF1wNOC4.js";import"./Ribbon-CwaB3nJ1.js";import"./StepBackwardOutlined-s1BgcjQQ.js";import"./TrophyOutlined-eCMPMWlX.js";import"./GarbageIcon-Ds6yA9oU.js";import"./RankingBoard-2N7-lH7B.js";import"./CaretUpOutlined-CTN4lzvm.js";import"./ArrowRightOutlined-ClvBEYc8.js";import"./useMergedState-D5VgOPJ1.js";import"./progress-ED-Q4esO.js";import"./TheEndIcon-Bfl_iIZj.js";import"./Container-BS29JhJs.js";import"./Medal-2F0xZROC.js";import"./QuestionCircleOutlined-CNAY2SAs.js";const te={SUBMIT_CHARACTERS:"SUBMIT_CHARACTERS",SUBMIT_GLYPHS:"SUBMIT_GLYPHS",SUBMIT_GUESSES:"SUBMIT_GUESSES"},ls=10;function ds(r){const{translate:s}=O(),o=re({actionName:"submit-characters",onSuccess:()=>r(2),onError:()=>r(0),successMessage:s("Ação submetida com sucesso","Action submitted successfully"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return n=>{o({action:te.SUBMIT_CHARACTERS,...n})}}function hs(r){const{translate:s}=O(),o=re({actionName:"submit-glyphs",onSuccess:()=>r(2),onError:()=>r(0),successMessage:s("Ação submetida com sucesso","Action submitted successfully"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return n=>{o({action:te.SUBMIT_GLYPHS,...n})}}function ms(r){const{translate:s}=O(),o=re({actionName:"submit-guesses",onSuccess:()=>r(2),onError:()=>r(0),successMessage:s("Ação submetida com sucesso","Action submitted successfully"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return n=>{o({action:te.SUBMIT_GUESSES,...n})}}const ps=r=>W.sampleSize(r,6).map(s=>s.id);function us({user:r,announcement:s,onSelectCharacters:o}){const{isLoading:n}=xe(),t=E(12,{gap:16,minWidth:100,maxWidth:200}),{dict:a,updateDict:c,length:l,keys:d}=se({}),m=r.availableCharacters??[];return oe(),e.jsxs(B,{fullWidth:!0,announcement:s,children:[e.jsx(L,{children:e.jsx(i,{pt:e.jsxs(e.Fragment,{children:["Selecione ",e.jsx(le,{children:"6"})," cartas"]}),en:e.jsxs(e.Fragment,{children:["Select ",e.jsx(le,{children:"6"})," cards"]})})}),e.jsx(k,{type:"action",children:e.jsx(i,{pt:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Selecione"})," 6 personagens/celebridades abaixo, dessas 5 serão usadas no jogo.",e.jsx("br",{}),"Essa etapa é necessária para que você não receba um personagem que não conheça."]}),en:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Select"})," 6 characters/celebrities below, 5 of them will be used in the game.",e.jsx("br",{}),"This step is necessary so that you don't receive a character you don't know."]})})}),e.jsx(C,{className:"grid-container grid-template-6 gap-4",wrap:!0,children:m.map(h=>e.jsx(_,{disabled:r.ready||n,onClick:()=>c(h.id),active:a[h.id],activeClass:"q-character-player",children:e.jsx(Q,{size:t,character:h})},h.id))}),e.jsxs(f,{children:[e.jsx(M,{size:"large",type:"dashed",onClick:()=>o({characters:ps(m)}),loading:n,disabled:n||r.ready,children:e.jsx(i,{pt:e.jsx(e.Fragment,{children:"Escolha pra mim"}),en:e.jsx(e.Fragment,{children:"Choose for me"})})}),e.jsx(Me,{count:l,children:e.jsx(M,{size:"large",onClick:()=>o({characters:d}),loading:n,disabled:r.ready||l!==6,children:e.jsx(i,{pt:"Enviar cartas",en:"Submit cards"})})})]})]})}function xs({players:r,state:s}){var l;const o=ne(r,s),{step:n,setStep:t}=D(),a=ds(t),c=e.jsx($,{icon:e.jsx(Fe,{}),title:e.jsx(i,{pt:"Quem você conhece?",en:"Who do you know?"}),currentRound:(l=s==null?void 0:s.round)==null?void 0:l.current,type:"overlay",children:e.jsx(V,{children:e.jsx(i,{pt:e.jsx(e.Fragment,{children:"Selecione personagens/pessoas que você conhece"}),en:e.jsx(e.Fragment,{children:"Select characters/people you know"})})})});return e.jsx(H,{phase:s==null?void 0:s.phase,allowedPhase:x.QUEM_SOU_EU.CHARACTER_FILTERING,children:e.jsx(z,{step:n,players:r,children:e.jsx(us,{user:o,onSelectCharacters:a,announcement:c})})})}function js({user:r}){return r.selectedGlyphs?e.jsxs(C,{wrap:!0,children:[e.jsx(Q,{size:100,character:r.character}),e.jsx(ae,{player:r,glyphWidth:60})]}):e.jsx(e.Fragment,{})}function I({character:r,width:s,imageCardMode:o,className:n}){return o?e.jsx(He,{cardId:r.id,children:e.jsx(ge,{id:r.id,cardWidth:s,className:n,preview:!1})}):e.jsx(Q,{character:r,size:s,className:n})}function gs({characters:r,playerCharacterId:s,tableOrder:o,showAll:n=!0,imageCardMode:t=!1}){const a=E(8,{gap:16,minWidth:150,maxWidth:200}),c=o.slice(0,Math.floor(o.length/2)),l=o.slice(Math.floor(o.length/2));return n?e.jsxs(f,{className:"q-table",wrap:!0,children:[e.jsx(f,{wrap:!0,children:c.map(d=>e.jsx(I,{character:r[d],width:a,imageCardMode:t,className:ee(d===s&&"q-character-player")},d))}),e.jsx(f,{wrap:!0,children:l.map(d=>e.jsx(I,{character:r[d],width:a,imageCardMode:t,className:ee(d===s&&"q-character-player")},d))})]}):e.jsx(f,{className:"q-table",children:e.jsx(Q,{character:r[s],size:a,className:"q-character-player"})})}function me({children:r,type:s,iconSize:o,className:n}){return e.jsx(ye,{icon:e.jsx(K,{}),type:s,iconSize:o,className:n,children:r})}function pe({children:r,type:s,iconSize:o,className:n}){return e.jsx(ye,{icon:e.jsx(Y,{}),type:s,iconSize:o,className:n,children:r})}const ue=[0,1,2];function ys({user:r,announcement:s,onSelectGlyphs:o,characters:n,tableOrder:t,roundType:a,imageCardMode:c}){var A;const{translate:l}=O(),d=E(20,{gap:16,minWidth:50,maxWidth:75}),m=d+15,{dict:h,updateDict:p,keys:j}=se({}),{dict:b,updateDict:U,keys:R}=se({}),J=r.glyphs??[];return oe(),e.jsxs(B,{fullWidth:!0,announcement:s,children:[e.jsx(L,{children:e.jsx(i,{pt:e.jsx(e.Fragment,{children:"Descreva seu personagem com ícones"}),en:e.jsx(e.Fragment,{children:"Describe your character with glyphs"})})}),e.jsxs(k,{type:"rule",children:[e.jsx(i,{pt:e.jsxs(e.Fragment,{children:["Dos ícones abaixo, você pode selecionar até ",e.jsx(me,{children:"3"})," positivos e até ",e.jsx(pe,{children:"3"})," negativos.",e.jsx("br",{})," Quando você clica em ícone, você determina se ele é relacionado ao seu personagem ou não.",e.jsx("br",{}),e.jsx("strong",{children:"A sua carta é a que tem a borda de bolinhas amarelas!"})]}),en:e.jsxs(e.Fragment,{children:["From the glyphs below, you may select up to ",e.jsx(me,{children:"3"})," positive and ",e.jsx(pe,{children:"3"})," negative glyphs.",e.jsx("br",{}),"When you click on a glyph, you will determine if it's related or not to your character.",e.jsx("br",{}),e.jsx("strong",{children:"Your card is highlighted with the dotted yellow border!"})]})}),a==="SHOW"&&e.jsx(i,{pt:e.jsxs(e.Fragment,{children:[e.jsx("br",{}),"Você também pode ver todos os personagens abaixo caso queira evitar conflito com outros jogadores."]}),en:e.jsxs(e.Fragment,{children:[e.jsx("br",{}),"You can also take a look at all the characters for this round so you don't give clues that match others."]})})]}),a!=="SHOW"&&e.jsx(k,{type:"event",children:e.jsx(i,{pt:e.jsx(e.Fragment,{children:"De agora em diante, você vê apenas o seu personagem."}),en:e.jsx(e.Fragment,{children:"From now on, you only see your own character."})})}),e.jsx(gs,{characters:n,playerCharacterId:(A=r.character)==null?void 0:A.id,tableOrder:t,showAll:a==="SHOW",imageCardMode:c}),e.jsxs(f,{className:"q-selections",children:[e.jsx("div",{className:"q-selections__section q-selections__section--positive",children:ue.map(g=>{const y=j[g];return e.jsx("div",{className:"q-selections__positive",children:e.jsxs("div",{className:"q-selections__entry",children:[e.jsx(q,{icon:e.jsx(K,{})}),y!==void 0?e.jsx(_,{onClick:()=>p(y),title:l("Remover","Remove"),children:e.jsx(ce,{title:e.jsx(i,{pt:"Remover",en:"Remove"}),children:e.jsx(w,{width:m,id:y})})}):e.jsx("div",{className:"q-selections__no-glyph",style:{width:`${m}px`,height:`${m}px`}})]})},`pos-${g}-${y}`)})}),e.jsx("div",{className:"q-selections__section q-selections__section--negative",children:ue.map(g=>{const y=R[g];return e.jsx("div",{className:"q-selections__positive",children:e.jsxs("div",{className:"q-selections__entry",children:[e.jsx(q,{icon:e.jsx(Y,{})}),y!==void 0?e.jsx(_,{onClick:()=>U(y),children:e.jsx(ce,{title:e.jsx(i,{pt:"Remover",en:"Remove"}),trigger:"hover",children:e.jsx(w,{width:m,id:y})})}):e.jsx("div",{className:"q-selections__no-glyph",style:{width:`${m}px`,height:`${m}px`}})]})},`neg-${g}-${y}`)})})]}),e.jsx(C,{className:"glyphs",wrap:!0,children:J.map(g=>e.jsx(_e,{content:e.jsx(vs,{id:g,updatePositive:p,updateNegative:U,disablePositive:j.length===3,disableNegative:R.length===3}),title:e.jsx(i,{pt:"Positivo ou Negativo?",en:"Positive or Negative"}),trigger:"click",children:e.jsx(_,{children:e.jsx(w,{width:d,id:g})})},g))}),e.jsx(f,{children:e.jsx(M,{size:"large",onClick:()=>o({glyphs:We(h,b)}),disabled:r.ready||j.length<1&&R.length<1,children:e.jsx(i,{pt:e.jsx(e.Fragment,{children:"Enviar ícones"}),en:e.jsx(e.Fragment,{children:"Submit glyphs"})})})})]})}function vs({id:r,updatePositive:s,updateNegative:o,disablePositive:n,disableNegative:t}){return e.jsxs(C,{children:[e.jsx(_,{onClick:()=>s(r),disabled:n,children:e.jsx(q,{icon:e.jsx(K,{}),size:"large"})}),e.jsx(_,{onClick:()=>o(r),disabled:t,children:e.jsx(q,{icon:e.jsx(Y,{}),size:"large"})})]})}function Ss({players:r,state:s}){var d;const o=ne(r,s),{step:n,goToNextStep:t,setStep:a}=D(),c=hs(a),l=e.jsx($,{icon:e.jsx(ke,{}),title:e.jsx(i,{pt:"Descreva seu personagem com ícones",en:"Describe your character with glyphs"}),currentRound:(d=s==null?void 0:s.round)==null?void 0:d.current,type:"overlay",children:e.jsx(V,{children:e.jsx(i,{pt:e.jsx(e.Fragment,{children:"Selecione até 6 ícones que ajudem os outros jogadores a adivinhar o seu personagem"}),en:e.jsx(e.Fragment,{children:"Select up to 6 glyphs that would help other players to guess who your character is"})})})});return e.jsx(H,{phase:s==null?void 0:s.phase,allowedPhase:x.QUEM_SOU_EU.CHARACTER_DESCRIPTION,children:e.jsxs(z,{step:n,players:r,waitingRoom:{content:e.jsx(js,{user:o})},children:[e.jsx(Oe,{round:s==null?void 0:s.round,onPressButton:t,buttonText:" ",time:5}),e.jsx(ys,{user:o,onSelectGlyphs:c,characters:s.characters,tableOrder:s.tableOrder,announcement:l,roundType:s.roundType,imageCardMode:s.mode==="imageCards"})]})})}function P({currentRound:r}){return e.jsx(i,{pt:e.jsxs(e.Fragment,{children:["Você ganha ",e.jsx(T,{children:r}),"ponto para cada par que acertar e também"," ",e.jsx(T,{children:r}),"ponto para cada jogador que acertar o seu."]}),en:e.jsxs(e.Fragment,{children:["You get ",e.jsx(T,{children:r}),"point for each pair you get correctly and also ",e.jsx(T,{children:r}),"point for each player who gets your character correctly"]})})}function fs({user:r,announcement:s,onSubmitGuesses:o,players:n,characters:t,tableOrder:a,round:c,imageCardMode:l}){var ie;const{isLoading:d}=xe(),m=E(20,{gap:16,minWidth:45,maxWidth:60}),h=E(8,{gap:16,minWidth:120,maxWidth:200}),{votes:p,setVotes:j,activateItem:b,isVotingComplete:U,isItemActive:R}=Ve("player",!0,Object.keys(n).length,{}),[J,A]=F.useState(!1),g=()=>{A(!0);const u=Object.keys(p),v=Object.values(p),X=Object.keys(n).map(S=>N(["player",S])).filter(S=>!u.includes(S)),fe=W.shuffle(Object.keys(t).map(S=>N(["char",S])).filter(S=>!v.includes(S))),G={...p};return X.forEach((S,be)=>{G[S]||(G[S]=fe[be])}),j(G),G},y=F.useCallback(()=>{if(r.character)return{[N(["player",r.id])]:N(["char",r.character.id])}},[r]);oe(),F.useEffect(()=>{const u=y();u&&j(v=>({...v,...u}))},[(ie=r==null?void 0:r.character)==null?void 0:ie.id]);const Se=Be(n,p);return e.jsxs(B,{fullWidth:!0,announcement:s,children:[e.jsx(L,{children:e.jsx(i,{pt:e.jsx(e.Fragment,{children:"Pareie os cada personagem com um jogador"}),en:e.jsx(e.Fragment,{children:"Pair player and characters"})})}),e.jsxs(k,{type:"rule",children:[e.jsx(i,{pt:e.jsxs(e.Fragment,{children:["De acordo com a seleção de ícones de cada jogador, tente adivinhar todos os pares.",e.jsx("br",{}),e.jsx("strong",{children:"Clique"})," em uma das barras de ícones então no personagem correspondente.",e.jsx("br",{}),"Para desfazer, basta selecionar normalmente que sua escolha era sobreposta."]}),en:e.jsxs(e.Fragment,{children:["Based on each player's glyphs selection, try to guess the pairs.",e.jsx("br",{}),e.jsx("strong",{children:"Click"})," on one of the glyph bars and then on the corresponding character.",e.jsx("br",{}),"To undo, just select normally that your choice was overridden."]})}),e.jsx("br",{}),e.jsx(P,{currentRound:c.current})]}),e.jsxs("div",{className:"q-voting-container",children:[e.jsx("div",{className:"q-voting-characters",children:a.map(u=>{const v=N(["char",u]),X=Se[u]??[];return e.jsxs(_,{onClick:()=>b(v),active:R(v),className:"q-voting-characters__button",children:[e.jsx(Ye,{labels:X}),e.jsx(I,{character:t[u],width:h,className:ee(u==="a"&&"q-character-player"),imageCardMode:l})]},u)})}),e.jsx("div",{className:"q-players-glyphs",children:Ce(n).map(u=>{const v=N(["player",u.id]);return e.jsx(_,{onClick:()=>b(v),active:R(v),children:e.jsx(ae,{player:u,glyphWidth:m,done:!!p[v]})},`glyphs-for-${u.id}`)})})]}),e.jsxs(f,{children:[e.jsx(M,{size:"large",onClick:()=>o({guesses:Le(p),choseRandomly:J}),disabled:r.ready||!U,children:e.jsx(i,{pt:e.jsx(e.Fragment,{children:"Enviar pares"}),en:e.jsx(e.Fragment,{children:"Submit guesses"})})}),e.jsx(je,{size:"large",type:"dashed",onClick:()=>g(),disabled:d||r.ready,icon:e.jsx(Ke,{}),children:e.jsx(i,{pt:e.jsx(e.Fragment,{children:"Desistir"}),en:e.jsx(e.Fragment,{children:"Guess for me"})})})]})]})}function bs({players:r,state:s}){var l;const o=ne(r,s),{step:n,setStep:t}=D(),a=ms(t),c=e.jsx($,{icon:e.jsx(ze,{}),title:e.jsx(i,{pt:"Pareie os personagens e símbolos",en:"Pair characters with the players' glyphs"}),currentRound:(l=s==null?void 0:s.round)==null?void 0:l.current,type:"overlay",children:e.jsx(V,{children:e.jsx(P,{currentRound:s.round.current})})});return e.jsx(H,{phase:s==null?void 0:s.phase,allowedPhase:x.QUEM_SOU_EU.GUESSING,children:e.jsx(z,{step:n,players:r,children:e.jsx(fs,{user:o,onSubmitGuesses:a,characters:s.characters,tableOrder:s.tableOrder,players:r,announcement:c,round:s.round,imageCardMode:s.mode==="imageCards"})})})}function _s({players:r,playersSay:s,playersPoints:o,characters:n,currentColor:t,currentPlayer:a,round:c,imageCardMode:l}){const d=W.orderBy(Object.entries(s).map(([h,p])=>({cardId:h,character:n[h],playersIds:p,count:p.length,isCorrect:a.character.id===h})),["isCorrect","count","card.text"],["desc","desc","asc"]),m=s[a.character.id];return e.jsxs(C,{className:"q-gallery__info-container",direction:"vertical",children:[e.jsxs(C,{className:"q-gallery__votes",direction:"vertical",children:[e.jsx(he,{children:e.jsx(i,{pt:"Jogadores votaram",en:"Players voted"})}),d.map((h,p)=>e.jsxs("div",{className:"q-gallery__guess",children:[e.jsx(es,{winner:h.isCorrect,backgroundColor:t,children:l?e.jsx(ge,{id:h.character.id,cardWidth:35,className:"inline"}):e.jsx(Ee,{children:h.character.name})}),e.jsx(Z,{playersIds:h.playersIds,players:r})]},`guess-${h.cardId}-${p}`))]}),e.jsxs(C,{className:"q-gallery__votes",direction:"vertical",children:[e.jsx(he,{children:e.jsx(i,{pt:"Pontos",en:"Points"})}),m.length?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"q-gallery__players",children:e.jsx(Z,{playersIds:m,players:r,children:e.jsx(de,{quantity:c.current,keyPrefix:`guessers-points-${a.id}`})})}),e.jsx("div",{className:"q-gallery__player-points",children:e.jsx(Z,{playersIds:[a.id],players:r,children:e.jsx(de,{quantity:o==null?void 0:o[a.id],keyPrefix:`artist-points-${a.id}`})})})]}):e.jsx(ss,{children:e.jsx(i,{pt:"Esses ícones devem ter sido uma bosta, heim.",en:"It must have been a very crappy glyphs. What a shame..."})})]})]})}function Cs({players:r,gallery:s,characters:o,slideShowConfig:n,round:t,imageCardMode:a}){Ie();const c=E(20,{gap:16,minWidth:45,maxWidth:60}),l=E(8,{gap:16,minWidth:120,maxWidth:200}),{playerId:d,characterId:m,playersPoints:h,playersSay:p}=s[n.slideIndex],j=r[d],b=Re(j.avatarId);return e.jsxs(B,{className:"l-step-album",children:[e.jsx(L,{children:e.jsx(i,{pt:"Galeria",en:"Gallery"})}),e.jsx(ve,{content:e.jsx(P,{currentRound:t.current})}),e.jsxs(Ze,{config:n,barColor:b,leftClassName:"q-gallery__result",rightClassName:"q-gallery__info",children:[e.jsxs("div",{className:"q-gallery__result-container",children:[e.jsx("div",{className:"q-gallery__player",style:{backgroundColor:b},children:e.jsx(Xe,{player:j,size:"large"})}),e.jsxs(f,{vertical:!0,children:[e.jsx(I,{character:o[m],width:l,imageCardMode:a}),e.jsx(ae,{player:j,glyphWidth:c})]})]}),e.jsx(_s,{players:r,playersSay:p,playersPoints:h,characters:o,currentColor:b,currentPlayer:j,round:t,imageCardMode:a})]})]})}function Es({players:r,ranking:s,round:o,onGoBack:n}){return e.jsxs(rs,{players:r,ranking:s,gainedPointsDescriptions:[e.jsx(i,{pt:"Votos corretos",en:"Correct guesses"},"1"),e.jsx(i,{pt:"Votos corretos em seu personagem por outros jogadores",en:"Correct guesses on your character by other players"},"2")],children:[e.jsx(ve,{content:e.jsx(P,{currentRound:o.current})}),e.jsx(os,{round:o}),e.jsx(je,{size:"large",onClick:n,icon:e.jsx(Qe,{}),children:e.jsx(i,{pt:"Ver Galeria Novamente",en:"See Gallery Again"})}),e.jsx(Pe,{round:o})]})}function Rs({players:r,state:s}){var l;const{step:o,goToPreviousStep:n,goToNextStep:t}=D(),a=Je({length:s.gallery.length,slideDuration:ls,onExpire:t}),c=()=>{a.reset(),n()};return e.jsx(H,{phase:s==null?void 0:s.phase,allowedPhase:x.QUEM_SOU_EU.RESULTS,children:e.jsxs(z,{step:o,players:r,children:[e.jsx($,{icon:e.jsx($e,{}),title:e.jsx(i,{pt:"Resultado",en:"Results"}),onClose:t,currentRound:(l=s==null?void 0:s.round)==null?void 0:l.current,unskippable:!0,type:"block",children:e.jsx(V,{children:e.jsx(P,{currentRound:s.round.current})})}),e.jsx(Cs,{players:r,gallery:s.gallery,characters:s.characters,slideShowConfig:a,round:s.round,imageCardMode:s.mode==="imageCards"}),e.jsx(Es,{players:r,ranking:s.ranking,round:s.round,onGoBack:c})]})})}function Ns({players:r,character:s,glyphWidth:o,imageCardsMode:n}){const[t,a]=F.useMemo(()=>De(s.glyphs??{}),[s.glyphs]);return e.jsxs("div",{className:"q-player-glyphs q-final-character",children:[e.jsx(cs,{player:r[s.playerId],withName:!0,className:"q-player-glyphs__strip"}),e.jsx(I,{width:100,character:s,imageCardMode:n}),t.map((c,l)=>e.jsxs("div",{className:"q-player-glyphs__entry q-player-glyphs__entry--positive",children:[e.jsx(q,{icon:e.jsx(K,{}),size:"small"}),c?e.jsx(w,{width:o,id:c}):e.jsx("div",{className:"q-selections__no-glyph",style:{width:`${o}px`,height:`${o}px`}})]},`pos-${s.id}-${c}-${l}`)),a.map((c,l)=>e.jsxs("div",{className:"q-player-glyphs__entry q-player-glyphs__entry--negative",children:[e.jsx(q,{icon:e.jsx(Y,{}),size:"small"}),c?e.jsx(w,{width:o,id:c}):e.jsx("div",{className:"q-selections__no-glyph",style:{width:`${o}px`,height:`${o}px`}})]},`neg-${s.id}-${c}-${l}`))]})}function qs({state:r,players:s,meta:o}){return e.jsxs(as,{state:r,players:s,announcementIcon:e.jsx(ns,{}),children:[e.jsx(ts,{players:s,achievements:r.achievements,reference:is}),e.jsx(f,{wrap:!0,children:W.orderBy(r.gallery,`name.${o.language}`).map(n=>{var t;return e.jsx(Ns,{players:s,character:n,glyphWidth:30,imageCardsMode:!!((t=o.options)!=null&&t.imageCardsMode)},n.id)})})]})}function ws(r){if(r&&!r.phase)return qe;switch(r.phase){case x.DEFAULT.LOBBY:return Te;case x.DEFAULT.RULES:return Ge;case x.DEFAULT.SETUP:return Ae;case x.QUEM_SOU_EU.CHARACTER_FILTERING:return xs;case x.QUEM_SOU_EU.CHARACTER_DESCRIPTION:return Ss;case x.QUEM_SOU_EU.GUESSING:return bs;case x.QUEM_SOU_EU.RESULTS:return Rs;case x.DEFAULT.GAME_OVER:return qs;default:return we}}function io(){return e.jsx(Ue,{gameCollection:Ne.QUEM_SOU_EU,getActiveComponent:ws})}export{io as default};
