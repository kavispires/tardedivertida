import{cy as We,cz as Ct,r as m,$ as ce,cA as h,cB as et,a7 as A,a as Nt,g as Tt,m as _t,cC as Et,a8 as Ce,ab as tt,b as st,ai as ot,ag as Ot,c as N,B as v,av as Ne,cD as $t,u as nt,cE as rt,cF as Pt,cG as Bt,d as zt,y as Te,cH as it,F as I,f as q,j as e,T as l,cI as at,cJ as ct,bs as _e,D as C,cK as Qe,h as Xe,cL as wt,cM as Mt,cN as Ze,s as Rt,at as re,bZ as Ee,v as U,O as At,I as Dt,aF as Ft}from"./index-BOsSHft9.js";import{u as le,a as Oe,P as $e,S as Pe,c as Lt,d as qt,e as Gt}from"./Session-ClM6XSPW.js";import{P as Vt}from"./PhasePlaceholder-CvmbAj4N.js";import{L as kt}from"./LawIcon-7f6o7HyK.js";import{P as ie,a as Be,S as ze}from"./StepSwitcher-B96HgWAJ.js";import{S as Ht}from"./StepSelectPlayer-4ScQjVZV.js";import{u as fe}from"./useWhichPlayerIsThe-CckI-JRq.js";import{L as Ut}from"./LocationIcon-CykSt_Sm.js";import{P as Yt}from"./PeopleAssessmentIcon-BZR73-T9.js";import{I as W}from"./useDevFeatures-dTKwIThH.js";import{V as Wt}from"./ViewOr-Bx1kDirb.js";import{C as Qt}from"./CheckMarkIcon-LTzHjSXD.js";import{R as ee}from"./RuleInstruction-BXZg4RrH.js";import{T as Xt,a as Zt,u as Jt,R as Kt}from"./index.esm-ChxF5k5L.js";import{u as es}from"./useTDBaseUrl-BF9foKiS.js";/* empty css                             */import{I as ts}from"./ImageCard-B1HrZW2m.js";import{u as ss}from"./useToggle-Dc6hgKIQ.js";import{C as lt}from"./index-CH-edlqO.js";import{B as os,T as M}from"./index-WOylA7z2.js";import{D as ns}from"./index-D4x_Ul7d.js";import{R as ve}from"./AimOutlined-CAHEzudk.js";import{R as rs}from"./VerticalAlignTopOutlined-CIOp2fwu.js";import{s as is,g as as}from"./scrollTo-NwEXtv7Z.js";import{R as cs}from"./BarChartOutlined-iEhyG3k1.js";import{S as ls}from"./index-C5jY_EVM.js";import{T as ds}from"./TDIcon-CGsrW8vV.js";import"./Game-CXsnsXB2.js";import"./useMutation-OxQnjRsZ.js";import"./speech-D2Kr3kVP.js";import"./index-Bk9jMjk_.js";import"./RulesModal-BzpC-WQm.js";import"./WritingIcon-DyS2gh9g.js";import"./PurePanel-CD0uclYn.js";import"./PlayerAvatar-UCmuqCEF.js";import"./DebugOnly-DCXJNfUL.js";import"./index-BXfV98YT.js";import"./index-DnIHenrb.js";import"./SignIn-DB9KLeIO.js";import"./GoogleIcon-Cppb9mso.js";import"./AnimatedGearIcon-1r2hglKW.js";import"./AnimatedClockIcon-DKqNY97O.js";import"./TimedButton-Dc_haITE.js";import"./Loading-B4eslbv-.js";import"./AnimatedLoaderIcon-CdUQezzM.js";import"./WaitingRoomIcon-DycRG4Fc.js";import"./LikeFilled-3Kzl2kVc.js";import"./PlayerAvatarCard-CWHuWNJ1.js";import"./StarFilled-C_qFzqmk.js";import"./useId-W-deffD5.js";import"./index-CA-J7sGw.js";import"./EllipsisOutlined-IDKRCaF9.js";import"./extends-CF3RwP-h.js";function us(t){let s=null;const o=a=>()=>{s=null,t.apply(void 0,Ct(a))},n=(...a)=>{s===null&&(s=We(o(a)))};return n.cancel=()=>{We.cancel(s),s=null},n}var ms={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 128c-212.1 0-384 171.9-384 384v360c0 13.3 10.7 24 24 24h184c35.3 0 64-28.7 64-64V624c0-35.3-28.7-64-64-64H200v-48c0-172.3 139.7-312 312-312s312 139.7 312 312v48H688c-35.3 0-64 28.7-64 64v208c0 35.3 28.7 64 64 64h184c13.3 0 24-10.7 24-24V512c0-212.1-171.9-384-384-384zM328 632v192H200V632h128zm496 192H696V632h128v192z"}}]},name:"customer-service",theme:"outlined"};function be(){return be=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var o=arguments[s];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},be.apply(this,arguments)}const ps=(t,s)=>m.createElement(ce,be({},t,{ref:s,icon:ms})),hs=m.forwardRef(ps);var xs={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}}]},name:"file-text",theme:"outlined"};function Ie(){return Ie=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var o=arguments[s];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},Ie.apply(this,arguments)}const gs=(t,s)=>m.createElement(ce,Ie({},t,{ref:s,icon:xs})),dt=m.forwardRef(gs);var js={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.7L639.4 73.4c-6-6-14.2-9.4-22.7-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.6-9.4-22.6zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM402 549c0 5.4 4.4 9.5 9.8 9.5h32.4c5.4 0 9.8-4.2 9.8-9.4 0-28.2 25.8-51.6 58-51.6s58 23.4 58 51.5c0 25.3-21 47.2-49.3 50.9-19.3 2.8-34.5 20.3-34.7 40.1v32c0 5.5 4.5 10 10 10h32c5.5 0 10-4.5 10-10v-12.2c0-6 4-11.5 9.7-13.3 44.6-14.4 75-54 74.3-98.9-.8-55.5-49.2-100.8-108.5-101.6-61.4-.7-111.5 45.6-111.5 103zm78 195a32 32 0 1064 0 32 32 0 10-64 0z"}}]},name:"file-unknown",theme:"outlined"};function Se(){return Se=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var o=arguments[s];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},Se.apply(this,arguments)}const fs=(t,s)=>m.createElement(ce,Se({},t,{ref:s,icon:js})),vs=m.forwardRef(fs);var bs={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M920 760H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-568H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM216 712H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h72.4v20.5h-35.7c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h35.7V838H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4V716c0-2.2-1.8-4-4-4zM100 188h38v120c0 2.2 1.8 4 4 4h40c2.2 0 4-1.8 4-4V152c0-4.4-3.6-8-8-8h-78c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4zm116 240H100c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4h68.4l-70.3 77.7a8.3 8.3 0 00-2.1 5.4V592c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4v-36c0-2.2-1.8-4-4-4h-68.4l70.3-77.7a8.3 8.3 0 002.1-5.4V432c0-2.2-1.8-4-4-4z"}}]},name:"ordered-list",theme:"outlined"};function ye(){return ye=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var o=arguments[s];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},ye.apply(this,arguments)}const Is=(t,s)=>m.createElement(ce,ye({},t,{ref:s,icon:bs})),Ss=m.forwardRef(Is),ae=h.createContext(null),ys=t=>{const{componentCls:s,floatButtonSize:o,iconCls:n,antCls:a,floatButtonIconSize:i}=t,r=et(a,"float-btn"),c=`${s}-badge`,d=Math.SQRT2,p=(d-1)/d,x=t.calc(t.borderRadius).mul(p).equal(),g=t.calc(t.controlHeight).div(2).mul(p).equal();return{[s]:[{[r("size")]:A(o)},{flexDirection:"column",margin:0,padding:`${A(t.paddingXXS)} 0`,width:`var(${r("size")})`,minHeight:`var(${r("size")})`,height:"auto",wordBreak:"break-word",whiteSpace:"normal",gap:t.calc(t.paddingXXS).div(2).equal(),"&-rtl":{direction:"rtl"},[`&${s}-individual`]:{position:"fixed",zIndex:t.zIndexPopupBase,insetInlineEnd:t.floatButtonInsetInlineEnd,bottom:t.floatButtonInsetBlockEnd,boxShadow:t.boxShadowSecondary},[`&${s}-pure`]:{position:"relative",inset:"auto"},"&:empty":{display:"none"},[`${s}-icon`]:{lineHeight:1},[`&${s}-icon-only`]:{[n]:{fontSize:i}},[`${s}-content`]:{fontSize:t.fontSizeSM},[c]:{position:"absolute",top:0,insetInlineEnd:0,[`&:not(${c}-dot)`]:{transform:"translate(50%, -50%)"}},[`&-rtl ${c}:not(${c}-dot)`]:{transform:"translate(-50%, -50%)"},"&-square":{[`${c}-dot`]:{marginTop:x,marginInlineEnd:x}},"&-circle":{[c]:{marginTop:g,marginInlineEnd:g}}}]}},Cs=t=>{const{componentCls:s,antCls:o,floatButtonSize:n,padding:a}=t,i=`${s}-group`,r=`${i}-list`,c=et(o,"float-btn");return{[i]:[{[c("list-transform-start")]:`translate(0,${A(n)})`,[c("list-trigger-offset")]:`calc(${A(n)} + ${A(a)})`},{...Nt(t),position:"fixed",zIndex:t.zIndexPopupBase,insetInlineEnd:t.floatButtonInsetInlineEnd,bottom:t.floatButtonInsetBlockEnd,gap:a,"&-rtl":{direction:"rtl"},[`&${s}-pure`]:{position:"relative",inset:"auto"},[s]:{position:"relative",inset:"auto"}},{[`&:not(${i}-individual) ${r}`]:{boxShadow:t.boxShadowSecondary},[`&${i}-individual ${r}`]:{gap:a},[`&-menu-mode ${r}`]:{position:"absolute"},[r]:{borderRadius:t.borderRadiusLG,"&-motion":{transition:`all ${t.motionDurationSlow}`,"&-enter, &-appear":{opacity:0,transform:c("list-transform-start",!0),"&-active":{opacity:1,transform:"translate(0, 0)"}},"&-leave":{"&-active":{opacity:0,transform:c("list-transform-start",!0)}}}},"&-top":{[r]:{bottom:c("list-trigger-offset",!0)}},"&-bottom":{[r]:{[c("list-transform-start")]:`translate(0, calc(${A(n)} * -1))`,top:c("list-trigger-offset",!0)}},"&-left":{[r]:{[c("list-transform-start")]:`translate(${A(n)}, 0)`,right:c("list-trigger-offset",!0)}},"&-right":{[r]:{[c("list-transform-start")]:`translate(calc(${A(n)} * -1), 0)`,left:c("list-trigger-offset",!0)}}}]}},Ns=()=>({}),ut=Tt("FloatButton",t=>{const{controlHeightLG:s,marginXXL:o,marginLG:n,fontSizeIcon:a,calc:i}=t,r=_t(t,{floatButtonIconSize:i(a).mul(1.5).equal(),floatButtonSize:s,floatButtonInsetBlockEnd:o,floatButtonInsetInlineEnd:n});return[ys(r),Cs(r),Et(t)]},Ns,{order:-998}),de="float-btn",Ts=h.forwardRef((t,s)=>{const{prefixCls:o,className:n,rootClassName:a,style:i,type:r="default",shape:c="circle",icon:d,description:p,content:x,tooltip:g,badge:j={},classNames:y,styles:b,...T}=t,{getPrefixCls:f,direction:E}=h.useContext(Ce),u=h.useContext(ae),S=f(de,o),D=tt(S),{shape:Q,individual:X,classNames:te,styles:Z}=u||{},F=Q||c,O=X??!0,_=x??p,me={...t,type:r,shape:F},[pe,w]=ut(S,D),G=h.useMemo(()=>({icon:`${S}-icon`,content:`${S}-content`}),[S]),[he,se]=st([G,te,y],[Z,b],{props:me}),V=!_&&!d?h.createElement(dt,null):d,[k]=ot("FloatButton",i?.zIndex),xe={...i,zIndex:k},H=Ot(j,["title","children","status","text"]),J="badge"in t&&h.createElement(os,{...H,className:N(H.className,`${S}-badge`,{[`${S}-badge-dot`]:H.dot})}),L=$t(g);let K=h.createElement(v,{...T,ref:s,className:N(pe,w,D,S,n,a,`${S}-${r}`,`${S}-${F}`,{[`${S}-rtl`]:E==="rtl",[`${S}-individual`]:O,[`${S}-icon-only`]:!_}),classNames:he,styles:se,style:xe,shape:F,type:r,size:"large",icon:V,_skipSemantic:!0},_,J);return L&&(K=h.createElement(Ne,{...L},K)),K}),P=Ts,_s=h.createElement(rs,null),mt=h.forwardRef((t,s)=>{const{backTopIcon:o}=nt("floatButton"),{prefixCls:n,className:a,type:i="default",shape:r="circle",visibilityHeight:c=400,icon:d,target:p,onClick:x,duration:g=450,...j}=t,y=d??o??_s,[b,T]=m.useState(c===0),f=h.useRef(null);h.useImperativeHandle(s,()=>({nativeElement:f.current}));const E=()=>f.current?.ownerDocument||window,u=us(O=>{const _=as(O.target);T(_>=c)});m.useEffect(()=>{const _=(p||E)();return u({target:_}),_?.addEventListener("scroll",u),()=>{u.cancel(),_?.removeEventListener("scroll",u)}},[p]);const S=O=>{is(0,{getContainer:p||E,duration:g}),x?.(O)},{getPrefixCls:D}=m.useContext(Ce),Q=D(de,n),X=D(),Z=m.useContext(ae)?.shape||r,F={prefixCls:Q,icon:y,type:i,shape:Z,...j};return h.createElement(rt,{visible:b,motionName:`${X}-fade`},({className:O},_)=>h.createElement(P,{ref:Pt(f,_),...F,onClick:S,className:N(a,O)}))}),pt=t=>{const{prefixCls:s,className:o,style:n,classNames:a,styles:i,rootClassName:r,shape:c="circle",type:d="default",placement:p,icon:x=h.createElement(dt,null),closeIcon:g,trigger:j,children:y,onOpenChange:b,open:T,onClick:f,...E}=t,{direction:u,getPrefixCls:S,closeIcon:D,classNames:Q,styles:X,className:te,style:Z}=nt("floatButtonGroup"),F=g??D??h.createElement(it,null),O=S(de,s),_=tt(O),[me,pe]=ut(O,_),w=`${O}-group`,G=j&&["click","hover"].includes(j),[he]=ot("FloatButton",n?.zIndex),se=h.useRef(null),V=["top","left","right","bottom"].includes(p)?p:"top",[k,xe]=Bt(!1,T),H=j==="hover",J=j==="click",L=zt($=>{k!==$&&(xe($),b?.($))}),K=()=>{H&&L(!0)},bt=()=>{H&&L(!1)},It=$=>{J&&L(!k),f?.($)};h.useEffect(()=>{if(J){const $=ne=>{se.current?.contains(ne.target)||L(!1)};return document.addEventListener("click",$,{capture:!0}),()=>document.removeEventListener("click",$,{capture:!0})}},[J]);const oe=c==="circle",St={...t,shape:c,type:d,placement:V},[B,z]=st([Q,a],[X,i],{props:St}),ge=h.useMemo(()=>({shape:c,individual:oe,classNames:{root:B.item,icon:B.itemIcon,content:B.itemContent},styles:{root:z.item,icon:z.itemIcon,content:z.itemContent}}),[c,oe,B,z]),yt=h.useMemo(()=>({...ge,individual:!0,classNames:{root:B.trigger,icon:B.triggerIcon,content:B.triggerContent},styles:{root:z.trigger,icon:z.triggerIcon,content:z.triggerContent}}),[ge,B,z]);let je;const He=`${w}-list`,Ue=$=>{const ne=V==="top"||V==="bottom",Ye={className:N(He,B.list,$),style:z.list};return oe?je=h.createElement(I,{vertical:ne,...Ye},y):je=h.createElement(Te.Compact,{vertical:ne,...Ye},y),je};return h.createElement(ae.Provider,{value:ge},h.createElement("div",{className:N(w,me,pe,_,te,B.root,o,r,{[`${w}-rtl`]:u==="rtl",[`${w}-individual`]:oe,[`${w}-${V}`]:G,[`${w}-menu-mode`]:G}),style:{...Z,zIndex:he,...z.root,...n},ref:se,onMouseEnter:K,onMouseLeave:bt},G?h.createElement(rt,{visible:k,motionName:`${He}-motion`},({className:$})=>Ue($)):Ue(),G&&h.createElement(ae.Provider,{value:yt},h.createElement(P,{type:d,icon:k?F:x,"aria-label":t["aria-label"],className:`${w}-trigger`,onClick:It,...E}))))},Je=({backTop:t,...s})=>t?m.createElement(mt,{...s,visibilityHeight:0}):m.createElement(P,{...s}),Es=({className:t,items:s,classNames:o,styles:n,prefixCls:a,...i})=>{const{getPrefixCls:r}=m.useContext(Ce),d=`${r(de,a)}-pure`;return s?m.createElement(pt,{className:N(t,d),classNames:o,styles:n,...i},s.map((p,x)=>m.createElement(Je,{key:x,...p}))):m.createElement(Je,{className:N(t,d),classNames:o,styles:n,...i})};P.BackTop=mt;P.Group=pt;P._InternalPanelDoNotUseOrYouWillBeFired=Es;const Y={ROLES_SELECTION:"ROLES_SELECTION",BOARD_SETUP:"BOARD_SETUP",INTIMIDATION:"INTIMIDATION"},ue={SUBMIT_PLAYERS_ROLES:"SUBMIT_PLAYERS_ROLES",SUBMIT_SOCIAL_GROUP:"SUBMIT_SOCIAL_GROUP",SUBMIT_INTIMIDATION:"SUBMIT_INTIMIDATION",UPDATE_DETECTIVE_POSITION:"UPDATE_DETECTIVE_POSITION"},we={junior:15,sophomore:16,senior:17},Me={short:{en:"Short",pt:"Baixa"},medium:{en:"Medium",pt:"Média"},tall:{en:"Tall",pt:"Alta"}},Re={small:{en:"Small",pt:"Pequeno"},medium:{en:"Medium",pt:"Mediano"},large:{en:"Large",pt:"Grande"}},Ae={female:{en:"Female",pt:"Feminino"},male:{en:"Male",pt:"Masculino"},both:{en:"Non-binary",pt:"Não-binário"}},ht={INTIMIDATE:"INTIMIDATE"};function Os(t){const{translate:s}=q(),o=le({actionName:"submit-player-roles",onSuccess:()=>t(2),onError:()=>t(0),successMessage:s("Ação submetida com sucesso","Action submitted successfully"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return n=>{o({action:ue.SUBMIT_PLAYERS_ROLES,...n})}}function $s(){const{translate:t}=q(),s=le({actionName:"submit-social-group",successMessage:t("Ação submetida com sucesso","Action submitted successfully"),errorMessage:t("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return o=>{s({action:ue.SUBMIT_SOCIAL_GROUP,...o})}}function Ps(){const{translate:t}=q(),s=le({actionName:"update-detective-location",successMessage:t("Ação submetida com sucesso","Action submitted successfully"),errorMessage:t("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return o=>{s({action:ue.UPDATE_DETECTIVE_POSITION,...o})}}function Bs(){const{translate:t}=q(),s=le({actionName:"submit-intimidation",successMessage:t("Ação submetida com sucesso","Action submitted successfully"),errorMessage:t("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return o=>{s({action:ue.SUBMIT_INTIMIDATION,...o})}}function zs({state:t,players:s}){const{step:o,setStep:n}=Oe(),a=Os(n),i=p=>{const x=Object.values(s).find(g=>g.id!==p)?.id??"";a({gossiperPlayerId:p,detectivePlayerId:x})},r=e.jsx(ie,{icon:e.jsx(kt,{}),title:e.jsx(l,{pt:"Quem quer ser o fofoqueiro?",en:"Who will be the gossiper?"}),currentRound:t?.round?.current,type:"overlay",duration:4}),c=e.jsx(l,{pt:"Quem quer ser o fofoqueiro?",en:"Who will be the gossiper?"}),d=e.jsx(l,{en:e.jsx(e.Fragment,{children:"The gossiper will have to intimidate students and spread rumors about them while the detective tries to figure out who the gossiper is."}),pt:e.jsx(e.Fragment,{children:"O fofoqueiro terá que intimidar estudantes e espalhar rumores sobre eles enquanto o detetive tenta descobrir quem é o fofoqueiro."})});return e.jsx($e,{phase:t?.phase,allowedPhase:Y.ROLES_SELECTION,children:e.jsx(Be,{step:o,players:s,children:e.jsx(Ht,{players:s,announcement:r,titleProps:{children:e.jsx(e.Fragment,{children:c}),size:"small"},ruleInstructionProps:{children:e.jsx(e.Fragment,{children:d}),type:"lore"},onSubmitPlayer:i})})})}function xt(t){return m.useMemo(()=>{const s={},o={},n={},a={},i={};return Object.values(t).forEach(({gender:r,age:c,build:d,height:p,socialGroupId:x})=>{s[r]=(s[r]??0)+1,o[d]=(o[d]??0)+1,n[p]=(n[p]??0)+1,a[c]=(a[c]??0)+1,i[x]=(i[x]??0)+1}),{gendersDict:s,buildsDict:o,heightsDict:n,agesDict:a,socialGroupsDict:i}},[t])}function ws({maxWidth:t,maxHeight:s,children:o,transformWrapperProps:n,hideControls:a=!1,contentStyle:i={},wrapperClassName:r,contentClassName:c}){const{initialScale:d=1,minScale:p=.25,maxScale:x=4,wheel:g={step:.5},centerOnInit:j=!0,...y}=n??{};return e.jsx(Xt,{initialScale:d,minScale:p,maxScale:x,wheel:g,centerOnInit:j,...y,children:e.jsxs(m.Fragment,{children:[!a&&e.jsx(Ke,{position:"top"}),e.jsx(Zt,{wrapperClass:N("zoom-pan-pinch-wrapper",r),wrapperStyle:{maxWidth:t,maxHeight:s},contentClass:N("zoom-pan-pinch-content",c),contentStyle:i,children:e.jsx("div",{style:{maxWidth:t,maxHeight:s},children:o})}),!a&&e.jsx(Ke,{position:"bottom"})]})})}function Ke({position:t}){const{zoomIn:s,zoomOut:o,resetTransform:n}=Jt();return e.jsxs(Te.Compact,{size:"small",className:N("zoom-pan-pinch-controls",`zoom-pan-pinch-controls--${t}`),children:[e.jsx(v,{onClick:()=>s(),children:e.jsx(at,{})}),e.jsx(v,{onClick:()=>o(),children:e.jsx(ct,{})}),e.jsx(v,{onClick:()=>n(),children:e.jsx(Kt,{})})]})}const Ms="/tardedivertida/assets/student-icons-Dw5W8zN6.svg";function R({iconId:t,tooltip:s,...o}){return e.jsx(Ne,{title:s&&e.jsx(C,{children:s}),children:e.jsx(_e,{shape:"square",...o,src:e.jsx("svg",{viewBox:"0 0 512 512",style:{width:"32px",height:"32px"},children:e.jsx("use",{href:`${Ms}#${t}`})})})})}function gt({socialGroup:t,size:s}){return e.jsx(R,{iconId:t.id,tooltip:t.name,style:{backgroundColor:t.colors.primary},shape:"circle",size:s})}function De({gender:t,size:s}){const o=Ae[t];return e.jsx(R,{iconId:t,shape:"circle",size:s,tooltip:{en:`Gender ${o.en}`,pt:`Gênero ${o.pt}`},className:N("student-icon__gender",`student-icon__gender--${t}`)})}function Fe({age:t,size:s}){const o=we[t];return e.jsx(Ne,{title:e.jsx(l,{en:`Age ${o} years old`,pt:`Idade ${o} anos`}),children:e.jsx(_e,{className:N("student-icon__age",`student-icon__age--${t}`),shape:"circle",size:s,children:o})})}function Le({build:t,size:s}){const o=Re[t];return e.jsx(R,{iconId:`build-${t}`,shape:"circle",size:s,tooltip:{en:`Build ${o.en}`,pt:`Corpo ${o.pt}`},className:N("student-icon__build",`student-icon__build--${t}`)})}function qe({height:t,size:s}){const o=Me[t];return e.jsx(R,{iconId:`height-${t}`,shape:"circle",size:s,tooltip:{en:`Height ${o.en}`,pt:`Altura ${o.pt}`},className:N("student-icon__height",`student-icon__height--${t}`)})}function jt({student:t,socialGroup:s,showInfo:o,className:n}){const a=es("images"),i=t.id.replace(/-/g,"/"),{translate:r}=q();return e.jsx("div",{className:N("student-card",{"student-card--intimidated":t.intimidated},n),style:{backgroundImage:`url(${a}/${i}.jpg)`,backgroundSize:"cover",backgroundPosition:"center",borderColor:s?.colors?.primary},children:o&&e.jsxs("div",{className:"student-card__info",children:[e.jsxs(I,{gap:2,align:"center",vertical:!0,className:"student-card__icons",children:[e.jsx(gt,{socialGroup:s,size:"small"}),e.jsx(De,{gender:t.gender,size:"small"}),e.jsx(Fe,{age:t.age,size:"small"}),e.jsx(Le,{build:t.build,size:"small"}),e.jsx(qe,{height:t.height,size:"small"})]}),e.jsx("div",{className:"student-card__name",children:r(t.name.pt,t.name.en).split(" ")[0]})]})})}const ft=({children:t,onClose:s,open:o})=>{const[n,a]=m.useState(1),[i,r]=m.useState(0),[c,d]=m.useState(!1),[p,x]=m.useState(!1),g=()=>a(u=>Math.min(u+.1,2)),j=()=>a(u=>Math.max(u-.1,.5)),y=()=>r(u=>u-45),b=()=>r(u=>u+45),T=()=>d(u=>!u),f=()=>x(u=>!u);if(!o)return null;const E=u=>{u.target===u.currentTarget&&s()};return e.jsx(Qe,{children:e.jsx(Xe.div,{className:"simple-modal-overlay",onClick:E,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.1},children:e.jsx(Qe,{children:e.jsxs(Xe.div,{className:"simple-modal-overlay__content",initial:{opacity:0,scale:.85},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.3},transition:{duration:.05},children:[e.jsx(v,{shape:"circle",size:"large",ghost:!0,variant:"outlined",className:"simple-modal-overlay__close",onClick:s,icon:e.jsx(it,{})}),e.jsx("div",{className:"simple-modal-overlay__body",style:{transform:`scale(${n}) rotate(${i}deg) scaleX(${c?-1:1}) scaleY(${p?-1:1})`},children:t}),e.jsx("div",{className:"simple-modal-overlay__controls-container",children:e.jsxs(Te.Compact,{className:"simple-modal-overlay__controls",children:[e.jsx(v,{onClick:g,ghost:!0,icon:e.jsx(at,{})}),e.jsx(v,{onClick:j,ghost:!0,icon:e.jsx(ct,{})}),e.jsx(v,{onClick:y,ghost:!0,icon:e.jsx(wt,{})}),e.jsx(v,{onClick:b,ghost:!0,icon:e.jsx(Mt,{})}),e.jsx(v,{onClick:T,ghost:!0,icon:e.jsx(Ze,{})}),e.jsx(v,{onClick:f,ghost:!0,icon:e.jsx(Ze,{style:{rotate:"90deg"}})})]})})]})})})})};function Rs({id:t,staffMembers:s}){const o=s[t],[n,a]=ss(!1);return e.jsxs("div",{className:"staff-member",children:[e.jsx(v,{onClick:a,size:"small",icon:e.jsx(R,{iconId:o.type}),type:"text"}),e.jsx(As,{staffMember:o,open:n,onClose:a})]})}function As({staffMember:t,open:s,onClose:o}){return e.jsx(ft,{onClose:o,open:s,children:e.jsx(lt,{children:e.jsxs("div",{className:"student-details",children:[e.jsx(ts,{cardId:t.id}),e.jsxs("div",{children:[e.jsxs("div",{className:"student-details__name",children:[e.jsx(R,{iconId:t.type})," ",e.jsx(C,{children:t.name})]}),e.jsxs("div",{className:"student-details__title",children:[e.jsx(M,{color:"blue-inverse",children:e.jsx(l,{en:"Action for the Detective",pt:"Ação para o Detetive"})})," ",e.jsx(C,{children:t.description})]})]})]})})})}const Ds="/tardedivertida/assets/school-board-QFBmmufZ.jpg";function Ge({schoolBoard:t,students:s,socialGroups:o,selectStudent:n,staff:a}){return e.jsx(ws,{maxWidth:256*4,transformWrapperProps:{minScale:.5,maxScale:2,smooth:!0},children:e.jsx("div",{className:"school-board",style:{backgroundImage:`url(${Ds})`,backgroundSize:"cover",backgroundPosition:"center",width:4*256,height:4*256,gridTemplateColumns:"repeat(4, 250px)",gridTemplateRows:"repeat(4, 250px)"},children:t.map(r=>e.jsxs("div",{className:"school-location",children:[e.jsxs("div",{className:"school-location__header",children:[e.jsx("div",{className:"school-location__name",children:e.jsx(C,{children:r.name})}),r.staff&&e.jsxs("div",{className:"school-location__staff-member",children:[e.jsx(Rs,{id:r.staff,staffMembers:a})," "]})]}),e.jsx("div",{className:"school-location__students",children:r.students.map(c=>e.jsx(Rt,{onClick:()=>n(c),hoverType:"tint",className:"school-location__student-button",children:e.jsx(jt,{student:s[c],socialGroup:o[s[c].socialGroupId],showInfo:!0},c)},c))}),e.jsx("div",{className:"school-location__footer",children:"D"})]},r.id))})})}function Ve({student:t,socialGroups:s,gossiperId:o,bestFriendId:n,closeModal:a,showSecrets:i,actionType:r,onPerformAction:c}){const d=s[t.socialGroupId];return e.jsx(ft,{onClose:a,open:!0,children:e.jsx(lt,{children:e.jsxs("div",{className:"student-details",children:[e.jsx(jt,{student:t,socialGroup:s[t.socialGroupId],className:"student-details__student-card"}),e.jsxs("div",{children:[e.jsxs("div",{className:"student-details__header",children:[e.jsxs("div",{className:"student-details__identification",children:[e.jsx("div",{className:"student-details__name",children:e.jsx(C,{children:t.name})}),e.jsx("div",{className:"student-details__title",children:e.jsx(C,{children:t.title})}),e.jsxs(I,{align:"center",className:"student-details__social-group",children:[e.jsx(R,{iconId:t.socialGroupId,tooltip:{en:"Social Group",pt:"Grupo Social"},style:{backgroundColor:d.colors.primary},shape:"circle",size:"large"}),e.jsx(M,{color:d.colors.primary,className:"student-details__social-group-name",variant:"outlined",children:e.jsx(C,{children:d.name})})]})]}),e.jsxs(I,{gap:6,vertical:!0,className:"student-details__icons",children:[e.jsxs("span",{children:[e.jsx(C,{children:Ae[t.gender]})," ",e.jsx(De,{gender:t.gender})]}),e.jsxs("span",{children:[we[t.age]," ",e.jsx(l,{en:"years old",pt:"anos"})," ",e.jsx(Fe,{age:t.age})]}),e.jsxs("span",{children:[e.jsx(C,{children:Re[t.build]})," ",e.jsx(Le,{build:t.build})]}),e.jsxs("span",{children:[e.jsx(C,{children:Me[t.height]})," ",e.jsx(qe,{height:t.height})]})]})]}),e.jsx(ns,{}),e.jsx(I,{vertical:!0,gap:3,className:"student-details__secrets",children:t.intimidated&&e.jsx(re,{title:e.jsx(l,{en:"This student has been intimidated. They cannot be questioned unless the detective first comfort them",pt:"Esse estudante está intimidado. Ele(a) não pode ser questionado(a) a menos que o detetive o(a) console primeiro"}),showIcon:!0,icon:e.jsx(R,{iconId:"intimidated"}),banner:!0})}),i&&e.jsxs(I,{vertical:!0,gap:3,className:"student-details__secrets",children:[t.id===o&&e.jsx(re,{title:e.jsx(l,{en:"This student is the gossiper",pt:"Esse estudante é o fofoqueiro"}),type:"error",showIcon:!0,banner:!0}),t.id===n&&e.jsx(re,{title:e.jsx(l,{en:"This student is the best friend",pt:"Esse estudante é o melhor amigo"}),type:"warning",showIcon:!0,banner:!0}),t.canLie&&e.jsx(re,{title:e.jsx(l,{en:"This student can lie for you",pt:"Esse estudante pode mentir"}),type:"info",showIcon:!0,banner:!0})]}),r===ht.INTIMIDATE&&Fs(t)&&e.jsx(I,{justify:"center",children:e.jsx(Ee,{onClick:()=>c?.(t.id),type:"primary",size:"large",block:!0,children:e.jsx(l,{en:"Intimidate",pt:"Intimidar"})})})]})]})})})}const Fs=t=>!t.rumored&&!t.intimidated;function ke({students:t,socialGroups:s}){const{language:o}=q(),n=xt(t),a=m.useMemo(()=>({ages:U.orderBy(Object.entries(n.agesDict).map(([i,r])=>({id:i,label:we[i],count:r})),"label","asc"),builds:U.orderBy(Object.entries(n.buildsDict).map(([i,r])=>({id:i,label:Re[i],count:r})),`label.${o}`,"asc"),genders:U.orderBy(Object.entries(n.gendersDict).map(([i,r])=>({id:i,label:Ae[i],count:r})),`label.${o}`,"asc"),heights:U.orderBy(Object.entries(n.heightsDict).map(([i,r])=>({id:i,label:Me[i],count:r})),`label.${o}`,"asc"),socialGroups:U.orderBy(Object.entries(n.socialGroupsDict).map(([i,r])=>({id:i,label:s[i].name,count:r})),`label.${o}`,"asc")}),[n,o,s]);return e.jsxs("div",{className:"board-summary",children:[e.jsx(At.Title,{level:4,children:e.jsx(l,{en:"Summary",pt:"Resumo"})}),e.jsxs("div",{className:"board-summary__data",children:[e.jsxs(I,{vertical:!0,gap:3,children:[e.jsx("div",{className:"board-summary__label",children:e.jsx(l,{en:"Social Groups",pt:"Grupos Sociais"})}),a.socialGroups.map(({id:i,label:r,count:c})=>e.jsxs("div",{children:[e.jsx(gt,{socialGroup:s[i]})," ",c]},r.en))]}),e.jsxs(I,{vertical:!0,gap:6,children:[e.jsx("div",{className:"board-summary__label",children:e.jsx(l,{en:"Genders",pt:"Gêneros"})}),e.jsx(I,{vertical:!0,gap:3,children:a.genders.map(({id:i,count:r})=>e.jsxs("span",{children:[e.jsx(De,{gender:i,size:"small"})," ",r]},i))}),e.jsx("div",{className:"board-summary__label",children:e.jsx(l,{en:"Ages",pt:"Idades"})}),e.jsx(I,{vertical:!0,gap:3,children:a.ages.map(({id:i,count:r})=>e.jsxs("span",{children:[e.jsx(Fe,{age:i,size:"small"})," ",r]},i))})]}),e.jsxs(I,{vertical:!0,gap:6,children:[e.jsx("div",{className:"board-summary__label",children:e.jsx(l,{en:"Builds",pt:"Tamanhos"})}),e.jsx(I,{vertical:!0,gap:3,children:a.builds.map(({id:i,count:r})=>e.jsxs("span",{children:[e.jsx(Le,{build:i,size:"small"})," ",r]},i))}),e.jsx("div",{className:"board-summary__label",children:e.jsx(l,{en:"Heights",pt:"Alturas"})}),e.jsx(I,{vertical:!0,gap:3,children:a.heights.map(({id:i,count:r})=>e.jsxs("span",{children:[e.jsx(qe,{height:i,size:"small"})," ",r]},i))})]})]})]})}function Ls({students:t,gossiperId:s,bestFriendId:o,motivation:n,onOpenStudentModal:a}){return e.jsxs(e.Fragment,{children:[e.jsxs(ee,{type:"lore",className:"text-left",children:[e.jsx(l,{en:"You are the gossiper and must spread rumors about 5 of your classmates, one round at a time.",pt:"Você é o fofoqueiro e deve espalhar boatos sobre 5 de seus colegas de classe, uma vez por rodada."}),e.jsx("br",{}),e.jsx(M,{color:"red",children:e.jsx(l,{en:"You",pt:"Você"})})," ",e.jsx(v,{size:"small",onClick:()=>a(s),icon:e.jsx(ve,{}),children:e.jsx(C,{children:t[s].name})}),o&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx(l,{en:"You have a best friend that will lie for you if needed.",pt:"Você tem um melhor amigo que mentirá por você se necessário."}),e.jsx("br",{}),e.jsx(M,{color:"orange",children:e.jsx(l,{en:"Best Friend",pt:"Melhor Amigo"})})," ",e.jsx(v,{size:"small",onClick:()=>a(o),icon:e.jsx(ve,{}),children:e.jsx(C,{children:t[o].name})})]})]}),e.jsxs(ee,{type:"event",className:"text-left",children:[e.jsx(l,{en:"Your motivation determines how you can spread gossip and figuring it out is one of the Detective's goals.",pt:"Sua motivação determina como você pode espalhar boatos e descobri-la é um dos objetivos do Detetive."}),e.jsx("br",{}),e.jsxs("span",{children:[e.jsx(M,{color:"blue",children:e.jsx(l,{en:"Motivation",pt:"Motivação"})})," ",e.jsx(C,{children:n.title}),":"," ",e.jsx("i",{children:e.jsx(C,{children:n.description})})]}),e.jsx("br",{})]})]})}function qs({user:t,announcement:s,schoolBoard:o,socialGroups:n,students:a,gossiperId:i,bestFriendId:r,staff:c,motivations:d,gossiperMotivationIndex:p,onSubmitAssociatedSocialGroup:x}){const[g,j]=m.useState(null),y=d[p],[b,T]=m.useState(null),f=xt(a),E=()=>{b&&x({associatedSocialGroupId:b})};return e.jsxs(ze,{fullWidth:!0,announcement:s,children:[e.jsx(Pe,{children:e.jsx(l,{pt:e.jsx(e.Fragment,{children:"Preparando a escola"}),en:e.jsx(e.Fragment,{children:"Setting up the school"})})}),e.jsx(Ge,{schoolBoard:o,students:a,socialGroups:n,selectStudent:j,staff:c}),e.jsx(W,{contained:!0,children:e.jsxs(I,{justify:"center",children:[e.jsx(ke,{students:a,socialGroups:n}),e.jsxs("div",{children:[e.jsx(Ls,{motivation:y,students:a,gossiperId:i,bestFriendId:r,onOpenStudentModal:T}),e.jsxs(ee,{type:"action",className:"text-left",children:[e.jsx(l,{en:"To help you with your chaos, select one of these social groups to be associated with you. They also will be able to lie for you. The numbers are how many students are in each group.",pt:"Para te ajudar com seu caos, selecione um desses grupos sociais para ser associado a você. Eles também poderão mentir por você. Os números são quantos alunos estão em cada grupo."}),e.jsx("br",{}),e.jsx(I,{gap:8,children:t?.socialGroupOptions?.map(u=>e.jsxs(v,{onClick:()=>T(u),icon:e.jsx(Dt,{icon:b===u?e.jsx(Qt,{}):e.jsx(R,{iconId:u})}),type:b===u?"default":"dashed",style:{background:n[u].colors.primary,color:"white"},children:[e.jsx(C,{children:n[u].name})," ",e.jsx(_e,{size:"small",children:f.socialGroupsDict[u]})]},u))}),e.jsx("br",{}),b&&e.jsx(Ee,{onClick:E,block:!0,disabled:!b||!!t.associatedSocialGroupId,children:e.jsx(l,{en:"Submit",pt:"Enviar"})})]})]})]})}),g&&e.jsx(Ve,{student:a[g],socialGroups:n,gossiperId:i,bestFriendId:r,closeModal:()=>j(null),showSecrets:t.role==="gossiper"})]})}function vt({bestFriendId:t}){return e.jsxs(ee,{type:"lore",className:"text-left",children:[e.jsx(l,{en:e.jsxs(e.Fragment,{children:["You are detective and must ",e.jsx("strong",{children:"find out which student is the gossiper"}),"."]}),pt:e.jsxs(e.Fragment,{children:["Você é o detetive e deve descobrir ",e.jsx("strong",{children:"qual aluno é o fofoqueiro."})]})}),e.jsx("br",{}),e.jsx(M,{color:"red",children:e.jsx(l,{en:"Gossiper",pt:"Fofoqueiro"})})," ",e.jsx(v,{size:"small",children:"?"}),e.jsx("br",{}),e.jsx(l,{en:e.jsxs(e.Fragment,{children:["You will also need to figure out ",e.jsx("strong",{children:"which of the 6 motivations"})," the gossiper has."]}),pt:e.jsxs(e.Fragment,{children:["Você também precisará descobrir ",e.jsx("strong",{children:"qual das 6 motivações"})," o fofoqueiro tem."]})}),e.jsx("br",{}),e.jsx(M,{color:"red",children:e.jsx(l,{en:"Motivation",pt:"Motivação"})})," ",e.jsx(v,{size:"small",children:"?"}),t&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx(l,{en:"The gossiper also has a best friend who will lie for them. You don't need to figure out who it is, but keep it in mind.",pt:"O fofoqueiro também tem um melhor amigo que mentirá por ele. Você não precisa descobrir quem é, mas mantenha isso em mente."}),e.jsx("br",{}),e.jsx(M,{color:"orange",children:e.jsx(l,{en:"Best Friend",pt:"Melhor Amigo"})})," ",e.jsx(v,{size:"small",children:"-"})]}),e.jsx("br",{}),e.jsx(l,{en:"The gossiper will also have an allied social group that could lie for them.",pt:"O fofoqueiro também terá um grupo social aliado que poderá mentir por ele."}),e.jsx("br",{}),e.jsx(M,{color:"orange",children:e.jsx(l,{en:"Allied Social Group",pt:"Grupo Social Aliado"})})," ",e.jsx(v,{size:"small",children:"-"})]})}function Gs(){return e.jsxs(P.Group,{trigger:"hover",type:"primary",shape:"square",icon:e.jsx(hs,{}),children:[e.jsx(P,{tooltip:e.jsx(l,{en:"Game Phases",pt:"Fases do Jogo"}),icon:e.jsx(Ss,{})}),e.jsx(P,{tooltip:e.jsx(l,{en:"Board Summary",pt:"Resumo"}),icon:e.jsx(cs,{})}),e.jsx(P,{tooltip:e.jsx(l,{en:"Motivations",pt:"Motivações"}),icon:e.jsx(ve,{})}),e.jsx(P,{tooltip:e.jsx(l,{en:"Questions",pt:"Sugestões de Perguntas"}),icon:e.jsx(vs,{})}),e.jsx(P,{tooltip:e.jsx(l,{en:"Notebook",pt:"Blocos de Notas"})})]})}function Vs({user:t,announcement:s,schoolBoard:o,socialGroups:n,students:a,gossiperId:i,bestFriendId:r,staff:c,onSubmitDetectiveLocation:d}){const{dualTranslate:p}=q(),[x,g]=m.useState(null),[j,y]=m.useState(null),b=()=>{j!==null&&d({locationId:j,shouldReady:!0})},T=U.orderBy(o.map((E,u)=>({label:p(E.name),value:u})),"label"),f=t.locationId!==null&&t.locationId!==void 0;return e.jsxs(ze,{fullWidth:!0,announcement:s,children:[e.jsx(Pe,{children:e.jsx(l,{pt:e.jsx(e.Fragment,{children:"Preparando a escola"}),en:e.jsx(e.Fragment,{children:"Setting up the school"})})}),e.jsx(Gs,{}),e.jsx(Ge,{schoolBoard:o,students:a,socialGroups:n,selectStudent:g,staff:c}),e.jsx(W,{contained:!0,children:e.jsxs(I,{justify:"center",children:[e.jsx(ke,{students:a,socialGroups:n}),e.jsxs("div",{children:[e.jsx(vt,{bestFriendId:r}),e.jsxs(ee,{type:"action",className:"text-left",children:[e.jsx(l,{en:"To start the game, first select which location on the school map you want to start.",pt:"Para começar o jogo, primeiro selecione em qual localização do mapa da escola você quer começar."}),e.jsx("br",{}),e.jsx(ls,{options:T,onChange:y,placeholder:e.jsx(l,{en:"Select a location",pt:"Selecione um local"}),style:{width:200},disabled:f}),e.jsx("br",{}),j!==null&&e.jsx(Ee,{onClick:b,block:!0,disabled:f,children:e.jsx(l,{en:"Submit",pt:"Enviar"})})]})]})]})}),x&&e.jsx(Ve,{student:a[x],socialGroups:n,gossiperId:i,bestFriendId:r,closeModal:()=>g(null),showSecrets:t.role==="gossiper"})]})}function ks({players:t,state:s,user:o}){const{step:n}=Oe(),[,a]=fe("gossiperPlayerId",s,t),i=$s(),r=Ps(),c=e.jsx(ie,{icon:e.jsx(Yt,{}),title:e.jsx(l,{pt:"Quem são seus aliados",en:"Who are your allies?"}),currentRound:s?.round?.current,type:"overlay",children:e.jsx(W,{children:e.jsx(l,{en:"After looking what character you are, select one of 3 social groups to be your allies and eventually lie for you",pt:"Depois de ver qual personagem você é, selecione um dos 3 grupos sociais para serem seus aliados e eventualmente mentirem por você"})})}),d=e.jsx(ie,{icon:e.jsx(Ut,{}),title:e.jsx(l,{pt:"Onde você começa investigando?",en:"Where do you start investigating?"}),currentRound:s?.round?.current,type:"overlay",children:e.jsx(W,{children:e.jsx(l,{en:"Select one location as your starting position",pt:"Selecione uma localização como sua posição inicial"})})});return e.jsx($e,{phase:s?.phase,allowedPhase:Y.BOARD_SETUP,children:e.jsx(Be,{step:n,players:t,children:e.jsxs(Wt,{condition:a,children:[e.jsx(qs,{user:o,players:t,announcement:c,schoolBoard:s.schoolBoard,students:s.students,socialGroups:s.socialGroups,gossiperId:s.gossiperId,bestFriendId:s.bestFriendId,staff:s.staff,motivations:s.motivations,gossiperMotivationIndex:s.gossiperMotivationIndex,onSubmitAssociatedSocialGroup:i}),e.jsx(Vs,{user:o,players:t,announcement:d,schoolBoard:s.schoolBoard,students:s.students,socialGroups:s.socialGroups,gossiperId:s.gossiperId,bestFriendId:s.bestFriendId,staff:s.staff,motivations:s.motivations,onSubmitDetectiveLocation:r})]})})})}function Hs({user:t,announcement:s,schoolBoard:o,socialGroups:n,students:a,gossiperId:i,bestFriendId:r,staff:c,onSubmitIntimidation:d,isTheGossiperPlayer:p}){const[x,g]=m.useState(null),[j,y]=m.useState(0),b=m.useMemo(()=>Object.values(a).filter(f=>!f.rumored&&!f.intimidated).length,[a]),T=f=>{y(j+1),d({intimidatedStudentId:f,shouldGoToTheNextPhase:j>=b})};return e.jsxs(ze,{fullWidth:!0,announcement:s,children:[e.jsx(Pe,{children:e.jsx(l,{pt:e.jsx(e.Fragment,{children:"Intimidação de dois estudantes"}),en:e.jsx(e.Fragment,{children:"Intimidating two students"})})}),e.jsx(Ge,{schoolBoard:o,students:a,socialGroups:n,selectStudent:g,staff:c}),e.jsx(W,{contained:!0,children:e.jsxs(I,{justify:"center",children:[e.jsx(ke,{students:a,socialGroups:n}),e.jsx("div",{children:e.jsx(vt,{bestFriendId:r})})]})}),x&&e.jsx(Ve,{student:a[x],socialGroups:n,gossiperId:i,bestFriendId:r,closeModal:()=>g(null),showSecrets:t.role==="gossiper",actionType:p?ht.INTIMIDATE:void 0,onPerformAction:p?T:void 0})]})}function Us({state:t,players:s,user:o}){const{step:n}=Oe(),[,a]=fe("gossiperPlayerId",t,s),[,i]=fe("detectivePlayerId",t,s),r=Bs(),c=e.jsx(ie,{icon:e.jsx(ds,{}),title:e.jsx(l,{pt:"Intimidação",en:"Intimidation"}),currentRound:t?.round?.current,type:"overlay",children:e.jsx(W,{children:e.jsx(l,{en:"The gossiper will have to intimidate two students",pt:"O fofoqueiro terá que intimidar dois estudantes"})})});return e.jsx($e,{phase:t?.phase,allowedPhase:Y.INTIMIDATION,children:e.jsx(Be,{step:n,players:s,children:e.jsx(Hs,{user:o,players:s,announcement:c,schoolBoard:t.schoolBoard,students:t.students,socialGroups:t.socialGroups,gossiperId:t.gossiperId,bestFriendId:t.bestFriendId,staff:t.staff,motivations:t.motivations,onSubmitIntimidation:r,isTheGossiperPlayer:a,isTheDetectivePlayer:i})})})}function Ys(t){switch(t.phase){case Y.ROLES_SELECTION:return zs;case Y.BOARD_SETUP:return ks;case Y.INTIMIDATION:return Us;case Gt.DEFAULT.GAME_OVER:return Vt;default:return qt}}function Wo(){return e.jsx(Lt,{gameCollection:Ft.FOFOCA_QUENTE,getActiveComponent:Ys})}export{Wo as default};
