import{f as W,y as O,r as S,j as e,T as p,n as G,l as M,I as E,H as D,aL as T,aG as pe,bj as B,q as me,B as L,bG as he,fE as Z,bc as xe,bH as se,aY as je,aW as ge,aX as fe}from"./index-DAeQcHla.js";import{u as re,S as F,c as U,b as te,P as V,d as z,e as $,a as oe,k as ve,l as Se,g as be,h as _,i as we,j as Ae}from"./StepSwitcher-D9b1oSd8.js";import{D as Ie,E as Ce}from"./WritingIcon-DPMatJf_.js";import{I as P}from"./Instruction-BlfQDLTF.js";import{R as Ne}from"./RoundAnnouncement-BSY0RfgK.js";import{m as De,A as Te}from"./drawing-CWs3oS8I.js";import{u as ke}from"./useBlurCards-De6hrWqE.js";import{u as ne}from"./useMock-BfFw0eQC.js";import{P as ye}from"./PanicIcon-C1WkVyqu.js";import{u as Ee}from"./useAudio-l-s9fH-2.js";import{D as Pe}from"./DrawingCanvas-Ch3er24y.js";import{C as q}from"./Card-CYyLhjCy.js";import{D as Re}from"./DevButton-BXS1-dkD.js";import{V as _e}from"./ViewIf-BGWC0DY9.js";import{P as v}from"./PointsHighlight-Dw-vT8hj.js";import{C as Ge}from"./CanvasResizer-B-NbEhnT.js";import{C as y}from"./Container-G_O8PeUf.js";import{R as Le}from"./RuleInstruction-BPcL422d.js";import{P as ae}from"./PopoverRule-DtaygOvf.js";import{C as H}from"./CheckMarkIcon-BA_1puq4.js";import{A as ie}from"./AvatarName-C_ggnebp.js";import{C as We}from"./CanvasSVG-CERgwgd_.js";import{R as Oe}from"./ClearOutlined-BVmiroH1.js";import{R as Me}from"./ThunderboltOutlined-D-AmRev0.js";import{R as Be}from"./CloudUploadOutlined-fCibLAW6.js";import{u as Fe}from"./SlideShowControls-C2oxUM9T.js";import{W as Ue}from"./WarningSignIcon-Bl1pFjIR.js";import{S as Ve}from"./SlideShow-DaVGkmkr.js";import{S as Y,a as ce,b as ze,c as $e}from"./SlideShowComposableComponents-D0Q7eOw4.js";import{S as qe}from"./StarIcon-FevK9141.js";import{S as He}from"./StepRankingWrapper-vvjMAaIV.js";import{C as Ye}from"./CrownIcon-EZnDwEng.js";import"./GameOver-DLk8f3Mx.js";import{G as Je}from"./GameOverWrapper-C9a8EvOY.js";import{A as Qe}from"./Achievements-G3DClB_M.js";import{a as Xe}from"./achievements-BfFZpvTu.js";import{P as Ke}from"./progress-DamXWBs6.js";import"./speech-E24U23l8.js";import"./useDevFeatures-8yFTO6AC.js";import"./RulesModal-C2KZprMX.js";import"./DoubleRightOutlined-Cof1Enoq.js";import"./PurePanel-CiApXJLy.js";import"./Game-Bsu04Npj.js";import"./WaitingRoomIcon-DwWuY-7T.js";import"./AnimatedClockIcon-Ci7qCGVb.js";import"./useMutation-BmrHAkxF.js";import"./index-Cc08WmMk.js";import"./useBubbleLock-LxEZl5YY.js";import"./index-G33zHjBb.js";import"./Overflow-CYhlzYKi.js";import"./useEvent-D87LA0SX.js";import"./index-Bb5QBsFy.js";import"./index-CwJwsWAa.js";import"./Avatar-Dm4sS91G.js";import"./GameBanner-VnDgmi_u.js";import"./useTDBaseUrl-BF9foKiS.js";import"./index-DcB9elc-.js";import"./InfoCircleOutlined-CaXhsVQU.js";import"./index-BbQK88kG.js";import"./SignIn-BN05SGIZ.js";import"./GoogleIcon-DB98pYgx.js";import"./Loading-CChXzd0P.js";import"./AnimatedLoaderIcon-BiYkfylQ.js";import"./LikeFilled-CXn8xysI.js";import"./useSetState-QV_fM2lK.js";import"./UndoOutlined-C7lsTgri.js";import"./DeleteOutlined-CRvOtgV5.js";import"./MetricHighlight-DB9MkbPh.js";import"./index-C7ZRS3gk.js";import"./DragOutlined-Dv2bng29.js";import"./StarFilled-BIkmRILg.js";import"./StarFilled-CNctUIhy.js";import"./StepBackwardOutlined-BfJJUyo3.js";import"./TrophyOutlined-BgFZHbNT.js";import"./GarbageIcon-DpRNdKci.js";import"./RankingBoard-CPmS-jFG.js";import"./CaretUpOutlined-CTN4lzvm.js";import"./ArrowRightOutlined-NYww9hGt.js";import"./useMergedState-CICxkvFV.js";import"./TheEndIcon-BMnXPiYO.js";import"./Medal-CCZMEzob.js";import"./QuestionCircleOutlined-BjPK431_.js";const N={DRAWING:"DRAWING",EVALUATION:"EVALUATION",GALLERY:"GALLERY"},le={SUBMIT_DRAWING:"SUBMIT_DRAWING",SUBMIT_EVALUATION:"SUBMIT_EVALUATION"},Ze=7;function es(r){const{translate:s}=W(),t=re({actionName:"submit-drawing",onBeforeCall:()=>r(2),onError:()=>r(1),successMessage:s("Acabou o tempo! Aguarde enquanto os outros participantes desenham","Time's up! Wait for the other players to finish their art"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar enviar o desenho","Oops, the application failed to send your art")});return n=>{t({action:le.SUBMIT_DRAWING,...n})}}function ss(r){const{translate:s}=W(),t=re({actionName:"submit-guesses",onSuccess:()=>r(2),onError:()=>r(0),successMessage:s("Avaliação enviada! Agora aguarde os outros jogadores","Evaluation sent successfully! Wait for the other players"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar enviar sua avaliação","Oops, the application failed to send your evaluation")});return n=>{t({action:le.SUBMIT_EVALUATION,...n})}}const rs="/tardedivertida/assets/sinais-de-alerta-30-DihigEak.mp3";function ts(){const[r]=O("volume"),[s,,t]=Ee({src:rs,autoPlay:!0,loop:!1});return S.useEffect(()=>{t.volume(r)},[r]),e.jsx(e.Fragment,{children:s})}const J=(r,s,t,n)=>n==="en"?`${r[t].text} ${r[s].text}`:`${r[s].text} ${r[t].text}`;function ue(r){return e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 500 500",...r,children:[e.jsx("rect",{width:"370",height:"370",x:"64.2",y:"64.2",fill:"#fbb903",rx:"30",ry:"30",transform:"rotate(45 249.198 249.201)"}),e.jsx("rect",{width:"338",height:"338",x:"80.2",y:"80.2",fill:"none",stroke:"#000",strokeMiterlimit:"10",strokeWidth:"6",rx:"15",ry:"15",transform:"rotate(45 249.198 249.201)"})]})}function os({user:r,cards:s,onSubmitDrawing:t,startDrawingTimer:n,announcement:a,gameLanguage:c,timeLimit:o}){const{translate:l}=W(),[i,u]=S.useState([]),[h,j]=S.useState(!1),{seconds:b,start:A,isRunning:f}=ke({duration:o+5,autoStart:!1,onExpire:()=>{j(!0),t({drawing:JSON.stringify(i)})}});S.useEffect(()=>{!f&&n&&A()},[n,f,A]);const I=()=>t({drawing:JSON.stringify(De())});ne();const C=J(s,r.currentSubjectId,r.currentDescriptorId,c);return e.jsxs(F,{announcement:a,children:[e.jsx(q,{size:"large",header:l("Desenhe","Draw"),className:"sda-card",color:"yellow",children:f&&e.jsxs(e.Fragment,{children:[C,e.jsx("span",{className:"sda-card__timer",children:b>1?b-2:0})]})}),f&&e.jsx(ts,{}),e.jsx(Re,{onClick:I,children:"Mock Drawing"}),h?e.jsx(ye,{style:{background:"white",width:"500px",padding:"2em"}}):e.jsx(Pe,{lines:i,setLines:u,className:"sda-warning-canvas",mask:e.jsx(ue,{className:"sda-warning-canvas-mask"}),showControls:f})]})}function ns({players:r,state:s,meta:t}){var b;const{step:n,goToNextStep:a,setStep:c}=U(0),o=te(r,s),[l,i]=S.useState(!1),u=s.timeLimit??30,h=es(c),j=e.jsx(V,{icon:e.jsx(Ie,{}),title:e.jsx(p,{pt:"Alerte!",en:"Warn!"}),currentRound:(b=s==null?void 0:s.round)==null?void 0:b.current,buttonText:e.jsx(p,{pt:"Um dó, lá, si... vamos e... já!",en:"Ready! Set! Go!"}),type:"overlay",withoutTimer:!0,onClose:()=>i(!0),children:e.jsx(P,{children:e.jsx(p,{pt:e.jsxs(e.Fragment,{children:["Você tem ",u," segundos para ler e desenhar sua carta"]}),en:e.jsxs(e.Fragment,{children:["You have ",u," seconds to read and draw your card"]})})})});return e.jsx(z,{phase:s==null?void 0:s.phase,allowedPhase:N.DRAWING,children:e.jsxs($,{step:n,players:r,children:[e.jsx(Ne,{round:s==null?void 0:s.round,onPressButton:a,buttonText:" ",time:5,unskippable:!0}),e.jsx(os,{gameLanguage:t.language,user:o,cards:s==null?void 0:s.cards,onSubmitDrawing:h,announcement:j,startDrawingTimer:l,timeLimit:u})]})})}const de=()=>e.jsx(P,{children:e.jsx(p,{pt:e.jsxs(e.Fragment,{children:["Encontre o par de cartas relacionado a cada desenho clicando em uma carta em seguida no desenho.",e.jsx("br",{}),"Quando você selecionar todos os pares, envie sua avaliação!"]}),en:e.jsxs(e.Fragment,{children:["Match the pair of cards related to each drawing by clicking on a card and then on the drawing.",e.jsx("br",{}),"When you've selected all pairs, send your evaluation!"]})})}),as=()=>e.jsx(P,{children:e.jsx(p,{pt:e.jsxs(e.Fragment,{children:["Agora, mostraremos cada placa, o que os jogadores votaram e a resposta final.",e.jsx("br",{}),"Se você acertou as duas cartas, você ganha ",e.jsx(v,{type:"positive",children:"2"})," ","pontos e o artista ganha ",e.jsx(v,{type:"positive",children:"3"})," pontos.",e.jsx("br",{}),"Se você acertou uma das cartas, você NÃO ganha nada, mas o artista ganha"," ",e.jsx(v,{type:"positive",children:"1"})," ponto."]}),en:e.jsxs(e.Fragment,{children:["Now we show each art, what players voted, and the final answer.",e.jsx("br",{}),"If you matched both cards, you get ",e.jsx(v,{type:"positive",children:"2"})," points and the artist gets ",e.jsx(v,{type:"positive",children:"3"})," points.",e.jsx("br",{}),"If you matched one card, you get nothing, but the artist gets"," ",e.jsx(v,{type:"positive",children:"1"})," point."]})})}),is=()=>e.jsx(P,{children:e.jsx(p,{pt:e.jsxs(e.Fragment,{children:["Se você acertou as duas cartas, você ganha ",e.jsx(v,{type:"positive",children:"2"})," ","pontos e o artista ganha ",e.jsx(v,{type:"positive",children:"3"})," pontos.",e.jsx("br",{}),"Se você acertou uma das cartas, você NÃO ganha nada, mas o artista ganha"," ",e.jsx(v,{type:"positive",children:"1"})," ponto."]}),en:e.jsxs(e.Fragment,{children:["If you matched both cards, you get ",e.jsx(v,{type:"positive",children:"2"})," points and the artist gets ",e.jsx(v,{type:"positive",children:"3"})," points.",e.jsx("br",{}),"If you matched one card, you get nothing, but the artist gets"," ",e.jsx(v,{type:"positive",children:"1"})," point."]})})}),cs=r=>r.includes("wss"),ls=r=>r.includes("wsd"),ee=r=>r?cs(r)?"subject":ls(r)?"descriptor":"drawing":"none";function us({drawings:r,userId:s,subjectsIds:t,descriptorsIds:n}){const a=()=>r.reduce((d,{playerId:m,subjectId:g})=>(d[m]="",m===s&&(d[m]=g),d),{}),c=()=>r.reduce((d,{playerId:m,descriptorId:g})=>(d[m]="",m===s&&(d[m]=g),d),{}),[o,l]=S.useState(""),[i,u]=S.useState(a()),[h,j]=S.useState(c()),b=d=>{if(d===o)return l("");const m=ee(o),g=ee(d);if(m===g)return l(d);if(d&&(m==="drawing"||g==="drawing")){if(g==="subject")return l(""),u(w=>({...w,[o]:d}));if(g==="descriptor")return l(""),j(w=>({...w,[o]:d}));if(m==="subject")return l(""),u(w=>({...w,[d]:o}));if(m==="descriptor")return l(""),j(w=>({...w,[d]:o}))}l(d)},A=()=>{l(""),u(a()),j(c())},f=S.useMemo(()=>{const d={};return Object.values(i).forEach(m=>{m&&(d[m]=!0)}),Object.values(h).forEach(m=>{m&&(d[m]=!0)}),d},[i,h]),I=S.useMemo(()=>Object.values(i).every(Boolean)&&Object.values(h).every(Boolean),[i,h]);return{activeItem:o,activateItem:b,subjectGuesses:i,descriptorGuesses:h,matchedItems:f,isComplete:I,resetGuesses:A,randomSelection:()=>{const d=Object.values(i),m=G.shuffle(t.filter(x=>!d.includes(x))),g={};Object.keys(i).forEach(x=>{i[x]||(g[x]=m.pop()??"")});const w=Object.values(h),R=G.shuffle(n.filter(x=>!w.includes(x))),k={};Object.keys(h).forEach(x=>{h[x]||(k[x]=R.pop()??"")}),u(x=>({...x,...g})),j(x=>({...x,...k}))}}}function Q({drawing:r,width:s}){return e.jsxs("div",{className:"sda-alert-sign",children:[e.jsx(ue,{style:{width:s},className:"sda-alert-sign__mask"}),e.jsx(We,{drawing:r,width:s,className:"sda-alert-sign__canvas"})]})}function ds({players:r,cards:s,drawings:t,onSelect:n,subjectGuesses:a,descriptorGuesses:c,gameLanguage:o,activeItem:l}){const[i]=O("canvasSize");return e.jsx(y,{title:e.jsx(p,{pt:"Desenhos",en:"Drawings"}),contentProps:{className:"div-container"},className:"contained",children:t.map(u=>{var A,f;const h=(A=s==null?void 0:s[a==null?void 0:a[u.playerId]])==null?void 0:A.text,j=(f=s==null?void 0:s[c==null?void 0:c[u.playerId]])==null?void 0:f.text,b=h&&j;return e.jsxs(M,{style:{width:i},onClick:()=>n(u.playerId),className:"sda-word-button",active:u.playerId===l,activeClass:"sda-word-button--active",children:[e.jsxs("span",{className:"sda-word-button__avatar",children:[b&&e.jsx(E,{icon:e.jsx(H,{}),className:"sda-word-button__matched"}),e.jsx(ie,{player:r[u.playerId]})]}),e.jsx(Q,{drawing:u.drawing,width:i}),e.jsx(D.Text,{code:!0,className:"uppercase",children:o==="pt"?e.jsxs(e.Fragment,{children:[h??"?"," ",j??"?"]}):e.jsxs(e.Fragment,{children:[j??"?"," ",h??"?"]})})]},u.playerId)})})}function ps({cards:r,onSelect:s,subjectsIds:t,activeItem:n,matchedItems:a}){return e.jsx(T,{size:"small",wrap:!0,children:t.map(c=>e.jsxs(M,{onClick:()=>s(c),active:n===c,className:"sda-word-button",children:[a[c]&&e.jsx(E,{icon:e.jsx(H,{}),className:"sda-word-button__matched"}),e.jsx(q,{hideHeader:!0,children:r[c].text})]},c))})}function ms({cards:r,onSelect:s,descriptorsIds:t,activeItem:n,matchedItems:a}){return e.jsx(T,{size:"small",wrap:!0,children:t.map(c=>e.jsxs(M,{onClick:()=>s(c),active:n===c,className:"sda-word-button",children:[a[c]&&e.jsx(E,{icon:e.jsx(H,{}),className:"sda-word-button__matched"}),e.jsx(q,{hideHeader:!0,children:r[c].text})]},c))})}function hs({players:r,onSubmitGuesses:s,cards:t,drawings:n,subjectsIds:a,descriptorsIds:c,announcement:o,user:l,gameLanguage:i}){const{isLoading:u}=pe(),h=B(6,{gap:16,minWidth:120,maxWidth:500}),[j,b]=O("canvasSize"),{subjectGuesses:A,descriptorGuesses:f,activateItem:I,activeItem:C,matchedItems:d,resetGuesses:m,isComplete:g,randomSelection:w}=us({drawings:n,userId:l.id,subjectsIds:a,descriptorsIds:c}),[R,k]=S.useState(!1),x=()=>{k(!0),w()};S.useEffect(()=>{j||b(Math.floor(h/50)*50)},[j,h]),ne(()=>{x()},[]);const X=e.jsx(y,{title:e.jsx(p,{pt:"Descritores",en:"Descriptors"}),children:e.jsx(ms,{cards:t,descriptorsIds:c,onSelect:I,activeItem:C,matchedItems:d})}),K=e.jsx(y,{title:e.jsx(p,{pt:"Sujeitos",en:"Subjects"}),children:e.jsx(ps,{cards:t,subjectsIds:a,onSelect:I,activeItem:C,matchedItems:d})});return e.jsxs(F,{announcement:o,fullWidth:!0,children:[e.jsx(oe,{children:e.jsx(p,{pt:"Adivinhação",en:"Match the Pairs"})}),e.jsx(ae,{content:e.jsx(de,{})}),e.jsx(Ge,{}),e.jsx(Le,{type:"action",children:e.jsx(p,{pt:e.jsxs(e.Fragment,{children:["Faça pares com as cartas e os desenhos. Cada desenho tem um sujeito e um descritor correspondente.",e.jsx("br",{}),"Basta clicar em uma carta e depois em seu desenho correspondente.",e.jsx("br",{}),"Para refazer, basta reselecionar o desenho ou carta normalmente.",e.jsx("br",{}),"Quando estiver pronto, clique em ",e.jsx("b",{children:"Enviar sua avaliação"}),"."]}),en:e.jsxs(e.Fragment,{children:["Match the cards and drawings. Each drawing has a corresponding subject and descriptor.",e.jsx("br",{}),"Simply click on a card and then on its corresponding drawing.",e.jsx("br",{}),"To redo, just reselect the drawing or card normally.",e.jsx("br",{}),"When you're ready, click ",e.jsx("b",{children:"Send evaluation"}),"."]})})}),e.jsxs(me,{direction:"vertical",children:[e.jsxs(T,{wrap:!0,children:[e.jsx(L,{type:"default",icon:e.jsx(Oe,{}),onClick:m,disabled:u,children:e.jsx(p,{pt:"Limpar seleções",en:"Clear selections"})}),e.jsx(L,{type:"default",icon:e.jsx(Me,{}),onClick:x,disabled:u||g,children:e.jsx(p,{pt:"Chutar restantes",en:"Guess for me"})}),e.jsx(he,{onClick:()=>s({guesses:xs(n,A,f),choseRandomly:R}),disabled:!g,icon:e.jsx(Be,{}),children:e.jsx(p,{pt:"Enviar sua avaliação",en:"Send evaluation"})})]}),e.jsx(ds,{players:r,cards:t,drawings:n,onSelect:I,subjectGuesses:A,descriptorGuesses:f,gameLanguage:i,activeItem:C}),i==="pt"?K:X,i==="pt"?X:K]})]})}const xs=(r,s,t)=>{const n={};return r.forEach(({playerId:a})=>{n[a]=[t[a],s[a]]}),n};function js({players:r,state:s,meta:t}){var i;const{step:n,setStep:a}=U(0),c=te(r,s),o=ss(a),l=e.jsx(V,{icon:e.jsx(Ce,{}),title:e.jsx(p,{pt:"Adivinhação",en:"Match the cards"}),currentRound:(i=s==null?void 0:s.round)==null?void 0:i.current,type:"overlay",duration:s.round.current<2?12:void 0,children:e.jsx(de,{})});return e.jsx(z,{phase:s==null?void 0:s.phase,allowedPhase:N.EVALUATION,children:e.jsx($,{step:n,players:r,children:e.jsx(_e,{condition:s.drawings&&c.id,children:e.jsx(hs,{announcement:l,gameLanguage:t.language,user:c,players:r,onSubmitGuesses:o,cards:s.cards,drawings:s.drawings,subjectsIds:s.subjectsIds,descriptorsIds:s.descriptorsIds})})})})}function gs({artist:r}){return e.jsxs("div",{className:"sda-gallery__credits",children:[e.jsx(Y,{children:e.jsx(p,{pt:"Criador",en:"Creator"})}),e.jsx("span",{className:"uppercase",children:e.jsx(Te,{player:r})})]})}function fs({players:r,cards:s,artistColor:t,galleryEntry:n,gameLanguage:a}){const c=S.useMemo(()=>G.orderBy(n.playersSay.map(o=>{const l=J(s,o.subjectId,o.descriptorId,a),i=n.subjectId===o.subjectId,u=n.descriptorId===o.descriptorId;return{id:l,playersIds:o.playersIds,score:o.score,subject:s[o.subjectId],subjectCorrect:i,descriptor:s[o.descriptorId],descriptorCorrect:u,correctness:Number(i)+Number(u),count:o.playersIds.length}}),["correctness","count","id"],["desc","desc","asc"]),[s,n,a]);return e.jsxs("div",{className:"sda-gallery__guesses",children:[e.jsx(Y,{children:e.jsx(p,{pt:"Participantes votaram",en:"Players voted"})}),c.map((o,l)=>{const i=e.jsx(D.Text,{keyboard:o.subjectCorrect,style:o.subjectCorrect&&o.correctness===1?{backgroundColor:t,color:Z(t)}:{color:"inherit",backgroundColor:"inherit"},children:o.subject.text}),u=e.jsx(D.Text,{keyboard:o.descriptorCorrect,style:o.descriptorCorrect&&o.correctness===1?{backgroundColor:t,color:Z(t)}:{color:"inherit",backgroundColor:"inherit"},children:o.descriptor.text});return e.jsxs("div",{className:"sda-gallery__guess",children:[e.jsx(ce,{winner:o.correctness===2,backgroundColor:t,extra:e.jsxs(xe,{align:"center",gap:3,children:[e.jsx(E,{icon:e.jsx(qe,{}),size:"small"})," ",o.score]}),children:a==="pt"?e.jsxs("span",{children:[i," ",u]}):e.jsxs("span",{children:[u," ",i]})}),e.jsx(ze,{playersIds:o.playersIds,players:r})]},`guess-${o.id}-${l}`)})]})}function vs({cards:r,galleryEntry:s,gameLanguage:t}){return e.jsxs("div",{className:"sda-gallery__result",children:[s.correctness!==2&&e.jsxs(e.Fragment,{children:[e.jsx(Y,{children:e.jsx(p,{pt:"E o título correto da placa é",en:"And the warning sign title is"})}),e.jsx(ce,{winner:!0,children:J(r,s.subjectId,s.descriptorId,t)}),s.artistScore===0&&e.jsx($e,{children:e.jsx(p,{pt:"Esse desenho deve ter sido muito ruim.",en:"It must have been a very crappy drawing. Shame..."})})]}),e.jsxs(D.Paragraph,{className:"mt-2",children:[e.jsx(p,{pt:"O criador ganhou",en:"The creator earned"}),":"," ",e.jsx(v,{children:s.artistScore})," pontos"]})]})}function Ss({gallery:r,players:s,cards:t,slideShowConfig:n,gameLanguage:a}){ve();const c=B(3,{gap:16,minWidth:150,maxWidth:300}),o=r[n.slideIndex],l=s[o.artistId],i=se(l.avatarId);return e.jsxs(F,{fullWidth:!0,children:[e.jsx(oe,{size:"small",children:e.jsx(p,{pt:"Galeria de Placas",en:"Signs Gallery"})}),e.jsx(ae,{content:e.jsx(is,{})}),e.jsxs(Ve,{config:n,barColor:i,leftClassName:"sda-gallery__canvas",rightClassName:"sda-gallery__info",children:[e.jsx("div",{children:e.jsx(Q,{drawing:o.drawing,width:c})}),e.jsxs(e.Fragment,{children:[e.jsx(gs,{artist:l}),e.jsx(fs,{players:s,cards:t,artistColor:i,galleryEntry:o,gameLanguage:a}),e.jsx(vs,{cards:t,galleryEntry:o,gameLanguage:a})]})]})]})}function bs({players:r,ranking:s,onGoBack:t,round:n}){return e.jsxs(He,{players:r,ranking:s,gainedPointsDescriptions:[e.jsx(p,{pt:"Pares corretos",en:"Correct matches"},"1"),e.jsx(p,{pt:"Pontos por seu desenho",en:"Points for your drawing"},"2")],children:[e.jsx(T,{children:e.jsx(L,{onClick:t,children:e.jsx(p,{pt:"Ver resultado novamente",en:"See results again"})})}),e.jsx(Se,{round:n})]})}function ws({players:r,state:s,meta:t}){var i;const{step:n,goToNextStep:a,goToPreviousStep:c}=U(0),o=Fe({length:s.gallery.length,slideDuration:Ze,onExpire:a}),l=()=>{o.reset(),c()};return e.jsx(z,{phase:s==null?void 0:s.phase,allowedPhase:N.GALLERY,children:e.jsxs($,{step:n,players:r,children:[e.jsx(V,{icon:e.jsx(Ue,{}),title:e.jsx(p,{pt:"Galeria de Placas",en:"Signs Gallery"}),onClose:a,currentRound:(i=s==null?void 0:s.round)==null?void 0:i.current,unskippable:!0,type:"block",duration:s.round.current<3?12:void 0,children:e.jsx(as,{})}),e.jsx(Ss,{gallery:s.gallery,players:r,cards:s.cards,gameLanguage:t.language,slideShowConfig:o}),e.jsx(bs,{players:r,ranking:s.ranking,round:s.round,onGoBack:l})]})})}function As({entry:r,players:s,width:t}){const n=s[r.playerId],a=se(n.avatarId);return e.jsxs(T,{vertical:!0,contained:!0,children:[e.jsx(ie,{player:n}),e.jsx(Q,{drawing:r.drawing,width:t}),e.jsx(D.Text,{code:!0,className:"uppercase",children:r.title}),e.jsx(Ke,{percent:r.accuracy*100,size:"small",style:{width:t},strokeColor:a})]})}function Is({state:r,players:s}){const t=B(8,{gap:16,minWidth:100,maxWidth:500});return e.jsxs(Je,{state:r,players:s,announcementIcon:e.jsx(Ye,{}),children:[e.jsx(Qe,{players:s,achievements:r.achievements,reference:Xe}),e.jsx(y,{title:e.jsx(p,{pt:"Sinais",en:"Sings"}),contentProps:{className:"final-gallery"},children:r.gallery.map(n=>e.jsx(As,{entry:n,players:s,width:t},`${n.playerId}-${n.id}`))})]})}function Cs(r){if(r&&!r.phase)return ge;switch(r.phase){case _.DEFAULT.LOBBY:return Ae;case _.DEFAULT.SETUP:return we;case N.DRAWING:return ns;case N.EVALUATION:return js;case N.GALLERY:return ws;case _.DEFAULT.GAME_OVER:return Is;default:return fe}}function et(){return e.jsx(be,{gameCollection:je.SINAIS_DE_ALERTA,getActiveComponent:Cs})}export{et as default};
