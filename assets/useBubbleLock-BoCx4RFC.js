import{r as u,Z as k,a5 as U,X as j,a3 as w,a4 as A,a0 as L,Y as F,bT as V}from"./index-CBFY72Gq.js";function P(e){var n=u.useRef();n.current=e;var a=u.useCallback(function(){for(var t,r=arguments.length,c=new Array(r),f=0;f<r;f++)c[f]=arguments[f];return(t=n.current)===null||t===void 0?void 0:t.call.apply(t,[n].concat(c))},[]);return a}function T(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var $=T()?u.useLayoutEffect:u.useEffect,B=function(n,a){var t=u.useRef(!0);$(function(){return n(t.current)},a),$(function(){return t.current=!1,function(){t.current=!0}},[])},N=function(n,a){B(function(t){if(!t)return n()},a)};function M(e){var n=u.useRef(!1),a=u.useState(e),t=k(a,2),r=t[0],c=t[1];u.useEffect(function(){return n.current=!1,function(){n.current=!0}},[]);function f(l,s){s&&n.current||c(l)}return[r,f]}function S(e){return e!==void 0}function H(e,n){var a=n||{},t=a.defaultValue,r=a.value,c=a.onChange,f=a.postState,l=M(function(){return S(r)?r:S(t)?typeof t=="function"?t():t:typeof e=="function"?e():e}),s=k(l,2),p=s[0],h=s[1],i=r!==void 0?r:p,y=f?f(i):i,g=P(c),E=M([i]),d=k(E,2),C=d[0],_=d[1];N(function(){var v=C[0];p!==v&&g(p,v)},[C]),N(function(){S(r)||h(r)},[r]);var R=P(function(v,b){h(v,b),_([i],b)});return[y,R]}var W=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],Y=u.forwardRef(function(e,n){var a=e.prefixCls,t=a===void 0?"rc-checkbox":a,r=e.className,c=e.style,f=e.checked,l=e.disabled,s=e.defaultChecked,p=s===void 0?!1:s,h=e.type,i=h===void 0?"checkbox":h,y=e.title,g=e.onChange,E=U(e,W),d=u.useRef(null),C=u.useRef(null),_=H(p,{value:f}),R=k(_,2),v=R[0],b=R[1];u.useImperativeHandle(n,function(){return{focus:function(o){var m;(m=d.current)===null||m===void 0||m.focus(o)},blur:function(){var o;(o=d.current)===null||o===void 0||o.blur()},input:d.current,nativeElement:C.current}});var D=j(t,r,w(w({},"".concat(t,"-checked"),v),"".concat(t,"-disabled"),l)),I=function(o){l||("checked"in e||b(o.target.checked),g==null||g({target:L(L({},e),{},{type:i,checked:o.target.checked}),stopPropagation:function(){o.stopPropagation()},preventDefault:function(){o.preventDefault()},nativeEvent:o.nativeEvent}))};return u.createElement("span",{className:D,title:y,style:c,ref:C},u.createElement("input",A({},E,{className:"".concat(t,"-input"),ref:d,onChange:I,disabled:l,checked:!!v,type:i})),u.createElement("span",{className:"".concat(t,"-inner")}))});function Z(e){const n=F.useRef(null),a=()=>{V.cancel(n.current),n.current=null};return[()=>{a(),n.current=V(()=>{n.current=null})},c=>{n.current&&(c.stopPropagation(),a()),e==null||e(c)}]}export{Y as C,Z as u};
