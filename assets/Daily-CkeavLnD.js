const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FireworksEffect-DSdHqEw5.js","assets/index-Dq-8BJP3.js","assets/index-Crb9y21f.css","assets/FireworksEffect-uiEy_MP6.css","assets/ConfettiEffect-0pGcYmUN.js","assets/ConfettiEffect-CYC2EWmF.css","assets/SnowEffect-BqSrMkFv.js","assets/SnowEffect-QX7hr2er.css"])))=>i.map(i=>d[i]);
import{r as y,$ as Ke,f as te,N as fn,j as e,b2 as Fe,b3 as gn,b4 as fs,b5 as ft,b6 as gs,b7 as ee,K as st,ap as xn,F as G,y as ue,aA as yr,B as J,T as j,b8 as Lt,b9 as Qt,ba as P,L as fe,I as D,O as E,aq as jn,aG as Wt,x as Sr,at as It,au as X,H as Et,aw as _n,bb as wr,bc as Ar,aZ as St,c as U,bd as wt,be as _t,v as C,bf as Ne,bg as Z,bh as Ue,ay as $t,bi as Tr,bj as re,bk as xs,bl as Ir,h as le,av as js,bm as Er,q as ct,bn as pe,bo as _s,D as z,s as ze,Q as vn,bp as gt,aP as Rr,w as At,bq as Te,br as Rt,bs as rt,aM as Cr,bt as xt,bu as Ae,bv as je,aX as Nr,bw as Ie,aU as bn,bx as qe,by as Be,bz as Or,bA as Ee,bB as ce,bC as be,bD as Re,a_ as kr,bE as Ce,bF as Ge,bG as ut,bH as yn,bI as ye,bJ as Sn,bK as jt,bL as Dr,bM as wn,J as Mr,bN as Lr,bO as Us,aY as Pr,aO as An,R as $r,aN as Hr,aL as Fr,bP as Tn,bQ as Qs,aR as qr,bR as Gr,aQ as Yr,aT as Vr,aV as Wr,M as zr,E as Br,bS as Kr}from"./index-Dq-8BJP3.js";import{L as Ur}from"./LoginModal-BLTR_V1c.js";import{C as In}from"./CalendarIcon-DeG4lnOS.js";import{D as Qr,u as En,s as Xr}from"./speech-DJ-vj-cN.js";import{P as Rn,C as Cn,M as xe,T as Jr,B as vs,R as Zr,a as ea}from"./Popconfirm-D0mTG0ml.js";import{L as ta}from"./Loading-DfHBlKeA.js";import{I as sa,g as na}from"./ItemCard-BUCv5H7S.js";import{T as Nn}from"./TimerBar-BXmFkFev.js";import{R as H}from"./HeartFilled-Drag2rvS.js";import{R as ra,a as aa}from"./HeartOutlined-DIrWsKi6.js";import{R as oa}from"./QuestionCircleFilled-DN6jLrnj.js";import{D as ia,u as la}from"./useToggle-BUNyAyH0.js";import{R as On}from"./BarChartOutlined-BznwIZYV.js";import{D as kn}from"./DivButton-Bre2lNSa.js";import{D as ca,S as da}from"./Sprite-BBMNsb0s.js";import{A as ua}from"./ApplauseIcon-CrFzED32.js";import{S as ma}from"./SealOfApprovalIcon-CMsIM6Iy.js";import{S as ha}from"./SkullIcon-CZGJVv1y.js";import{T as Ye}from"./TrophyIcon-B9tLFRj3.js";import{u as Dn}from"./useCopyToClipboard-BR-EZCrX.js";import{D as pa}from"./DrawingCanvas-8loXhodI.js";import{C as fa}from"./CanvasSVG-D48NJhY7.js";import{B as Mn}from"./BoxBlankIcon-DAE5r67q.js";import{B as Je}from"./BoxXIcon-NE54sFLT.js";import{T as bs}from"./TextHighlight-BYlF9ri4.js";import{S as Xt}from"./ShippingBoxIcon-IPNXdlLR.js";import{W as lt}from"./WarehouseGoodCard-CtpUI1EY.js";import{C as ga}from"./CheckMarkIcon-B8R57wt_.js";import{L as xa}from"./LocationIcon-DOmliN5k.js";import{O as ja,N as dt,W as kt,B as _a}from"./WeekendIcon-DQjMLsHU.js";import{D as ht}from"./index-DAnpDysA.js";import{S as Ln}from"./SpeechBubbleAcceptedIcon-DrwZqoCw.js";import{R as va}from"./ShareAltOutlined-CGK6dpOD.js";import{C as ba}from"./index-Bxm0NY2A.js";import{A as ys}from"./AnimatedProcessingIcon-D878wWSw.js";import{T as Pn}from"./ThumbsUpIcon-DAD_SpzY.js";import{C as $n}from"./Card-Ctq6qA4N.js";import{T as Xs}from"./TimeHighlight-DWj5YpZ5.js";import{I as mt}from"./useDevFeatures-PugzPHkc.js";import{u as Hn}from"./useMutation-CURygG-N.js";import{R as ya}from"./CaretDownOutlined-DeQlEWfq.js";import{C as Js}from"./CircleIcon-BKtAOmm1.js";import{R as Sa,a as wa}from"./index-CRqBcl7T.js";import{S as bt}from"./SignCard-Dk6MCMkr.js";import{D as Aa}from"./DoorFrame-CTB3VQ41.js";/* empty css                             */import{I as Tt}from"./ImageCard-CCdv0WtF.js";import{S as Ta,g as Ss}from"./SuspectCard-BBruWyF0.js";import{I as Ia}from"./ImageCardPreloadHand-kEd_nP_u.js";import{R as Ea}from"./LikeFilled-BqVrOhj0.js";import{S as Ra}from"./index-DyMFGNsK.js";import{u as Fn,a as Ht,T as qn,M as Gn,b as Yn,C as Vn,c as Wn,D as zn,d as Bn}from"./core.esm-xMXxFaxl.js";import{u as Ca}from"./useTDBaseUrl-BF9foKiS.js";import"./SignIn-DRUlZnFi.js";import"./GoogleIcon-8k3388Lc.js";import"./PurePanel-C1ER4F49.js";import"./AnimatedLoaderIcon-YZmxFFPr.js";import"./progress-CcsqHVAd.js";import"./useId-BvBTPHfS.js";import"./index-H-Mz91i6.js";import"./WarningOutlined-DEG5suV1.js";import"./useSetState-efBPSfPZ.js";import"./UndoOutlined-B7UpLSr_.js";import"./DeleteOutlined-DdJ6-EWM.js";import"./ClockIcon-iKaw-rAd.js";import"./MetricHighlight-SkXAr3Aj.js";import"./StarFilled-B0jVilN2.js";import"./extends-CF3RwP-h.js";var Na={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 144H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm0 400H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zM464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm0 400H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16z"}}]},name:"appstore",theme:"filled"};function Jt(){return Jt=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},Jt.apply(this,arguments)}const Oa=(t,r)=>y.createElement(Ke,Jt({},t,{ref:r,icon:Na})),ka=y.forwardRef(Oa);var Da={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zM464 544H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H212V612h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200z"}}]},name:"appstore",theme:"outlined"};function Zt(){return Zt=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},Zt.apply(this,arguments)}const Ma=(t,r)=>y.createElement(Ke,Zt({},t,{ref:r,icon:Da})),es=y.forwardRef(Ma);var La={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 624c93.9 0 170-75.2 170-168V232c0-92.8-76.1-168-170-168s-170 75.2-170 168v224c0 92.8 76.1 168 170 168zm330-170c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8 0 140.3-113.7 254-254 254S258 594.3 258 454c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8 0 168.7 126.6 307.9 290 327.6V884H326.7c-13.7 0-24.7 14.3-24.7 32v36c0 4.4 2.8 8 6.2 8h407.6c3.4 0 6.2-3.6 6.2-8v-36c0-17.7-11-32-24.7-32H548V782.1c165.3-18 294-158 294-328.1z"}}]},name:"audio",theme:"filled"};function ts(){return ts=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},ts.apply(this,arguments)}const Pa=(t,r)=>y.createElement(Ke,ts({},t,{ref:r,icon:La})),ss=y.forwardRef(Pa);var $a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M816 768h-24V428c0-141.1-104.3-257.8-240-277.2V112c0-22.1-17.9-40-40-40s-40 17.9-40 40v38.8C336.3 170.2 232 286.9 232 428v340h-24c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h216c0 61.8 50.2 112 112 112s112-50.2 112-112h216c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM512 888c-26.5 0-48-21.5-48-48h96c0 26.5-21.5 48-48 48z"}}]},name:"bell",theme:"filled"};function ns(){return ns=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},ns.apply(this,arguments)}const Ha=(t,r)=>y.createElement(Ke,ns({},t,{ref:r,icon:$a})),Fa=y.forwardRef(Ha);var qa={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M304 280h56c4.4 0 8-3.6 8-8 0-28.3 5.9-53.2 17.1-73.5 10.6-19.4 26-34.8 45.4-45.4C450.9 142 475.7 136 504 136h16c28.3 0 53.2 5.9 73.5 17.1 19.4 10.6 34.8 26 45.4 45.4C650 218.9 656 243.7 656 272c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8 0-40-8.8-76.7-25.9-108.1a184.31 184.31 0 00-74-74C596.7 72.8 560 64 520 64h-16c-40 0-76.7 8.8-108.1 25.9a184.31 184.31 0 00-74 74C304.8 195.3 296 232 296 272c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M940 512H792V412c76.8 0 139-62.2 139-139 0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8a63 63 0 01-63 63H232a63 63 0 01-63-63c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8 0 76.8 62.2 139 139 139v100H84c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h148v96c0 6.5.2 13 .7 19.3C164.1 728.6 116 796.7 116 876c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8 0-44.2 23.9-82.9 59.6-103.7a273 273 0 0022.7 49c24.3 41.5 59 76.2 100.5 100.5S460.5 960 512 960s99.8-13.9 141.3-38.2a281.38 281.38 0 00123.2-149.5A120 120 0 01836 876c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8 0-79.3-48.1-147.4-116.7-176.7.4-6.4.7-12.8.7-19.3v-96h148c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM716 680c0 36.8-9.7 72-27.8 102.9-17.7 30.3-43 55.6-73.3 73.3C584 874.3 548.8 884 512 884s-72-9.7-102.9-27.8c-30.3-17.7-55.6-43-73.3-73.3A202.75 202.75 0 01308 680V412h408v268z"}}]},name:"bug",theme:"outlined"};function rs(){return rs=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},rs.apply(this,arguments)}const Ga=(t,r)=>y.createElement(Ke,rs({},t,{ref:r,icon:qa})),Ya=y.forwardRef(Ga);var Va={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M632 888H392c-4.4 0-8 3.6-8 8v32c0 17.7 14.3 32 32 32h192c17.7 0 32-14.3 32-32v-32c0-4.4-3.6-8-8-8zM512 64c-181.1 0-328 146.9-328 328 0 121.4 66 227.4 164 284.1V792c0 17.7 14.3 32 32 32h264c17.7 0 32-14.3 32-32V676.1c98-56.7 164-162.7 164-284.1 0-181.1-146.9-328-328-328zm127.9 549.8L604 634.6V752H420V634.6l-35.9-20.8C305.4 568.3 256 484.5 256 392c0-141.4 114.6-256 256-256s256 114.6 256 256c0 92.5-49.4 176.3-128.1 221.8z"}}]},name:"bulb",theme:"outlined"};function as(){return as=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},as.apply(this,arguments)}const Wa=(t,r)=>y.createElement(Ke,as({},t,{ref:r,icon:Va})),Kn=y.forwardRef(Wa);var za={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"};function os(){return os=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},os.apply(this,arguments)}const Ba=(t,r)=>y.createElement(Ke,os({},t,{ref:r,icon:za})),Ka=y.forwardRef(Ba);var Ua={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M771.91 115a31.65 31.65 0 00-17.42 5.27L400 351.97H236a16 16 0 00-16 16v288.06a16 16 0 0016 16h164l354.5 231.7a31.66 31.66 0 0017.42 5.27c16.65 0 32.08-13.25 32.08-32.06V147.06c0-18.8-15.44-32.06-32.09-32.06M732 221v582L439.39 611.75l-17.95-11.73H292V423.98h129.44l17.95-11.73z"}}]},name:"muted",theme:"outlined"};function is(){return is=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},is.apply(this,arguments)}const Qa=(t,r)=>y.createElement(Ke,is({},t,{ref:r,icon:Ua})),Xa=y.forwardRef(Qa);var Ja={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-12-12-28.3-18.7-45.3-18.7H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 176h256v112H384V176zm128 554c-79.5 0-144-64.5-144-144s64.5-144 144-144 144 64.5 144 144-64.5 144-144 144zm0-224c-44.2 0-80 35.8-80 80s35.8 80 80 80 80-35.8 80-80-35.8-80-80-80z"}}]},name:"save",theme:"filled"};function ls(){return ls=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},ls.apply(this,arguments)}const Za=(t,r)=>y.createElement(Ke,ls({},t,{ref:r,icon:Ja})),eo=y.forwardRef(Za);var to={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M870 126H663.8c-17.4 0-32.9 11.9-37 29.3C614.3 208.1 567 246 512 246s-102.3-37.9-114.8-90.7a37.93 37.93 0 00-37-29.3H154a44 44 0 00-44 44v252a44 44 0 0044 44h75v388a44 44 0 0044 44h478a44 44 0 0044-44V466h75a44 44 0 0044-44V170a44 44 0 00-44-44z"}}]},name:"skin",theme:"filled"};function cs(){return cs=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},cs.apply(this,arguments)}const so=(t,r)=>y.createElement(Ke,cs({},t,{ref:r,icon:to})),Ft=y.forwardRef(so);var no={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M892.1 737.8l-110.3-63.7a15.9 15.9 0 00-21.7 5.9l-19.9 34.5c-4.4 7.6-1.8 17.4 5.8 21.8L856.3 800a15.9 15.9 0 0021.7-5.9l19.9-34.5c4.4-7.6 1.7-17.4-5.8-21.8zM760 344a15.9 15.9 0 0021.7 5.9L892 286.2c7.6-4.4 10.2-14.2 5.8-21.8L878 230a15.9 15.9 0 00-21.7-5.9L746 287.8a15.99 15.99 0 00-5.8 21.8L760 344zm174 132H806c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16h128c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16zM625.9 115c-5.9 0-11.9 1.6-17.4 5.3L254 352H90c-8.8 0-16 7.2-16 16v288c0 8.8 7.2 16 16 16h164l354.5 231.7c5.5 3.6 11.6 5.3 17.4 5.3 16.7 0 32.1-13.3 32.1-32.1V147.1c0-18.8-15.4-32.1-32.1-32.1z"}}]},name:"sound",theme:"filled"};function ds(){return ds=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},ds.apply(this,arguments)}const ro=(t,r)=>y.createElement(Ke,ds({},t,{ref:r,icon:no})),ao=y.forwardRef(ro);var oo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M955.7 856l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zM480 416c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v184c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V416zm32 352a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"warning",theme:"filled"};function us(){return us=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},us.apply(this,arguments)}const io=(t,r)=>y.createElement(Ke,us({},t,{ref:r,icon:oo})),lo=y.forwardRef(io),Un=y.createContext({isLoading:!1,data:void 0,error:null,isError:!1,isRefetching:!1,itemsDictionary:{}}),Zs=(()=>{const t=Fe();return Fe().endOf("day").diff(t)})(),en=({children:t})=>{const{language:r}=te(),s=gn(r),a=fn({queryKey:[s,r],queryFn:async()=>{console.count(`Fetching ${s}...`);const l=(await fs.run({action:gs.GET_DAILY,date:ft(),document:s})).data;return ee("daily_challenges_fetched"),l},staleTime:Zs,gcTime:Zs,enabled:r==="pt",retry:!1});return e.jsx(Un.Provider,{value:{isLoading:a.isLoading,data:a.data,error:a.error,isError:a.isError,isRefetching:a.isRefetching,itemsDictionary:a.data?.dictionary??{}},children:t})},Ct=()=>{const t=y.useContext(Un);if(t===void 0)throw new Error("useDailyChallenge must be used within a DailyContextProvider");return t},co=Object.values(P);function Qn({localStorageKey:t}){const{message:r}=st.useApp(),s=xn(),a=()=>{t?(localStorage.removeItem(Lt(t)),localStorage.removeItem(Qt(t))):co.forEach(l=>{localStorage.removeItem(Lt(l.KEY)),localStorage.removeItem(Qt(l.KEY))}),r.success(e.jsx(j,{pt:"LS resetado corretamente",en:"LS reset successfully"})),s("/diario")},i=()=>{if(t){const l=JSON.parse(localStorage.getItem(Lt(t))??"{}");alert(JSON.stringify(l,null,2))}};return e.jsx(G,{justify:"center",gap:12,children:e.jsxs(ue.Compact,{children:[e.jsx(Rn,{title:e.jsx(j,{pt:"Tem certeza que quer resetar o jogo?",en:"Are you sure you want to reset the game?"}),onConfirm:a,children:e.jsx(J,{size:"large",type:"dashed",icon:e.jsx(Ya,{}),children:e.jsx(j,{pt:"Resetar LS",en:"Reset LS"})})}),yr,e.jsx(J,{size:"large",type:"dashed",onClick:i,children:"Log"})]})})}function _e({icon:t,children:r,localStorageKey:s}){const[a,i]=y.useState(0);return e.jsxs(fe.Header,{className:"daily-header",children:[e.jsxs("button",{type:"button",onClick:s?()=>i(l=>l+1):void 0,className:"invisible-secret-button daily-header",children:[e.jsx(D,{icon:t,className:"daily-header__icon"}),e.jsx(E.Title,{level:1,className:"daily-heading",children:r})]}),a>=5&&e.jsx(Qn,{localStorageKey:s})]})}const{Content:uo}=fe,mo=[{startDate:"2025-12-31",endDate:"2026-01-10",component:y.lazy(()=>Wt(()=>import("./FireworksEffect-DSdHqEw5.js"),__vite__mapDeps([0,1,2,3])).then(t=>({default:t.FireworksEffect}))),background:"linear-gradient(#ffffff, #d2f6ff, #000000)"},{startDate:"2026-02-13",endDate:"2026-02-18",component:y.lazy(()=>Wt(()=>import("./ConfettiEffect-0pGcYmUN.js"),__vite__mapDeps([4,1,2,5])).then(t=>({default:t.ConfettiEffect}))),background:"linear-gradient(#ffecb3, #ffe0b2, #ffccbc)"},{startDate:"2026-12-01",endDate:"2027-12-26",component:y.lazy(()=>Wt(()=>import("./SnowEffect-BqSrMkFv.js"),__vite__mapDeps([6,1,2,7])).then(t=>({default:t.SnowEffect}))),background:"linear-gradient(#cf3434, #810505)"}];function ho(t,r){const s=new Date;s.setHours(0,0,0,0);const a=new Date(t);a.setHours(0,0,0,0);const i=new Date(r);return i.setHours(23,59,59,999),s>=a&&s<=i}function po(){return mo.find(t=>ho(t.startDate,t.endDate))??null}function ge({children:t,...r}){const{pathname:s}=jn(),a=y.useMemo(()=>po(),[]),i=y.useMemo(()=>{if((s.includes("/diario/hub")||s==="/diario")&&a){const d=a.component;return e.jsx(y.Suspense,{fallback:null,children:e.jsx(d,{})})}return null},[s,a]),l=y.useMemo(()=>a?.background?{background:a.background}:{},[a]);return e.jsxs(uo,{...r,style:{...l,...r.style},children:[i,t]})}const{Footer:fo}=fe;function Nt({children:t}){const r=Ct();return e.jsxs(Sr,{className:"app",children:[e.jsx(_e,{icon:e.jsx(In,{}),localStorageKey:"",children:e.jsx(j,{pt:"TD Diário",en:"TD Daily"})}),r.isLoading&&e.jsx("div",{className:"loading-bar"}),e.jsx(ge,{children:t}),e.jsx(Qr,{devOnly:!0,children:e.jsx(fo,{children:e.jsx(Qn,{})})})]})}function Xn(){const{toggleLanguage:t,language:r}=te(),s=xn(),a=()=>{t(),s(r==="en"?"/diario":"/daily")};return e.jsx(Nt,{children:e.jsx(ge,{className:"daily-loading",children:e.jsx(ue,{className:"container container--center",children:e.jsx(It,{title:e.jsx(j,{pt:"O servidor decidiu não cooperar",en:"The server decided not to cooperate"}),description:e.jsx(ue,{orientation:"vertical",children:e.jsxs(E.Paragraph,{children:[e.jsx(j,{en:"It's likely that the administrator forgot to generate new challenges for today. If you know them, please complain immediately. Bullying is the way.",pt:"Provavelmente o administrador esqueceu de gerar novos desafios para hoje. Se você os conhece, reclame imediatamente. O bullying é o caminho."}),e.jsx("br",{}),e.jsx(j,{en:"It is also possible that you are in the wrong URL. Press here to go back to the right page.",pt:"Também é possível que você esteja na URL errada. Pressione aqui para voltar para a página correta:"}),e.jsx(J,{type:"link",onClick:a,children:"Redirecionar/Redirect"})]})}),type:"error",showIcon:!0})})})})}function Jn(){const{translate:t}=te();return e.jsx(Nt,{children:e.jsx(ge,{className:"daily-loading",children:e.jsx(X,{children:e.jsx(ta,{message:t("Carregando desafio...","Loading challenge..."),margin:!0})})})})}function Oe({gameName:t,GameComponent:r}){const{currentUser:s}=Et(),a=Ct();if(a.isLoading)return e.jsx(Jn,{});const i=a?.data?.[t];return a.isError||!i||typeof i!="object"?e.jsx(Xn,{}):e.jsx(r,{data:i,currentUser:s},i.id)}function go({GameComponent:t,useDemoHook:r,lsKey:s}){const{currentUser:a}=Et(),i=r();if(_n(()=>{s&&localStorage.removeItem(`TD_DAILY_${s}_LOCAL_TODAY`)}),i.isLoading)return e.jsx(Jn,{});const l=i?.data;return console.log("Demo Data:"),console.log(JSON.stringify(l)),i.isError||!l||typeof l!="object"?e.jsx(Xn,{}):e.jsx(t,{data:l,currentUser:a},l.id)}const xo={today:ft(),rulesOpen:!1,activeGame:null},ms=new Ar(xo),jo=(t,r)=>{ms.setState(s=>({...s,[t]:r}))},Zn=t=>{const{[t]:r}=wr(ms,()=>ms.state);return[r,s=>jo(t,s)]};function Se({hearts:t,total:r,openRules:s,rules:a}){return e.jsxs("div",{className:"menu",children:[e.jsx(bo,{}),e.jsx(_o,{remaining:t,total:r}),e.jsx(vo,{defaultOpen:s,rules:a})]})}function _o({remaining:t,total:r}){const s=Array(r).fill(!1).map((a,i)=>i<t);return e.jsx("div",{className:"menu-hearts",children:s.map((a,i)=>a?e.jsx(H,{},i):e.jsx(ra,{},i))})}function vo({rules:t,defaultOpen:r}){const[s,a]=y.useState(r),[,i]=Zn("rulesOpen");return y.useEffect(()=>{i(s)},[s]),e.jsxs(e.Fragment,{children:[e.jsx(J,{type:"text",style:{color:"white"},icon:e.jsx(oa,{}),onClick:()=>a(!0)}),e.jsx(ia,{title:e.jsx(j,{pt:"Regras",en:"Rules"}),placement:"bottom",open:s,onClose:()=>a(!1),children:e.jsx(ue,{orientation:"vertical",size:"small",children:e.jsx("ul",{className:"list",children:t})})})]})}function bo(){return e.jsx(St,{to:"/diario/hub",children:e.jsx(J,{type:"text",style:{color:"white"},icon:e.jsx(ka,{})})})}function q({align:t,direction:r,children:s,className:a,...i}){return e.jsx(X,{orientation:r??"vertical",align:t??"center",className:U("region",a),...i,children:s})}function He({align:t,children:r,className:s,...a}){return e.jsx(X,{align:t??"center",className:U("region",s),...a,children:e.jsx(E.Text,{strong:!0,className:"region-text",children:r})})}function er({align:t,children:r,className:s,...a}){return e.jsx(X,{align:t??"center",className:U("region",s),...a,children:e.jsxs(G,{className:"region-hint",gap:6,children:[e.jsx(Kn,{}),e.jsx("span",{children:r})]})})}function Ze({isComplete:t,setShowResultModal:r}){return t?e.jsx(q,{className:"results-container",align:"center",children:e.jsx(J,{onClick:()=>r(!0),type:"primary",icon:e.jsx(On,{}),children:e.jsx(j,{pt:"Ver Resultado",en:"Show Results"})})}):null}function ke(t){const[r,s]=y.useState(t);return{state:r,setState:s,updateState:i=>{s(l=>({...l,...i}))}}}function et(t){const[r,s]=y.useState(t);return{session:r,setSession:s,updateSession:i=>{s(l=>({...l,...i}))}}}function De({key:t,gameId:r,defaultValue:s}){const a=Lt(t),[i,l]=wt(a,{status:"idle",...s,id:r});return{localToday:i,updateLocalStorage:p=>{l(g=>({...g??s,id:r,...p}))}}}function Me({key:t,isComplete:r}){const s=Qt(t),[a,i]=wt(s,"unplayed");y.useEffect(()=>{a!==ft()&&r&&i(ft())},[r,a,i])}function Qe(t,r){const[s,a]=y.useState(!1);return y.useEffect(()=>{t&&(a(!0),r?.())},[t]),{showResultModal:s,setShowResultModal:a}}const O={IN_PROGRESS:"IN_PROGRESS",WIN:"WIN",LOSE:"LOSE"},yo="/tardedivertida/assets/daily-sfx-QO1z6sF4.mp3";var zt={};var tn;function So(){return tn||(tn=1,(function(t){(function(){var r=function(){this.init()};r.prototype={init:function(){var n=this||s;return n._counter=1e3,n._html5AudioPool=[],n.html5PoolSize=10,n._codecs={},n._howls=[],n._muted=!1,n._volume=1,n._canPlayEvent="canplaythrough",n._navigator=typeof window<"u"&&window.navigator?window.navigator:null,n.masterGain=null,n.noAudio=!1,n.usingWebAudio=!0,n.autoSuspend=!0,n.ctx=null,n.autoUnlock=!0,n._setup(),n},volume:function(n){var o=this||s;if(n=parseFloat(n),o.ctx||_(),typeof n<"u"&&n>=0&&n<=1){if(o._volume=n,o._muted)return o;o.usingWebAudio&&o.masterGain.gain.setValueAtTime(n,s.ctx.currentTime);for(var c=0;c<o._howls.length;c++)if(!o._howls[c]._webAudio)for(var m=o._howls[c]._getSoundIds(),x=0;x<m.length;x++){var u=o._howls[c]._soundById(m[x]);u&&u._node&&(u._node.volume=u._volume*n)}return o}return o._volume},mute:function(n){var o=this||s;o.ctx||_(),o._muted=n,o.usingWebAudio&&o.masterGain.gain.setValueAtTime(n?0:o._volume,s.ctx.currentTime);for(var c=0;c<o._howls.length;c++)if(!o._howls[c]._webAudio)for(var m=o._howls[c]._getSoundIds(),x=0;x<m.length;x++){var u=o._howls[c]._soundById(m[x]);u&&u._node&&(u._node.muted=n?!0:u._muted)}return o},stop:function(){for(var n=this||s,o=0;o<n._howls.length;o++)n._howls[o].stop();return n},unload:function(){for(var n=this||s,o=n._howls.length-1;o>=0;o--)n._howls[o].unload();return n.usingWebAudio&&n.ctx&&typeof n.ctx.close<"u"&&(n.ctx.close(),n.ctx=null,_()),n},codecs:function(n){return(this||s)._codecs[n.replace(/^x-/,"")]},_setup:function(){var n=this||s;if(n.state=n.ctx&&n.ctx.state||"suspended",n._autoSuspend(),!n.usingWebAudio)if(typeof Audio<"u")try{var o=new Audio;typeof o.oncanplaythrough>"u"&&(n._canPlayEvent="canplay")}catch{n.noAudio=!0}else n.noAudio=!0;try{var o=new Audio;o.muted&&(n.noAudio=!0)}catch{}return n.noAudio||n._setupCodecs(),n},_setupCodecs:function(){var n=this||s,o=null;try{o=typeof Audio<"u"?new Audio:null}catch{return n}if(!o||typeof o.canPlayType!="function")return n;var c=o.canPlayType("audio/mpeg;").replace(/^no$/,""),m=n._navigator?n._navigator.userAgent:"",x=m.match(/OPR\/(\d+)/g),u=x&&parseInt(x[0].split("/")[1],10)<33,h=m.indexOf("Safari")!==-1&&m.indexOf("Chrome")===-1,b=m.match(/Version\/(.*?) /),v=h&&b&&parseInt(b[1],10)<15;return n._codecs={mp3:!!(!u&&(c||o.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!c,opus:!!o.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!o.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!o.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(o.canPlayType('audio/wav; codecs="1"')||o.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!o.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!o.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(o.canPlayType("audio/x-m4a;")||o.canPlayType("audio/m4a;")||o.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(o.canPlayType("audio/x-m4b;")||o.canPlayType("audio/m4b;")||o.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(o.canPlayType("audio/x-mp4;")||o.canPlayType("audio/mp4;")||o.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!v&&o.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!v&&o.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!o.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(o.canPlayType("audio/x-flac;")||o.canPlayType("audio/flac;")).replace(/^no$/,"")},n},_unlockAudio:function(){var n=this||s;if(!(n._audioUnlocked||!n.ctx)){n._audioUnlocked=!1,n.autoUnlock=!1,!n._mobileUnloaded&&n.ctx.sampleRate!==44100&&(n._mobileUnloaded=!0,n.unload()),n._scratchBuffer=n.ctx.createBuffer(1,1,22050);var o=function(c){for(;n._html5AudioPool.length<n.html5PoolSize;)try{var m=new Audio;m._unlocked=!0,n._releaseHtml5Audio(m)}catch{n.noAudio=!0;break}for(var x=0;x<n._howls.length;x++)if(!n._howls[x]._webAudio)for(var u=n._howls[x]._getSoundIds(),h=0;h<u.length;h++){var b=n._howls[x]._soundById(u[h]);b&&b._node&&!b._node._unlocked&&(b._node._unlocked=!0,b._node.load())}n._autoResume();var v=n.ctx.createBufferSource();v.buffer=n._scratchBuffer,v.connect(n.ctx.destination),typeof v.start>"u"?v.noteOn(0):v.start(0),typeof n.ctx.resume=="function"&&n.ctx.resume(),v.onended=function(){v.disconnect(0),n._audioUnlocked=!0,document.removeEventListener("touchstart",o,!0),document.removeEventListener("touchend",o,!0),document.removeEventListener("click",o,!0),document.removeEventListener("keydown",o,!0);for(var S=0;S<n._howls.length;S++)n._howls[S]._emit("unlock")}};return document.addEventListener("touchstart",o,!0),document.addEventListener("touchend",o,!0),document.addEventListener("click",o,!0),document.addEventListener("keydown",o,!0),n}},_obtainHtml5Audio:function(){var n=this||s;if(n._html5AudioPool.length)return n._html5AudioPool.pop();var o=new Audio().play();return o&&typeof Promise<"u"&&(o instanceof Promise||typeof o.then=="function")&&o.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(n){var o=this||s;return n._unlocked&&o._html5AudioPool.push(n),o},_autoSuspend:function(){var n=this;if(!(!n.autoSuspend||!n.ctx||typeof n.ctx.suspend>"u"||!s.usingWebAudio)){for(var o=0;o<n._howls.length;o++)if(n._howls[o]._webAudio){for(var c=0;c<n._howls[o]._sounds.length;c++)if(!n._howls[o]._sounds[c]._paused)return n}return n._suspendTimer&&clearTimeout(n._suspendTimer),n._suspendTimer=setTimeout(function(){if(n.autoSuspend){n._suspendTimer=null,n.state="suspending";var m=function(){n.state="suspended",n._resumeAfterSuspend&&(delete n._resumeAfterSuspend,n._autoResume())};n.ctx.suspend().then(m,m)}},3e4),n}},_autoResume:function(){var n=this;if(!(!n.ctx||typeof n.ctx.resume>"u"||!s.usingWebAudio))return n.state==="running"&&n.ctx.state!=="interrupted"&&n._suspendTimer?(clearTimeout(n._suspendTimer),n._suspendTimer=null):n.state==="suspended"||n.state==="running"&&n.ctx.state==="interrupted"?(n.ctx.resume().then(function(){n.state="running";for(var o=0;o<n._howls.length;o++)n._howls[o]._emit("resume")}),n._suspendTimer&&(clearTimeout(n._suspendTimer),n._suspendTimer=null)):n.state==="suspending"&&(n._resumeAfterSuspend=!0),n}};var s=new r,a=function(n){var o=this;if(!n.src||n.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}o.init(n)};a.prototype={init:function(n){var o=this;return s.ctx||_(),o._autoplay=n.autoplay||!1,o._format=typeof n.format!="string"?n.format:[n.format],o._html5=n.html5||!1,o._muted=n.mute||!1,o._loop=n.loop||!1,o._pool=n.pool||5,o._preload=typeof n.preload=="boolean"||n.preload==="metadata"?n.preload:!0,o._rate=n.rate||1,o._sprite=n.sprite||{},o._src=typeof n.src!="string"?n.src:[n.src],o._volume=n.volume!==void 0?n.volume:1,o._xhr={method:n.xhr&&n.xhr.method?n.xhr.method:"GET",headers:n.xhr&&n.xhr.headers?n.xhr.headers:null,withCredentials:n.xhr&&n.xhr.withCredentials?n.xhr.withCredentials:!1},o._duration=0,o._state="unloaded",o._sounds=[],o._endTimers={},o._queue=[],o._playLock=!1,o._onend=n.onend?[{fn:n.onend}]:[],o._onfade=n.onfade?[{fn:n.onfade}]:[],o._onload=n.onload?[{fn:n.onload}]:[],o._onloaderror=n.onloaderror?[{fn:n.onloaderror}]:[],o._onplayerror=n.onplayerror?[{fn:n.onplayerror}]:[],o._onpause=n.onpause?[{fn:n.onpause}]:[],o._onplay=n.onplay?[{fn:n.onplay}]:[],o._onstop=n.onstop?[{fn:n.onstop}]:[],o._onmute=n.onmute?[{fn:n.onmute}]:[],o._onvolume=n.onvolume?[{fn:n.onvolume}]:[],o._onrate=n.onrate?[{fn:n.onrate}]:[],o._onseek=n.onseek?[{fn:n.onseek}]:[],o._onunlock=n.onunlock?[{fn:n.onunlock}]:[],o._onresume=[],o._webAudio=s.usingWebAudio&&!o._html5,typeof s.ctx<"u"&&s.ctx&&s.autoUnlock&&s._unlockAudio(),s._howls.push(o),o._autoplay&&o._queue.push({event:"play",action:function(){o.play()}}),o._preload&&o._preload!=="none"&&o.load(),o},load:function(){var n=this,o=null;if(s.noAudio){n._emit("loaderror",null,"No audio support.");return}typeof n._src=="string"&&(n._src=[n._src]);for(var c=0;c<n._src.length;c++){var m,x;if(n._format&&n._format[c])m=n._format[c];else{if(x=n._src[c],typeof x!="string"){n._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}m=/^data:audio\/([^;,]+);/i.exec(x),m||(m=/\.([^.]+)$/.exec(x.split("?",1)[0])),m&&(m=m[1].toLowerCase())}if(m||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),m&&s.codecs(m)){o=n._src[c];break}}if(!o){n._emit("loaderror",null,"No codec support for selected audio sources.");return}return n._src=o,n._state="loading",window.location.protocol==="https:"&&o.slice(0,5)==="http:"&&(n._html5=!0,n._webAudio=!1),new i(n),n._webAudio&&d(n),n},play:function(n,o){var c=this,m=null;if(typeof n=="number")m=n,n=null;else{if(typeof n=="string"&&c._state==="loaded"&&!c._sprite[n])return null;if(typeof n>"u"&&(n="__default",!c._playLock)){for(var x=0,u=0;u<c._sounds.length;u++)c._sounds[u]._paused&&!c._sounds[u]._ended&&(x++,m=c._sounds[u]._id);x===1?n=null:m=null}}var h=m?c._soundById(m):c._inactiveSound();if(!h)return null;if(m&&!n&&(n=h._sprite||"__default"),c._state!=="loaded"){h._sprite=n,h._ended=!1;var b=h._id;return c._queue.push({event:"play",action:function(){c.play(b)}}),b}if(m&&!h._paused)return o||c._loadQueue("play"),h._id;c._webAudio&&s._autoResume();var v=Math.max(0,h._seek>0?h._seek:c._sprite[n][0]/1e3),S=Math.max(0,(c._sprite[n][0]+c._sprite[n][1])/1e3-v),R=S*1e3/Math.abs(h._rate),I=c._sprite[n][0]/1e3,T=(c._sprite[n][0]+c._sprite[n][1])/1e3;h._sprite=n,h._ended=!1;var A=function(){h._paused=!1,h._seek=v,h._start=I,h._stop=T,h._loop=!!(h._loop||c._sprite[n][2])};if(v>=T){c._ended(h);return}var w=h._node;if(c._webAudio){var $=function(){c._playLock=!1,A(),c._refreshBuffer(h);var k=h._muted||c._muted?0:h._volume;w.gain.setValueAtTime(k,s.ctx.currentTime),h._playStart=s.ctx.currentTime,typeof w.bufferSource.start>"u"?h._loop?w.bufferSource.noteGrainOn(0,v,86400):w.bufferSource.noteGrainOn(0,v,S):h._loop?w.bufferSource.start(0,v,86400):w.bufferSource.start(0,v,S),R!==1/0&&(c._endTimers[h._id]=setTimeout(c._ended.bind(c,h),R)),o||setTimeout(function(){c._emit("play",h._id),c._loadQueue()},0)};s.state==="running"&&s.ctx.state!=="interrupted"?$():(c._playLock=!0,c.once("resume",$),c._clearTimer(h._id))}else{var L=function(){w.currentTime=v,w.muted=h._muted||c._muted||s._muted||w.muted,w.volume=h._volume*s.volume(),w.playbackRate=h._rate;try{var k=w.play();if(k&&typeof Promise<"u"&&(k instanceof Promise||typeof k.then=="function")?(c._playLock=!0,A(),k.then(function(){c._playLock=!1,w._unlocked=!0,o?c._loadQueue():c._emit("play",h._id)}).catch(function(){c._playLock=!1,c._emit("playerror",h._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),h._ended=!0,h._paused=!0})):o||(c._playLock=!1,A(),c._emit("play",h._id)),w.playbackRate=h._rate,w.paused){c._emit("playerror",h._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}n!=="__default"||h._loop?c._endTimers[h._id]=setTimeout(c._ended.bind(c,h),R):(c._endTimers[h._id]=function(){c._ended(h),w.removeEventListener("ended",c._endTimers[h._id],!1)},w.addEventListener("ended",c._endTimers[h._id],!1))}catch(K){c._emit("playerror",h._id,K)}};w.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(w.src=c._src,w.load());var se=window&&window.ejecta||!w.readyState&&s._navigator.isCocoonJS;if(w.readyState>=3||se)L();else{c._playLock=!0,c._state="loading";var F=function(){c._state="loaded",L(),w.removeEventListener(s._canPlayEvent,F,!1)};w.addEventListener(s._canPlayEvent,F,!1),c._clearTimer(h._id)}}return h._id},pause:function(n){var o=this;if(o._state!=="loaded"||o._playLock)return o._queue.push({event:"pause",action:function(){o.pause(n)}}),o;for(var c=o._getSoundIds(n),m=0;m<c.length;m++){o._clearTimer(c[m]);var x=o._soundById(c[m]);if(x&&!x._paused&&(x._seek=o.seek(c[m]),x._rateSeek=0,x._paused=!0,o._stopFade(c[m]),x._node))if(o._webAudio){if(!x._node.bufferSource)continue;typeof x._node.bufferSource.stop>"u"?x._node.bufferSource.noteOff(0):x._node.bufferSource.stop(0),o._cleanBuffer(x._node)}else(!isNaN(x._node.duration)||x._node.duration===1/0)&&x._node.pause();arguments[1]||o._emit("pause",x?x._id:null)}return o},stop:function(n,o){var c=this;if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"stop",action:function(){c.stop(n)}}),c;for(var m=c._getSoundIds(n),x=0;x<m.length;x++){c._clearTimer(m[x]);var u=c._soundById(m[x]);u&&(u._seek=u._start||0,u._rateSeek=0,u._paused=!0,u._ended=!0,c._stopFade(m[x]),u._node&&(c._webAudio?u._node.bufferSource&&(typeof u._node.bufferSource.stop>"u"?u._node.bufferSource.noteOff(0):u._node.bufferSource.stop(0),c._cleanBuffer(u._node)):(!isNaN(u._node.duration)||u._node.duration===1/0)&&(u._node.currentTime=u._start||0,u._node.pause(),u._node.duration===1/0&&c._clearSound(u._node))),o||c._emit("stop",u._id))}return c},mute:function(n,o){var c=this;if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"mute",action:function(){c.mute(n,o)}}),c;if(typeof o>"u")if(typeof n=="boolean")c._muted=n;else return c._muted;for(var m=c._getSoundIds(o),x=0;x<m.length;x++){var u=c._soundById(m[x]);u&&(u._muted=n,u._interval&&c._stopFade(u._id),c._webAudio&&u._node?u._node.gain.setValueAtTime(n?0:u._volume,s.ctx.currentTime):u._node&&(u._node.muted=s._muted?!0:n),c._emit("mute",u._id))}return c},volume:function(){var n=this,o=arguments,c,m;if(o.length===0)return n._volume;if(o.length===1||o.length===2&&typeof o[1]>"u"){var x=n._getSoundIds(),u=x.indexOf(o[0]);u>=0?m=parseInt(o[0],10):c=parseFloat(o[0])}else o.length>=2&&(c=parseFloat(o[0]),m=parseInt(o[1],10));var h;if(typeof c<"u"&&c>=0&&c<=1){if(n._state!=="loaded"||n._playLock)return n._queue.push({event:"volume",action:function(){n.volume.apply(n,o)}}),n;typeof m>"u"&&(n._volume=c),m=n._getSoundIds(m);for(var b=0;b<m.length;b++)h=n._soundById(m[b]),h&&(h._volume=c,o[2]||n._stopFade(m[b]),n._webAudio&&h._node&&!h._muted?h._node.gain.setValueAtTime(c,s.ctx.currentTime):h._node&&!h._muted&&(h._node.volume=c*s.volume()),n._emit("volume",h._id))}else return h=m?n._soundById(m):n._sounds[0],h?h._volume:0;return n},fade:function(n,o,c,m){var x=this;if(x._state!=="loaded"||x._playLock)return x._queue.push({event:"fade",action:function(){x.fade(n,o,c,m)}}),x;n=Math.min(Math.max(0,parseFloat(n)),1),o=Math.min(Math.max(0,parseFloat(o)),1),c=parseFloat(c),x.volume(n,m);for(var u=x._getSoundIds(m),h=0;h<u.length;h++){var b=x._soundById(u[h]);if(b){if(m||x._stopFade(u[h]),x._webAudio&&!b._muted){var v=s.ctx.currentTime,S=v+c/1e3;b._volume=n,b._node.gain.setValueAtTime(n,v),b._node.gain.linearRampToValueAtTime(o,S)}x._startFadeInterval(b,n,o,c,u[h],typeof m>"u")}}return x},_startFadeInterval:function(n,o,c,m,x,u){var h=this,b=o,v=c-o,S=Math.abs(v/.01),R=Math.max(4,S>0?m/S:m),I=Date.now();n._fadeTo=c,n._interval=setInterval(function(){var T=(Date.now()-I)/m;I=Date.now(),b+=v*T,b=Math.round(b*100)/100,v<0?b=Math.max(c,b):b=Math.min(c,b),h._webAudio?n._volume=b:h.volume(b,n._id,!0),u&&(h._volume=b),(c<o&&b<=c||c>o&&b>=c)&&(clearInterval(n._interval),n._interval=null,n._fadeTo=null,h.volume(c,n._id),h._emit("fade",n._id))},R)},_stopFade:function(n){var o=this,c=o._soundById(n);return c&&c._interval&&(o._webAudio&&c._node.gain.cancelScheduledValues(s.ctx.currentTime),clearInterval(c._interval),c._interval=null,o.volume(c._fadeTo,n),c._fadeTo=null,o._emit("fade",n)),o},loop:function(){var n=this,o=arguments,c,m,x;if(o.length===0)return n._loop;if(o.length===1)if(typeof o[0]=="boolean")c=o[0],n._loop=c;else return x=n._soundById(parseInt(o[0],10)),x?x._loop:!1;else o.length===2&&(c=o[0],m=parseInt(o[1],10));for(var u=n._getSoundIds(m),h=0;h<u.length;h++)x=n._soundById(u[h]),x&&(x._loop=c,n._webAudio&&x._node&&x._node.bufferSource&&(x._node.bufferSource.loop=c,c&&(x._node.bufferSource.loopStart=x._start||0,x._node.bufferSource.loopEnd=x._stop,n.playing(u[h])&&(n.pause(u[h],!0),n.play(u[h],!0)))));return n},rate:function(){var n=this,o=arguments,c,m;if(o.length===0)m=n._sounds[0]._id;else if(o.length===1){var x=n._getSoundIds(),u=x.indexOf(o[0]);u>=0?m=parseInt(o[0],10):c=parseFloat(o[0])}else o.length===2&&(c=parseFloat(o[0]),m=parseInt(o[1],10));var h;if(typeof c=="number"){if(n._state!=="loaded"||n._playLock)return n._queue.push({event:"rate",action:function(){n.rate.apply(n,o)}}),n;typeof m>"u"&&(n._rate=c),m=n._getSoundIds(m);for(var b=0;b<m.length;b++)if(h=n._soundById(m[b]),h){n.playing(m[b])&&(h._rateSeek=n.seek(m[b]),h._playStart=n._webAudio?s.ctx.currentTime:h._playStart),h._rate=c,n._webAudio&&h._node&&h._node.bufferSource?h._node.bufferSource.playbackRate.setValueAtTime(c,s.ctx.currentTime):h._node&&(h._node.playbackRate=c);var v=n.seek(m[b]),S=(n._sprite[h._sprite][0]+n._sprite[h._sprite][1])/1e3-v,R=S*1e3/Math.abs(h._rate);(n._endTimers[m[b]]||!h._paused)&&(n._clearTimer(m[b]),n._endTimers[m[b]]=setTimeout(n._ended.bind(n,h),R)),n._emit("rate",h._id)}}else return h=n._soundById(m),h?h._rate:n._rate;return n},seek:function(){var n=this,o=arguments,c,m;if(o.length===0)n._sounds.length&&(m=n._sounds[0]._id);else if(o.length===1){var x=n._getSoundIds(),u=x.indexOf(o[0]);u>=0?m=parseInt(o[0],10):n._sounds.length&&(m=n._sounds[0]._id,c=parseFloat(o[0]))}else o.length===2&&(c=parseFloat(o[0]),m=parseInt(o[1],10));if(typeof m>"u")return 0;if(typeof c=="number"&&(n._state!=="loaded"||n._playLock))return n._queue.push({event:"seek",action:function(){n.seek.apply(n,o)}}),n;var h=n._soundById(m);if(h)if(typeof c=="number"&&c>=0){var b=n.playing(m);b&&n.pause(m,!0),h._seek=c,h._ended=!1,n._clearTimer(m),!n._webAudio&&h._node&&!isNaN(h._node.duration)&&(h._node.currentTime=c);var v=function(){b&&n.play(m,!0),n._emit("seek",m)};if(b&&!n._webAudio){var S=function(){n._playLock?setTimeout(S,0):v()};setTimeout(S,0)}else v()}else if(n._webAudio){var R=n.playing(m)?s.ctx.currentTime-h._playStart:0,I=h._rateSeek?h._rateSeek-h._seek:0;return h._seek+(I+R*Math.abs(h._rate))}else return h._node.currentTime;return n},playing:function(n){var o=this;if(typeof n=="number"){var c=o._soundById(n);return c?!c._paused:!1}for(var m=0;m<o._sounds.length;m++)if(!o._sounds[m]._paused)return!0;return!1},duration:function(n){var o=this,c=o._duration,m=o._soundById(n);return m&&(c=o._sprite[m._sprite][1]/1e3),c},state:function(){return this._state},unload:function(){for(var n=this,o=n._sounds,c=0;c<o.length;c++)o[c]._paused||n.stop(o[c]._id),n._webAudio||(n._clearSound(o[c]._node),o[c]._node.removeEventListener("error",o[c]._errorFn,!1),o[c]._node.removeEventListener(s._canPlayEvent,o[c]._loadFn,!1),o[c]._node.removeEventListener("ended",o[c]._endFn,!1),s._releaseHtml5Audio(o[c]._node)),delete o[c]._node,n._clearTimer(o[c]._id);var m=s._howls.indexOf(n);m>=0&&s._howls.splice(m,1);var x=!0;for(c=0;c<s._howls.length;c++)if(s._howls[c]._src===n._src||n._src.indexOf(s._howls[c]._src)>=0){x=!1;break}return l&&x&&delete l[n._src],s.noAudio=!1,n._state="unloaded",n._sounds=[],n=null,null},on:function(n,o,c,m){var x=this,u=x["_on"+n];return typeof o=="function"&&u.push(m?{id:c,fn:o,once:m}:{id:c,fn:o}),x},off:function(n,o,c){var m=this,x=m["_on"+n],u=0;if(typeof o=="number"&&(c=o,o=null),o||c)for(u=0;u<x.length;u++){var h=c===x[u].id;if(o===x[u].fn&&h||!o&&h){x.splice(u,1);break}}else if(n)m["_on"+n]=[];else{var b=Object.keys(m);for(u=0;u<b.length;u++)b[u].indexOf("_on")===0&&Array.isArray(m[b[u]])&&(m[b[u]]=[])}return m},once:function(n,o,c){var m=this;return m.on(n,o,c,1),m},_emit:function(n,o,c){for(var m=this,x=m["_on"+n],u=x.length-1;u>=0;u--)(!x[u].id||x[u].id===o||n==="load")&&(setTimeout((function(h){h.call(this,o,c)}).bind(m,x[u].fn),0),x[u].once&&m.off(n,x[u].fn,x[u].id));return m._loadQueue(n),m},_loadQueue:function(n){var o=this;if(o._queue.length>0){var c=o._queue[0];c.event===n&&(o._queue.shift(),o._loadQueue()),n||c.action()}return o},_ended:function(n){var o=this,c=n._sprite;if(!o._webAudio&&n._node&&!n._node.paused&&!n._node.ended&&n._node.currentTime<n._stop)return setTimeout(o._ended.bind(o,n),100),o;var m=!!(n._loop||o._sprite[c][2]);if(o._emit("end",n._id),!o._webAudio&&m&&o.stop(n._id,!0).play(n._id),o._webAudio&&m){o._emit("play",n._id),n._seek=n._start||0,n._rateSeek=0,n._playStart=s.ctx.currentTime;var x=(n._stop-n._start)*1e3/Math.abs(n._rate);o._endTimers[n._id]=setTimeout(o._ended.bind(o,n),x)}return o._webAudio&&!m&&(n._paused=!0,n._ended=!0,n._seek=n._start||0,n._rateSeek=0,o._clearTimer(n._id),o._cleanBuffer(n._node),s._autoSuspend()),!o._webAudio&&!m&&o.stop(n._id,!0),o},_clearTimer:function(n){var o=this;if(o._endTimers[n]){if(typeof o._endTimers[n]!="function")clearTimeout(o._endTimers[n]);else{var c=o._soundById(n);c&&c._node&&c._node.removeEventListener("ended",o._endTimers[n],!1)}delete o._endTimers[n]}return o},_soundById:function(n){for(var o=this,c=0;c<o._sounds.length;c++)if(n===o._sounds[c]._id)return o._sounds[c];return null},_inactiveSound:function(){var n=this;n._drain();for(var o=0;o<n._sounds.length;o++)if(n._sounds[o]._ended)return n._sounds[o].reset();return new i(n)},_drain:function(){var n=this,o=n._pool,c=0,m=0;if(!(n._sounds.length<o)){for(m=0;m<n._sounds.length;m++)n._sounds[m]._ended&&c++;for(m=n._sounds.length-1;m>=0;m--){if(c<=o)return;n._sounds[m]._ended&&(n._webAudio&&n._sounds[m]._node&&n._sounds[m]._node.disconnect(0),n._sounds.splice(m,1),c--)}}},_getSoundIds:function(n){var o=this;if(typeof n>"u"){for(var c=[],m=0;m<o._sounds.length;m++)c.push(o._sounds[m]._id);return c}else return[n]},_refreshBuffer:function(n){var o=this;return n._node.bufferSource=s.ctx.createBufferSource(),n._node.bufferSource.buffer=l[o._src],n._panner?n._node.bufferSource.connect(n._panner):n._node.bufferSource.connect(n._node),n._node.bufferSource.loop=n._loop,n._loop&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop||0),n._node.bufferSource.playbackRate.setValueAtTime(n._rate,s.ctx.currentTime),o},_cleanBuffer:function(n){var o=this,c=s._navigator&&s._navigator.vendor.indexOf("Apple")>=0;if(!n.bufferSource)return o;if(s._scratchBuffer&&n.bufferSource&&(n.bufferSource.onended=null,n.bufferSource.disconnect(0),c))try{n.bufferSource.buffer=s._scratchBuffer}catch{}return n.bufferSource=null,o},_clearSound:function(n){var o=/MSIE |Trident\//.test(s._navigator&&s._navigator.userAgent);o||(n.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(n){this._parent=n,this.init()};i.prototype={init:function(){var n=this,o=n._parent;return n._muted=o._muted,n._loop=o._loop,n._volume=o._volume,n._rate=o._rate,n._seek=0,n._paused=!0,n._ended=!0,n._sprite="__default",n._id=++s._counter,o._sounds.push(n),n.create(),n},create:function(){var n=this,o=n._parent,c=s._muted||n._muted||n._parent._muted?0:n._volume;return o._webAudio?(n._node=typeof s.ctx.createGain>"u"?s.ctx.createGainNode():s.ctx.createGain(),n._node.gain.setValueAtTime(c,s.ctx.currentTime),n._node.paused=!0,n._node.connect(s.masterGain)):s.noAudio||(n._node=s._obtainHtml5Audio(),n._errorFn=n._errorListener.bind(n),n._node.addEventListener("error",n._errorFn,!1),n._loadFn=n._loadListener.bind(n),n._node.addEventListener(s._canPlayEvent,n._loadFn,!1),n._endFn=n._endListener.bind(n),n._node.addEventListener("ended",n._endFn,!1),n._node.src=o._src,n._node.preload=o._preload===!0?"auto":o._preload,n._node.volume=c*s.volume(),n._node.load()),n},reset:function(){var n=this,o=n._parent;return n._muted=o._muted,n._loop=o._loop,n._volume=o._volume,n._rate=o._rate,n._seek=0,n._rateSeek=0,n._paused=!0,n._ended=!0,n._sprite="__default",n._id=++s._counter,n},_errorListener:function(){var n=this;n._parent._emit("loaderror",n._id,n._node.error?n._node.error.code:0),n._node.removeEventListener("error",n._errorFn,!1)},_loadListener:function(){var n=this,o=n._parent;o._duration=Math.ceil(n._node.duration*10)/10,Object.keys(o._sprite).length===0&&(o._sprite={__default:[0,o._duration*1e3]}),o._state!=="loaded"&&(o._state="loaded",o._emit("load"),o._loadQueue()),n._node.removeEventListener(s._canPlayEvent,n._loadFn,!1)},_endListener:function(){var n=this,o=n._parent;o._duration===1/0&&(o._duration=Math.ceil(n._node.duration*10)/10,o._sprite.__default[1]===1/0&&(o._sprite.__default[1]=o._duration*1e3),o._ended(n)),n._node.removeEventListener("ended",n._endFn,!1)}};var l={},d=function(n){var o=n._src;if(l[o]){n._duration=l[o].duration,f(n);return}if(/^data:[^;]+;base64,/.test(o)){for(var c=atob(o.split(",")[1]),m=new Uint8Array(c.length),x=0;x<c.length;++x)m[x]=c.charCodeAt(x);g(m.buffer,n)}else{var u=new XMLHttpRequest;u.open(n._xhr.method,o,!0),u.withCredentials=n._xhr.withCredentials,u.responseType="arraybuffer",n._xhr.headers&&Object.keys(n._xhr.headers).forEach(function(h){u.setRequestHeader(h,n._xhr.headers[h])}),u.onload=function(){var h=(u.status+"")[0];if(h!=="0"&&h!=="2"&&h!=="3"){n._emit("loaderror",null,"Failed loading audio file with status: "+u.status+".");return}g(u.response,n)},u.onerror=function(){n._webAudio&&(n._html5=!0,n._webAudio=!1,n._sounds=[],delete l[o],n.load())},p(u)}},p=function(n){try{n.send()}catch{n.onerror()}},g=function(n,o){var c=function(){o._emit("loaderror",null,"Decoding audio data failed.")},m=function(x){x&&o._sounds.length>0?(l[o._src]=x,f(o,x)):c()};typeof Promise<"u"&&s.ctx.decodeAudioData.length===1?s.ctx.decodeAudioData(n).then(m).catch(c):s.ctx.decodeAudioData(n,m,c)},f=function(n,o){o&&!n._duration&&(n._duration=o.duration),Object.keys(n._sprite).length===0&&(n._sprite={__default:[0,n._duration*1e3]}),n._state!=="loaded"&&(n._state="loaded",n._emit("load"),n._loadQueue())},_=function(){if(s.usingWebAudio){try{typeof AudioContext<"u"?s.ctx=new AudioContext:typeof webkitAudioContext<"u"?s.ctx=new webkitAudioContext:s.usingWebAudio=!1}catch{s.usingWebAudio=!1}s.ctx||(s.usingWebAudio=!1);var n=/iP(hone|od|ad)/.test(s._navigator&&s._navigator.platform),o=s._navigator&&s._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),c=o?parseInt(o[1],10):null;if(n&&c&&c<9){var m=/safari/.test(s._navigator&&s._navigator.userAgent.toLowerCase());s._navigator&&!m&&(s.usingWebAudio=!1)}s.usingWebAudio&&(s.masterGain=typeof s.ctx.createGain>"u"?s.ctx.createGainNode():s.ctx.createGain(),s.masterGain.gain.setValueAtTime(s._muted?0:s._volume,s.ctx.currentTime),s.masterGain.connect(s.ctx.destination)),s._setup()}};t.Howler=s,t.Howl=a,typeof _t<"u"?(_t.HowlerGlobal=r,_t.Howler=s,_t.Howl=a,_t.Sound=i):typeof window<"u"&&(window.HowlerGlobal=r,window.Howler=s,window.Howl=a,window.Sound=i)})();(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(s){var a=this;if(!a.ctx||!a.ctx.listener)return a;for(var i=a._howls.length-1;i>=0;i--)a._howls[i].stereo(s);return a},HowlerGlobal.prototype.pos=function(s,a,i){var l=this;if(!l.ctx||!l.ctx.listener)return l;if(a=typeof a!="number"?l._pos[1]:a,i=typeof i!="number"?l._pos[2]:i,typeof s=="number")l._pos=[s,a,i],typeof l.ctx.listener.positionX<"u"?(l.ctx.listener.positionX.setTargetAtTime(l._pos[0],Howler.ctx.currentTime,.1),l.ctx.listener.positionY.setTargetAtTime(l._pos[1],Howler.ctx.currentTime,.1),l.ctx.listener.positionZ.setTargetAtTime(l._pos[2],Howler.ctx.currentTime,.1)):l.ctx.listener.setPosition(l._pos[0],l._pos[1],l._pos[2]);else return l._pos;return l},HowlerGlobal.prototype.orientation=function(s,a,i,l,d,p){var g=this;if(!g.ctx||!g.ctx.listener)return g;var f=g._orientation;if(a=typeof a!="number"?f[1]:a,i=typeof i!="number"?f[2]:i,l=typeof l!="number"?f[3]:l,d=typeof d!="number"?f[4]:d,p=typeof p!="number"?f[5]:p,typeof s=="number")g._orientation=[s,a,i,l,d,p],typeof g.ctx.listener.forwardX<"u"?(g.ctx.listener.forwardX.setTargetAtTime(s,Howler.ctx.currentTime,.1),g.ctx.listener.forwardY.setTargetAtTime(a,Howler.ctx.currentTime,.1),g.ctx.listener.forwardZ.setTargetAtTime(i,Howler.ctx.currentTime,.1),g.ctx.listener.upX.setTargetAtTime(l,Howler.ctx.currentTime,.1),g.ctx.listener.upY.setTargetAtTime(d,Howler.ctx.currentTime,.1),g.ctx.listener.upZ.setTargetAtTime(p,Howler.ctx.currentTime,.1)):g.ctx.listener.setOrientation(s,a,i,l,d,p);else return f;return g},Howl.prototype.init=(function(s){return function(a){var i=this;return i._orientation=a.orientation||[1,0,0],i._stereo=a.stereo||null,i._pos=a.pos||null,i._pannerAttr={coneInnerAngle:typeof a.coneInnerAngle<"u"?a.coneInnerAngle:360,coneOuterAngle:typeof a.coneOuterAngle<"u"?a.coneOuterAngle:360,coneOuterGain:typeof a.coneOuterGain<"u"?a.coneOuterGain:0,distanceModel:typeof a.distanceModel<"u"?a.distanceModel:"inverse",maxDistance:typeof a.maxDistance<"u"?a.maxDistance:1e4,panningModel:typeof a.panningModel<"u"?a.panningModel:"HRTF",refDistance:typeof a.refDistance<"u"?a.refDistance:1,rolloffFactor:typeof a.rolloffFactor<"u"?a.rolloffFactor:1},i._onstereo=a.onstereo?[{fn:a.onstereo}]:[],i._onpos=a.onpos?[{fn:a.onpos}]:[],i._onorientation=a.onorientation?[{fn:a.onorientation}]:[],s.call(this,a)}})(Howl.prototype.init),Howl.prototype.stereo=function(s,a){var i=this;if(!i._webAudio)return i;if(i._state!=="loaded")return i._queue.push({event:"stereo",action:function(){i.stereo(s,a)}}),i;var l=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof a>"u")if(typeof s=="number")i._stereo=s,i._pos=[s,0,0];else return i._stereo;for(var d=i._getSoundIds(a),p=0;p<d.length;p++){var g=i._soundById(d[p]);if(g)if(typeof s=="number")g._stereo=s,g._pos=[s,0,0],g._node&&(g._pannerAttr.panningModel="equalpower",(!g._panner||!g._panner.pan)&&r(g,l),l==="spatial"?typeof g._panner.positionX<"u"?(g._panner.positionX.setValueAtTime(s,Howler.ctx.currentTime),g._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),g._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):g._panner.setPosition(s,0,0):g._panner.pan.setValueAtTime(s,Howler.ctx.currentTime)),i._emit("stereo",g._id);else return g._stereo}return i},Howl.prototype.pos=function(s,a,i,l){var d=this;if(!d._webAudio)return d;if(d._state!=="loaded")return d._queue.push({event:"pos",action:function(){d.pos(s,a,i,l)}}),d;if(a=typeof a!="number"?0:a,i=typeof i!="number"?-.5:i,typeof l>"u")if(typeof s=="number")d._pos=[s,a,i];else return d._pos;for(var p=d._getSoundIds(l),g=0;g<p.length;g++){var f=d._soundById(p[g]);if(f)if(typeof s=="number")f._pos=[s,a,i],f._node&&((!f._panner||f._panner.pan)&&r(f,"spatial"),typeof f._panner.positionX<"u"?(f._panner.positionX.setValueAtTime(s,Howler.ctx.currentTime),f._panner.positionY.setValueAtTime(a,Howler.ctx.currentTime),f._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):f._panner.setPosition(s,a,i)),d._emit("pos",f._id);else return f._pos}return d},Howl.prototype.orientation=function(s,a,i,l){var d=this;if(!d._webAudio)return d;if(d._state!=="loaded")return d._queue.push({event:"orientation",action:function(){d.orientation(s,a,i,l)}}),d;if(a=typeof a!="number"?d._orientation[1]:a,i=typeof i!="number"?d._orientation[2]:i,typeof l>"u")if(typeof s=="number")d._orientation=[s,a,i];else return d._orientation;for(var p=d._getSoundIds(l),g=0;g<p.length;g++){var f=d._soundById(p[g]);if(f)if(typeof s=="number")f._orientation=[s,a,i],f._node&&(f._panner||(f._pos||(f._pos=d._pos||[0,0,-.5]),r(f,"spatial")),typeof f._panner.orientationX<"u"?(f._panner.orientationX.setValueAtTime(s,Howler.ctx.currentTime),f._panner.orientationY.setValueAtTime(a,Howler.ctx.currentTime),f._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):f._panner.setOrientation(s,a,i)),d._emit("orientation",f._id);else return f._orientation}return d},Howl.prototype.pannerAttr=function(){var s=this,a=arguments,i,l,d;if(!s._webAudio)return s;if(a.length===0)return s._pannerAttr;if(a.length===1)if(typeof a[0]=="object")i=a[0],typeof l>"u"&&(i.pannerAttr||(i.pannerAttr={coneInnerAngle:i.coneInnerAngle,coneOuterAngle:i.coneOuterAngle,coneOuterGain:i.coneOuterGain,distanceModel:i.distanceModel,maxDistance:i.maxDistance,refDistance:i.refDistance,rolloffFactor:i.rolloffFactor,panningModel:i.panningModel}),s._pannerAttr={coneInnerAngle:typeof i.pannerAttr.coneInnerAngle<"u"?i.pannerAttr.coneInnerAngle:s._coneInnerAngle,coneOuterAngle:typeof i.pannerAttr.coneOuterAngle<"u"?i.pannerAttr.coneOuterAngle:s._coneOuterAngle,coneOuterGain:typeof i.pannerAttr.coneOuterGain<"u"?i.pannerAttr.coneOuterGain:s._coneOuterGain,distanceModel:typeof i.pannerAttr.distanceModel<"u"?i.pannerAttr.distanceModel:s._distanceModel,maxDistance:typeof i.pannerAttr.maxDistance<"u"?i.pannerAttr.maxDistance:s._maxDistance,refDistance:typeof i.pannerAttr.refDistance<"u"?i.pannerAttr.refDistance:s._refDistance,rolloffFactor:typeof i.pannerAttr.rolloffFactor<"u"?i.pannerAttr.rolloffFactor:s._rolloffFactor,panningModel:typeof i.pannerAttr.panningModel<"u"?i.pannerAttr.panningModel:s._panningModel});else return d=s._soundById(parseInt(a[0],10)),d?d._pannerAttr:s._pannerAttr;else a.length===2&&(i=a[0],l=parseInt(a[1],10));for(var p=s._getSoundIds(l),g=0;g<p.length;g++)if(d=s._soundById(p[g]),d){var f=d._pannerAttr;f={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:f.coneInnerAngle,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:f.coneOuterAngle,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:f.coneOuterGain,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:f.distanceModel,maxDistance:typeof i.maxDistance<"u"?i.maxDistance:f.maxDistance,refDistance:typeof i.refDistance<"u"?i.refDistance:f.refDistance,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:f.rolloffFactor,panningModel:typeof i.panningModel<"u"?i.panningModel:f.panningModel};var _=d._panner;_||(d._pos||(d._pos=s._pos||[0,0,-.5]),r(d,"spatial"),_=d._panner),_.coneInnerAngle=f.coneInnerAngle,_.coneOuterAngle=f.coneOuterAngle,_.coneOuterGain=f.coneOuterGain,_.distanceModel=f.distanceModel,_.maxDistance=f.maxDistance,_.refDistance=f.refDistance,_.rolloffFactor=f.rolloffFactor,_.panningModel=f.panningModel}return s},Sound.prototype.init=(function(s){return function(){var a=this,i=a._parent;a._orientation=i._orientation,a._stereo=i._stereo,a._pos=i._pos,a._pannerAttr=i._pannerAttr,s.call(this),a._stereo?i.stereo(a._stereo):a._pos&&i.pos(a._pos[0],a._pos[1],a._pos[2],a._id)}})(Sound.prototype.init),Sound.prototype.reset=(function(s){return function(){var a=this,i=a._parent;return a._orientation=i._orientation,a._stereo=i._stereo,a._pos=i._pos,a._pannerAttr=i._pannerAttr,a._stereo?i.stereo(a._stereo):a._pos?i.pos(a._pos[0],a._pos[1],a._pos[2],a._id):a._panner&&(a._panner.disconnect(0),a._panner=void 0,i._refreshBuffer(a)),s.call(this)}})(Sound.prototype.reset);var r=function(s,a){a=a||"spatial",a==="spatial"?(s._panner=Howler.ctx.createPanner(),s._panner.coneInnerAngle=s._pannerAttr.coneInnerAngle,s._panner.coneOuterAngle=s._pannerAttr.coneOuterAngle,s._panner.coneOuterGain=s._pannerAttr.coneOuterGain,s._panner.distanceModel=s._pannerAttr.distanceModel,s._panner.maxDistance=s._pannerAttr.maxDistance,s._panner.refDistance=s._pannerAttr.refDistance,s._panner.rolloffFactor=s._pannerAttr.rolloffFactor,s._panner.panningModel=s._pannerAttr.panningModel,typeof s._panner.positionX<"u"?(s._panner.positionX.setValueAtTime(s._pos[0],Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(s._pos[1],Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(s._pos[2],Howler.ctx.currentTime)):s._panner.setPosition(s._pos[0],s._pos[1],s._pos[2]),typeof s._panner.orientationX<"u"?(s._panner.orientationX.setValueAtTime(s._orientation[0],Howler.ctx.currentTime),s._panner.orientationY.setValueAtTime(s._orientation[1],Howler.ctx.currentTime),s._panner.orientationZ.setValueAtTime(s._orientation[2],Howler.ctx.currentTime)):s._panner.setOrientation(s._orientation[0],s._orientation[1],s._orientation[2])):(s._panner=Howler.ctx.createStereoPanner(),s._panner.pan.setValueAtTime(s._stereo,Howler.ctx.currentTime)),s._panner.connect(s._node),s._paused||s._parent.pause(s._id,!0).play(s._id,!0)}})()})(zt)),zt}var wo=So();const ae=new wo.Howl({src:[yo],volume:1,sprite:{bubble1:[0,75],bubble2:[100,75],bubble3:[200,75],addCorrect:[300,300],addWrong:[550,500],alienYay:[1e3,700],alienBoo:[1800,800],wrong:[2600,800],correct1:[3400,300],correct2:[3700,300],select:[4050,150],swap1:[4250,150],swap2:[4400,170],shuffle:[4600,900],lose1:[5500,2200],lose2:[7800,2e3],win1:[1e4,1200],win2:[11300,1500],yes1:[12800,500],yes2:[13500,500],no1:[14100,300],no2:[14400,500],no3:[14900,300],uh:[15300,500],yah:[15800,500],sparks1:[16300,800],sparks2:[17100,500],sparks3:[17600,675],wee1:[18400,700],wee2:[19100,650],wee3:[19800,600],drama:[20400,2500],timer:[23e3,12e3]}}),N=t=>{switch(t){case"bubble":ae.play(C.sample(["bubble1","bubble2","bubble3"]));break;case"bubbleIn":ae.play("bubble1");break;case"bubbleOut":ae.play("bubble2");break;case"addCorrect":ae.play("addCorrect");break;case"addWrong":ae.play("addWrong");break;case"alienYay":ae.play("alienYay");break;case"alienBoo":ae.play("alienBoo");break;case"wrong":ae.play("wrong");break;case"correct":ae.play(C.sample(["correct1","correct2"]));break;case"select":ae.play("select");break;case"swap":ae.play(C.sample(["swap1","swap2"]));break;case"shuffle":ae.play("shuffle");break;case"win":ae.play(C.sample(["win1","win2"]));break;case"lose":ae.play(C.sample(["lose1","lose2"]));break;case"yes":ae.play(C.sample(["yes1","yes2"]));break;case"no":ae.play(C.sample(["no1","no2"]));break;case"nah":ae.play("no3");break;case"uh":ae.play("uh");break;case"yah":ae.play("yah");break;case"sparks":ae.play(C.sample(["sparks1","sparks2","sparks3"]));break;case"wee":ae.play(C.sample(["wee1","wee2","wee3"]));break;case"drama":ae.play("drama");break;case"timer":ae.play("timer");break}},Ao={lose:[200,100,200,100,200],wrong:[100]},Ve=t=>{if(navigator.vibrate){const r=Ao[t]||[];if(r.length===0)return;navigator.vibrate&&navigator.vibrate(r)}},To={id:"",number:0,status:O.IN_PROGRESS,maxProgress:0,hearts:Z.HEARTS,hardMode:!1,attempts:0,goal:Z.GOAL,discs:[]},ws=t=>{const r=Ne({key:Z.KEY,gameId:t.id,defaultValue:C.merge(C.cloneDeep(To),{hardMode:localStorage.getItem(Z.TD_DAILY_AQUI_O_MODE)==="challenge"})});return{id:t.id,number:t.number,status:r.status,hearts:r.hearts,maxProgress:r.maxProgress,goal:r.goal,discs:r.discs,hardMode:r.hardMode,attempts:r.attempts}},tr=(t,r,s)=>{const a=C.shuffle(t.itemsIds),i=[];for(let l=0;l<17;l++){const d=i[l-1],p=Ro(a,d,r?i[l-1]?.match:void 0,s);i.push(p)}return i},Io=Array(9).fill(0).map((t,r)=>r),Eo=[100,90,110,80,105,130,120,150,115],sn={85:8,80:7,90:6,100:5,105:4,110:3,120:2,130:1,150:0};function Ro(t,r,s,a){const i=C.shuffle(t),l=C.shuffle(Io),d=C.shuffle(Eo);if(!r){const n=C.sampleSize(i,a?9:8).map((o,c)=>({itemId:o,position:l[c],size:d[c],rotation:C.random(0,360),zIndex:sn[d[c]]}));return{id:C.orderBy(n.map(o=>Number(o.itemId))).join($t),items:n}}const p=r.items.map(n=>n.itemId),g=C.chain(i).difference(p).take(a?8:7).value(),f=C.sample(p.filter(n=>n!==s))??p[0],_=C.shuffle([...g,f]).map((n,o)=>({itemId:n,position:l[o],size:d[o],rotation:C.random(0,360),zIndex:sn[d[o]]}));return{id:C.orderBy(_.map(n=>Number(n.itemId))).join($t),items:_,match:f}}function As({title:t,progress:r,goal:s,hardMode:a,attempts:i,...l}){return Ue({additionalLines:[`${t}${a?"*":""}`,`${r}/${s} discos (${i} ${Tr(i,"tentativa")})`],...l})}function Co({data:t,language:r}){const s=ws(t);return As({type:"aqui-o",hideLink:!0,language:r,challengeNumber:s.number,totalHearts:Z.HEARTS,remainingHearts:s.hearts,title:t.title[r],progress:s.maxProgress,goal:s.goal,hardMode:s.hardMode,attempts:s.attempts})}const No=Object.freeze(Object.defineProperty({__proto__:null,getDiscs:tr,getInitialState:ws,getWrittenResult:Co,writeResult:As},Symbol.toStringTag,{value:"Module"}));function Oo(t,r){const{itemsDictionary:s}=Ct(),[a,i]=y.useState(!1),[l,d]=wt(Z.TD_DAILY_AQUI_O_MODE,"normal"),[p,g]=wt(Z.TD_DAILY_AQUI_O_VOICE,"off"),{state:f,setState:_,updateState:n}=ke(r),{session:o,setSession:c,updateSession:m}=et({discIndex:0}),{updateLocalStorage:x}=De({key:Z.KEY,gameId:t.id,defaultValue:r});y.useEffect(()=>{x(f)},[f]);const u=f.discs[o.discIndex],h=f.discs[o.discIndex+1],b=y.useMemo(()=>C.intersectionBy(u?.items??[],h?.items??[],"itemId")?.[0]?.itemId,[u,h]),{timeLeft:v,isRunning:S,restart:R,pause:I}=En({duration:Z.DURATION,autoStart:!1,onExpire:()=>{i(!0),n({maxProgress:Math.max(o.discIndex,f.maxProgress)})}}),T=()=>{_(M=>({...M,discs:tr(t,l==="challenge",xs(t.id)),attempts:M.attempts+1})),m({discIndex:0}),N("addCorrect"),ee(re(Z.KEY,"played")),R(Ir(Z.DURATION),!0)},A=M=>{if(p==="on"){const W=s[M];Xr({en:W,pt:W},"pt",1)}},w=M=>{if(M===b){const W=o.discIndex+1;if(W===Z.GOAL){n({status:O.WIN,maxProgress:Z.GOAL}),I(),i(!0),N("win"),A(M),ee(re(Z.KEY,"win"));return}c(V=>({...V,discIndex:W})),n({maxProgress:Math.max(W,f.maxProgress)}),N("correct"),A(M);return}if(f.hearts===1){n({status:O.LOSE,hearts:0}),I(),i(!0),N("lose"),Ve("lose"),ee(re(Z.KEY,"lose"));return}_(W=>({...W,hearts:W.hearts-1})),N("wrong"),Ve("wrong")},$=M=>{n({hardMode:M==="challenge"}),d(M)},L=M=>{g(M)},se=f.status===O.WIN,F=f.status===O.LOSE,k=(se||F||a||f.attempts>0)&&!S;Me({key:Z.KEY,isComplete:k});const{showResultModal:K,setShowResultModal:Y}=Qe(k,()=>I());return{hearts:f.hearts,discIndex:o.discIndex,attempts:f.attempts,maxProgress:f.maxProgress,showResultModal:K,setShowResultModal:Y,isWin:se,isLose:F,isComplete:k,onStart:T,onSelect:w,timeLeft:v,mode:l,onModeChange:$,voice:p,onVoiceChange:L,discA:u,discB:h,result:b,isPlaying:S}}const ko=le.create("div");function nn({disc:t,onSelect:r,width:s,discProps:a}){return e.jsx(ko,{...a,className:U("aqui-o-disc",a.className),style:{width:s,height:s},children:t.items.map(i=>e.jsx(kn,{className:U("aqui-o-disc-item",`aqui-o-disc-item--pos-${i.position}`),style:{transform:`rotate(${i.rotation}deg) scale(${i.size/100})`,zIndex:i.zIndex},onClick:()=>r(i.itemId),children:e.jsx(sa,{itemId:i.itemId,className:"aqui-o-disc-sprite",width:s/4,padding:9})},i.itemId))})}function de({itemId:t,width:r=ca,className:s,title:a,padding:i=Er}){const{itemsDictionary:l}=Ct(),[d,p]=na(t),[g,f]=y.useState(!1),_=y.useRef(null),n=y.useRef(null),o=a??l[t];y.useEffect(()=>()=>{_.current&&clearTimeout(_.current)},[]);const c=y.useCallback(()=>{o&&(_.current&&clearTimeout(_.current),_.current=setTimeout(()=>{f(!0)},500))},[o]);y.useEffect(()=>{if(!o)return;const u=b=>{n.current?.contains(b.target)&&c()},h=()=>{_.current&&(clearTimeout(_.current),_.current=null),f(!1)};return document.addEventListener("touchstart",u,{passive:!0}),document.addEventListener("touchend",h,{passive:!0}),document.addEventListener("touchcancel",h,{passive:!0}),document.addEventListener("mousedown",u,{passive:!0}),document.addEventListener("mouseup",h,{passive:!0}),document.addEventListener("mouseleave",h,{passive:!0}),()=>{document.removeEventListener("touchstart",u),document.removeEventListener("touchend",h),document.removeEventListener("touchcancel",h),document.removeEventListener("mousedown",u),document.removeEventListener("mouseup",h),document.removeEventListener("mouseleave",h)}},[c,o]);const m=`${r}px`,x=i===0?{padding:0}:{};return e.jsx(js,{title:o,placement:"top",open:o?g:!1,trigger:[],children:e.jsx("div",{className:U("item-card",s),style:{width:`${r}px`,height:m,...x},ref:n,children:e.jsx(da,{source:d,spriteId:p,width:r,title:a,padding:i})})})}function Do({items:t}){const r=ct(5,{minWidth:36,maxWidth:48});return e.jsxs(le.div,{className:"preload-items",...pe("tada",{delay:.25*(t.length+2),speed:"fast"}),children:[e.jsx("span",{}),e.jsx("span",{}),e.jsx(le.div,{className:"preload-items__first",...pe("fadeIn"),children:e.jsx(de,{itemId:t[0],width:r})}),e.jsx("span",{}),e.jsx("span",{}),t.slice(1).map((s,a)=>e.jsx(le.div,{...pe("fadeIn",{delay:a*.25}),children:e.jsx(de,{itemId:s,width:r})},s))]})}const Mo=C.orderBy([P.VITRAIS,P.AQUI_O,P.ARTE_RUIM,P.COMUNICACAO_ALIENIGENA,P.TEORIA_DE_CONJUNTOS,P.FILMACO,P.PALAVREADO,P.ESPIONAGEM,P.CONTROLE_DE_ESTOQUE,P.ORGANIKU,P.PORTAIS_MAGICOS,P.QUARTETOS,P.TA_NA_CARA,P.PICACO],[t=>{const r=Fe(t.RELEASE_DATE,"YYYY-MM-DD"),s=Fe();return r.isValid()&&r.diff(s,"days")<=30&&r.diff(s,"days")>=0},"TYPE","HUB_NAME"],["desc","desc","asc"]),Lo=()=>Mo.filter(t=>!_s(t.KEY)).map(t=>Po({settings:t}));function Po({settings:t}){return e.jsxs(E.Paragraph,{className:"center",strong:!0,children:[e.jsx(z,{children:t.TAGLINE}),e.jsx("br",{}),e.jsxs(St,{to:`/diario/${t.ROUTE}`,onClick:()=>ee(re(t.KEY,"game_suggestion")),children:[e.jsx(D,{icon:e.jsx(t.HUB_ICON,{})})," ",e.jsx(z,{children:t.NAME}),"!"]})]},t.KEY)}const Le=()=>{const t=y.useMemo(()=>Lo(),[]);return t.length===0?e.jsxs(E.Paragraph,{className:"center",strong:!0,children:[e.jsx(j,{pt:"Você já jogou todos os jogos de hoje!",en:"You've played all today's games!"}),e.jsx("br",{}),e.jsx(j,{pt:"Que eficiência!",en:"How efficient!"})]}):e.jsx("div",{style:{width:"84vw",maxWidth:500},children:e.jsx(Cn,{autoplay:!0,autoplaySpeed:5e3,dots:!1,children:t.map(r=>e.jsx("div",{children:r},r.key))})})};function Xe({result:t,rows:r=4}){const{message:s}=st.useApp(),{translate:a}=te(),[i,l]=Dn();return y.useEffect(()=>{i.value&&s.info(a(`Copiado para a área de transferência: ${i.value}`,`Copied to clipboard: ${i.value}`))},[i,s,a]),e.jsxs(X,{vertical:!0,fullWidth:!0,children:[e.jsx(ze,{onClick:()=>l(t),children:e.jsx(vn.TextArea,{value:t,readOnly:!0,cols:30,rows:r})}),e.jsx(E.Paragraph,{className:"center",children:e.jsx(j,{pt:"Clique no campo acima para copiar e compartilhe com os amigos",en:"Click the field above to copy and share it with friends"})})]})}const vt=[e.jsxs(e.Fragment,{children:[e.jsx(D,{icon:e.jsx(ha,{})})," ",e.jsx(j,{pt:"Você é muito ruim!",en:"You are really bad!"})]},"1"),e.jsxs(e.Fragment,{children:[e.jsx(D,{icon:e.jsx(ma,{})})," ",e.jsx(j,{pt:"Foi bem mais ou menos!",en:"Pretty Weak!"})]},"2"),e.jsxs(e.Fragment,{children:[e.jsx(D,{icon:e.jsx(ua,{})})," ",e.jsx(j,{pt:"Muito bom!",en:"Very good!"})]},"3"),e.jsxs(e.Fragment,{children:[e.jsx(D,{icon:e.jsx(Ye,{})})," ",e.jsx(j,{pt:"Quase lá!",en:"Almost there!"})]},"4"),e.jsxs(e.Fragment,{children:[e.jsx(D,{icon:e.jsx(Ye,{})})," ",e.jsx(j,{pt:"Incrível!",en:"Incredible!"})]},"5")],$o=(t,r)=>t<=3||r===0?vt[0]:t<=10?vt[1]:t<=12?vt[2]:t<15?vt[3]:vt[4];function Ho({challengeTitle:t,challengeNumber:r,hearts:s,progress:a,itemsIds:i,hardMode:l,lastMatch:d,maxProgress:p,attempts:g,isWin:f,isLose:_}){const{language:n,dualTranslate:o}=te(),c=y.useMemo(()=>As({type:"aqui-o",title:o(t),remainingHearts:s,totalHearts:Z.HEARTS,progress:Math.max(a,p),goal:Z.GOAL,language:n,hardMode:l,challengeNumber:r,attempts:g}),[t,s,a,p,l,r,g,o,n]),m=$o(a,s),x=p>a,u=f||_;return e.jsxs(X,{vertical:!0,children:[e.jsx(E.Title,{level:2,className:"center",children:m}),a>0&&e.jsx(E.Paragraph,{className:"center",children:e.jsx(j,{pt:`Você avançou ${a} discos de ${Z.GOAL}.`,en:`You advanced ${a} discs out of ${Z.GOAL}.`})}),e.jsxs(E.Paragraph,{className:"center",children:[!u&&e.jsx(j,{pt:"Você pode tentar novamente até conseguir 15 ou até não ter mais corações.",en:"You can try again until you reach 15 or until you run out of hearts."}),(x||u)&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx(j,{pt:`Seu melhor hoje foi de ${p} discos.`,en:`Your best today was ${p} discs.`}),!u&&e.jsx(j,{pt:" Tente novamente!",en:" Try again!"})]})]}),e.jsxs(G,{gap:6,children:[!!d&&e.jsx(le.div,{...pe("pulse",{infinite:!0}),children:e.jsx(de,{itemId:d,width:45,className:"item-match-outline"})}),a>0&&i.filter(h=>h!==d).slice(0,Math.floor((a-1)/3)).map((h,b)=>e.jsx(le.div,{...pe("pulse",{delay:b*.5,infinite:!0}),children:e.jsx(de,{itemId:h,width:45})},h))]}),e.jsx(Xe,{result:c,rows:4}),e.jsx(Le,{})]})}function Fo(){return e.jsx(It,{title:e.jsx(j,{en:"Game in beta mode, bugs may occur. Report any bugs!",pt:"Jogo em modo beta, bugs podem ocorrer. Favor reportar qualquer problema!"}),type:"warning",showIcon:!0,banner:!0})}function qo(){return e.jsx(It,{title:e.jsx(j,{pt:"Você jogará uma demonstração, jogos aleatórios são usados apenas para testes. Favor dar feedback.",en:"You will play a demo, random games are used for testing. Please give feedback!"}),type:"info",showIcon:!0,banner:!0})}function Pe({date:t,basicRules:r,weekendRules:s,betaVersion:a,demoVersion:i,additionalRules:l}){const d=xs(t)&&!!s;return e.jsxs(E,{children:[a&&e.jsx(Fo,{}),i&&e.jsx(qo,{}),d?e.jsxs(e.Fragment,{children:[e.jsx(j,{pt:e.jsx("strong",{children:"Especial Fim de Semana"}),en:e.jsx("strong",{children:"Weekend Special"})}),s]}):r,l]})}function Go({date:t}){return e.jsx(Pe,{date:t,basicRules:e.jsx(j,{pt:e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"Você é apresentado com dois discos com 8 itens cada."}),e.jsx("li",{children:"Existe apenas um item que é comum nos dois discos, clique nele o mais rápido possível."}),e.jsx("li",{children:"Você tem 60 segundos para acertar os 15 pares de discos."}),e.jsxs("li",{children:["Cada item errado que você clica ou tentativa, remove-se um coração ",e.jsx(H,{}),"."]}),e.jsxs("li",{children:["Você tem ",Z.HEARTS," ",e.jsx(H,{})," chances. Boa sorte e cuidado com dedos gordos!"]})]}),en:e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"You are presented with two discs with 8 items each."}),e.jsx("li",{children:"There is only one item that is common in both discs, click on it as quickly as possible."}),e.jsx("li",{children:"You have 60 seconds to hit the 15 pairs of discs."}),e.jsxs("li",{children:["Each wrong item you click, a heart ",e.jsx(H,{})," is removed."]}),e.jsxs("li",{children:["You have ",Z.HEARTS," ",e.jsx(H,{})," chances. Good luck and watch out for fat fingers!"]})]})}),weekendRules:e.jsx(j,{pt:e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"Você é apresentado com dois discos com 9 itens cada."}),e.jsx("li",{children:"Existe apenas um item que é comum nos dois discos, clique nele o mais rápido possível."}),e.jsx("li",{children:"Você tem 60 segundos para acertar os 15 pares de discos."}),e.jsxs("li",{children:["Cada item errado que você clica ou tentativa, remove-se um coração ",e.jsx(H,{}),"."]}),e.jsxs("li",{children:["Você tem ",Z.HEARTS," ",e.jsx(H,{})," chances. Boa sorte e cuidado com dedos gordos!"]})]}),en:e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"You are presented with two discs with 9 items each."}),e.jsx("li",{children:"There is only one item that is common in both discs, click on it as quickly as possible."}),e.jsx("li",{children:"You have 60 seconds to hit the 15 pairs of discs."}),e.jsxs("li",{children:["Each wrong item you click or attempt, a heart ",e.jsx(H,{})," is removed."]}),e.jsxs("li",{children:["You have ",Z.HEARTS," ",e.jsx(H,{})," chances. Good luck and watch out for fat fingers!"]})]})}),additionalRules:e.jsx(j,{pt:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Modo difícil:"}),e.jsx("li",{children:"Itens nunca repetem em sequência."})]}),en:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Challenge Mode:"}),e.jsx("li",{children:"Items never repeat in sequence."})]})})})}function Yo({data:t}){const[r]=y.useState(ws(t)),{hearts:s,showResultModal:a,setShowResultModal:i,discIndex:l,isWin:d,isLose:p,isComplete:g,onStart:f,onSelect:_,timeLeft:n,mode:o,onModeChange:c,voice:m,onVoiceChange:x,discA:u,discB:h,result:b,isPlaying:v,attempts:S,maxProgress:R}=Oo(t,r),[I,T]=gt(),[A,w]=gt(),$=y.useMemo(()=>{const L=T.width-24,se=(T.height-w.height)/2-24;return Math.max(Math.min(L,se,450),150)},[T.height,T.width,w.height]);return e.jsxs(fe,{className:"app",children:[e.jsxs(_e,{icon:e.jsx(Rr,{}),localStorageKey:Z.KEY,children:["TD ",e.jsx(z,{children:Z.NAME})," #",t.number]}),e.jsxs(ge,{ref:I,children:[e.jsxs("div",{ref:A,children:[e.jsx(Se,{hearts:s,total:Z.HEARTS,openRules:!0,rules:e.jsx(Go,{date:t.id})}),e.jsx(X,{children:e.jsxs(E.Text,{strong:!0,children:[e.jsx(z,{children:t.title})," |"," ",e.jsx(j,{pt:"Disco",en:"Disc"})," ",l,"/",Z.GOAL," |"," ",e.jsx(j,{pt:"Tentativa",en:"Attempt"})," ",S]})}),e.jsx("div",{className:"full-width padding",children:e.jsx(Nn,{value:n,total:60})})]}),e.jsx(Ze,{isComplete:g,setShowResultModal:i}),e.jsxs(X,{orientation:"vertical",children:[!v&&e.jsxs(e.Fragment,{children:[e.jsxs(J,{size:"large",onClick:f,type:"primary",disabled:d||p,icon:"🔘",children:[e.jsx(j,{pt:"Começar",en:"Start"})," ",e.jsx(j,{pt:" Diário",en:" Daily"})]}),e.jsx(At,{unCheckedChildren:e.jsx(j,{pt:"Modo Normal",en:"Normal Mode"}),checkedChildren:e.jsx(j,{pt:"Modo Difícil",en:"Challenge Mode"}),value:o==="challenge",onChange:L=>c(L?"challenge":"normal")}),e.jsx(At,{unCheckedChildren:e.jsx(j,{pt:"Sem Voz",en:"Voice Off"}),checkedChildren:e.jsx(j,{pt:"Com Voz",en:"Voice On"}),value:m==="on",onChange:L=>x(L?"on":"off")}),e.jsx(Do,{items:t.itemsIds})]}),v&&e.jsxs(X,{orientation:"vertical",children:[e.jsx(nn,{disc:u,onSelect:_,width:$,discProps:{animate:"animate",variants:pe("slideInUp",{speed:"normal",ease:"anticipate"})}},u.id),e.jsx(nn,{disc:h,onSelect:_,width:$,discProps:{animate:"animate",variants:pe("zoomIn",{speed:"fast",delay:.2})}},h.id)]}),v&&e.jsx(Vo,{result:b}),e.jsx(xe,{open:a,onCancel:()=>i(!1),footer:null,children:e.jsx(Ho,{challengeNumber:t.number,challengeTitle:t.title,hearts:s,attempts:S,progress:l,itemsIds:t.itemsIds,hardMode:o==="challenge",lastMatch:b,maxProgress:R,isWin:d,isLose:p})})]})]})]})}function Vo({result:t}){return null}function Wo(){return e.jsx(Oe,{gameName:"aqui-o",GameComponent:Yo})}const zo=["1","2","3","4","5","6","7","8","9","0"],Pt=["q","w","e","r","t","y","u","i","o","p"],rn=["a","s","d","f","g","h","j","k","l"],an=["z","x","c","v","b","n","m"];function sr({lettersState:t,onLetterClick:r,disabled:s,onBackspaceClick:a,onEnterClick:i,withNumbers:l}){const d=ct(Pt.length+2,{margin:16,maxWidth:30});return _n(()=>{const p=g=>{const f=g.key;if(!s){if(f==="Enter"&&i)return i();if(f==="Backspace"&&a)return a();if(!s&&(Pt.includes(f)||rn.includes(f)||an.includes(f))&&t?.[f].disabled)return r(f)}};return window.addEventListener("keyup",p),()=>window.removeEventListener("keyup",p)}),e.jsxs(ue,{orientation:"vertical",align:"center",className:"daily-keyboard",size:"small",children:[l&&e.jsx(G,{className:"daily-keyboard__row",children:zo.map(p=>e.jsx(Dt,{width:d,letter:p,state:t?.[p]?.state,onLetterClick:r,disabled:s||t?.[p]?.disabled},p))}),e.jsx(G,{className:"daily-keyboard__row",children:Pt.map(p=>e.jsx(Dt,{width:d,letter:p,state:t?.[p]?.state,onLetterClick:r,disabled:s||t?.[p]?.disabled},p))}),e.jsx(G,{className:"daily-keyboard__row",children:rn.map(p=>e.jsx(Dt,{width:d,letter:p,state:t?.[p]?.state,onLetterClick:r,disabled:s||t?.[p]?.disabled},p))}),e.jsxs(G,{className:"daily-keyboard__row",children:[!!i&&e.jsx("button",{type:"button",style:{width:d},className:"daily-keyboard__key daily-keyboard__key--enter",onClick:i,disabled:s,children:"Enter"}),an.map(p=>e.jsx(Dt,{width:d,letter:p,state:t?.[p]?.state,onLetterClick:r,disabled:s||t?.[p]?.disabled},p)),!!a&&e.jsx("button",{type:"button",style:{width:d},className:"daily-keyboard__key daily-keyboard__key--backspace",onClick:a,disabled:s,children:"⌫"})]})]})}function Dt({letter:t,state:r,onLetterClick:s,disabled:a}){const i="daily-keyboard__key",l=ct(Pt.length+2,{margin:16,maxWidth:30});return e.jsx("button",{type:"button","data-key":t,style:{width:l},className:U(i,`${i}--${r}`),onClick:()=>s(t),disabled:a||r==="disabled",children:t},t)}const Bo={id:"",number:0,status:O.IN_PROGRESS,hearts:Te.HEARTS,solution:{},guesses:{}};function Ts(t){const r=Ne({key:Te.KEY,gameId:t.id,defaultValue:C.merge(C.cloneDeep(Bo),{solution:nr(t.text)})});return{id:t.id,number:t.number,status:r.status,solution:r.solution,hearts:r.hearts,guesses:r.guesses}}function nr(t){const s=Rt(t).toLowerCase().split(""),a={};return s.forEach(i=>{i.match(/[a-zA-Z]/)&&(a[i]=!1)}),a}function Is(t){return Rt(t).toLowerCase()}function rr(t){return Is(t).match(/[a-zA-Z]/)!==null}function Es({solution:t,...r}){const s=Object.keys(t).length,a=Object.values(t).filter(Boolean).length;return Ue({heartsSuffix:`(${Math.round(a/s*100)}%)`,additionalLines:[],...r})}function Ko({data:t,language:r}){const s=Ts(t);return Es({type:"arte-ruim",hideLink:!0,challengeNumber:s.number,language:r,totalHearts:Te.HEARTS,remainingHearts:s.hearts,solution:s.solution})}const Uo=Object.freeze(Object.defineProperty({__proto__:null,cleanupLetter:Is,getInitialState:Ts,getLettersInWord:nr,getWrittenResult:Ko,isLetter:rr,writeResult:Es},Symbol.toStringTag,{value:"Module"}));function Qo(t,r){const{state:s,setState:a}=ke(r),{updateLocalStorage:i}=De({key:Te.KEY,gameId:t.id,defaultValue:r});y.useEffect(()=>{i(s)},[s]);const l=n=>{if(s.guesses[n])return;const o=s.solution[n]!==void 0,c={...s.solution};o&&(c[n]=!0);const m=Object.values(c).filter(u=>u!==void 0).every(Boolean);let x=s.status;o?m?(N("win"),x=O.WIN,ee(re(Te.KEY,"win"))):N("addCorrect"):s.hearts===1?(N("lose"),x=O.LOSE,ee(re(Te.KEY,"lose"))):N("addWrong"),a(u=>({...u,guesses:{...u.guesses,[n]:{letter:n,state:o?"correct":"incorrect",disabled:!0}},solution:c,hearts:o?u.hearts:u.hearts-1,status:x}))},d=s.status===O.WIN,p=s.status===O.LOSE,g=d||p;Me({key:Te.KEY,isComplete:g});const{showResultModal:f,setShowResultModal:_}=Qe(d||p||g);return{hearts:s.hearts,guesses:s.guesses,solution:s.solution,showResultModal:f,setShowResultModal:_,isWin:d,isLose:p,isComplete:g,guessLetter:l}}function Xo({drawings:t}){const r=ct(1,{margin:64,maxWidth:250,minWidth:150});return e.jsx(Cn,{autoplay:!0,className:"carousel",autoplaySpeed:4e3,children:t.map(s=>e.jsx(fa,{drawing:s,width:r,height:r,className:"canvas"},s))})}function Jo({text:t,guesses:r}){const s=y.useMemo(()=>t.split(" ").map(a=>a.split("")),[t]);return e.jsx(ue,{className:"prompt",wrap:!0,align:"center",children:s.map((a,i,l)=>e.jsxs(ue,{className:"prompt-word",wrap:!0,align:"center",children:[a.map((d,p)=>{const g=Is(d),f=r?.[g]?.state==="correct",_=`${p}-${d}-${i}`;return rr(g)?f?e.jsx(rt,{className:"letter-correct",shape:"square",children:d},_):e.jsx(D,{icon:e.jsx(Mn,{}),className:"letter-blank"},_):e.jsx(rt,{shape:"square",children:d},_)}),i+1<l.length&&e.jsx(rt,{shape:"square"})]},`word-${i}`))})}function Zo({text:t,challengeNumber:r,win:s,hearts:a,solution:i}){const{language:l}=te(),d=y.useMemo(()=>Es({type:"arte-ruim",challengeNumber:r,language:l,totalHearts:Te.HEARTS,remainingHearts:a,solution:i}),[r,a,l,i]);return e.jsxs(X,{vertical:!0,children:[e.jsx(E.Title,{level:2,className:"center",children:s?e.jsxs(e.Fragment,{children:[e.jsx(D,{icon:e.jsx(Ye,{})})," ",e.jsx(j,{pt:"Parabéns!",en:"Congratulations!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{icon:e.jsx(Je,{})})," ",e.jsx(j,{pt:"Que pena!",en:"Too bad!"})]})}),e.jsx(E.Paragraph,{className:"center",children:s?e.jsx(j,{pt:"Você acertou a palavra!",en:"You guessed the word!"}):e.jsx(j,{pt:"Você errou a palavra!",en:"You missed the word!"})}),e.jsx(bs,{className:"result-answer",children:e.jsx(E.Paragraph,{className:"text-center",children:t})}),e.jsx(Xe,{result:d,rows:3}),e.jsx(Le,{})]})}function ei({date:t}){return e.jsx(Pe,{date:t,basicRules:e.jsx(j,{pt:e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"Você deve adivinhar a expressão secreta observando os desenhos."}),e.jsx("li",{children:"Você deve apertar letra por letra até que o nome esteja completo."}),e.jsx("li",{children:"Cada letra que você aperta que não está presente na resposta remove um coração."}),e.jsxs("li",{children:["Você tem ",Te.HEARTS," ",e.jsx(H,{})," chances. Boa sorte!"]})]}),en:e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"Try to guess the secret expression by looking at the drawings."}),e.jsx("li",{children:"You must press letter by letter until the name is complete."}),e.jsx("li",{children:"Each letter you press that is not present in the answer removes a heart."}),e.jsxs("li",{children:["You have ",Te.HEARTS," ",e.jsx(H,{})," chances. Good luck!"]})]})})})}function ti({data:t}){const[r]=y.useState(Ts(t)),{hearts:s,guesses:a,showResultModal:i,setShowResultModal:l,isWin:d,isComplete:p,guessLetter:g,solution:f}=Qo(t,r);return e.jsxs(fe,{className:"app",children:[e.jsxs(_e,{icon:e.jsx(Cr,{}),localStorageKey:Te.KEY,children:["TD ",e.jsx(z,{children:Te.NAME})," #",t.number]}),e.jsxs(ge,{children:[e.jsx(Se,{hearts:s,total:Te.HEARTS,openRules:!p||s===Te.HEARTS,rules:e.jsx(ei,{date:t.id})}),e.jsx(He,{children:e.jsx(j,{pt:"Adivinhe a expressão, letra por letra",en:"Guess the expression, letter by letter"})}),e.jsx(Xo,{drawings:t.drawings}),e.jsx(Jo,{text:t.text,guesses:a}),e.jsx(Ze,{isComplete:p,setShowResultModal:l}),e.jsx(xe,{open:i,onCancel:()=>l(!1),footer:null,children:e.jsx(Zo,{challengeNumber:t.number,win:d,hearts:s,text:t.text,solution:f})}),e.jsx(sr,{lettersState:a,onLetterClick:g,disabled:p})]})]})}function si(){return e.jsx(Oe,{gameName:"arte-ruim",GameComponent:ti})}const ni={id:"",number:0,status:O.IN_PROGRESS,hearts:Ae.HEARTS,phase:xt.STOCKING,warehouse:[],fulfillments:[],lastPlacedGoodId:null,guesses:[],evaluations:[],extraAttempts:0},Yt=(t,r)=>{const s=Ne({key:Ae.KEY,gameId:t.id,defaultValue:C.merge(C.cloneDeep(ni),{warehouse:Array(t.goods.length).fill(null)})});return{id:t.id,number:t.number,status:s.status,hearts:s.hearts,phase:s.phase,warehouse:s.warehouse,fulfillments:s.fulfillments,lastPlacedGoodId:s.lastPlacedGoodId,guesses:s.guesses,evaluations:s.evaluations,extraAttempts:s.extraAttempts,...r}},ar=(t,r)=>r.reduce((s,a)=>{if(a.shelfIndex===-1){const l=!t.some(d=>d===a.order);return s.push(l),s}const i=a.order===t[a.shelfIndex];return s.push(i),s},[]),or=t=>t.map(r=>`${r.order}${$t}${r.shelfIndex}`).join(",");function Rs({title:t,evaluations:r,...s}){const a=r.map(i=>i.map(l=>l?"📫":"🤬"));return Ue({additionalLines:a.map(i=>i.join(" ").trim()).filter(Boolean),...s})}function ri({data:t,language:r}){const s=Yt(t);return Rs({type:"controle-de-estoque",hideLink:!0,language:r,challengeNumber:s.number,totalHearts:Ae.HEARTS,remainingHearts:s.hearts,evaluations:s.evaluations})}const ai=Object.freeze(Object.defineProperty({__proto__:null,getGuessString:or,getInitialState:Yt,getWrittenResult:ri,validateAttempts:ar,writeResult:Rs},Symbol.toStringTag,{value:"Module"}));function oi(t,r){const{message:s}=st.useApp(),{translate:a}=te(),{state:i,setState:l}=ke(r),{session:d,updateSession:p}=et({latestAttempt:null,activeOrder:null}),{updateLocalStorage:g}=De({key:Ae.KEY,gameId:t.id,defaultValue:r});y.useEffect(()=>{g(i)},[i]);const f=t.goods[i.warehouse.filter(Boolean).length],_=R=>{R>=0&&f&&l(I=>{const T=C.cloneDeep(I);return T.warehouse[R]=f,T.lastPlacedGoodId=f,N("swap"),T.warehouse.every(Boolean)&&(T.phase=xt.FULFILLING),T})},n=R=>{N("bubbleIn"),p({activeOrder:R})},o=R=>{N("swap"),l(I=>{const T=C.cloneDeep(I);return d.activeOrder&&(T.fulfillments.push({order:d.activeOrder,shelfIndex:R}),p({activeOrder:null})),T})},c=R=>{N("bubbleOut"),l(I=>{const T=C.cloneDeep(I);return T.fulfillments=T.fulfillments.filter(A=>A.order!==R),p({activeOrder:R}),T})},m=()=>{const R=or(i.fulfillments);if(i.guesses.includes(R))return s.warning({content:a("Você já tentou essa combinação. Tente outra!","You already tried this combination. Try another one!"),duration:5}),p({latestAttempt:Date.now()});const I=ar(i.warehouse,i.fulfillments),T=I.every(Boolean);T||(s.warning({content:a("Um ou mais produtos estão fora de lugar. Tente novamente!","One or more products are out of place. Try again!"),duration:3}),N("wrong"),Ve("wrong")),l(A=>{const w=C.cloneDeep(A);return w.evaluations.push(I),w.guesses.push(R),T?(w.status=O.WIN,N("win"),ee(re(Ae.KEY,"win"))):(w.hearts-=1,w.hearts===0&&(N("lose"),Ve("lose"),w.status=O.LOSE,ee(re(Ae.KEY,"lose")))),p({latestAttempt:Date.now()}),w})},x=i.status===O.WIN,u=i.status===O.LOSE,h=x||u;Me({key:Ae.KEY,isComplete:h});const{showResultModal:b,setShowResultModal:v}=Qe(h),S=()=>{const R={warehouse:Array(t.goods.length).fill(null),guesses:[],extraAttempts:i.extraAttempts+1,hearts:Ae.HEARTS-i.extraAttempts-1},I=Yt(t,R);l(I)};return{hearts:i.hearts,phase:i.phase,warehouse:i.warehouse,fulfillments:i.fulfillments,lastPlacedGoodId:i.lastPlacedGoodId,guesses:i.guesses,evaluations:i.evaluations,orders:t.orders,currentGood:f,latestAttempt:d.latestAttempt,activeOrder:d.activeOrder,showResultModal:b,setShowResultModal:v,isWin:x,isLose:u,isComplete:h,onPlaceGood:_,onSelectOrder:n,onFulfill:o,onTakeBack:c,onSubmit:m,reset:S}}function ii({activeOrder:t,warehouse:r,fulfillments:s,onFulfill:a,onTakeBack:i,width:l,reveal:d=!1}){const p={width:l,height:l};return e.jsx("div",{className:"shelves-board",children:r.map((g,f)=>{if(!g)return e.jsx("div",{children:"X"},f);const _=s.find(n=>n.shelfIndex===f);return _?e.jsxs("div",{className:U("shelves-board__shelf","shelves-board__shelf-fulfilled"),style:p,children:[d?e.jsx(lt,{goodId:_.order,width:l-24,className:"shelves-board__placed-order"}):e.jsx(ze,{onClick:()=>i(_.order),hoverType:"none",children:e.jsx(lt,{goodId:_.order,width:l-24,className:"shelves-board__placed-order"})}),d?e.jsx(lt,{goodId:g,width:l-12}):e.jsx(Xt,{width:l-12})]},f):e.jsx("div",{className:U("shelves-board__shelf"),style:p,children:d?e.jsx(lt,{goodId:g,width:l-12}):e.jsx(ze,{onClick:t?()=>a(f):void 0,children:e.jsx(Xt,{width:l-12,className:je("bounce")})})},f)})})}function li({fulfillments:t,orders:r,onSelectOrder:s,shelfWidth:a,activeOrder:i}){return e.jsxs("div",{className:"fulfillment-center",children:[e.jsx(ja,{width:a/1.5,className:je("headShake",{infinite:!0})}),e.jsx("div",{className:U("fulfillment-center__orders",je("lightSpeedInLeft")),children:r.map(l=>{const d=t.find(p=>p.order===l);return e.jsxs(ze,{onClick:()=>s(l),disabled:t.length===4||!!d,children:[!!d&&e.jsx(D,{icon:e.jsx(ga,{})}),i===l&&e.jsx(D,{icon:e.jsx(xa,{}),className:je("bounce",{infinite:!0})}),e.jsx(lt,{goodId:l,width:a*.85,className:U("order",i===l&&"order--active",!!d&&"order--fulfilled")},l)]},l)})})]})}function ci({phase:t,orders:r,warehouse:s,activeOrder:a,fulfillments:i,onSelectOrder:l,onFulfill:d,onTakeBack:p,onSubmit:g,shelfWidth:f,isComplete:_,setShowResultModal:n,latestAttempt:o}){const c=t===xt.FULFILLING&&!_,m=t===xt.DELIVERING,x=o&&!_,u=e.jsx(q,{children:e.jsx("div",{className:x?je("shakeX"):"",children:e.jsx(ii,{activeOrder:a,warehouse:s,onFulfill:d,onTakeBack:p,width:f,fulfillments:i,reveal:_})},o)});if(c)return e.jsxs(e.Fragment,{children:[u,e.jsx(He,{children:e.jsx(j,{pt:e.jsxs(e.Fragment,{children:["Recebemos 5 pedidos e 4 deles estão em estoque!",e.jsx("br",{}),"Selecione os pedidos um a um e coloque-nos na prateleira correta.",e.jsx("br",{}),e.jsxs("strong",{children:["Pedidos Posicionados (",i.length,"/4)."]})]}),en:e.jsxs(e.Fragment,{children:["We have received 5 orders and 4 of them are in stock!",e.jsx("br",{}),"Select the orders one by one and place them on the correct shelf.",e.jsx("br",{}),e.jsxs("strong",{children:["Orders Placed (",i.length,"/4)."]})]})})}),e.jsx(li,{orders:r,activeOrder:a,onSelectOrder:l,shelfWidth:f,fulfillments:i}),!_&&e.jsx(He,{children:e.jsx(j,{pt:e.jsx(e.Fragment,{children:"Para desfazer um pedido, é só clicar nele na prateleira."}),en:e.jsx(e.Fragment,{children:"To undo an order, just click on it on the shelf."})})}),i.length===4&&!_&&e.jsxs(e.Fragment,{children:[e.jsx(q,{children:e.jsx(J,{size:"large",type:"primary",onClick:g,children:e.jsx(j,{pt:"Enviar pacotes",en:"Send packages"})})}),e.jsx(He,{children:e.jsx(j,{pt:e.jsxs(e.Fragment,{children:["Se tudo estiver nos confirmes, aperte o botão de enviar.",e.jsx("br",{}),"Você perde um coração se qualquer um deles estiver errado."]}),en:e.jsxs(e.Fragment,{children:["If everything is in order, press the delivery button.",e.jsx("br",{}),"You lose a heart if any of them are wrong"]})})})]})]});if(m){const h=!i.some(b=>b.shelfIndex===-1);return e.jsxs(e.Fragment,{children:[u,e.jsx(He,{children:e.jsx(j,{pt:"Tudo pronto, hora de entregar!",en:"All set, time to deliver!"})}),e.jsx(q,{children:e.jsx(J,{size:"large",type:"primary",onClick:g,children:e.jsx(j,{pt:"Enviar pacotes",en:"Send packages"})})}),e.jsx(He,{children:e.jsx(j,{pt:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Pedidos Assinalados"}),h?e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsxs("span",{style:{color:"red"},children:[e.jsx(lo,{})," Você não colocou nenhum pedido na lata de lixo! Um dos produtos NÃO está na prateleira!!!"]})]}):null,e.jsx("br",{}),"Se tudo estiver nos confirmes, aperte o botão de enviar.",e.jsx("br",{}),"Você perde um coração se qualquer um deles estiver errado."]}),en:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"All Orders have been assigned"}),e.jsx("br",{}),"If everything is in order, press the delivery button.",e.jsx("br",{}),"You lose a heart if any of them are wrong"]})})})]})}return e.jsxs(e.Fragment,{children:[u,e.jsx(He,{children:e.jsx(j,{pt:"Você completou todos os pedidos!",en:"You have completed all orders!"})}),e.jsx(q,{children:e.jsx(J,{onClick:()=>n(!0),type:"primary",icon:e.jsx(On,{}),children:e.jsx(j,{pt:"Ver Resultado",en:"Show Results"})})})]})}function di({goods:t}){return e.jsx("div",{style:{display:"none"},children:t.map(r=>e.jsx(lt,{goodId:r,className:"transparent",width:1},r))})}function ui({challengeNumber:t,title:r,isWin:s,hearts:a,evaluations:i}){const{language:l}=te(),d=y.useMemo(()=>Rs({type:"controle-de-estoque",language:l,title:r,challengeNumber:t,totalHearts:Ae.HEARTS,remainingHearts:a,evaluations:i}),[t,i,a,l,r]);return e.jsxs(X,{vertical:!0,children:[e.jsx(E.Title,{level:2,className:"center",children:s?e.jsxs(e.Fragment,{children:[e.jsx(D,{icon:e.jsx(Ye,{})})," ",e.jsx(j,{pt:"Parabéns!",en:"Congratulations!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{icon:e.jsx(Je,{})})," ",e.jsx(j,{pt:"Que pena!",en:"Too bad!"})]})}),e.jsx(E.Text,{strong:!0,className:"center",children:r}),e.jsx(E.Paragraph,{className:"center",children:s?e.jsx(j,{pt:"Você entregou todos os pedidos!",en:"You delivered all orders!"}):e.jsx(j,{pt:"Você não conseguiu entregar todos os pedidos.",en:"You couldn't deliver all orders."})}),e.jsx(Xe,{result:d,rows:6}),e.jsx(Le,{})]})}function mi({date:t}){return e.jsx(Pe,{date:t,basicRules:e.jsx(j,{pt:e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"Você é o funcionário uma empresa de compras online e está encarregado do estoque."}),e.jsx("li",{children:"Coloque os 16 produtos na prateleira do jeito que você preferir. O ideal é que você siga uma lógica que depois você saiba onde eles estão."}),e.jsx("li",{children:"A pegadinha é que você não vê mais o produto depois de posicioná-lo."}),e.jsx("li",{children:"Após todos os produtos estarem organizados, você receberá 5 pedidos. Desses 5, apenas 4 estão em estoque (na prateleira)."}),e.jsx("li",{children:"Selecione os produtos em estoque deixando de fora o produto fora de estoque."}),e.jsxs("li",{children:["Tente completar todos os pedidos sem errar. A cada erro, você perde um ",e.jsx(H,{}),"."]}),e.jsxs("li",{children:["Você tem ",Ae.HEARTS," ",e.jsx(H,{})," chances. Boa sorte!"]})]}),en:e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"You are an employee at an online shopping company and are in charge of the stock."}),e.jsx("li",{children:"Place the 16 products on the shelf as you prefer. It is ideal that you follow a logic that you can remember where they are later."}),e.jsx("li",{children:"The catch is that you won't see the product anymore after you position it."}),e.jsx("li",{children:"After all products are organized, you will receive 5 orders. Of these 5, only 4 are in stock (on the shelf)."}),e.jsx("li",{children:"Select the products in stock, leaving out the out-of-stock product."}),e.jsxs("li",{children:["Try to complete all orders without making mistakes. For each mistake, you lose a"," ",e.jsx(H,{}),"."]}),e.jsxs("li",{children:["You have ",Ae.HEARTS," ",e.jsx(H,{})," chances. Good luck!"]})]})})})}function hi({warehouse:t,onPlaceGood:r,width:s,lastPlacedGoodId:a}){const i={width:s,height:s};return e.jsx("div",{className:"shelves-board",children:t.map((l,d)=>l?l!==a?e.jsx("div",{className:U("shelves-board__shelf",je("flipInY")),style:i,children:e.jsx(Xt,{width:s-12})},d):e.jsx("div",{className:U("shelves-board__shelf"),style:i,children:e.jsx(lt,{goodId:l,width:s-12,className:je("bounce")})},d):e.jsx("div",{className:U("shelves-board__empty-shelf"),style:i,children:e.jsx("button",{type:"button",className:"shelves-board__empty-shelf-button",onClick:()=>r(d),children:"?"})},d))})}function pi({warehouse:t,currentGood:r,lastPlacedGoodId:s,onPlaceGood:a,shelfWidth:i}){return e.jsxs(e.Fragment,{children:[e.jsx(q,{children:e.jsx(hi,{warehouse:t,onPlaceGood:a,width:i,lastPlacedGoodId:s})}),e.jsx(He,{children:e.jsx(j,{pt:"Coloque o produto em uma prateleira vazia:",en:"Place the product on an empty shelf:"})}),e.jsx(q,{children:r&&e.jsx(lt,{goodId:r,width:i,className:je("lightSpeedInLeft")},r)}),e.jsx(er,{children:e.jsx(j,{pt:e.jsxs(e.Fragment,{children:["Um bom funcionário sempre sabe onde está cada produto.",e.jsx("br",{}),"Lembre-se de usar uma certa lógica para memorizar a posição de cada produto."]}),en:e.jsxs(e.Fragment,{children:["A good employee always knows where each product is.",e.jsx("br",{}),"Remember to use a certain logic to memorize the position of each product."]})})})]})}function fi({data:t}){const[r]=y.useState(Yt(t)),{hearts:s,warehouse:a,currentGood:i,activeOrder:l,lastPlacedGoodId:d,onPlaceGood:p,onSelectOrder:g,onFulfill:f,onTakeBack:_,onSubmit:n,fulfillments:o,showResultModal:c,setShowResultModal:m,isWin:x,isComplete:u,evaluations:h,reset:b,latestAttempt:v,phase:S,orders:R}=oi(t,r),[I,T]=gt(),A=y.useMemo(()=>{const w=T.width/5-16;return Math.min(Math.max(w,48),96)},[T.width]);return e.jsxs(fe,{className:"app",children:[e.jsxs(_e,{icon:e.jsx(Nr,{}),localStorageKey:Ae.KEY,children:[e.jsx(z,{children:Ae.NAME})," #",t.number]}),e.jsxs(ge,{ref:I,children:[e.jsx(Se,{hearts:s,total:Ae.HEARTS,openRules:!0,rules:e.jsx(mi,{date:t.id})}),e.jsx(di,{goods:t.goods}),e.jsx(q,{children:e.jsx(E.Text,{strong:!0,className:"controle-de-estoque-title",children:t.title})}),S===xt.STOCKING&&i&&e.jsx(pi,{warehouse:a,currentGood:i,lastPlacedGoodId:d,onPlaceGood:p,shelfWidth:A}),S!==xt.STOCKING&&e.jsx(ci,{phase:S,warehouse:a,orders:R,activeOrder:l,fulfillments:o,shelfWidth:A,onSelectOrder:g,onFulfill:f,onTakeBack:_,onSubmit:n,isComplete:u,setShowResultModal:m,latestAttempt:v}),e.jsx(q,{orientation:"horizontal",separator:e.jsx(ht,{orientation:"vertical"}),children:h.map((w,$)=>e.jsx(js,{title:e.jsx(j,{pt:"Acertos",en:"Correct"}),children:e.jsxs("span",{children:[w.filter(Boolean).length," 📫"]})},`${w}-${$}`))}),e.jsx(xe,{open:c,onCancel:()=>m(!1),footer:null,children:e.jsx(ui,{challengeNumber:t.number,isWin:x,hearts:s,evaluations:h,title:t.title})})]}),e.jsx(q,{children:e.jsx(Rn,{title:e.jsx(j,{pt:"Deseja mesmo recomeçar o jogo?",en:"Do you really want to reset the game?"}),description:e.jsx(j,{pt:"Você perderá um coração.",en:"You will lose a heart."}),onConfirm:b,children:e.jsx(J,{type:"primary",danger:!0,disabled:s<=0,children:e.jsx(j,{pt:"Recomeçar Jogo",en:"Reset Game"})})})})]})}function gi(){return e.jsx(Oe,{gameName:"controle-de-estoque",GameComponent:fi})}const xi=Object.values(P);function ji(){const{isAdmin:t}=Et();return t?e.jsx(Nt,{children:e.jsxs(ue,{orientation:"vertical",className:"margin",children:[e.jsxs("pre",{children:["Today: ",ft()]}),xi.map(r=>e.jsx(_i,{localKey:r.KEY},r.KEY))]})}):e.jsx(E.Text,{children:"Unauthorized"})}function _i({localKey:t}){const r=y.useMemo(()=>JSON.stringify(JSON.parse(localStorage.getItem(`TD_DAILY_${t}_LOCAL_TODAY`)||"{}"),null,2),[t]);return e.jsxs(ue,{orientation:"vertical",children:[e.jsx(E.Paragraph,{className:"center",strong:!0,children:t}),e.jsx(vn.TextArea,{cols:10,rows:8,value:r,style:{width:"clamp(300px, 80vw, 960px)"}})]})}const vi={id:"",number:0,status:O.IN_PROGRESS,hearts:Ie.HEARTS,solution:{},guesses:{}},Cs=t=>{const r=Ne({key:Ie.KEY,gameId:t.id,defaultValue:C.merge(C.cloneDeep(vi),{solution:ir(t.title,!0)})});return{id:t.id,number:t.number,status:r.status,solution:r.solution,hearts:r.hearts,guesses:r.guesses}};function ir(t,r){const a=Rt(t).toLowerCase().split(""),i={};return a.forEach(l=>{r?l.match(/[a-zA-Z0-9]/)&&(i[l]=!1):l.match(/[a-zA-Z]/)&&(i[l]=!1)}),i}function qt(t){return Rt(t).toLowerCase()}function lr(t,r){return r?qt(t).match(/[a-zA-Z0-9]/)!==null:qt(t).match(/[a-zA-Z]/)!==null}function Ns({solution:t,...r}){const s=Object.keys(t).length,a=Object.values(t).filter(Boolean).length;return Ue({heartsSuffix:` (${Math.round(a/s*100)}%)`,additionalLines:[],...r})}function bi({data:t,language:r}){const s=Cs(t);return Ns({type:"filmaco",hideLink:!0,challengeNumber:s.number,language:r,totalHearts:Ie.HEARTS,remainingHearts:s.hearts,solution:s.solution})}const yi=Object.freeze(Object.defineProperty({__proto__:null,cleanupLetter:qt,getInitialState:Cs,getLettersInWord:ir,getWrittenResult:bi,isLetter:lr,writeResult:Ns},Symbol.toStringTag,{value:"Module"}));function Si(t,r){const{state:s,setState:a}=ke(r),{updateLocalStorage:i}=De({key:Ie.KEY,gameId:t.id,defaultValue:r});y.useEffect(()=>{i(s)},[s]);const l=n=>{if(s.guesses[n])return;const o=s.solution[n]!==void 0,c={...s.solution};o&&(c[n]=!0);const m=Object.values(c).filter(u=>u!==void 0).every(Boolean);let x=s.status;o?m?(N("win"),x=O.WIN,ee(re(Ie.KEY,"win"))):N("addCorrect"):s.hearts===1?(N("lose"),x=O.LOSE,ee(re(Ie.KEY,"lose"))):N("addWrong"),a(u=>({...u,guesses:{...u.guesses,[n]:{letter:n,state:o?"correct":"incorrect",disabled:!0}},solution:c,hearts:o?u.hearts:u.hearts-1,status:x}))},d=s.status===O.WIN,p=s.status===O.LOSE,g=d||p;Me({key:Ie.KEY,isComplete:g});const{showResultModal:f,setShowResultModal:_}=Qe(d||p||g);return{hearts:s.hearts,guesses:s.guesses,solution:s.solution,showResultModal:f,setShowResultModal:_,isWin:d,isLose:p,isComplete:g,guessLetter:l}}function wi({text:t,guesses:r}){const s=y.useMemo(()=>t.split(" ").map(a=>a.split("")),[t]);return e.jsx(ue,{className:"prompt",wrap:!0,align:"center",children:s.map((a,i,l)=>e.jsxs(ue,{className:"prompt-word",wrap:!0,align:"center",children:[a.map((d,p)=>{const g=qt(d),f=r?.[g]?.state==="correct",_=`${p}-${d}-${i}`;return lr(g,!0)?f?e.jsx(rt,{className:"letter-correct",shape:"square",children:d},_):e.jsx(D,{icon:e.jsx(Mn,{}),className:"letter-blank"},_):e.jsx(rt,{shape:"square",children:d},_)}),i+1<l.length&&e.jsx(rt,{shape:"square"})]},`word-${i}`))})}function Ai({text:t,challengeNumber:r,win:s,hearts:a,solution:i}){const{language:l}=te(),d=y.useMemo(()=>Ns({type:"filmaco",language:l,challengeNumber:r,totalHearts:Ie.HEARTS,remainingHearts:a,solution:i}),[l,r,a,i]);return e.jsxs(X,{vertical:!0,children:[e.jsx(E.Title,{level:2,className:"center",children:s?e.jsxs(e.Fragment,{children:[e.jsx(D,{icon:e.jsx(Ye,{})})," ",e.jsx(j,{pt:"Parabéns!",en:"Congratulations!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{icon:e.jsx(Je,{})})," ",e.jsx(j,{pt:"Que pena!",en:"Too bad!"})]})}),e.jsx(E.Paragraph,{className:"center",children:s?e.jsx(j,{pt:"Você acertou o filme!",en:"You guessed the movie!"}):e.jsx(j,{pt:"Você errou o filme!",en:"You missed the movie!"})}),e.jsx(bs,{className:"result-answer",children:e.jsx(E.Paragraph,{className:"text-center",children:t})}),e.jsx(Xe,{result:d,rows:3}),e.jsx(Le,{})]})}function Ti({date:t}){return e.jsx(Pe,{date:t,basicRules:e.jsx(j,{pt:e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"Tente adivinhar o filme secreto observando os ícones e ano do filme."}),e.jsx("li",{children:"Os ícones não estão em ordem e podem significar palavras no título ou sobre o enredo do filme."}),e.jsx("li",{children:"Você deve apertar letra por letra (e números!) até que o nome esteja completo."}),e.jsxs("li",{children:["Cada letra que você aperta que não está presente na resposta remove um coração ",e.jsx(H,{}),"."]}),e.jsxs("li",{children:["Você tem ",Ie.HEARTS," ",e.jsx(H,{})," chances. Boa sorte!"]})]}),en:e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"Try to guess the secret movie by looking at the icons and movie year."}),e.jsx("li",{children:"The icons are not in order and may mean words in the movie title or about the plot."}),e.jsx("li",{children:"You must press letter by letter (and numbers!) until the name is complete."}),e.jsxs("li",{children:["Each letter you press that is not present in the answer removes a heart ",e.jsx(H,{}),"."]}),e.jsxs("li",{children:["You have ",Ie.HEARTS," ",e.jsx(H,{})," chances. Good luck!"]})]})})})}function Ii({data:t}){const[r]=y.useState(Cs(t)),{hearts:s,guesses:a,showResultModal:i,setShowResultModal:l,isWin:d,isComplete:p,guessLetter:g,solution:f}=Si(t,r),_=ct(5,{margin:64,maxWidth:100,minWidth:65});return e.jsxs(fe,{className:"app",children:[e.jsxs(_e,{icon:e.jsx(bn,{}),localStorageKey:Ie.KEY,children:["TD ",e.jsx(z,{children:Ie.NAME})," #",t.number]}),e.jsxs(ge,{children:[e.jsx(Se,{hearts:s,total:Ie.HEARTS,openRules:!p||s===Ie.HEARTS,rules:e.jsx(Ti,{date:t.id})}),e.jsx(q,{children:t?.isDoubleFeature?e.jsxs(E.Text,{strong:!0,children:[e.jsx(j,{pt:"Sessão Dupla",en:"Double Feature"})," ",t.year]}):e.jsxs(E.Text,{strong:!0,children:[e.jsx(j,{pt:"Ano de Lançamento",en:"Release Year"}),": ",t.year]})}),e.jsx(X,{wrap:!0,children:t.itemsIds.map((n,o)=>e.jsx(de,{itemId:n,width:_},`${n}-${o}`))}),e.jsx(wi,{text:t.title,guesses:a}),e.jsx(Ze,{isComplete:p,setShowResultModal:l}),e.jsx(xe,{open:i,onCancel:()=>l(!1),footer:null,children:e.jsx(Ai,{challengeNumber:t.number,win:d,hearts:s,text:t.title,solution:f})}),e.jsx(sr,{lettersState:a,onLetterClick:g,disabled:p,withNumbers:!0})]})]})}function Ei(){return e.jsx(Oe,{gameName:"filmaco",GameComponent:Ii})}const Ri=[{date:"2026-01-09",content:e.jsxs(e.Fragment,{children:[e.jsx(D,{icon:e.jsx(dt,{}),size:"small"})," ","Para ficar mais interessante ative o modo ",e.jsx("strong",{children:"Com Voz"})," no jogo"," ",e.jsx("strong",{children:e.jsx(z,{children:P.AQUI_O.NAME})}),", e toda vez que você acertar um item, ele será anunciado em voz alta!"]})},{date:"2025-12-25",content:e.jsxs(e.Fragment,{children:[e.jsx(D,{icon:e.jsx(In,{}),size:"small"})," ",e.jsx("strong",{children:"Feliz Natal!"})," Alguns jogos estão com desafios especiais para você aproveitar a data! Boas festas!"]}),exact:!0},{date:"2025-12-24",content:e.jsxs(e.Fragment,{children:[e.jsx("em",{children:"Novo jogo adicionado:"}),e.jsx("br",{}),e.jsx(D,{icon:e.jsx(P.VITRAIS.HUB_ICON,{}),size:"small"})," ",e.jsx("strong",{children:e.jsx(z,{children:P.VITRAIS.HUB_NAME})})," ","- desvende a imagem neste quebra-cabeça!"]})},{date:"2025-11-01",content:e.jsxs(e.Fragment,{children:[e.jsx(D,{icon:e.jsx(dt,{}),size:"small"})," ","Para ficar mais fácil de identificar os itens do"," ",e.jsx("strong",{children:e.jsx(z,{children:P.ORGANIKU.NAME})}),", agora o jogo conta quantos items estão faltando e os colore de amarelo quando você completar todos os de um tipo!"]})},{date:"2025-09-29",content:e.jsxs(e.Fragment,{children:[e.jsx(D,{icon:e.jsx(dt,{}),size:"small"})," ","Se você clicar e segurar um ícone do"," ",e.jsx("strong",{children:e.jsx(z,{children:P.TEORIA_DE_CONJUNTOS.NAME})}),", o jogo te mostrará quantas letras, vogais e consoantes tem o nome do item! Que prático!"]})},{date:"2025-09-20",content:e.jsxs(e.Fragment,{children:[e.jsx(D,{icon:e.jsx(kt,{}),size:"small"})," ",e.jsx("strong",{children:e.jsx(z,{children:P.ORGANIKU.NAME})})," ","é mais desafiante nos fins de semana com 6 tipos de itens!"]})},{date:"2025-08-09",content:e.jsxs(e.Fragment,{children:[e.jsx(D,{icon:e.jsx(dt,{}),size:"small"})," ",e.jsx("strong",{children:"Em jogos com ícones"}),', ao clicar e segurar um ícone, aparecerá um nome como sugestão para ajudar a identificá-lo. Esse nome pode não ser o mesmo usado pelo jogo em si. Por exemplo, o nome “fatia de bolo” pode estar sendo usado como “torta” ou apenas “bolo” em alguns jogos, mas a sugestão vai aparecer como "fatia de bolo".']})},{date:"2025-07-05",content:e.jsxs(e.Fragment,{children:[e.jsx("em",{children:"Novo jogo adicionado:"}),e.jsx("br",{}),e.jsx(D,{icon:e.jsx(P.ESPIONAGEM.HUB_ICON,{}),size:"small"})," ",e.jsx("strong",{children:e.jsx(z,{children:P.ESPIONAGEM.HUB_NAME})})," ","- descubra quem é o culpado!"]})},{date:"2025-06-28",content:e.jsxs(e.Fragment,{children:[e.jsx(D,{icon:e.jsx(dt,{}),size:"small"})," ",e.jsx("strong",{children:e.jsx(z,{children:P.TA_NA_CARA.NAME})})," ","- agora você pode mudar o estilo dos suspeitos!"]})},{date:"2025-06-14",content:e.jsxs(e.Fragment,{children:[e.jsx(D,{icon:e.jsx(kt,{}),size:"small"})," ",e.jsx("strong",{children:e.jsx(z,{children:P.FILMACO.NAME})})," ","é mais desafiante nos fins de semana com dois filmes ao mesmo tempo! Sessão dupla!"]})},{date:"2025-06-07",content:e.jsxs(e.Fragment,{children:[e.jsx("em",{children:"Novo jogo adicionado:"}),e.jsx("br",{}),e.jsx(D,{icon:e.jsx(P.ORGANIKU.HUB_ICON,{}),size:"small"})," ",e.jsx("strong",{children:e.jsx(z,{children:P.ORGANIKU.HUB_NAME})})," ","- descubra onde cada item pertence! Uai, é tipo Sudoku?"]})},{date:"2025-05-16",content:e.jsxs(e.Fragment,{children:[e.jsx(D,{icon:e.jsx(kt,{}),size:"small"})," ",e.jsx("strong",{children:e.jsx(z,{children:P.TEORIA_DE_CONJUNTOS.NAME})})," ","é mais desafiante nos fins de semana com 5 items a serem posicionados!"]})},{date:"2025-04-17",content:e.jsxs(e.Fragment,{children:[e.jsx(D,{icon:e.jsx(dt,{}),size:"small"})," ",e.jsx("strong",{children:e.jsx(z,{children:P.COMUNICACAO_ALIENIGENA.NAME})})," ","agora tem dicas do que os símbolos representam!"]})},{date:"2025-04-12",content:e.jsxs(e.Fragment,{children:[e.jsx("em",{children:"Novo jogo adicionado:"}),e.jsx("br",{}),e.jsx(D,{icon:e.jsx(P.PORTAIS_MAGICOS.HUB_ICON,{}),size:"small"})," ",e.jsx("strong",{children:e.jsx(z,{children:P.PORTAIS_MAGICOS.NAME})})," ","- abra as portas resolvendo as palavras chaves!"]})},{date:"2025-03-01",content:e.jsxs(e.Fragment,{children:[e.jsx("em",{children:"Novo jogo adicionado:"}),e.jsx("br",{}),e.jsx(D,{icon:e.jsx(P.QUARTETOS.HUB_ICON,{}),size:"small"})," ",e.jsx("strong",{children:e.jsx(z,{children:P.QUARTETOS.HUB_NAME})})," ","- faça quatro grupos de quatro!"]})},{date:"2025-02-22",content:e.jsxs(e.Fragment,{children:[e.jsx("em",{children:"Nova forma de contribuir:"}),e.jsx("br",{}),e.jsx(D,{icon:e.jsx(P.TA_NA_CARA.HUB_ICON,{}),size:"small"})," ",e.jsx("strong",{children:e.jsx(z,{children:P.TA_NA_CARA.HUB_NAME})})," ","- julgue as pessoas pela cara!"]})},{date:"2025-02-09",content:e.jsxs(e.Fragment,{children:[e.jsx(D,{icon:e.jsx(dt,{}),size:"small"})," ","Agora todos os jogos tem efeitos sonoros para uma melhor experiência!"]})},{date:"2025-01-10",content:e.jsxs(e.Fragment,{children:[e.jsx(D,{icon:e.jsx(kt,{}),size:"small"})," ",e.jsx("strong",{children:e.jsx(z,{children:P.AQUI_O.NAME})})," ","é mais desafiante nos fins de semana com 9 itens aleatórios por disco!"]})},{date:"2024-11-09",content:e.jsxs(e.Fragment,{children:[e.jsx("em",{children:"Novo jogo adicionado:"}),e.jsx("br",{}),e.jsx(D,{icon:e.jsx(P.COMUNICACAO_ALIENIGENA.HUB_ICON,{}),size:"small"})," ",e.jsx("strong",{children:e.jsx(z,{children:P.COMUNICACAO_ALIENIGENA.NAME})})," ","- desvende a linguagem alienígena e salve o planeta!"]})}],cr="daily-news",Ci=Ri.filter(t=>Fe(t.date).isSameOrBefore(Fe(),"day")),Gt=(()=>{const t=Fe().format("YYYY-MM-DD");return Ci.filter(r=>r.exact?r.date===t:!0)})(),Ni=()=>{const t=localStorage.getItem(cr);if(!t)return!0;const r=Fe().isSameOrAfter(Fe(Gt[0].date),"day"),s=Fe(Gt[0].date).isAfter(Fe(t));return r&&s};function Oi(){const[t,r]=y.useState(Ni()),s=()=>{r(!1),localStorage.setItem(cr,Gt[0].date)};return e.jsxs(e.Fragment,{children:[e.jsx(J,{type:"text",style:{color:"white"},icon:e.jsx(Fa,{}),onClick:()=>r(!0)}),e.jsx(xe,{open:t,onCancel:()=>r(!1),title:e.jsxs(G,{align:"center",gap:8,children:[e.jsx(D,{icon:e.jsx(_a,{}),size:"small"}),e.jsx(j,{pt:"Novidades",en:"News"})]}),footer:e.jsx(J,{block:!0,type:"primary",onClick:s,children:e.jsx(j,{pt:"Ok",en:"Ok"})}),children:e.jsx("div",{className:"daily-news-list",children:Gt.map((a,i)=>e.jsxs("div",{children:[e.jsxs("div",{className:U("daily-news-item",{"daily-news-item--highlighted":i===0}),children:[e.jsx(E.Text,{type:"secondary",children:a.date}),e.jsx("div",{className:"news-content",children:a.content})]}),e.jsx(ht,{className:"my-4"})]},a.date))})})]})}const ki={id:"",guesses:[],number:0,hearts:qe.HEARTS,status:O.IN_PROGRESS},Os=t=>{const r=Ne({key:qe.KEY,gameId:t.id,defaultValue:C.cloneDeep(ki)});return{id:t.id,number:t.number,status:r.status,hearts:r.hearts,guesses:r.guesses}};function ks({guesses:t,solution:r,...s}){const a=r.split("-"),i=["🟤","🟡","🔵","🟣"],l=t.map(d=>d.split("-").map((g,f)=>g===a[f]?i[f]:a.includes(g)?"❌":"👽").join(""));return Ue({additionalLines:l,...s})}function Di({data:t,language:r}){const s=Os(t);return ks({type:"comunicacao-alienigena",hideLink:!0,challengeNumber:s.number,language:r,totalHearts:qe.HEARTS,remainingHearts:s.hearts,solution:t.solution,guesses:s.guesses})}const Mi=Object.freeze(Object.defineProperty({__proto__:null,getInitialState:Os,getWrittenResult:Di,writeResult:ks},Symbol.toStringTag,{value:"Module"})),Li={id:"",number:0,status:O.IN_PROGRESS,hearts:Be.HEARTS,released:[]},Ds=t=>{const r=Ne({key:Be.KEY,gameId:t.id,defaultValue:C.merge(C.cloneDeep(Li),{solution:""})});return{id:t.id,number:t.number,status:r.status,hearts:r.hearts,released:r.released}},hs={male:"é homem",female:"é mulher","non-binary":"é não-binário(a)",black:"é negro(a)","black.male":"é negro","black.female":"é negra","black.non-binary":"é negre",caucasian:"é branco(a)","caucasian.male":"é branco","caucasian.female":"é branca","caucasian.non-binary":"é branque",white:"é branco(a)","white.male":"é branco","white.female":"é branca","white.non-binary":"é branque",asian:"é asiático(a)","asian.male":"é asiático","asian.female":"é asiática","asian.non-binary":"é asiaique",latino:"é latino(a)","latino.male":"é latino","latino.female":"é latina","latino.non-binary":"é latinex",brown:"é pardo(a)","brown.male":"é pardo","brown.female":"é parda","brown.non-binary":"é parde",thin:"é magrelo(a)","thin.male":"é magrelo","thin.female":"é magrela","thin.non-binary":"é magrele",large:"é gordo(a)","large.male":"é gordo","large.female":"é gorda","large.non-binary":"é gordix",tall:"é alto(a)","tall.male":"é alto","tall.female":"é alta","tall.non-binary":"é altix",short:"é baixinho(a)","short.male":"é baixinho","short.female":"é baixinha","short.non-binary":"é baixinhe",young:"é jovem",adult:"é adulto(a)","adult.male":"é adulto","adult.female":"é adulta","adult.non-binary":"é adultx",senior:"é idoso(a)","senior.male":"é idoso","senior.female":"é idosa","senior.non-binary":"é idose",average:"tem corpo normal",medium:"é de altura média",mixed:"é mestiço(a)","mixed.male":"é mestiço","mixed.female":"é mestiça","mixed.non-binary":"é mestice",hat:"está usando um chapéu",tie:"está usando uma gravata",glasses:"está usando óculos",brownHair:"tem cabelo castanho",shortHair:"tem cabelo curto",beard:"tem barba",scarf:"está usando um cachecol",blondeHair:"tem cabelo loiro",longHair:"tem cabelo longo",greyHair:"tem cabelo grisalho",bald:"é careca",mustache:"tem bigode",goatee:"tem cavanhaque",muscular:"é sarado(a)","muscular.male":"é sarado","muscular.female":"é sarada","muscular.non-binary":"é sarade",blackHair:"tem cabelo preto",hoodie:"está usando um moletom",earrings:"está usando brincos",lipstick:"está usando batom",necklace:"está usando um colar",mediumHair:"tem cabelo médio","middle-eastern":"é do Oriente Médio",headscarf:"está usando um lenço na cabeça",redHair:"tem cabelo ruivo",piercings:"tem piercings",coloredHair:"tem cabelo colorido",indian:"é indiano(a)","indian.male":"é indiano","indian.female":"é indiana","indian.non-binary":"é indiane","native-american":"é nativo-americano(a)",noAccessories:"está sem nenhum acessório",avoidingCamera:"está evitando olhar para a câmera",wearingStripes:"tem listras na roupa",blackClothes:"está vestindo roupas pretas",blueClothes:"está vestindo roupas azuis",greenClothes:"está vestindo roupas verdes",redClothes:"está vestindo roupas vermelhas",yellowClothes:"está vestindo roupas amarelas",purpleClothes:"está vestindo roupas roxas",orangeClothes:"está vestindo roupas laranjas",brownClothes:"está vestindo roupas marrons",whiteShirt:"está usando camisa branca",pinkClothes:"está vestindo roupas rosas",patternedShirt:"está usando roupa estampada",buttonShirt:"está usando camisa com botões",bow:"está usando um laço",hairyChest:"está mostrando o peito peludo",wearingFlowers:"está usando flores",showTeeth:"está mostrando os dentes",hairTie:"está usando um xuxinha ou fita no cabelo",shirtless:"está provavelmente sem camisa",noHairInfo:"não dá pra saber direito sobre o cabelo"};function Ms({released:t,remainingHearts:r,totalHearts:s,...a}){const i=t.length===11?"🏆":"☠️",l=t?Math.round(t.length/11*100):0;return Ue({additionalLines:[`${i} ${Or(r,s)} (${l}%)`],hideHearts:!0,remainingHearts:r,totalHearts:s,...a})}function Pi({data:t,language:r}){const s=Ds(t);return Ms({type:"espionagem",hideLink:!0,language:r,challengeNumber:s.number,totalHearts:Be.HEARTS,remainingHearts:s.hearts,released:s.released})}const $i=Object.freeze(Object.defineProperty({__proto__:null,FEATURE_PT_TRANSLATIONS:hs,getInitialState:Ds,getWrittenResult:Pi,writeResult:Ms},Symbol.toStringTag,{value:"Module"})),Hi={id:"",number:0,status:O.IN_PROGRESS,hearts:Ee.HEARTS,revealed:{},foundCount:{},flips:0},Ls=t=>{const r=Ne({key:Ee.KEY,gameId:t.id,defaultValue:C.merge(C.cloneDeep(Hi),{revealed:t.defaultRevealedIndexes.reduce((a,i)=>(a[i]=!0,a),{}),foundCount:t.itemsIds.reduce((a,i)=>(a[i]=t.defaultRevealedIndexes.filter(l=>t.grid[l]===i).length,a),{})})});return{id:t.id,number:t.number,status:r.status,hearts:r.hearts,revealed:r.revealed,foundCount:r.foundCount,flips:r.flips}};function dr(t,r){const s=Math.floor(t/r),a=t%r,i=[];for(let l=0;l<r;l++){const d=s*r+l;d!==t&&i.push(d)}for(let l=0;l<r;l++){const d=l*r+a;d!==t&&i.push(d)}return i}function Ps({itemsIds:t,foundCount:r,flips:s,swapLimit:a,...i}){const d=[t.map(p=>r[p]===Object.keys(r).length?p:null).map(p=>p?"🟢":"◼️").join("")];return Ue({heartsSuffix:` (${s}/${a} viradas)`,additionalLines:d,...i})}function Fi({data:t,language:r}){const s=Ls(t);return Ps({type:"organiku",language:r,hideLink:!0,challengeNumber:s.number,totalHearts:Ee.HEARTS,remainingHearts:s.hearts,itemsIds:t.itemsIds,foundCount:s.foundCount,flips:s.flips,swapLimit:t.grid.length-t.defaultRevealedIndexes.length})}const qi=Object.freeze(Object.defineProperty({__proto__:null,getInitialState:Ls,getRowAndColumnIndexes:dr,getWrittenResult:Fi,writeResult:Ps},Symbol.toStringTag,{value:"Module"})),Gi={id:"",number:0,status:O.IN_PROGRESS,hearts:ce.HEARTS,boardState:[],swaps:0,letters:[],guesses:[]},$s=t=>{const r=t.keyword.length,s=Ne({key:ce.KEY,gameId:t.id,defaultValue:C.merge(C.cloneDeep(Gi),{letters:ur(t.letters,r),hearts:Math.max(ce.HEARTS,r)})});return{id:t.id,number:t.number,status:s.status,letters:s.letters,boardState:s.boardState,guesses:s.guesses,hearts:s.hearts,swaps:s.swaps}},Yi={4:[0,5,10,15],5:[0,6,12,18,24]},Vi={4:["0","1","2","3"],5:["0","1","2","3","4"]},ur=(t,r)=>{const s=Yi[r],a=Vi[r];return t.map((i,l)=>({letter:i,index:l,state:s.includes(l)?a[s.indexOf(l)]:"idle",locked:s.includes(l)}))},Wi=(t,r)=>{let s=0;return t.split("").forEach((a,i)=>{a===r[i]&&(s+=1)}),s};function Hs({swaps:t,guesses:r,words:s,totalHearts:a,...i}){const l=r[0].length,d=["🟥","🟦","🟪","🟫","🟧"],p=r.map(f=>f.map((_,n)=>s[n].toLowerCase()===_.toLowerCase()?d[n]:"⬜️"));if(p.length<l)for(;p.length<l;)p.push(p[p.length-1]);const g=Math.max(a,l);return Ue({heartsSuffix:` (${t} trocas)`,totalHearts:g,heartsSpacing:" ",additionalLines:p.map(f=>f.join(" ").trim()).filter(Boolean),...i})}function zi({data:t,language:r}){const s=$s(t);return Hs({type:"palavreado",hideLink:!0,challengeNumber:s.number,language:r,totalHearts:ce.HEARTS,remainingHearts:s.hearts,swaps:s.swaps,guesses:s.guesses,words:t.words})}const Bi=Object.freeze(Object.defineProperty({__proto__:null,calculateGuessValue:Wi,getInitialState:$s,getWrittenResult:zi,parseLetters:ur,writeResult:Hs},Symbol.toStringTag,{value:"Module"})),Ki={id:"",number:0,played:!1},Ui=t=>{const r=Ne({key:be.KEY,gameId:t.id,defaultValue:C.cloneDeep(Ki)});return{id:t.id,number:t.number,played:r.played}},Qi={id:"",number:0,status:O.IN_PROGRESS,hearts:Re.HEARTS,currentCorridorIndex:0,guesses:[[],[],[]],currentCorridorIndexes:[],moves:[0,0,0]},Fs=t=>{const r=Ne({key:Re.KEY,gameId:t.id,defaultValue:C.cloneDeep(Qi)});return{id:t.id,number:t.number,status:r.status,hearts:r.hearts,currentCorridorIndex:r.currentCorridorIndex,guesses:r.guesses,moves:r.moves,currentCorridorIndexes:r.currentCorridorIndexes.length>0?r.currentCorridorIndexes:kr(t.corridors[r.currentCorridorIndex].passcode.length).fill(1)}};function qs({guesses:t,win:r,moves:s,goal:a,...i}){const l=t.filter(p=>p.length>0).length-1,d=t?.map((p,g)=>{const f=l===g,_=Math.max(p?.length??0,0),n=Math.max(_-(f?r?1:0:1),0),o=Array(n).fill(0).map(()=>"💥").join(""),c=_-n>0?"🔶":"";return[o,c].join("")}).join("");return Ue({heartsSuffix:`(${C.sum(s)}/${a} movimentos)`,additionalLines:[d],...i})}function Xi({data:t,language:r}){const s=Fs(t);return qs({type:"portais-magicos",hideLink:!0,challengeNumber:s.number,language:r,totalHearts:Re.HEARTS,remainingHearts:s.hearts,guesses:s.guesses,win:s.status===O.WIN,moves:s.moves,goal:t.goal??0})}const Ji=Object.freeze(Object.defineProperty({__proto__:null,getInitialState:Fs,getWrittenResult:Xi,writeResult:qs},Symbol.toStringTag,{value:"Module"})),Zi={id:"",number:0,status:O.IN_PROGRESS,hearts:Ce.HEARTS,matches:[],guesses:[],grid:[],completeSets:[]},Gs=t=>{const r=Ne({key:Ce.KEY,gameId:t.id,defaultValue:C.cloneDeep(Zi)}),s=r.grid.length===0&&r.matches.length===0;return{id:t.id,number:t.number,status:r.status,hearts:r.hearts,matches:r.matches,guesses:r.guesses,grid:s?t.grid:r.grid,completeSets:r.completeSets}},ps=t=>C.orderBy(t,r=>Number(r)).join("-");function Ys({guesses:t,sets:r,...s}){const a=["🟩","🟨","🟧","🟪"],i=r.reduce((d,p)=>(p.itemsIds.forEach(g=>{d[g]=a[p.level]}),d),{}),l=t.map(d=>d.split("-").map(f=>i[f]||"❓").join(" "));return Ue({heartsSpacing:" ",additionalLines:l,...s})}function el({data:t,language:r}){const s=Gs(t);return Ys({type:"quartetos",hideLink:!0,challengeNumber:s.number,language:r,totalHearts:Ce.HEARTS,remainingHearts:s.hearts,guesses:s.guesses,sets:t.sets})}const tl=Object.freeze(Object.defineProperty({__proto__:null,buildSetKey:ps,getInitialState:Gs,getWrittenResult:el,writeResult:Ys},Symbol.toStringTag,{value:"Module"})),sl={id:"",number:0,hearts:Ge.HEARTS,status:O.IN_PROGRESS,hand:[],deck:[],rule1Things:[],rule2Things:[],intersectingThings:[],guesses:[],isWeekend:!1},Vs=t=>{const r=xs(t.id),s=Ne({key:Ge.KEY,gameId:t.id,defaultValue:C.merge(C.cloneDeep(sl),{hand:t.things.slice(0,r?5:4),hearts:Ge.HEARTS+(r?1:0),deck:t.things.slice(r?5:4),rule1Things:[{id:t.rule1.thing.id,name:t.rule1.thing.name,rule:1}],rule2Things:[{id:t.rule2.thing.id,name:t.rule2.thing.name,rule:2}],intersectingThings:[{id:t.intersectingThing.id,name:t.intersectingThing.name}]})});return{id:t.id,number:t.number,hearts:s.hearts,status:s.status,hand:s.hand,deck:s.deck,rule1Things:s.rule1Things,rule2Things:s.rule2Things,intersectingThings:s.intersectingThings,guesses:s.guesses,isWeekend:r}};function Ws({guesses:t,isWeekend:r,totalHearts:s,...a}){const i=t.map(d=>({1:"🟡",2:"🔴",0:"🟠",false:"✖️"})[String(d.result)]),l=s+(r?1:0);return Ue({heartsSpacing:" ",additionalLines:[i.join(" ")],totalHearts:l,...a})}function nl({data:t,language:r}){const s=Vs(t);return Ws({type:"teoria-de-conjuntos",hideLink:!0,challengeNumber:s.number,language:r,totalHearts:Ge.HEARTS,remainingHearts:s.hearts,guesses:s.guesses,isWeekend:s.isWeekend})}const mr=t=>{const r=t.replace(/[\s-]/g,"").length,s=Rt(t.toLowerCase()).split("").filter(i=>"aeiou".includes(i)).length,a=r-s;return`${r} letras, ${s} vogais, ${a} consoantes`},rl=Object.freeze(Object.defineProperty({__proto__:null,countThing:mr,getInitialState:Vs,getWrittenResult:nl,writeResult:Ws},Symbol.toStringTag,{value:"Module"})),al={id:"",number:0,played:!1,suspectsIds:[]},ol=t=>{const r=Ne({key:ut.KEY,gameId:t.id,defaultValue:C.cloneDeep(al)}),s=t.suspectsIds??[];return{id:t.id,number:t.number,played:r.played,suspectsIds:yn(s)}},il={id:"",number:0,status:O.IN_PROGRESS,hearts:ye.HEARTS,timeElapsed:0,piecesOrder:[],score:0,swapCount:0},zs=t=>{const r=Ne({key:ye.KEY,gameId:t.id,defaultValue:C.cloneDeep(il)});return{id:t.id,number:t.number,status:r.status,hearts:r.hearts,timeElapsed:r.timeElapsed,piecesOrder:r.piecesOrder?.length===t.pieces.length?r.piecesOrder:t.pieces,score:r.score,swapCount:r.swapCount||0}};function Bs({timeElapsed:t,score:r,...s}){return Ue({heartsSuffix:` (${r} pts em ${Math.floor(t/60)}:${(t%60).toString().padStart(2,"0")})`,additionalLines:[""],...s})}function ll({data:t,language:r}){const s=zs(t);return Bs({type:"vitrais",language:r,hideLink:!0,challengeNumber:s.number,totalHearts:ye.HEARTS,remainingHearts:s.hearts,timeElapsed:s.timeElapsed,score:s.score})}function cl(t,r){const s=Math.floor(t/r);return{x:t%r,y:s}}const dl=Object.freeze(Object.defineProperty({__proto__:null,getCoordinateFromPosition:cl,getInitialState:zs,getWrittenResult:ll,writeResult:Bs},Symbol.toStringTag,{value:"Module"})),We={AQUI_O:No,ARTE_RUIM:Uo,COMUNICACAO_ALIENIGENA:Mi,CONTROLE_DE_ESTOQUE:ai,ESPIONAGEM:$i,FILMACO:yi,ORGANIKU:qi,PALAVREADO:Bi,PORTAIS_MAGICOS:Ji,QUARTETOS:tl,TEORIA_DE_CONJUNTOS:rl,VITRAIS:dl};function ul({list:t}){const r=Ct(),[s,a]=y.useState(!1),{message:i}=st.useApp(),{translate:l}=te(),{language:d}=te(),[,p]=Dn(),g=y.useMemo(()=>C.orderBy(t.filter(o=>!o.disabled&&_s(o.KEY)),[`game.HUB_NAME.${d}`],["asc"]),[t,d]),[f,_]=y.useState(g.map(o=>o.ROUTE)),n=async()=>{r.data&&(p(hl(f,r.data,d)),await Sn(250),i.info(l("Jogos copiados para a área de transferência!","Games copied to clipboard!")))};return e.jsxs(e.Fragment,{children:[e.jsx(G,{justify:"center",align:"center",className:"my-6",children:e.jsx(J,{ghost:!0,icon:e.jsx(va,{}),onClick:()=>a(!0),disabled:g.length===0,children:e.jsx(j,{en:"Share Bundled Results",pt:"Compartilhar Resultados"})})}),e.jsxs(xe,{title:e.jsxs(G,{gap:4,children:[e.jsx(D,{icon:e.jsx(Ln,{}),size:"small"}),e.jsx(j,{en:"Bundled results",pt:"Resultados agrupados"})]}),open:s,onCancel:()=>a(!1),footer:null,children:[e.jsx(E.Paragraph,{children:"Selecione os jogos que você deseja enviar os resultados e então clique em copiar."}),e.jsx("ul",{className:"list-played-games",children:g.map(o=>e.jsx("li",{className:"list-played-games__item",style:{backgroundColor:o.COLOR},children:e.jsxs(ba,{checked:f.includes(o.ROUTE),onChange:c=>{c.target.checked?_(m=>[...m,o.ROUTE]):_(m=>m.filter(x=>x!==o.ROUTE))},className:"full-width",children:[e.jsx(D,{icon:e.jsx(o.HUB_ICON,{}),size:"small"}),e.jsx("span",{className:"ml-2",children:e.jsx(z,{children:o.NAME})})]})},o.KEY))}),e.jsx(G,{justify:"center",className:"mt-4",children:e.jsx(J,{type:"primary",disabled:f.length===0,onClick:n,children:e.jsx(j,{en:"Copy results",pt:"Copiar resultados"})})})]})]})}function ml(t,r){if(!t||typeof t!="object"||!t.type)return"";switch(t?.type){case"aqui-o":return We.AQUI_O.getWrittenResult({data:t,language:r});case"arte-ruim":return We.ARTE_RUIM.getWrittenResult({data:t,language:r});case"comunicacao-alienigena":return We.COMUNICACAO_ALIENIGENA.getWrittenResult({data:t,language:r});case"controle-de-estoque":return We.CONTROLE_DE_ESTOQUE.getWrittenResult({data:t,language:r});case"espionagem":return We.ESPIONAGEM.getWrittenResult({data:t,language:r});case"filmaco":return We.FILMACO.getWrittenResult({data:t,language:r});case"organiku":return We.ORGANIKU.getWrittenResult({data:t,language:r});case"palavreado":return We.PALAVREADO.getWrittenResult({data:t,language:r});case"portais-magicos":return We.PORTAIS_MAGICOS.getWrittenResult({data:t,language:r});case"quartetos":return We.QUARTETOS.getWrittenResult({data:t,language:r});case"teoria-de-conjuntos":return We.TEORIA_DE_CONJUNTOS.getWrittenResult({data:t,language:r});case"vitrais":return We.VITRAIS.getWrittenResult({data:t,language:r});default:return"N/A"}}function hl(t,r,s){let a=t.map(i=>{const l=r[i];return l?ml(l,s):null}).filter(Boolean).join(`

`);return a&&(a+=`

https://www.kavispires.com/tardedivertida/#/${gn(s)}`),a||""}Fe().add(1,"year").format("YYYY-MM-DD");const Mt=[P.ARTE_RUIM,P.COMUNICACAO_ALIENIGENA,P.AQUI_O,P.TEORIA_DE_CONJUNTOS,P.CONTROLE_DE_ESTOQUE,P.ESPIONAGEM,P.FILMACO,P.ORGANIKU,P.PALAVREADO,P.PORTAIS_MAGICOS,P.QUARTETOS,P.VITRAIS],pl=[P.PICACO,P.TA_NA_CARA],on=[];function Bt(){const{isAdmin:t}=Et(),[r,s]=jt(3,{maxWidth:128,minWidth:48,gap:16}),a=ft();return e.jsxs(Nt,{children:[e.jsxs("div",{className:"menu menu--hub",children:[e.jsx(Oi,{}),e.jsx(xl,{}),e.jsx(gl,{})]}),e.jsxs("div",{className:"hub",ref:s,children:[e.jsx(E.Title,{level:5,children:e.jsx(j,{pt:"Jogue",en:"Play"})}),e.jsx(Kt,{list:Mt,width:r,startingIndex:0})]}),e.jsxs("div",{className:"hub",children:[e.jsx(E.Title,{level:5,children:e.jsx(j,{pt:"Contribua",en:"Contribute"})}),e.jsx(Kt,{list:pl,width:r,startingIndex:Mt.length})]}),on.length>0&&e.jsxs("div",{className:"hub",children:[e.jsx(E.Title,{level:5,children:e.jsx(j,{pt:"Demos",en:"Demos"})}),e.jsx(Kt,{list:on,width:r,startingIndex:Mt.length})]}),e.jsx(ul,{list:Mt}),t&&e.jsx(It,{style:{marginTop:"64px"},showIcon:!1,title:e.jsxs(ue,{size:"small",separator:e.jsx(ht,{orientation:"vertical"}),children:[e.jsx(St,{to:"/daily/debug",children:"Debug"}),e.jsx(St,{to:"/daily/demo",children:"Demo"}),e.jsx("a",{href:Dr(`diario/${a}`),target:"_blank",rel:"noreferrer",children:"Firestore"})]}),type:"info",banner:!0}),e.jsx(jl,{})]})}function Kt({list:t,width:r,startingIndex:s}){return e.jsxs("div",{className:"hub-list",children:[t.map(({KEY:a,ROUTE:i,HUB_ICON:l,HUB_NAME:d,COLOR:p,RELEASE_DATE:g,VERSION:f="stable",disabled:_},n)=>e.jsx(fl,{lsKey:a,width:r,href:i,Icon:l,name:d,color:p,version:f,releaseDate:g,disabled:_||["disabled","maintenance"].includes(f)||Lr(g),index:s+n},a)),Array.from({length:(3-t.length%3)%3}).map((a,i)=>e.jsx("div",{style:{width:r},className:"hub-item-placeholder"},i))]})}function fl({lsKey:t,width:r,disabled:s,href:a,Icon:i,name:l,color:d,releaseDate:p,index:g,version:f="stable"}){const _=_s(t),n=Us(p)<15&&Us(p)>0&&!_&&["stable","beta"].includes(f);return e.jsxs(le.div,{className:"played-wrapper",children:[_&&e.jsx(D,{icon:e.jsx(Ln,{}),size:"small",className:"played-wrapper__played"}),f==="demo"&&e.jsx("div",{className:"played-wrapper__demo",children:"Demo"}),f==="soon"&&e.jsx("div",{className:"played-wrapper__soon",children:e.jsx(z,{children:{en:"Soon",pt:"Em breve"}})}),e.jsx(le.div,{className:"played-wrapper",...n?pe("tada",{repeat:10,delay:.1*g,speed:"fast"}):{},children:e.jsx(le.button,{className:U("transparent-button","hub-item",s&&"hub-item--disabled"),style:{width:r,height:r,backgroundColor:d},...pe("bounceIn",{delay:g*.05}),disabled:s,onClick:()=>{N("swap"),ee(`daily_${t}_hub_click`)},children:e.jsxs(St,{to:`/diario/${a}`,className:"hub-link",children:[e.jsx(i,{style:{width:r/2}}),e.jsx(z,{children:l})]})})})]})}function gl(){const[t,r]=Mr("volume");y.useEffect(()=>{ae.volume(t)},[t]);const s=a=>{r(a?.5:0)};return e.jsx(At,{checkedChildren:e.jsx(ao,{}),unCheckedChildren:e.jsx(Xa,{}),checked:!!t,onClick:s})}function xl(){const t=()=>{const l=new Date;return l.setHours(24,0,0,0),l},{seconds:r,minutes:s,hours:a,restart:i}=wn.useTimer({expiryTimestamp:t(),onExpire:()=>i(t())});return e.jsxs("div",{className:"hub-time-left",children:[e.jsx("span",{children:String(a).padStart(2,"0")},`h${a}`),":",e.jsx("span",{children:String(s).padStart(2,"0")},`m${s}`),":",e.jsx("span",{children:String(r).padStart(2,"0")},`s${r}`)]})}function jl(){return null}function _l(t,r){const s=t.keyword.length,{state:a,setState:i}=ke(r),{session:l,updateSession:d}=et({swap:[],selection:null,latestAttempt:0}),{updateLocalStorage:p}=De({key:ce.KEY,gameId:t.id,defaultValue:r});y.useEffect(()=>{p(a)},[a]);const g=x=>{if(l.selection===x){d({selection:null,swap:[]}),N("bubbleOut");return}if(l.selection===null){d({selection:x,swap:[]}),N("select");return}i(u=>{if(l.selection===null)return u;N("swap");const h=C.cloneDeep(a.letters),b=h[l.selection];return h[l.selection]=h[x],h[x]=b,d({selection:null,swap:[l.selection,x]}),{...u,letters:h,swaps:u.swaps+1}})},f=()=>{const x=t.words.join("");i(u=>{const h=C.cloneDeep(a.letters);h.map((A,w)=>(A.state==="idle"&&A.letter===x[w]&&(A.state=String(Math.floor(w/s)),A.locked=!0),A));const b=C.chunk(h,s).map(A=>A.map(w=>w.letter).join(""));b.forEach((A,w)=>{t.words[w]===A&&A.split("").forEach(($,L)=>{h[w*s+L].state=String(w),h[w*s+L].locked=!0})});const v=h.every(A=>A.locked);v?N("win"):(N("wrong"),Ve("wrong"));const S=v?u.hearts:u.hearts-1,R=b,I=h.map(A=>A.letter);let T=u.status;return v&&(T=O.WIN,ee(re(ce.KEY,"win"))),S===0&&(T=O.LOSE,ee(re(ce.KEY,"lose"))),d({selection:null,swap:[]}),{...u,guesses:[...u.guesses,R],boardState:[...u.boardState,I],letters:h,hearts:S,status:T}})},_=a.status===O.WIN,n=a.status===O.LOSE,o=_||n;Me({key:ce.KEY,isComplete:o});const{showResultModal:c,setShowResultModal:m}=Qe(o);return{hearts:a.hearts,guesses:a.guesses,letters:a.letters,swaps:a.swaps,selection:l.selection,swap:l.swap,showResultModal:c,setShowResultModal:m,isWin:_,isLose:n,isComplete:o,selectLetter:g,submitGrid:f,keyword:t.keyword,size:s,words:t.words}}function vl({letters:t,onLetterSelection:r,selection:s,swap:a,guesses:i,size:l}){return e.jsx("div",{className:"palavreado-board",style:{gridTemplateColumns:`repeat(${l}, 1fr)`,gridTemplateRows:`repeat(${l}, 1fr)`},children:t.map(({letter:d,locked:p,state:g},f)=>{const _=Math.floor(f/l),n=f%l,o=i.some(c=>c[_][n]===d)&&!p;return e.jsx("button",{type:"button",className:U("palavreado-board__tile",a.includes(f)&&je("zoomIn",{speed:"faster"}),!p&&s!==f&&"palavreado-board__tile--button",s===f&&"palavreado-board__tile--selected",`palavreado-board__tile--${g}`,o&&"palavreado-board__tile--place-guessed"),onClick:()=>p?null:r(f),children:d},`${d}-${f}`)})})}function bl({challengeNumber:t,words:r,isWin:s,hearts:a,swaps:i,guesses:l}){const{language:d}=te(),p=y.useMemo(()=>Hs({type:"palavreado",language:d,challengeNumber:t,remainingHearts:a,words:r,swaps:i,guesses:l,totalHearts:ce.HEARTS}),[t,a,r,d,i,l]);return e.jsxs(X,{vertical:!0,children:[e.jsx(E.Title,{level:2,className:"center",children:s?e.jsxs(e.Fragment,{children:[e.jsx(D,{icon:e.jsx(Ye,{})})," ",e.jsx(j,{pt:"Parabéns!",en:"Congratulations!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{icon:e.jsx(Je,{})})," ",e.jsx(j,{pt:"Que pena!",en:"Too bad!"})]})}),e.jsx(E.Paragraph,{className:"center",children:s?e.jsx(j,{pt:"Você acertou as palavras!",en:"You guessed the words!"}):e.jsx(j,{pt:"Você não acertou todas as palavras!",en:"You missed the words!"})}),e.jsx(ue,{className:"result-answer",separator:e.jsx(ht,{orientation:"vertical"}),children:r.map(g=>e.jsx(E.Text,{children:g},g))}),e.jsx(Xe,{result:p,rows:l[0].length+2}),e.jsx(Le,{})]})}function yl({date:t}){return e.jsx(Pe,{date:t,basicRules:ln(!1),weekendRules:ln(!0)})}const ln=t=>{const r=t?1:0;return e.jsx(j,{pt:e.jsxs(e.Fragment,{children:[e.jsxs("li",{children:["Junto à palavra-chave de ",ce.WORD_LENGTH+r," letras diagonal na grade existem"," ",ce.HEARTS+r," palavras embaralhadas horizontalmente."]}),e.jsxs("li",{children:["Você precisa ordenar as letras para formar as ",ce.HEARTS+r," palavras horizontais."]}),e.jsx("li",{children:"Selecione uma letra e depois uma outra para que elas troquem de lugar."}),e.jsx("li",{children:'Quando você acha que a grade está certa, aperte "Enviar".'}),e.jsxs("li",{children:["Todas as letras colocadas na posição corretas serão coloridas da cor da linha. Mas se você não acertas todas, você perde um ",e.jsx(H,{}),"."]}),e.jsxs("li",{children:["Você tem ",ce.HEARTS+r," ",e.jsx(H,{})," chances. Boa sorte!"]})]}),en:e.jsxs(e.Fragment,{children:[e.jsxs("li",{children:["Next to the ",ce.WORD_LENGTH+r,"-letter keyword diagonally in the grid are"," ",ce.HEARTS+r," shuffled words."]}),e.jsxs("li",{children:["You need to order the letters to form the ",ce.HEARTS+r," words in the rows."]}),e.jsx("li",{children:"Select a letter and then another so they swap places."}),e.jsx("li",{children:'When you think the grid is correct, press "Submit".'}),e.jsxs("li",{children:["All letters placed in the correct position will be colored in the line color. But if you don't get them all, you lose a ",e.jsx(H,{}),"."]}),e.jsxs("li",{children:["You have ",ce.HEARTS+r," ",e.jsx(H,{})," chances. Good luck!"]})]})})};function Sl({data:t}){const[r]=y.useState($s(t)),{hearts:s,selection:a,guesses:i,letters:l,showResultModal:d,setShowResultModal:p,isWin:g,isComplete:f,selectLetter:_,submitGrid:n,swap:o,swaps:c,size:m,keyword:x,words:u}=_l(t,r);return e.jsxs(fe,{className:"app",children:[e.jsxs(_e,{icon:e.jsx(Pr,{}),localStorageKey:ce.KEY,children:["TD ",e.jsx(z,{children:ce.NAME})," #",t.number]}),e.jsxs(ge,{children:[e.jsx(Se,{hearts:s,total:Math.max(ce.HEARTS,m),openRules:!0,rules:e.jsx(yl,{date:t.id})}),e.jsxs(q,{children:[e.jsxs(E.Text,{strong:!0,className:"palavreado-word",children:[x," ",c>0&&` ↔️ ${c}`]}),e.jsx(vl,{letters:l,onLetterSelection:_,selection:a,swap:o,guesses:i,size:m})]}),e.jsx(Ze,{isComplete:f,setShowResultModal:p}),!f&&e.jsx(q,{children:e.jsx(J,{type:"primary",onClick:n,disabled:f,block:!0,children:e.jsx(j,{pt:"Enviar",en:"Submit"})})}),e.jsx(q,{orientation:"vertical",size:"small",children:i.map((h,b)=>e.jsx(ue,{separator:e.jsx(ht,{orientation:"vertical",className:"mx-0"}),size:"small",children:h.map((v,S)=>e.jsx(E.Text,{keyboard:!0,className:U("palavreado-word",{[`palavreado-word--${S}`]:v.toLowerCase()===u[S].toLowerCase()}),children:v},`${h}-${b}-${v}-${S}`))},`${h}-${b}`))}),i.length>0&&e.jsx(q,{children:e.jsxs(G,{className:"contained",gap:12,align:"center",children:[e.jsx("div",{className:"palavreado-board__tile palavreado-board__tile--place-guessed palavreado-board__tile--sample",children:"?"}),e.jsx(E.Text,{children:e.jsx(j,{pt:e.jsxs(e.Fragment,{children:["Posições que já foram testadas com a letra específica aparecem assim (borda preta pontilhada).",e.jsx("br",{}),"Evite enviar com letras assim, elas continuarão erradas."]}),en:e.jsxs(e.Fragment,{children:["Positions that have already been tested with a specific letter appear like this (dotted black border).",e.jsx("br",{}),"Avoid submitting with letters like this, they will remain wrong."]})})})]})}),e.jsx(xe,{open:d,onCancel:()=>p(!1),footer:null,children:e.jsx(bl,{challengeNumber:t?.number,isWin:g,hearts:s,words:t.words,swaps:c,guesses:i})})]})]})}function wl(){return e.jsx(Oe,{gameName:"palavreado",GameComponent:Sl})}function Al(t){const{translate:r}=te(),{notification:s}=st.useApp();return Hn({mutationKey:["daily-save-drawings"],mutationFn:async i=>await fs.run({action:gs.SAVE_DRAWING,drawings:i,language:Object.values(i)?.[0]?.cardId?.split("-")?.[2]??"pt"}),onSuccess:()=>{s.success({title:r("Desenhos salvos com sucesso!","Drawings saved successfully!"),placement:"bottomLeft"}),t()},onError:i=>{s.error({title:r("Vixi, o aplicativo encontrou um erro ao tentar salvar desenhos","Oops, the application failed when trying to save drawings"),description:JSON.stringify(i.message),placement:"bottomLeft"}),console.error(i)}})}function Tl(t){const{translate:r}=te(),{notification:s}=st.useApp();return Hn({mutationKey:["daily-save-testimonies"],mutationFn:async i=>await fs.run({action:gs.SAVE_TESTIMONIES,answers:i}),onSuccess:()=>{s.success({title:r("Respostas salvas com sucesso!","Answers saved successfully!"),placement:"bottomLeft"}),t()},onError:i=>{s.error({title:r("Vixi, o aplicativo encontrou um erro ao tentar salvar respostas","Oops, the application failed when trying to save answers"),description:JSON.stringify(i.message),placement:"bottomLeft"}),console.error(i)}})}function Il(t,r,s){const{state:a,updateState:i}=ke(s),{session:l,setSession:d,updateSession:p}=et({cards:C.sampleSize(t.cards,be.DRAWINGS),drawings:[],cardIndex:0,screen:"idle"}),{updateLocalStorage:g}=De({key:be.KEY,gameId:t.id,defaultValue:s});y.useEffect(()=>{g(a)},[a]);const f=l.cards[l.cardIndex],_=()=>{N("timer"),p({screen:"playing"})},n=async m=>{if(l.cardIndex<l.cards.length-1)return N("timer"),d(x=>({...x,drawings:[...x.drawings,JSON.stringify(m)],cardIndex:x.cardIndex+1}));l.cardIndex===l.cards.length-1&&(N("win"),p({screen:"saving"}),await Sn(1e3),c({...l,drawings:yn([...l.drawings,JSON.stringify(m)])}))},o=Al(()=>{i({played:!0}),p({screen:"idle"}),ee(re(be.KEY,"played"))});Me({key:be.KEY,isComplete:a.played});const c=m=>{const x=m.drawings.reduce((u,h,b)=>{if(h.length>50){const v=m.cards[b];u[`${v.id}${$t}${Date.now()}`]={drawing:h,cardId:v.id,level:v.level,playerId:r.id,successRate:0,text:v.text}}return u},{});o.mutate(x)};return{cardNumber:l.cardIndex+1,card:f,isPlaying:l.screen==="playing",isIdle:l.screen==="idle",isSaving:l.screen==="saving"||o.isPending,alreadyPlayed:a.played,onStart:_,onNextCard:n}}const cn=be.DURATION/be.DRAWINGS;function El({onNextCard:t,maxWidth:r}){const[s,a]=y.useState([]),{timeLeft:i}=En({duration:cn+2,autoStart:!0,onExpire:()=>{t(s)}});return e.jsxs(G,{className:"full-width",vertical:!0,style:{maxWidth:r},children:[e.jsx(Nn,{value:i-1,total:cn,className:"picaco-time-bar"}),i<12&&e.jsx(pa,{lines:s,className:je("zoomIn",{speed:"faster"}),setLines:a,strokeWidth:"small",style:{transform:`scale(${r/500})`,transformOrigin:"top center"}})]})}function Rl({date:t}){return e.jsx(Pe,{date:t,basicRules:e.jsx(j,{pt:e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"Contribua com o banco de dados do TD!"}),e.jsx("li",{children:"A cada 10 segundos, você irá ler uma expressão e desenhar."}),e.jsx("li",{children:"Após 6 expressões, ou 1 minuto, seus desenhos serão salvos no banco de dados."}),e.jsx("li",{children:"Tente fazer o melhor possível, evite pornografia, e foque nos detalhes."}),e.jsx("li",{children:"Boa sorte!"})]}),en:e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"Contribute to TD's database!"}),e.jsx("li",{children:"Every 10 seconds, you will read an expression and draw."}),e.jsx("li",{children:"After 6 expressions or 1 minute, your drawings will be saved in the database"}),e.jsx("li",{children:"Try to do your best possible, avoid NSFW content, and focus on the details."}),e.jsx("li",{children:"Good luck!"})]})})})}function Cl({data:t,currentUser:r}){const[s]=y.useState(Ui(t)),{cardNumber:a,card:i,onNextCard:l,isPlaying:d,isIdle:p,isSaving:g,alreadyPlayed:f,onStart:_}=Il(t,r,s),[n,o]=gt(),[c,m]=gt(),x=y.useMemo(()=>{const u=o.width-24,h=o.height-m.height-24;return Math.max(Math.min(u,h,500),150)},[o.height,o.width,m.height]);return e.jsxs(fe,{className:"app",children:[e.jsxs(_e,{icon:e.jsx(An,{}),localStorageKey:be.KEY,children:["TD ",e.jsx(z,{children:be.NAME})," #",t.number]}),e.jsxs(ge,{ref:n,children:[e.jsxs("div",{ref:c,children:[e.jsx(Se,{hearts:0,total:0,openRules:!0,rules:e.jsx(Rl,{date:t.id})}),f&&e.jsxs(mt,{className:"info-screen",children:[e.jsx(D,{icon:e.jsx(Pn,{})}),e.jsx(j,{pt:"Você já jogou hoje!",en:"You've already played today!"}),e.jsx(j,{pt:"Volte amanhã para jogar novamente!",en:"Come back tomorrow to play again!"}),e.jsx(ht,{}),e.jsx(Le,{})]}),!f&&!g&&e.jsx(X,{children:e.jsx($n,{header:d?`#${a}`:"?",color:"gold",className:d?je("tada"):"invisible",children:d?i.text:"Lorem ipsum dolor sit amet, consectetur adipisci elit, sed eiusmod tempor incidunt ut labore et dolore."},d?i.id:"none")})]}),d&&e.jsx(X,{children:e.jsx(El,{maxWidth:x,onNextCard:l},i.id)}),g&&e.jsxs(mt,{className:"info-screen",children:[e.jsx(D,{icon:e.jsx(ys,{})}),e.jsx(j,{pt:"Salvando",en:"Saving"})]}),p&&!f&&e.jsx(X,{children:e.jsxs(X,{vertical:!0,children:[e.jsx(mt,{contained:!0,children:e.jsx(j,{pt:e.jsxs(e.Fragment,{children:["Você tem ",e.jsx(Xs,{children:be.DURATION/be.DRAWINGS})," segundos para fazer cada um dos ",be.DRAWINGS," desenhos.",e.jsx("br",{}),"Você ",e.jsx("strong",{children:"NÃO"})," pode usar letras ou números.",e.jsx("br",{}),'O tempo começa assim que você aperta "Começar".']}),en:e.jsxs(e.Fragment,{children:["You have ",e.jsx(Xs,{children:be.DURATION/be.DRAWINGS})," seconds to draw each of the ",be.DRAWINGS," drawings.",e.jsx("br",{}),"You ",e.jsx("strong",{children:"CANNOT"})," use letters or numbers.",e.jsx("br",{}),'The time starts as soon as you press "Start".']})})}),e.jsx(J,{type:"primary",size:"large",onClick:_,disabled:f,children:g?e.jsx(j,{pt:"Salvando",en:"Saving"}):e.jsx(j,{pt:"Começar",en:"Start"})})]})})]})]})}function Nl(){return e.jsx(Oe,{gameName:"artista",GameComponent:Cl})}function Ol(t,r){const{message:s}=st.useApp(),{translate:a}=te(),{state:i,setState:l}=ke(r),{session:d,updateSession:p}=et({activeThing:null,activeArea:null}),{updateLocalStorage:g}=De({key:Ge.KEY,gameId:t.id,defaultValue:r});y.useEffect(()=>{g(i)},[i]);const f=h=>{N("select"),p({activeThing:h})},_=h=>{d.activeThing&&(N("swap"),p({activeArea:h}))},n=()=>{if(!d.activeThing&&d.activeArea===null)return;let h=!1;d.activeThing?.rule===d.activeArea?(h=!0,N("correct"),s.success({content:a("Correto!","Correct!")})):(h=!1,N("wrong"),Ve("wrong"),s.error({content:a("Incorreto!","Incorrect!")})),l(b=>{const v=C.cloneDeep(b);if(d.activeThing&&d.activeArea!==null){v.hand=v.hand.filter(R=>R.id!==d.activeThing?.id);const S={thingId:d.activeThing.id,sectionId:d.activeArea,result:d.activeArea};if(d.activeThing.rule===1?v.rule1Things.push(d.activeThing):d.activeThing.rule===2?v.rule2Things.push(d.activeThing):d.activeThing.rule===0&&v.intersectingThings.push(d.activeThing),!h){if(S.result=!1,v.hearts-=1,v.deck.length>0){const R=v.deck.pop();R&&v.hand.push(R)}v.hearts===0&&(N("lose"),Ve("lose"),v.status=O.LOSE,ee(re(Ge.KEY,"lose")))}v.guesses.push(S),p({activeThing:null,activeArea:null}),v.hand.length===0&&(v.status=O.WIN,ee(re(Ge.KEY,"win")),N("win"))}return v})},o=i.status===O.WIN,c=i.status===O.LOSE,m=o||c;Me({key:Ge.KEY,isComplete:m});const{showResultModal:x,setShowResultModal:u}=Qe(m);return{hearts:i.hearts,showResultModal:x,setShowResultModal:u,isWin:o,isLose:c,isComplete:m,hand:i.hand,rule1Things:i.rule1Things,rule2Things:i.rule2Things,intersectingThings:i.intersectingThings,guesses:i.guesses,activeThing:d.activeThing,activeArea:d.activeArea,onSelectThing:f,onSelectArea:_,onConfirmPlacement:n,isWeekend:i.isWeekend}}function kl({leftCircleChildren:t,rightCircleChildren:r,intersectionChildren:s,...a}){return e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 760 500",...a,children:[e.jsx("path",{fill:"#fbb03b",stroke:"#000",strokeMiterlimit:"10",strokeWidth:"5",d:"M252.78 3.5c-136.42 0-247 110.59-247 247s110.59 247 247 247 247-110.59 247-247-110.59-247-247-247zm.99 483.07C123.39 486.57 17.7 380.88 17.7 250.5S123.39 14.43 253.77 14.43 489.84 120.12 489.84 250.5 384.15 486.57 253.77 486.57z"}),e.jsx("path",{fill:"#f15a24",stroke:"#000",strokeMiterlimit:"10",strokeWidth:"5",d:"M508.22 3.5c-136.41 0-247 110.59-247 247s110.59 247 247 247 247-110.59 247-247-110.58-247-247-247zm.99 483.07c-130.38 0-236.07-105.69-236.07-236.07S378.84 14.43 509.22 14.43 745.29 120.12 745.29 250.5 639.6 486.57 509.22 486.57z"}),e.jsx("path",{fill:"#eee",d:"M487.34 250.5c0-62.39-24.29-121.04-68.41-165.16a235.9 235.9 0 00-37.43-30.47 235.35 235.35 0 00-37.43 30.47c-44.12 44.11-68.41 102.77-68.41 165.16s24.29 121.04 68.41 165.16a235.9 235.9 0 0037.43 30.47 235.35 235.35 0 0037.43-30.47c44.12-44.11 68.41-102.77 68.41-165.16z"}),e.jsx("path",{fill:"#eee",d:"M258.72 250.5c0-66.64 25.95-129.3 73.08-176.42a253.125 253.125 0 0134.1-28.57c-33.98-18.65-72.29-28.57-112.13-28.57-62.39 0-121.04 24.29-165.16 68.41C44.5 129.46 20.2 188.11 20.2 250.5s24.29 121.04 68.41 165.16c44.11 44.12 102.77 68.41 165.16 68.41 39.84 0 78.15-9.92 112.13-28.57a252.507 252.507 0 01-34.1-28.57c-47.12-47.12-73.08-109.78-73.08-176.42zM674.37 85.34C630.25 41.22 571.6 16.93 509.21 16.93c-40.27 0-78.98 10.14-113.24 29.18 11.74 8.26 22.86 17.6 33.22 27.96 47.12 47.12 73.08 109.78 73.08 176.42s-25.95 129.3-73.08 176.42a252.312 252.312 0 01-33.22 27.96c34.25 19.04 72.96 29.18 113.24 29.18 62.39 0 121.04-24.29 165.16-68.41 44.12-44.11 68.41-102.77 68.41-165.16s-24.29-121.04-68.41-165.16z"}),e.jsx("foreignObject",{x:"30",y:"25",width:"250",height:"450",children:e.jsx("div",{className:"venn-diagram__circle-content-left",children:t})}),e.jsx("foreignObject",{x:"480",y:"25",width:"250",height:"450",children:e.jsx("div",{className:"venn-diagram__circle-content-right",children:r})}),e.jsx("foreignObject",{x:"290",y:"65",width:"182",height:"370",children:e.jsx("div",{className:"venn-diagram__circle-content-intersection",children:s})})]})}function yt({itemId:t,name:r,width:s=50,className:a,minimize:i}){return e.jsxs(G,{vertical:!0,align:"center",className:U("thing",a),children:[!i&&e.jsx(de,{itemId:t,width:Math.max(Math.min(s,100),35),padding:0,className:"thing__sprite",title:mr(r)}),e.jsx(E.Text,{code:!0,className:"thing__name",children:r},t)]})}function pt({things:t,width:r}){return e.jsx(e.Fragment,{children:t.map((s,a,i)=>{const l=a===i.length-1;return e.jsx(yt,{itemId:s.id,name:s.name,width:r*(l?2:1),className:"thing-enlarged",minimize:i.length>3&&!l},s.id)})})}function Dl({activeThing:t,activeArea:r,onSelectArea:s,onConfirmPlacement:a,rule1Things:i,rule2Things:l,intersectingThings:d}){const p={1:e.jsx(j,{pt:"no círculo da esquerda",en:"in the left circle?"}),2:e.jsx(j,{pt:"no círculo da direita",en:"in the right circle?"}),0:e.jsx(j,{pt:"na interseção",en:"in the intersection?"}),null:e.jsx(j,{pt:"",en:""})}[String(r)]??e.jsx(j,{pt:"",en:""}),g={1:i,2:l,0:d,null:[]}[String(r)]??[];return e.jsx(xe,{title:e.jsxs(e.Fragment,{children:[e.jsx(j,{pt:`Tem certeza que quer colocar ${t?.name} `,en:`Are you sure you want to place ${t?.name} `}),p]}),open:!0,onCancel:()=>s(null),cancelText:e.jsx(j,{pt:"Não",en:"No"}),onOk:()=>a(),okText:e.jsx(j,{pt:"Sim",en:"Yes"}),children:e.jsxs(q,{children:[t&&e.jsx(yt,{itemId:t?.id,name:t?.name,width:50}),e.jsx(ya,{}),e.jsxs(G,{wrap:"wrap",align:"center",justify:"center",gap:6,className:"diagram-area-sample",children:[g.map(f=>e.jsx(yt,{itemId:f.id,name:f.name,width:50},f.id)),(r===1||r===2)&&d.map(f=>e.jsx(yt,{itemId:f.id,name:f.name,width:50},f.id))]})]})})}function Ml({challengeNumber:t,isWin:r,hearts:s,guesses:a,data:i,isWeekend:l}){const{language:d}=te(),p=y.useMemo(()=>Ws({type:"teoria-de-conjuntos",challengeNumber:t,remainingHearts:s,totalHearts:Ge.HEARTS,language:d,guesses:a,isWeekend:l}),[t,s,d,a,l]);return e.jsxs(X,{vertical:!0,children:[e.jsx(E.Title,{level:2,className:"center",children:r?e.jsxs(e.Fragment,{children:[e.jsx(D,{icon:e.jsx(Ye,{})})," ",e.jsx(j,{pt:"Parabéns!",en:"Congratulations!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{icon:e.jsx(Je,{})})," ",e.jsx(j,{pt:"Que pena!",en:"Too bad!"})]})}),e.jsxs(E.Paragraph,{className:"center",children:["Regra do círculo"," ",e.jsx(D,{icon:e.jsx(Js,{mainColor:"gold"}),size:"small"}),e.jsx("br",{}),e.jsxs(E.Text,{code:!0,children:[" ",i.rule1.text]})]}),e.jsxs(E.Paragraph,{className:"center",children:["Regra do círculo"," ",e.jsx(D,{icon:e.jsx(Js,{mainColor:"red"}),size:"small"}),e.jsx("br",{}),e.jsxs(E.Text,{code:!0,children:[" ",i.rule2.text]})]}),e.jsx(Xe,{result:p,rows:3}),e.jsx(Le,{})]})}function Ll({date:t}){return e.jsx(Pe,{date:t,basicRules:dn(!1),weekendRules:dn(!0),additionalRules:e.jsx(j,{pt:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Dicas:"}),e.jsx("li",{children:'Para entender melhor as regras de cada círculo, clique no botão "Entenda as regras gramaticais"'})]}),en:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Tips:"}),e.jsx("li",{children:'To better understand the rules of each circle, click the "Understand the grammar rules" button'})]})})})}const dn=t=>{const r=Ge.HEARTS+(t?1:0);return e.jsx(j,{pt:e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"Existem dois círculos conectados formando um diagrama com uma intercessão."}),e.jsx("li",{children:'Cada um dos dois círculo possui uma regra gramatical secreta que pode ir desde "Começa com B" ou "Tem três sílabas" ou "Tem mais consoantes que vogais", etc.'}),e.jsx("li",{children:'Para começar, existe uma "coisa" em cada uma das áreas do diagrama. A coisa na área central obedece a regra do círculo amarelo e a do vermelho, enquanto a coisa em só um lado obedece somente a regra daquele círculo. Teoria de conjuntos básica! Matemática 5a série.'}),e.jsxs("li",{children:["O objetivo é você colocar ",r," coisas, uma a uma, na área correta do diagrama."]}),e.jsxs("li",{children:["Se você colocar uma coisa na área errada, o jogo vai colocar a coisa na área correta, você perde um coração ",e.jsx(H,{}),", e ganha uma nova coisa para posicionar."]}),e.jsxs("li",{children:["Você tem ",r," ",e.jsx(H,{})," chances. Boa sorte!"]})]}),en:e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"There are two connected circles forming a diagram with an intersection."}),e.jsx("li",{children:'Each of the two circles has a secret grammar rule that can range from "Starts with B" or "Has three syllables" or "Has more consonants than vowels"'}),e.jsx("li",{children:'To start, there is a "thing" in each of the diagram areas. The thing in the central area obeys the rule of the yellow circle and the red one, while the thing on just one side obeys only the rule of that circle. Basic set theory! 5th grade math.'}),e.jsxs("li",{children:["The goal is for you to place ",r," things, one by one, in the correct area of the diagram."]}),e.jsxs("li",{children:["If you place a thing in the wrong area, the game will place the thing in the correct area, you lose a heart ",e.jsx(H,{}),", and gain a new thing to position."]}),e.jsxs("li",{children:["You have ",r," ",e.jsx(H,{})," chances. Good luck!"]})]})})};function hr({label:t,title:r,description:s,children:a}){const[i,l]=la(!1);return e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"rules-hints",children:e.jsx(J,{onClick:()=>l(!0),icon:e.jsx($r,{}),ghost:!0,children:t})}),e.jsxs(xe,{title:e.jsx(j,{pt:r,en:r}),open:i,footer:null,onCancel:l,children:[e.jsx(E.Paragraph,{children:s}),a]})]})}function $e({category:t,hints:r}){return e.jsxs(e.Fragment,{children:[e.jsxs(E.Paragraph,{children:[e.jsxs(E.Text,{strong:!0,children:[t,": "]}),r.join(", "),"."]}),e.jsx("ul",{})]})}function Pl(){return e.jsxs(hr,{label:e.jsx(j,{pt:"Entenda as regras gramaticais",en:"Understand the grammar rules"}),title:e.jsx(j,{pt:"Regras gramaticais",en:"Grammar rules"}),description:e.jsxs(e.Fragment,{children:["O título do jogo diário contém dicas sobres as regras gramaticais secretas dos círculos em forma de categorias.",e.jsx("br",{}),"As estrelas é a classificação do nível de dificuldade das regras (1-5)."]}),children:[e.jsx($e,{category:"Comparação",hints:["Quantidade de vogais vs consoantes ou posição"]}),e.jsx($e,{category:"Contagem",hints:["Contém um número específico de letras, vogais, consoantes, ou sílabas"]}),e.jsx($e,{category:"Gramática",hints:["Sílaba tônica, origem, gênero"]}),e.jsx($e,{category:"Inclusão",hints:["Contém uma ou mais letras específicas"]}),e.jsx($e,{category:"Inicialização",hints:["Começa com uma letra (ou letras) específica"]}),e.jsx($e,{category:"Repetição",hints:["Contém letras repetidas ou repetidas de maneira específica"]}),e.jsx($e,{category:"Sequência",hints:["Contém uma sequência de letras específica"]}),e.jsx($e,{category:"Terminação",hints:["Termina com uma letra (ou letras) específica"]})]})}function $l({data:t}){const[r]=y.useState(Vs(t)),{hearts:s,showResultModal:a,setShowResultModal:i,isWin:l,isComplete:d,hand:p,rule1Things:g,rule2Things:f,intersectingThings:_,activeThing:n,activeArea:o,onSelectThing:c,onSelectArea:m,onConfirmPlacement:x,guesses:u,isWeekend:h}=Ol(t,r),[b,v]=gt(),S=y.useMemo(()=>{const R=v.width/6-16;return Math.min(Math.max(R,48),96)},[v.width]);return e.jsxs(fe,{className:"app",children:[e.jsxs(_e,{icon:e.jsx(Hr,{}),localStorageKey:Ge.KEY,children:[e.jsx(z,{children:Ge.NAME})," #",t.number]}),e.jsxs(ge,{ref:b,children:[e.jsx(Se,{hearts:s,total:Ge.HEARTS+(h?1:0),openRules:!0,rules:e.jsx(Ll,{date:t.id})}),e.jsxs(q,{children:[e.jsx(E.Text,{strong:!0,className:"teoria-de-conjuntos-title",children:t.title}),e.jsx(js,{title:e.jsx(j,{pt:"Dificuldade",en:"Difficulty"}),children:e.jsx(Sa,{disabled:!0,value:t.level,count:t.level})})]}),e.jsx(q,{children:e.jsx(kl,{width:Math.min(v.width-16,600),leftCircleChildren:d?e.jsx(pt,{things:g,width:S}):e.jsx(ze,{onClick:()=>m(1),disabled:d,hoverType:"none",children:e.jsx(pt,{things:g,width:S})}),rightCircleChildren:d?e.jsx(pt,{things:f,width:S}):e.jsx(ze,{onClick:()=>m(2),disabled:d,hoverType:"none",children:e.jsx(pt,{things:f,width:S})}),intersectionChildren:d?e.jsx(pt,{things:_,width:S}):e.jsx(ze,{onClick:()=>m(0),disabled:d,hoverType:"none",children:e.jsx(pt,{things:_,width:S})})})}),d?e.jsx(He,{children:e.jsx(j,{pt:"Você já completou o desafio!",en:"You have already completed the challenge!"})}):e.jsx(He,{children:e.jsx(j,{pt:"Selecione uma coisa e coloque na área correta:",en:"Select a thing and place it in the correct area:"})}),e.jsx(Ze,{isComplete:d,setShowResultModal:i}),e.jsx(q,{className:"space-center",orientation:"horizontal",wrap:!0,children:p.map(R=>e.jsx(ze,{className:U("thing-button",je("heartBeat")),activeClass:"thing-button__active",onClick:()=>c(R),active:R.id===n?.id,disabled:d,hoverType:"none",children:e.jsx(yt,{itemId:R.id,name:R.name,width:S})},R.id))}),e.jsx(Pl,{}),n&&o!==null&&e.jsx(Dl,{activeThing:n,activeArea:o,onSelectArea:m,onConfirmPlacement:x,rule1Things:g,rule2Things:f,intersectingThings:_}),e.jsx(xe,{open:a,onCancel:()=>i(!1),footer:null,children:e.jsx(Ml,{challengeNumber:t?.number,isWin:l,hearts:s,guesses:u,data:t,isWeekend:h})})]})]})}function Hl(){return e.jsx(Oe,{gameName:"teoria-de-conjuntos",GameComponent:$l})}function Fl(t,r){const{message:s}=st.useApp(),{translate:a}=te(),{state:i,updateState:l}=ke(r),{session:d,setSession:p,updateSession:g}=et({selection:[null,null,null,null],slotIndex:null,latestAttempt:null}),{updateLocalStorage:f}=De({key:qe.KEY,gameId:t.id,defaultValue:r});y.useEffect(()=>{f(i)},[i]);const _=v=>{g({slotIndex:v})},n=v=>{if(d.selection.includes(v))g({selection:d.selection.map(S=>S===v?null:S)}),N("bubbleOut");else{const S=d.slotIndex??d.selection.indexOf(null);S!==-1&&(p(R=>{const I=[...d.selection];return I[S]=v,{...R,selection:I,slotIndex:null}}),N("bubbleIn"))}},o=()=>{const v=d.selection.join("-");if(i.guesses.includes(v))return s.warning({content:a("Você já tentou essa combinação. Tente outra!","You already tried this combination. Try another one!"),duration:5}),N("wrong"),Ve("wrong"),g({latestAttempt:Date.now()});const S=t.solution===v;S||s.warning({content:a("Combinação incorreta. Tente novamente!","Incorrect combination. Try again!"),duration:3});let R=i.status;const I=S?i.hearts:i.hearts-1;S?(N("alienYay"),R=O.WIN,ee(re(qe.KEY,"win"))):(N("alienBoo"),Ve("lose")),I===0&&(R=O.LOSE,ee(re(qe.KEY,"lose"))),l({guesses:[...i.guesses,v],hearts:I,status:R}),g({latestAttempt:Date.now()})},c=i.status===O.WIN,m=i.status===O.LOSE,x=c||m;Me({key:qe.KEY,isComplete:x});const{showResultModal:u,setShowResultModal:h}=Qe(c||m||x),b=d.selection.filter(Boolean).length===t.requests.length;return{hearts:i.hearts,guesses:i.guesses,selection:d.selection,latestAttempt:d.latestAttempt,slotIndex:d.slotIndex,showResultModal:u,setShowResultModal:h,isWin:c,isLose:m,isComplete:x,onSlotClick:_,onItemClick:n,submitGuess:o,isReady:b}}function ql({guesses:t,attributes:r,requests:s,challengeNumber:a,win:i,solution:l,width:d,hearts:p}){const{language:g}=te(),f=y.useMemo(()=>ks({type:"comunicacao-alienigena",language:g,challengeNumber:a,totalHearts:qe.HEARTS,remainingHearts:p,guesses:t,solution:l}),[a,t,g,l,p]);return e.jsxs(X,{vertical:!0,children:[e.jsx(E.Title,{level:2,className:"center",children:i?e.jsxs(e.Fragment,{children:[e.jsx(D,{icon:e.jsx(Ye,{})})," ",e.jsx(j,{pt:"Parabéns!",en:"Congratulations!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{icon:e.jsx(Je,{})})," ",e.jsx(j,{pt:"Que pena!",en:"Too bad!"})]})}),e.jsx(E.Paragraph,{className:"center",children:i?e.jsx(j,{pt:"O alienígena abduziu todos os itens!",en:"The alien abducted all items!"}):e.jsx(j,{pt:"O alienígena vai destruir a Terra porque você não entregou as coisas certas!",en:"The alien will destroy Earth because you didn't deliver the right items!"})}),e.jsx(q,{children:e.jsx(G,{className:"alien-requests",gap:8,children:s.map((_,n)=>e.jsx(le.div,{...pe("fadeIn",{delay:n*.2}),children:e.jsx(de,{itemId:_.itemId,width:d,padding:0,className:"transparent"})},_.itemId))})}),e.jsx(ue,{orientation:"vertical",children:r.map(_=>e.jsxs(G,{gap:6,children:[e.jsx(bt,{signId:_.spriteId,width:d}),e.jsxs(G,{vertical:!0,children:[e.jsx(E.Text,{strong:!0,children:_.name}),e.jsx(E.Text,{italic:!0,children:_.description})]})]},_.id))}),e.jsx(Xe,{result:f,rows:3}),e.jsx(Le,{})]})}function Gl({date:t}){return e.jsx(Pe,{date:t,basicRules:e.jsx(j,{pt:e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"O alienígena precisa de sua ajuda para abduzir 4 coisas, porém ele não fala a língua dos terráqueos."}),e.jsx("li",{children:"O alienígena se comunica através de símbolos que representam um atributo em comum entre os exemplos dados."}),e.jsx("li",{children:"Por exemplo, o que uma bola, uma melancia e uma pizza tem em comum? Todos são redondos! Será que o alienígena quer dizer que aquele símbolo significa redondo?"}),e.jsx("li",{children:"Você deve entregar as 4 coisas na ordem correta de uma vez. O alienígena apenas te diz se todas estão corretas ou não."}),e.jsxs("li",{children:["Cada tentativa errada remove um coração e você tem apenas ",qe.HEARTS," ",e.jsx(H,{}),"."]}),e.jsx("li",{children:"Boa sorte!"})]}),en:e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"The alien needs to abduct some things, but it can't speak our language."}),e.jsx("li",{children:"The alien communicates through symbols that represent a common attribute between the given examples."}),e.jsx("li",{children:"For example, what does a ball, a watermelon, and a pizza have in common? They're all round! Does the alien mean that symbol represents round?"}),e.jsx("li",{children:"You must deliver 4 things in the correct order and press send. The alien only tells you if all are correct or not."}),e.jsxs("li",{children:["Each wrong attempt removes a heart and you only have 3 ",e.jsx(H,{}),"."]}),e.jsx("li",{children:"Good luck!"})]})}),additionalRules:e.jsx(j,{pt:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Dicas:"}),e.jsx("li",{children:'Para entender melhor os símbolos, clique no botão "Entenda como o alienígena pensa"'})]}),en:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Tips:"}),e.jsx("li",{children:'To better understand the symbols, click the "Understand how the alien thinks" button'})]})})})}function Yl(){return e.jsxs(hr,{label:e.jsx(j,{pt:"Entenda como o alienígena pensa",en:"Understand how the alien thinks"}),title:e.jsx(j,{pt:"Regras dos atributos",en:"Attributes rules"}),description:e.jsxs(e.Fragment,{children:["O alienígena pensa em conceitos gerais e agrupa coisas comuns em atributos abrangentes.",e.jsx("br",{}),'Por exemplo, líquido e aquático serão classificados como "líquido", enquanto "instrumento" e "utensílio" serão classificados como "instrumentos".']}),children:[e.jsx($e,{category:"Fáceis",hints:["Afiado","Arma","Brinquedo","Comida","Frio","Vestimenta","Planta","Quente","Vôo","Transporte"]}),e.jsx($e,{category:"Médios",hints:["Brilho/Luz","Construção","Escrita","Humano","Vivo","Líquido","Local","Madeira","Máquina","Metal","Novo/Jovem","Plástico","Recipiente","Redondo","Tecnologia"]}),e.jsx($e,{category:"Difíceis",hints:["Altura","Cultura","Grande","Longo","Mítico/Espiritual","Natural","Perigo","Pesado","Plano","Tabu/Polêmico","Valioso","Velho/Obsoleto"]}),e.jsx($e,{category:"Confusos",hints:["Acessórios","Bonito","Conhecimento","Defesa/Proteção","Força","Macio","Parte/Pedaço","Pequeno","Rápido","Som"]}),e.jsx($e,{category:"Entregue a Deus",hints:["Botões","Cheiro/Fedor","Duro","Ferramenta","Frágil","Instrumento/Utensílio","Segurável/Alças"]})]})}function Vl({data:t}){const[r]=y.useState(Os(t)),{hearts:s,selection:a,showResultModal:i,setShowResultModal:l,isWin:d,isLose:p,isComplete:g,onItemClick:f,onSlotClick:_,slotIndex:n,isReady:o,submitGuess:c,latestAttempt:m,guesses:x}=Fl(t,r),u=ct(7,{margin:64,maxWidth:75,minWidth:55}),h=m&&!g,b=y.useMemo(()=>x.map(v=>v.split("-")),[x]);return e.jsxs(fe,{className:"app",children:[e.jsxs(_e,{icon:e.jsx(Fr,{}),localStorageKey:qe.KEY,children:["TD ",e.jsx(z,{children:qe.NAME})," #",t.number]}),e.jsxs(ge,{children:[e.jsx(Se,{hearts:s,total:qe.HEARTS,openRules:!g||s===qe.HEARTS,rules:e.jsx(Gl,{date:t.id})}),e.jsxs(q,{children:[e.jsx(E.Text,{strong:!0,children:e.jsx(j,{pt:"O alienígena entende que isso é aquilo:",en:"The alien understands that this is that:"})}),e.jsx(ue,{orientation:"vertical",className:"alien-attributes",children:t.attributes.map(v=>e.jsxs(G,{className:"alien-attributes__attribute",gap:8,children:[e.jsx(bt,{signId:v.spriteId,width:u,className:"alien-attributes__sign"}),e.jsx(wa,{}),e.jsx(G,{className:"alien-attributes__items",children:v.itemsIds.map(S=>e.jsx(kn,{children:e.jsx(de,{itemId:S,width:u-12,className:"alien-attributes__item",padding:0})},S))})]},v.id))})]}),e.jsx(Ze,{isComplete:g,setShowResultModal:l}),e.jsxs(q,{className:h?je("shakeX"):"",children:[e.jsx(E.Text,{strong:!0,children:e.jsx(j,{pt:"O alienígena quer isso:",en:"The alien wants these:"})}),e.jsx(G,{className:"alien-requests",gap:8,children:t.requests.map((v,S)=>{const R=a[S];return e.jsxs(G,{vertical:!0,className:"alien-requests__request",align:"center",justify:"flex-start",children:[e.jsx(rt,{className:"mb-2",children:S+1}),e.jsxs(G,{vertical:!0,className:"alien-requests__attributes",align:"center",children:[e.jsx(bt,{signId:v.spritesIds[2],width:u-12,className:"alien-requests__sign"}),e.jsx(bt,{signId:v.spritesIds[1],width:u-12,className:"alien-requests__sign"}),e.jsx(bt,{signId:v.spritesIds[0],width:u-12,className:"alien-requests__sign"})]}),R?e.jsx(ze,{onClick:()=>f(R),className:"mt-1",disabled:g,children:e.jsx(de,{itemId:R,width:p?u/2:u,padding:0})}):e.jsx(ze,{onClick:()=>_(S),className:"mt-3",disabled:g,active:n===S,activeClass:"alien-request__slot--active",children:e.jsx(rt,{shape:"square",size:"large",children:"?"})}),g&&e.jsx(de,{itemId:v.itemId,width:u,padding:6,className:U("alien-request__answer mt-2",je("zoomIn"))})]},v.itemId)})}),g&&e.jsx(X,{orientation:"vertical",children:b.map(v=>e.jsx(ue,{children:v.map(S=>e.jsx(de,{itemId:S,width:Math.max(u/2,40),padding:3,className:"alien-requests__previous-item mx-2"},S))},String(v)))}),o&&!g&&e.jsx(q,{children:e.jsx(J,{type:"primary",onClick:c,children:e.jsx(j,{pt:"Enviar",en:"Submit"})})})]},m),e.jsxs(q,{children:[e.jsx(E.Text,{strong:!0,children:e.jsx(j,{pt:"E essas são as coisas disponíveis:",en:"And these are the available things:"})}),e.jsx(X,{wrap:!0,children:t.itemsIds.map(v=>e.jsx(ze,{onClick:()=>f(v),disabled:g||o||a.includes(v),className:"alien-items__item-button",children:e.jsx(de,{itemId:v,width:u,padding:0})},v))})]}),!g&&b.length>0&&e.jsxs(q,{children:[e.jsx(E.Text,{strong:!0,children:e.jsx(j,{pt:"Tentativas anteriores",en:"Previous Guesses:"})}),e.jsx(ue,{orientation:"vertical",className:"previous-guesses",children:b.map(v=>e.jsx(ue,{children:v.map(S=>e.jsx(de,{itemId:S,width:Math.max(u/2,40),padding:0,className:"alien-requests__previous-item"},S))},String(v)))})]}),e.jsx(xe,{open:i,onCancel:()=>l(!1),footer:null,children:e.jsx(ql,{challengeNumber:t.number,win:d,guesses:x,hearts:s,attributes:t.attributes,requests:t.requests,solution:t.solution,width:u*.65})}),e.jsx(q,{children:e.jsx(Yl,{})})]})]})}function Wl(){return e.jsx(Oe,{gameName:"comunicacao-alienigena",GameComponent:Vl})}function zl(t,r){const{message:s}=st.useApp(),{translate:a}=te(),{state:i,setState:l,updateState:d}=ke(r),{updateLocalStorage:p}=De({key:Re.KEY,gameId:t.id,defaultValue:r});y.useEffect(()=>{p(i)},[i]),y.useEffect(()=>{d({currentCorridorIndexes:t.corridors[i.currentCorridorIndex].words.map(()=>1)})},[i.currentCorridorIndex]);const g=x=>{l(()=>{const u=C.cloneDeep(i),h=t.corridors[u.currentCorridorIndex].words[0].length,b=u.currentCorridorIndexes[x]>=h-1?0:u.currentCorridorIndexes[x]+1;return u.currentCorridorIndexes[x]=b,u.moves[u.currentCorridorIndex]+=1,u}),N("swap")},f=()=>{l(x=>{const u=C.cloneDeep(x),h=t.corridors[u.currentCorridorIndex].words[0].length,b=t.corridors[u.currentCorridorIndex].passcode,v=u.currentCorridorIndexes.map((R,I)=>t.corridors[u.currentCorridorIndex].words[I][h-1-R]).join("");u.guesses[u.currentCorridorIndex].push(v);const S=v===b;return S?(u.currentCorridorIndex+=1,s.success({content:a(`Você acertou: ${b.toUpperCase()}!`,`Correct: ${b}`),duration:3}),N(u.currentCorridorIndex===t.corridors.length?"win":"sparks")):(u.hearts-=1,s.warning({content:a("Palavra-chave incorreta. Tente novamente!","Incorrect passcode. Try again!"),duration:3}),N(u.hearts<=0?"lose":"wrong")),S&&u.currentCorridorIndex===t.corridors.length&&(u.status=O.WIN,ee(re(Re.KEY,"win")),u.currentCorridorIndex=2),u.hearts<=0&&(u.status=O.LOSE,ee(re(Re.KEY,"lose"))),u})},_=i.status===O.WIN,n=i.status===O.LOSE,o=_||n;Me({key:Re.KEY,isComplete:o});const{showResultModal:c,setShowResultModal:m}=Qe(_||n||o);return{hearts:i.hearts,guesses:i.guesses,currentCorridorIndex:i.currentCorridorIndex,currentCorridor:t.corridors[i.currentCorridorIndex],currentCorridorIndexes:i.currentCorridorIndexes,moves:i.moves,showResultModal:c,setShowResultModal:m,isWin:_,isLose:n,isComplete:o,onSlideWordPosition:g,onSubmitPasscode:f}}function Bl({challengeNumber:t,win:r,corridors:s,guesses:a,currentCorridorIndex:i,moves:l,hearts:d,goal:p}){const{language:g}=te(),f=y.useMemo(()=>qs({type:"portais-magicos",challengeNumber:t,guesses:a,win:r,language:g,moves:l,totalHearts:Re.HEARTS,remainingHearts:d,goal:p}),[t,a,g,r,l,d,p]);return e.jsxs(X,{vertical:!0,children:[e.jsx(E.Title,{level:2,className:"center",children:r?e.jsxs(e.Fragment,{children:[e.jsx(D,{icon:e.jsx(Ye,{})})," ",e.jsx(j,{pt:"Parabéns!",en:"Congratulations!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{icon:e.jsx(Je,{})})," ",e.jsx(j,{pt:"Que pena!",en:"Too bad!"})]})}),e.jsx(X,{vertical:!0,children:s.map(({passcode:_},n,o)=>e.jsxs(G,{justify:"center",className:"result-passcode",children:[e.jsx(E.Text,{keyboard:!0,children:_})," ",i>n&&a?.[n]?.length||o.length-1===n&&r?"🔶":"💥"]},_))}),e.jsx(Xe,{result:f,rows:4}),e.jsx(Le,{})]})}function Kl({date:t}){return e.jsx(Pe,{date:t,basicRules:e.jsx(j,{pt:e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"Você está diante a portais com imagens fantásticas."}),e.jsx("li",{children:"Organize as palavras de 3 letras até formar a palavra-chave que corresponde à similaridade entre os portais."}),e.jsx("li",{children:"Quando você acerta uma letra, ela se trava em amarelo até você acertar a palavra-chave."}),e.jsx("li",{children:"Você tem que passar por 3 corredores de portas."}),e.jsxs("li",{children:["Cada tentativa errada remove um coração ",e.jsx(H,{}),"."]}),e.jsxs("li",{children:["Você tem ",Re.HEARTS," ",e.jsx(H,{}),". Boa sorte!"]})]}),en:e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"You are facing portals with fantastic images."}),e.jsx("li",{children:"Organize the 3-letter words until you form the keyword that corresponds to the similarity between the portals."}),e.jsx("li",{children:"When you hit a letter, it locks in yellow until you hit the keyword."}),e.jsx("li",{children:"You have to go through 3 corridors of doors."}),e.jsxs("li",{children:["Each wrong attempt removes a heart ",e.jsx(H,{}),"."]}),e.jsxs("li",{children:["You have ",Re.HEARTS," ",e.jsx(H,{}),". Good luck!"]})]})})})}function Ul({passcode:t,latestGuess:r="",words:s,onSlideWordPosition:a,currentCorridorIndexes:i,disabled:l}){const d=s[0].length;return e.jsx("div",{className:"passcode",style:{gridTemplateColumns:`repeat(${s.length}, 1fr)`},children:s.map((p,g)=>{const f=t[g]===r[g];return e.jsxs(le.button,{type:"button",className:U("passcode-word-container"),onClick:()=>a(g),disabled:f||l,...pe("fadeIn",{delay:g*.1}),children:[e.jsx("div",{className:"passcode-letter-outline"}),e.jsx("div",{className:U("passcode-word",`passcode-word--pos-${i[g]}`),children:p.split("").map((_,n)=>e.jsx("span",{className:U("passcode-letter",f&&d-1-i[g]===n&&"passcode-letter--correct"),children:_},`${_}-${n}`))})]},p)})})}function un({number:t,imagesIds:r,width:s,passcode:a,moves:i}){return e.jsxs(e.Fragment,{children:[a?e.jsx(G,{justify:"center",gap:6,children:e.jsx(E.Text,{keyboard:!0,children:a})}):e.jsxs(G,{justify:"center",gap:6,children:[e.jsx(Ut,{number:t,corridorNumber:1}),e.jsx(Ut,{number:t,corridorNumber:2}),e.jsx(Ut,{number:t,corridorNumber:3})]}),e.jsx(G,{justify:"center",className:"mt-2",children:e.jsxs(Jr,{style:{background:"transparent"},children:[i," ",e.jsx(j,{pt:"movimentos",en:"moves"})]})}),e.jsx(Tn.PreviewGroup,{children:e.jsx(X,{className:"corridor",children:r.map((l,d)=>e.jsx(e.Fragment,{children:Qs.isIOS||Qs.isSafari?e.jsx(le.div,{...pe("zoomIn",{delay:d*.1,speed:"fast"}),children:e.jsx(Tt,{cardId:l,cardWidth:s})},l):e.jsx(Aa,{width:s,children:e.jsx(le.div,{...pe("zoomIn",{delay:d*.1,speed:"fast"}),children:e.jsx(Tt,{cardId:l,cardWidth:150})})},l)}))})})]})}function Ut({number:t,corridorNumber:r}){return e.jsx(rt,{style:r===t?{backgroundColor:"gold",color:"black"}:void 0,size:"small",children:r})}function Ql({data:t}){const[r]=y.useState(Fs(t)),{hearts:s,showResultModal:a,setShowResultModal:i,isWin:l,isLose:d,isComplete:p,currentCorridorIndex:g,currentCorridorIndexes:f,currentCorridor:_,guesses:n,moves:o,onSlideWordPosition:c,onSubmitPasscode:m}=zl(t,r),[x,u]=jt(3,{margin:24,gap:12,maxWidth:250,minWidth:55}),h=n[g][n[g].length-1],b=y.useMemo(()=>{const v=t.corridors[g].words[0].length;return f.map((S,R)=>t.corridors[g].words[R]?.[v-1-S]).join("")},[g,f]);return e.jsxs(fe,{className:"app",children:[e.jsxs(_e,{icon:e.jsx(qr,{}),localStorageKey:Re.KEY,children:["TD ",e.jsx(z,{children:Re.NAME})," #",t.number]}),e.jsxs(ge,{ref:u,children:[e.jsx(Se,{hearts:s,total:Re.HEARTS,openRules:!p||s===Re.HEARTS,rules:e.jsx(Kl,{date:t.id})}),_&&!p&&e.jsxs(e.Fragment,{children:[e.jsx(q,{children:e.jsx(un,{number:g+1,imagesIds:_.imagesIds,width:x,moves:o[g]})},`doors-${_?.passcode}`),e.jsx(He,{children:e.jsx(j,{en:"Arrange the words vertically to form the passcode",pt:"Organize as palavras verticalmente para formar a palavra-chave"})}),e.jsx(q,{children:e.jsx(Ul,{passcode:_.passcode,latestGuess:h,words:_.words,currentCorridorIndexes:f,onSlideWordPosition:c,disabled:d})},`passcode-${_?.passcode}`),e.jsx(q,{children:e.jsx(J,{type:"primary",icon:e.jsx(Gr,{}),onClick:m,disabled:b===h||d,className:"mt-4",children:e.jsx(j,{pt:"Enviar palavra-chave",en:"Send passcode"})})}),e.jsx(q,{children:e.jsx(G,{justify:"center",vertical:!0,children:n[g]?.map((v,S)=>e.jsx(E.Text,{type:"secondary",keyboard:!0,className:"uppercase",children:v},`${v}-${S}`))})})]}),p&&t.corridors.map((v,S)=>e.jsx(q,{children:e.jsx(un,{number:S+1,imagesIds:v.imagesIds,width:x*.75,passcode:v.passcode,moves:o[S]})},v.passcode)),e.jsx(Ze,{isComplete:p,setShowResultModal:i}),e.jsx(xe,{open:a,onCancel:()=>i(!1),footer:null,children:e.jsx(Bl,{challengeNumber:t.number,win:l,corridors:t.corridors,guesses:n,currentCorridorIndex:g,moves:o,hearts:s,goal:t.goal??0})})]})]})}function Xl(){return e.jsx(Oe,{gameName:"portais-magicos",GameComponent:Ql})}function Jl(t,r){const{message:s}=st.useApp(),{translate:a}=te(),{state:i,setState:l,updateState:d}=ke(r),{session:p,setSession:g,updateSession:f}=et({selection:[],latestAttempt:0}),{updateLocalStorage:_}=De({key:Ce.KEY,gameId:t.id,defaultValue:r});y.useEffect(()=>{_(i)},[i]);const n=S=>{if(i.status===O.IN_PROGRESS){if(!p.selection.includes(S)&&p.selection.length===4){s.info(a("Você sô pode selecionar 4 de cada vez","You can only select 4 at a time"));return}g(R=>{const I=C.cloneDeep(R);return I.selection.indexOf(S)>-1?(N("bubbleIn"),I.selection=I.selection.filter(A=>A!==S)):(N("bubbleOut"),I.selection.push(S)),I})}},o=()=>{f({selection:[]}),N("bubbleOut")},c=()=>{d({grid:C.shuffle(i.grid)}),N("shuffle")},m=()=>{const S=p.selection.join("-");if(i.guesses.includes(S)){s.info(a("Você já tentou essa combinação","You already tried this combination"));return}const R=ps(p.selection),I=t.sets.find(T=>ps(T.itemsIds)===R);l(T=>{const A=C.cloneDeep(T),w=[...A.guesses,S],$=I?C.difference(A.grid,p.selection):A.grid,L=I?[...A.matches,I]:A.matches,se=I?A.hearts:A.hearts-1;let F=se<=0?O.LOSE:A.status;if(F=L.length===t.sets.length?O.WIN:F,F===O.WIN&&(N("win"),ee(re(Ce.KEY,"win"))),F===O.LOSE){N("lose"),ee(re(Ce.KEY,"lose")),Ve("lose");const k=t.sets.filter(K=>!L.find(Y=>Y.id===K.id));L.push(...k)}return{...A,guesses:w,grid:$,matches:L,hearts:se,status:F}}),I&&i.status!==O.WIN?(N("correct"),f({selection:[]})):(N("wrong"),Ve("wrong"),f({latestAttempt:Date.now()}))},x=i.status===O.WIN,u=i.status===O.LOSE,h=x||u;Me({key:Ce.KEY,isComplete:h});const{showResultModal:b,setShowResultModal:v}=Qe(x||u||h);return{hearts:i.hearts,guesses:i.guesses,grid:i.grid,matches:i.matches,selection:p.selection,latestAttempt:p.latestAttempt,showResultModal:b,setShowResultModal:v,isWin:x,isLose:u,isComplete:h,onSelectItem:n,onDeselectAll:o,onShuffle:c,onSubmit:m}}function Zl({challengeNumber:t,win:r,sets:s,guesses:a,hearts:i}){const{language:l}=te(),d=y.useMemo(()=>Ys({type:"quartetos",challengeNumber:t,sets:s,guesses:a,remainingHearts:i,totalHearts:Ce.HEARTS,language:l}),[t,a,l,s,i]);return e.jsxs(X,{vertical:!0,children:[e.jsx(E.Title,{level:2,className:"center",children:r?e.jsxs(e.Fragment,{children:[e.jsx(D,{icon:e.jsx(Ye,{})})," ",e.jsx(j,{pt:"Parabéns!",en:"Congratulations!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{icon:e.jsx(Je,{})})," ",e.jsx(j,{pt:"Que pena!",en:"Too bad!"})]})}),e.jsx(X,{vertical:!0,children:s.map(p=>e.jsx("div",{className:U("set-result-title",`set-match--set-${p.level}`),children:p.title},p.id))}),e.jsx(Xe,{result:d,rows:5}),e.jsx(Le,{})]})}function ec({date:t}){return e.jsx(Pe,{date:t,basicRules:e.jsx(j,{pt:e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"As coisas na grade foram secretamente agrupadas em grupos de quatro com temas em comum."}),e.jsxs("li",{children:["Forme um grupo de quatro coisas que você acha que estão relacionadas e clique em"," ",e.jsx("strong",{children:"Enviar"}),"."]}),e.jsx("li",{children:"Tente adivinhar os quatro grupos um a um."}),e.jsxs("li",{children:["Cada tentativa errada remove um coração ",e.jsx(H,{}),"."]}),e.jsxs("li",{children:["Você tem ",Ce.HEARTS," ",e.jsx(H,{}),". Boa sorte!"]})]}),en:e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"The things on the grid have been secretly grouped into groups of four with common themes."}),e.jsxs("li",{children:["Form a group of four things that you think are related and click ",e.jsx("strong",{children:"Submit"}),"."]}),e.jsx("li",{children:"Try to guess the four groups one by one."}),e.jsxs("li",{children:["Each wrong attempt removes a heart ",e.jsx(H,{}),"."]}),e.jsxs("li",{children:["You have ",Ce.HEARTS," ",e.jsx(H,{}),". Good luck!"]})]})})})}function tc({data:t}){const[r]=y.useState(Gs(t)),{hearts:s,showResultModal:a,setShowResultModal:i,isWin:l,isComplete:d,grid:p,matches:g,guesses:f,selection:_,onSelectItem:n,onDeselectAll:o,onShuffle:c,onSubmit:m,latestAttempt:x}=Jl(t,r),[u,h]=jt(4,{margin:48,gap:12,maxWidth:96,minWidth:55}),b=x&&!d&&f.length>0;return e.jsxs(fe,{className:"app",children:[e.jsxs(_e,{icon:e.jsx(Yr,{}),localStorageKey:Ce.KEY,children:["TD ",e.jsx(z,{children:Ce.NAME})," #",t.number]}),e.jsxs(ge,{ref:h,children:[e.jsx(Se,{hearts:s,total:Ce.HEARTS,openRules:!d||s===Ce.HEARTS,rules:e.jsx(ec,{date:t.id})}),e.jsx(He,{children:e.jsx(j,{pt:"Faça quatro grupos de quatro",en:"Connect four groups of four"})}),e.jsxs(q,{children:[g.map(v=>e.jsxs("div",{className:U("set-match",`set-match--set-${v.level}`),children:[e.jsx("div",{className:"set-title",children:v.title}),e.jsx("div",{className:U("grid"),children:v.itemsIds.map(S=>e.jsx("div",{className:"set-match-item",children:e.jsx(de,{itemId:S,className:"transparent",width:u},S)},S))})]},v.id)),e.jsx("div",{className:U("grid",b?je("shakeX"):""),children:p.map(v=>e.jsx(ze,{onClick:()=>n(v),className:U("grid-item",{"grid-item--selected":_.includes(v)}),children:e.jsx(de,{itemId:v,className:"transparent",width:u})},v))},x)]}),e.jsx(Ze,{isComplete:d,setShowResultModal:i}),!d&&e.jsx(q,{children:e.jsxs(G,{justify:"center",gap:8,children:[e.jsx(J,{shape:"round",onClick:c,disabled:p.length===0,children:e.jsx(j,{en:"Shuffle",pt:"Embaralhar"})}),e.jsx(J,{shape:"round",onClick:o,disabled:!_.length,children:e.jsx(j,{en:"Deselect",pt:"Desmarcar"})}),e.jsx(J,{shape:"round",type:"primary",onClick:m,disabled:_.length!==4,children:e.jsx(j,{en:"Submit",pt:"Enviar"})})]})}),e.jsx(er,{children:e.jsx(j,{pt:e.jsx(e.Fragment,{children:"Você pode segurar o dedo no ícone para ver ter uma ideia do que o ícone é, mas nem sempre o nome dado é o que exatamente foi usado para o tema do quarteto."}),en:e.jsx(e.Fragment,{children:"You can press and hold the icon to get an idea of what the icon is, but the given name is not always exactly what was used for the quartet theme."})})}),e.jsx(xe,{open:a,onCancel:()=>i(!1),footer:null,children:e.jsx(Zl,{challengeNumber:t.number,win:l,guesses:f,sets:t.sets,hearts:s})})]})]})}function sc(){return e.jsx(Oe,{gameName:"quartetos",GameComponent:tc})}function nc({current:t,total:r,color:s="gold",displayNumbers:a=!1}){const i=Array.from({length:r},(l,d)=>{const p=d===t;return e.jsx(vs,{status:"default",color:p?s:"rgba(0, 0, 0, 0.25)",count:a?d+1:void 0},d)});return e.jsx(G,{gap:4,children:i})}function rc(t,r){const{state:s,updateState:a}=ke(r),[i,l]=wt(ut.TD_DAILY_TA_NA_CARA_MODE,"normal"),{session:d,setSession:p,updateSession:g}=et({questionIndex:0,testimonies:t.testimonies.filter(I=>i!=="nsfw"?!I.nsfw:!0),suspectsIds:t.testimonies.map(I=>{const T=C.sampleSize(I.suspectsIds||[],5),A=t.suspectsIds.filter(w=>!T.includes(w));return T.length<6&&T.push(...C.sampleSize(A,6-T.length)),T}),answers:[{testimonyId:t.testimonies[0].testimonyId,related:[],unrelated:[]}],selections:[],mode:"nsfw",screen:"idle",variant:t.variant||"gb"}),{updateLocalStorage:f}=De({key:ut.KEY,gameId:t.id,defaultValue:r});y.useEffect(()=>{f(s)},[s]);const _=I=>{g({mode:I?"nsfw":"normal",testimonies:t.testimonies.filter(T=>I?!0:!T.nsfw)}),l(I?"nsfw":"normal")},n=t.testimonies[d.questionIndex],o=d.answers[d.questionIndex],c=d.suspectsIds[d.questionIndex],m=()=>{g({screen:"playing"})},x=()=>{if(d.screen==="idle")return g({screen:"playing"});if(d.questionIndex===d.testimonies.length-1)return b();p(I=>{const T=C.cloneDeep(I),A=T.questionIndex+1;return T.answers[A]===void 0&&T.answers.push({testimonyId:t.testimonies[A].testimonyId,related:[],unrelated:[]}),T.answers[T.questionIndex]&&(T.answers[T.questionIndex].unrelated=c.filter(w=>!T.answers[T.questionIndex].related.includes(w))),T.questionIndex=A,T})},u=()=>{if(d.questionIndex>0)return g({questionIndex:d.questionIndex-1})},h=(I,T)=>{N(T?"yah":"nah"),p(A=>{const w=C.cloneDeep(A),$=w.answers[w.questionIndex];return $&&(w.answers[w.questionIndex].related=T?[...$.related,I]:$.related.filter(L=>L!==I),w.answers[w.questionIndex].unrelated=T?$.unrelated.filter(L=>L!==I):[...$.unrelated,I]),w})},b=()=>{d.answers[d.questionIndex]&&(d.answers[d.questionIndex].unrelated=c.filter(T=>!d.answers[d.questionIndex].related.includes(T)));const I=C.cloneDeep(d.answers);I.forEach(T=>{T.related=T.related.map(mn),T.unrelated=T.unrelated.map(mn)}),v.mutate(I)},v=Tl(()=>{a({played:!0}),g({screen:"idle"}),ee(re(ut.KEY,"played"))});Me({key:ut.KEY,isComplete:s.played});const S=[...t?.suspectsIds||[],...t.testimonies.flatMap(I=>I.suspectsIds||[])],R=I=>g({variant:I});return{questionIndex:d.questionIndex,questionNumber:d.questionIndex+1,questionSuspects:d.suspectsIds[d.questionIndex],question:n,answer:o,suspects:c,totalQuestions:d.testimonies.length,isPlaying:d.screen==="playing",isIdle:d.screen==="idle",isSaving:d.screen==="saving"||v.isPending,alreadyPlayed:s.played,variant:d.variant,mode:i,onToggleAllowNSFW:_,onStart:m,onNext:x,onPrevious:u,onComplete:b,onUpdateAnswer:h,onChangeVariant:R,allSuspects:S}}const mn=t=>{const r=t.split("-");return r.length>2?[r[0],r[2]].join("-"):t};function ac({date:t}){return e.jsx(Pe,{date:t,basicRules:e.jsx(j,{pt:e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"Contribua com o banco de dados do TD!"}),e.jsx("li",{children:"Você receberá rodadas de perguntas com seis personagens."}),e.jsx("li",{children:"Para cara pergunta, selecione todos os personagens que você acha que se encaixam à pergunta."}),e.jsx("li",{children:"Boa sorte!"})]}),en:e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"Contribute to TD's database!"}),e.jsx("li",{children:"You'll receive a round of questions and six characters."}),e.jsx("li",{children:"For each question, select all characters you think fit the question."}),e.jsx("li",{children:"Good luck!"})]})})})}const oc=le.create(G);function ic({data:t}){const[r]=y.useState(ol(t)),{questionIndex:s,totalQuestions:a,question:i,answer:l,suspects:d,onToggleAllowNSFW:p,onNext:g,onPrevious:f,onComplete:_,onStart:n,isPlaying:o,isIdle:c,isSaving:m,alreadyPlayed:x,onUpdateAnswer:u,mode:h,allSuspects:b,onChangeVariant:v,variant:S}=rc(t,r),[R,I]=jt(3,{margin:24,gap:12,maxWidth:256,minWidth:55}),{translate:T}=te();return e.jsxs(fe,{className:"app",children:[e.jsxs(_e,{icon:e.jsx(An,{}),localStorageKey:ut.KEY,children:["TD ",e.jsx(z,{children:ut.NAME})," #",t.number]}),e.jsxs(ge,{ref:I,children:[e.jsx(Ia,{hand:b}),e.jsxs("div",{children:[e.jsx(Se,{hearts:0,total:0,openRules:!0,rules:e.jsx(ac,{date:t.id})}),x&&e.jsxs(mt,{className:"info-screen",children:[e.jsx(D,{icon:e.jsx(Pn,{})}),e.jsx(j,{pt:"Você já jogou hoje!",en:"You've already played today!"}),e.jsx(j,{pt:"Volte amanhã para jogar novamente!",en:"Come back tomorrow to play again!"}),e.jsx(ht,{}),e.jsx(Le,{})]})]}),o&&i&&e.jsxs(X,{vertical:!0,children:[e.jsx(nc,{current:s,total:a}),e.jsx($n,{hideHeader:!i.nsfw,header:T("Conteúdo Sensível","Sensitive Content"),color:"#ff69b4",children:i.question}),e.jsx(G,{gap:8,wrap:"wrap",justify:"center",children:d.map((A,w)=>e.jsxs(oc,{vertical:!0,...pe("flipInY",{delay:.1*w}),align:"center",justify:"center",gap:6,children:[e.jsx(vs.Ribbon,{text:t?.names?.[A]??null,color:"orange",children:e.jsx(Ta,{suspect:{id:A,name:{en:"",pt:""},gender:"",ethnicity:"",race:"",age:"",build:"",height:"",features:[]},variant:S,width:R})}),e.jsx(At,{loading:m,checked:l.related.includes(A),onChange:$=>u(A,$),unCheckedChildren:e.jsxs(e.Fragment,{children:[e.jsx(aa,{})," ",e.jsx(j,{pt:"Não",en:"No"})]}),checkedChildren:e.jsxs(e.Fragment,{children:[e.jsx(Ea,{})," ",e.jsx(j,{pt:"Sim",en:"Yes"})]})})]},`q${s}-${A}`))}),e.jsxs(ue.Compact,{className:"mt-10",children:[e.jsx(J,{shape:"round",onClick:f,icon:e.jsx(Zr,{}),iconPosition:"start",disabled:s===0,children:e.jsx(j,{pt:"Anterior",en:"Previous"})}),e.jsx(J,{shape:"round",onClick:g,icon:e.jsx(ea,{}),iconPosition:"end",disabled:s===a-1,children:e.jsx(j,{pt:"Próximo",en:"Next"})})]}),(s>4||s===a-1)&&e.jsxs(e.Fragment,{children:[s!==a-1&&e.jsx(mt,{contained:!0,children:e.jsx(j,{pt:"Você já respondeu ao mínimo de perguntas suficientes, se quiser parar, aperte salvar.",en:"You've already answered the minimum amount of questions, if you want to stop, press save."})}),e.jsx(J,{className:s!==a-1?"mb-10":"my-10",icon:e.jsx(eo,{}),loading:m,onClick:_,type:"primary",size:"large",children:s===a-1?e.jsx(j,{pt:"Salvar e terminar",en:"Save and finish"}):e.jsx(j,{pt:"Cansei / Salvar",en:"I'm done / save"})})]})]},i.testimonyId),m&&e.jsxs(mt,{className:"info-screen",children:[e.jsx(D,{icon:e.jsx(ys,{})}),e.jsx(j,{pt:"Salvando",en:"Saving"})]}),c&&!x&&e.jsxs(q,{children:[e.jsx(mt,{contained:!0,children:e.jsx(j,{pt:e.jsxs(e.Fragment,{children:["Selecione todos os personagem que você acha que se encaixam na pergunta.",e.jsx("br",{}),"Se nenhum se encaixar, só não selecionar ninguém.",e.jsx("br",{}),'Considere talvez, como "sim".']}),en:e.jsxs(e.Fragment,{children:["Select all characters that you think fit the question.",e.jsx("br",{}),'If none fits, select "None".',e.jsx("br",{}),'Consider maybe, as "yes".']})})}),e.jsx(At,{checkedChildren:"Incluir conteúdo sensível",unCheckedChildren:"Não incluir conteúdo sensível",onChange:p,className:"my-4",value:h==="nsfw"}),e.jsx(J,{type:"primary",size:"large",onClick:n,disabled:x,children:m?e.jsx(j,{pt:"Salvando",en:"Saving"}):e.jsx(j,{pt:"Começar",en:"Start"})})]}),!x&&e.jsxs(q,{className:"my-12",children:[e.jsx(E.Text,{strong:!0,children:e.jsx(j,{pt:"Experimente em outros estilos:",en:"Try in other styles:"})}),e.jsx(Ra,{value:S.toUpperCase(),options:["GB","RL","PX","FX"],onChange:A=>v(A.toLowerCase()),size:"small"})]})]})]})}function lc(){return e.jsx(Oe,{gameName:"ta-na-cara",GameComponent:ic})}function cc(t,r){const{state:s,setState:a}=ke(r),{session:i,updateSession:l}=et({activeSuspectId:null}),{updateLocalStorage:d}=De({key:Be.KEY,gameId:t.id,defaultValue:r});y.useEffect(()=>{d(s)},[s]);const p=()=>{s.hearts<=0||(a(u=>({...u,hearts:u.hearts-1})),N("swap"))},g=()=>{l({activeSuspectId:null})},f=u=>{N("uh"),!s.released.includes(u)&&l({activeSuspectId:u})},_=()=>{const u=i.activeSuspectId;if(u){if(u===t.culpritId){a(h=>({...h,status:O.LOSE,hearts:0})),N("drama"),ee(re(Be.KEY,"lose")),l({activeSuspectId:null});return}a(h=>{const b=[...h.released,u];return b.length===t.suspects.length-1?(N("win"),ee(re(Be.KEY,"win")),{...h,status:O.WIN,released:b}):(N("wee"),{...h,released:[...h.released,u]})}),l({activeSuspectId:null})}},n=s.status===O.WIN,o=s.status===O.LOSE,c=n||o;Me({key:Be.KEY,isComplete:c});const{showResultModal:m,setShowResultModal:x}=Qe(n||o||c);return{hearts:s.hearts,released:s.released,showResultModal:m,setShowResultModal:x,isWin:n,isLose:o,isComplete:c,onRelease:_,onSelectSuspect:f,onDeselectSuspect:g,activeSuspectId:i.activeSuspectId,onNeedClue:p}}const hn=le.create(It);function pr({statements:t,additionalStatements:r,hearts:s,released:a,isComplete:i,animate:l}){const{slicedStatements:d,slicedAdditionalStatements:p}=y.useMemo(()=>({slicedStatements:[...i?t:t.slice(0,Math.floor(a.length/2)+1)].reverse(),slicedAdditionalStatements:[...i?r:r.slice(0,2-s)].reverse()}),[t,r,s,a,i]);return e.jsxs(G,{vertical:!0,gap:4,className:"espionagem-statements",children:[d.map((g,f)=>y.createElement(le.div,{...l?pe("fadeIn",{delay:.1*f}):{},key:g.key},e.jsx(hn,{banner:!0,icon:dc(g.type),title:g.text,type:pn(g.excludes,a)?"success":"info"}))),p.map((g,f)=>y.createElement(le.div,{...l?pe("fadeIn",{delay:.1*f}):{},key:g.key},e.jsx(hn,{icon:e.jsx(H,{}),banner:!0,title:g.text,type:pn(g.excludes,a)?"success":"warning"})))]})}const pn=(t,r)=>t.every(s=>r.includes(s)),dc=t=>{switch(t){case"testimony":return e.jsx(ss,{});case"feature":return e.jsx(Ft,{});case"grid":return e.jsx(es,{});default:return null}};function uc({onRelease:t,onDeselectSuspect:r,activeSuspectId:s,hearts:a,statements:i,additionalStatements:l,released:d,suspects:p}){const g=ct(2,{margin:32,maxWidth:256,minWidth:64});if(!s)return null;const f=p.find(_=>_.id===s);return f?e.jsxs(xe,{title:e.jsx(j,{pt:`Tem certeza que quer liberar ${f?.name.pt.split(" ")[0]??""}?`,en:`Are you sure you want to release ${f?.name.en.split(" ")[0]??""}?`}),open:!0,onCancel:()=>r(),cancelText:e.jsx(j,{pt:"Não",en:"No"}),onOk:()=>t(),okText:e.jsx(j,{pt:"Sim",en:"Yes"}),children:[e.jsxs(G,{align:"center",gap:12,children:[e.jsx(Tt,{cardId:Ss(s,"gb"),cardWidth:g,className:"espionagem-suspect-card"}),e.jsxs(G,{vertical:!0,gap:6,children:[e.jsxs(E.Text,{children:["Confira as declarações do tipo ",e.jsx(Ft,{}),":"]}),e.jsx(fr,{name:f.name,features:f.features,gender:f.gender,variant:"release"})]})]}),e.jsxs(q,{children:[e.jsx(E.Text,{strong:!0,children:e.jsx(j,{pt:"Declarações",en:"Statements"})}),e.jsx(pr,{statements:i,additionalStatements:l,hearts:a,released:d})]})]}):null}function fr({name:t,features:r,gender:s,variant:a}){const i=r.map(l=>hs[`${l}.${s}`]||hs[l]||l);return e.jsxs(G,{gap:6,wrap:!0,justify:a==="result"?"center":"start",children:[e.jsx("strong",{children:e.jsx(z,{children:t})}),i.map((l,d,p)=>e.jsxs(E.Text,{code:a==="release",italic:!0,children:[l,a==="result"&&i.length>1&&d<p.length-1?",":""]},l))]})}function mc({challengeNumber:t,win:r,hearts:s,suspects:a,reason:i,released:l,culpritId:d}){const{language:p}=te(),g=a.find(_=>_.id===d),f=y.useMemo(()=>Ms({type:"espionagem",language:p,challengeNumber:t,remainingHearts:s,totalHearts:Be.HEARTS,released:l}),[p,t,s,l]);return e.jsxs(X,{vertical:!0,children:[e.jsx(E.Title,{level:2,className:"center",children:r?e.jsxs(e.Fragment,{children:[e.jsx(D,{icon:e.jsx(Ye,{})})," ",e.jsx(j,{pt:"Parabéns!",en:"Congratulations!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{icon:e.jsx(Je,{})})," ",e.jsx(j,{pt:"Que pena!",en:"Too bad!"})]})}),e.jsxs(G,{align:"center",children:[g&&e.jsx(Tt,{cardId:Ss(g.id,"gb"),cardWidth:96}),e.jsxs(G,{vertical:!0,children:[e.jsx(E.Paragraph,{className:"center",children:r?e.jsx(j,{pt:"Você capturou o culpado pelo crime:",en:"You caught the culprit for the crime:"}):e.jsx(j,{pt:"Você deixou o culpado escapar! Crime:",en:"You let the culprit escape! Crime:"})}),e.jsx(bs,{className:"espionagem-crime-title",children:e.jsx(E.Paragraph,{className:"text-center",children:e.jsx(z,{children:i})})})]})]}),g&&e.jsx(fr,{name:g.name,features:g.features,gender:g.gender,variant:"result"}),e.jsx(Xe,{result:f,rows:3}),e.jsx(Le,{})]})}function hc({date:t}){return e.jsx(Pe,{date:t,basicRules:e.jsx(j,{en:e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"You are a spy in a event and needs to find out who the culprit is."}),e.jsx("li",{children:"Your intel has statements to help identify the culprit, and you see a new statement every time you release two suspects."}),e.jsxs("li",{children:["You must release all innocent people so ",e.jsx("strong",{children:"the culprit is the last person left"}),"."]}),e.jsxs("li",{children:["There are statements about the physical appearance of the suspect ",e.jsx(Ft,{}),", about their position in the grid ",e.jsx(es,{}),", and some hearsay about who they are as a person"," ",e.jsx(ss,{}),"."]}),e.jsxs("li",{children:["You can use a ",e.jsx(H,{})," to see special statements that help with more suspects."]}),e.jsx("li",{children:e.jsx("strong",{children:"WARNING: You lose immediately if you release the culprit. Good luck!"})})]}),pt:e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"Você é um espião em um evento e precisa descobrir quem é o culpado."}),e.jsx("li",{children:"Você começa com uma declaração de seus informantes para ajudar a identificar o culpado e a cada dois suspeitos que você libera uma nova declaração será revelada."}),e.jsxs("li",{children:["Você deve liberar todas as pessoas inocentes para que"," ",e.jsx("strong",{children:"o culpado seja a última pessoa restante"}),"."]}),e.jsxs("li",{children:["Existem declarações sobre a aparência física do suspeito ",e.jsx(Ft,{}),", sobre sua posição na grade ",e.jsx(es,{}),", e algumas fofocas sobre quem eles são como pessoa ",e.jsx(ss,{})," ","que podem não ser tão confiáveis."]}),e.jsxs("li",{children:["Você pode usar um ",e.jsx(H,{})," para ver declarações especiais que ajudam com mais suspeitos."]}),e.jsx("li",{children:e.jsx("strong",{children:"ATENÇÃO: Você perde imediatamente se liberar o culpado. Boa sorte!"})})]})})})}const pc=le.create(G);function fc({data:t}){const[r]=y.useState(Ds(t)),{hearts:s,released:a,showResultModal:i,setShowResultModal:l,isWin:d,isLose:p,isComplete:g,onRelease:f,onSelectSuspect:_,onDeselectSuspect:n,onNeedClue:o,activeSuspectId:c}=cc(t,r),m=ct(4,{margin:32,maxWidth:128,minWidth:64});return e.jsxs(fe,{className:"app",children:[e.jsxs(_e,{icon:e.jsx(bn,{}),localStorageKey:Be.KEY,children:["TD ",e.jsx(z,{children:Be.NAME})," #",t.number]}),e.jsxs(ge,{children:[e.jsx(Se,{hearts:s,total:Be.HEARTS,openRules:!g||s===Be.HEARTS,rules:e.jsx(hc,{date:t.id})}),g?e.jsxs(q,{className:"center",children:[e.jsxs(E.Text,{children:[d&&e.jsx(j,{pt:"Você achou o culpado!",en:"You found the culprit!"}),p&&e.jsx(j,{pt:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Você liberou o culpado!"}),e.jsx("br",{}),"Agora crimes continuarão acontecendo.",e.jsx("br",{}),e.jsxs("em",{children:["Se você discorda das respostas e está revoltado, ajude a melhorar o jogo participando do",e.jsx("strong",{children:" Tá Na Cara"})," na seção Contribua do TD!"]})]}),en:e.jsx(e.Fragment,{children:"You released the culprit! Now crimes will keep happening."})})]}),e.jsx(Ze,{isComplete:g,setShowResultModal:l})]}):e.jsx(q,{children:e.jsx(E.Text,{strong:!0,children:e.jsx(j,{pt:e.jsxs(e.Fragment,{children:["Libere alguém que ",e.jsx("strong",{children:"não"})," se encaixe nas declarações."]}),en:e.jsxs(e.Fragment,{children:["Release someone who ",e.jsx("strong",{children:"does not"})," fit the statements."]})})})}),e.jsx(q,{children:e.jsx(Tn.PreviewGroup,{children:e.jsx("div",{className:"espionagem-suspects-grid",children:t.suspects.map((x,u)=>{const h=a.includes(x.id);return e.jsxs(pc,{vertical:!0,align:"center",...pe("flipInY",{delay:.1*u}),onClick:()=>!h&&!g&&_(x.id),children:[e.jsx(Tt,{cardId:Ss(x.id,"gb"),cardWidth:m,className:U("espionagem-suspect-card",{"espionagem-released-suspect":h,"espionagem-culprit-suspect":g&&t.culpritId===x.id}),preview:!1}),e.jsx(J,{size:"small",shape:"round",block:!0,disabled:h||g,children:h?e.jsxs(e.Fragment,{children:[e.jsx(Ka,{}),a.indexOf(x.id)+1]}):e.jsx(j,{pt:"Liberar",en:"Release"})})]},x.id)})})})}),e.jsxs(q,{children:[e.jsx(E.Text,{strong:!0,children:e.jsx(j,{pt:"Declarações",en:"Statements"})}),e.jsx(pr,{statements:t.statements,additionalStatements:t.additionalStatements,hearts:s,released:a,isComplete:g,animate:!0}),!g&&s>0&&e.jsx(J,{icon:e.jsx(Kn,{}),onClick:()=>o(),type:"primary",block:!0,disabled:g,children:e.jsx(j,{pt:"Preciso de mais dicas",en:"I need more hints"})})]}),c&&e.jsx(uc,{onRelease:f,onDeselectSuspect:n,activeSuspectId:c,hearts:s,statements:t.statements,additionalStatements:t.additionalStatements,suspects:t.suspects,released:a}),e.jsx(xe,{open:i,onCancel:()=>l(!1),footer:null,children:e.jsx(mc,{challengeNumber:t.number,win:d,hearts:s,suspects:t.suspects,reason:t.reason,released:a,culpritId:t.culpritId})})]})]})}function gc(){return e.jsx(Oe,{gameName:"espionagem",GameComponent:fc})}function xc(t,r){const{state:s,setState:a,updateState:i}=ke(r),{session:l,updateSession:d}=et({activeTileIndex:null,pairActiveTileIndex:null}),{updateLocalStorage:p}=De({key:Ee.KEY,gameId:t.id,defaultValue:r});y.useEffect(()=>{p(s)},[s]);const g=x=>{if(l.activeTileIndex===x){N("bubbleOut"),d({activeTileIndex:null});return}const u=s.flips+1;if(l.activeTileIndex===null){d({activeTileIndex:x}),i({flips:u}),N("bubbleIn");return}N("bubbleIn"),d({activeTileIndex:l.activeTileIndex,pairActiveTileIndex:x}),i({flips:u});const{activeTileIndex:h}=l;setTimeout(()=>{const b=t.grid[h],v=t.grid[x],S=b===v;if(d({activeTileIndex:null,pairActiveTileIndex:null}),S){const T=Object.keys(s.revealed).length+2===t.grid.length;T?(N("win"),ee(re(Ee.KEY,"win"))):N("wee"),a(A=>({...A,status:T?O.WIN:O.IN_PROGRESS,revealed:{...A.revealed,[h]:!0,[x]:!0},foundCount:{...A.foundCount,[b]:(A.foundCount[b]||0)+2}}));return}const I=s.hearts-1<=0;I?(N("lose"),Ve("lose"),ee(re(Ee.KEY,"lose"))):(N("wrong"),Ve("wrong")),a(T=>({...T,status:I?O.LOSE:O.IN_PROGRESS,revealed:{...T.revealed},hearts:T.hearts-1}))},750)},f=y.useMemo(()=>{const x=t.itemsIds.length,u={},h={};return t.itemsIds.forEach(b=>{u[b]=!1,h[b]=x}),Object.keys(s.revealed).forEach(b=>{const v=t.grid[+b];v&&(h[v]-=1)}),Object.entries(h).forEach(([b,v])=>{v===0&&(u[b]=!0)}),{remainingCounts:h,completedItems:u}},[t,s.revealed]),_=s.status===O.WIN,n=s.status===O.LOSE,o=_||n;Me({key:Ee.KEY,isComplete:o});const{showResultModal:c,setShowResultModal:m}=Qe(_||n||o);return{hearts:s.hearts,revealed:s.revealed,foundCount:s.foundCount,flips:s.flips,activeTileIndex:l.activeTileIndex,pairActiveTileIndex:l.pairActiveTileIndex,showResultModal:c,setShowResultModal:m,isWin:_,isLose:n,isComplete:o,onActivateTile:g,tracker:f}}function jc({challengeNumber:t,win:r,hearts:s,itemsIds:a,title:i,foundCount:l,gridSize:d,flips:p,swapLimit:g}){const{language:f}=te(),_=y.useMemo(()=>a.map(o=>l[o]===d?o:null),[a,l,d]),n=y.useMemo(()=>Ps({type:"organiku",language:f,challengeNumber:t,remainingHearts:s,totalHearts:Ee.HEARTS,itemsIds:a,foundCount:l,flips:p,swapLimit:g}),[f,t,s,l,a,p,g]);return e.jsxs(X,{vertical:!0,children:[e.jsx(E.Title,{level:2,className:"center",children:r?e.jsxs(e.Fragment,{children:[e.jsx(D,{icon:e.jsx(Ye,{})})," ",e.jsx(j,{pt:"Parabéns!",en:"Congratulations!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{icon:e.jsx(Je,{})})," ",e.jsx(j,{pt:"Que pena!",en:"Too bad!"})]})}),e.jsx(E.Text,{strong:!0,className:"center",children:i}),e.jsx(G,{align:"center",gap:3,children:_.map((o,c)=>o?e.jsx(de,{itemId:o,width:45,className:U(je("pulse",{speed:"fast",delay:c*.5,infinite:!0}),"organiku-complete-item")},o):e.jsx(de,{itemId:"0",width:45,className:"organiku-incomplete-item"},`empty-${c}`))}),e.jsx(Xe,{result:n,rows:4}),e.jsx(Le,{})]})}function _c({date:t}){return e.jsx(Pe,{date:t,basicRules:e.jsx(j,{pt:e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"Encontre os pares de coisas na grade."}),e.jsx("li",{children:"Você seleciona uma espaço e deve selecionar outro espaço que você acha que está o par."}),e.jsxs("li",{children:["Um item ",e.jsx("strong",{children:"NÃO"})," pode aparecer mais de uma vez em uma mesma linha e coluna."]}),e.jsxs("li",{children:["Quando você não acerta o par você perde um ",e.jsx(H,{})]}),e.jsxs("li",{children:["Você tem ",Ee.HEARTS," ",e.jsx(H,{}),". Boa sorte!"]})]}),en:e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"Find the pairs of items on the grid."}),e.jsx("li",{children:"You select one space and must select another space that you think is the pair."}),e.jsxs("li",{children:["An item ",e.jsx("strong",{children:"cannot"})," appear more than once in any row and any column."]}),e.jsxs("li",{children:["When you don't find the pair, you lose a ",e.jsx(H,{})]}),e.jsxs("li",{children:["You have ",Ee.HEARTS," ",e.jsx(H,{}),". Good luck!"]})]})})})}function vc({grid:t,revealed:r,activeTileIndex:s,onSelectTile:a,foundCount:i,itemWidth:l,defaultRevealedIndexes:d,pairActiveTileIndex:p,tracker:g}){const f=Math.sqrt(t.length),_=y.useMemo(()=>s!==null?dr(s,f):[],[s,f]),n=s!==null&&p!==null;return e.jsx("div",{className:"organiku-table-grid",style:{gridTemplateColumns:`repeat(${f}, ${l}px)`},children:t.map((o,c)=>{const m=r[c]||s===c||p===c,x=!r[c]&&(!n||!_.includes(c)),u=_.includes(c),h=`${o}-${c}-${s===c||p===c}`,b=i[o]===f;return e.jsx(le.div,{...pe("flipInY"),className:U("organiku-table-grid-item",{"organiku-table-grid-item--initial":d.includes(c),"organiku-table-grid-item--revealed":b,"organiku-table-grid-item--blocked":u,"organiku-table-grid-item--active":s===c||p===c,"organiku-table-grid-item--found":i[o]===f,"organiku-table-grid-item--completed":g.completedItems[o]}),onClick:x?()=>a?.(c):void 0,children:m?e.jsx("div",{className:"organiku-table-grid-item-content",style:{width:l,height:l},children:e.jsx(de,{itemId:o,width:l,className:"transparent"})}):e.jsx("div",{className:"organiku-table-grid-item-content",style:{width:l,height:l},children:e.jsx(de,{itemId:"0",width:l/1.75,className:"organiku-table-grid-item-card-placeholder transparent"})})},h)})})}function bc({itemsIds:t,tracker:r,itemWidth:s}){return e.jsx(G,{gap:12,align:"center",justify:"center",className:"my-5",children:t.map(a=>{const i=r.completedItems[a],l=r.remainingCounts[a];return e.jsx(vs,{count:i?"✓":l,style:{backgroundColor:i?"gold":"#519e8a"},size:"small",children:e.jsx(de,{itemId:a,width:s*.75,className:U("organiku-tracker-item",{"organiku-tracker-item--completed":i})})},a)})})}function yc({data:t}){const[r]=y.useState(Ls(t)),{hearts:s,showResultModal:a,setShowResultModal:i,isWin:l,isComplete:d,revealed:p,activeTileIndex:g,pairActiveTileIndex:f,foundCount:_,onActivateTile:n,flips:o,tracker:c}=xc(t,r),[m,x]=jt(5,{margin:48,gap:12,maxWidth:96,minWidth:55}),u=t.grid.length-t.defaultRevealedIndexes.length;return e.jsxs(fe,{className:"app",children:[e.jsxs(_e,{icon:e.jsx(Vr,{}),localStorageKey:Ee.KEY,children:["TD ",e.jsx(z,{children:Ee.NAME})," #",t.number]}),e.jsxs(ge,{ref:x,children:[e.jsx(Se,{hearts:s,total:Ee.HEARTS,openRules:!d||s===Ee.HEARTS,rules:e.jsx(_c,{date:t.id})}),e.jsx(q,{children:e.jsxs(E.Text,{children:[e.jsx("strong",{children:t.title})," (",o," de ",u," ",e.jsx(j,{pt:"viradas",en:"flips"}),")"]})}),e.jsx(He,{children:e.jsx(j,{en:e.jsxs(e.Fragment,{children:["Find pairs of images to reveal them.",e.jsx("br",{}),"There's only one type of symbol per row and column."]}),pt:e.jsxs(e.Fragment,{children:["Ache pares de imagens para revelá-las.",e.jsx("br",{}),"Há apenas um tipo de símbolo por linha e coluna."]})})}),e.jsxs(q,{children:[e.jsx(vc,{grid:t.grid,revealed:p,activeTileIndex:g,onSelectTile:d?()=>{}:n,foundCount:_,itemWidth:m,defaultRevealedIndexes:t.defaultRevealedIndexes,pairActiveTileIndex:f,tracker:c}),e.jsx(bc,{itemsIds:t.itemsIds,tracker:c,itemWidth:m})]}),e.jsx(Ze,{isComplete:d,setShowResultModal:i}),e.jsx(xe,{open:a,onCancel:()=>i(!1),footer:null,children:e.jsx(jc,{challengeNumber:t.number,win:l,hearts:s,itemsIds:t.itemsIds,title:t.title,foundCount:_,gridSize:Math.sqrt(t.grid.length),swapLimit:u,flips:o})})]})]})}function Sc(){return e.jsx(Oe,{GameComponent:yc,gameName:"organiku"})}function gr(t,r="images"){const s=Ca(r),a=y.useMemo(()=>t.replace(/-/g,"/"),[t]);return`${s}/${a}.jpg`}const Q=3,xr=(t,r,s)=>{const a={width:"100%",height:"100%",backgroundColor:"#2d2d2d",backgroundRepeat:"no-repeat",position:"absolute",top:0,left:0};if(!r)return a;const i=t%Q,l=Math.floor(t/Q),d=i/(Q-1)*100,p=s>1?l/(s-1)*100:0;return{...a,backgroundImage:`url(${r})`,backgroundSize:`${Q*100}% ${s*100}%`,backgroundPosition:`${d}% ${p}%`}},tt=(t,r,s)=>s?r===t+1&&Math.floor(t/Q)===Math.floor(r/Q):r===t+Q;function wc(t,r){const{state:s,updateState:a}=ke(r),[i]=Zn("rulesOpen"),{totalSeconds:l,seconds:d,minutes:p,isRunning:g,start:f,pause:_}=wn.useStopwatch({autoStart:!0,offsetTimestamp:Fe(new Date).add(s.timeElapsed,"seconds").toDate()}),n=y.useMemo(()=>t.pieces?Array.from({length:t.pieces.length},(k,K)=>K):[],[t.pieces]),{updateLocalStorage:o}=De({key:ye.KEY,gameId:t.id,defaultValue:r});y.useEffect(()=>{o(s)},[s]);const c=s.status===O.WIN,m=s.status===O.LOSE,x=c||m;Me({key:ye.KEY,isComplete:x}),y.useEffect(()=>{g&&a({timeElapsed:l})},[l,g]),y.useEffect(()=>{x||i?_():f()},[x,i]);const u=y.useRef(0);y.useEffect(()=>{if(x||!g||s.hearts<=0)return;const k=p*60+d,K=Math.floor(k/(ye.HEART_LOSS_INTERVAL_SECONDS+t.pieces.length));K>u.current&&(u.current=K,a({hearts:Math.max(0,s.hearts-1)}))},[p,d,g,x]);const{showResultModal:h,setShowResultModal:b}=Qe(c||m||x),v=y.useRef(null),[S,R]=y.useState({width:0,height:0,cellWidth:0,cellHeight:0,rows:0,totalSlots:0}),{session:I,setSession:T}=et({grid:s.piecesOrder.map(k=>({id:k})),justDroppedIds:[],activeDrag:null});y.useEffect(()=>{const k=()=>{if(!v.current)return;const Y=t.pieces?t.pieces.length:0,M=Math.max(1,Math.ceil(Y/Q)),W=v.current.offsetWidth-36,V=window.innerHeight-200;let B=W>0?W:300,ve=B*1.5;ve>V&&(ve=V,B=ve/1.5);const oe=B/Q,me=ve/M;R({width:B,height:ve,cellWidth:oe,cellHeight:me,rows:M,totalSlots:Y})};k();const K=new ResizeObserver(()=>k());return v.current&&K.observe(v.current),()=>K.disconnect()},[t.pieces]);const A=k=>{let K=0;for(let Y=0;Y<k.length;Y++){const M=k[Y];if(!M)continue;const W=Y+1;if(W<k.length&&Math.floor(Y/Q)===Math.floor(W/Q)){const B=k[W];B&&tt(M.id,B.id,!0)&&K++}const V=Y+Q;if(V<k.length){const B=k[V];B&&tt(M.id,B.id,!1)&&K++}}return K},w=(k,K)=>{if(!k[K])return[];const M=new Set,W=[K];for(M.add(K);W.length>0;){const V=W.shift();if(V===void 0)continue;const B=k[V];if(!B)continue;const ve=[{idx:V-1,dir:"horizontal"},{idx:V+1,dir:"horizontal"},{idx:V-Q,dir:"vertical"},{idx:V+Q,dir:"vertical"}];for(const{idx:oe,dir:me}of ve){if(oe<0||oe>=S.totalSlots)continue;if(me==="horizontal"){const we=Math.floor(V/Q),at=Math.floor(oe/Q);if(we!==at)continue}if(M.has(oe))continue;const he=k[oe];if(he){let we=!1;me==="horizontal"?oe>V?we=tt(B.id,he.id,!0):we=tt(he.id,B.id,!0):oe>V?we=tt(B.id,he.id,!1):we=tt(he.id,B.id,!1),we&&(M.add(oe),W.push(oe))}}}return Array.from(M).sort((V,B)=>V-B)},$=(k,K)=>{const Y=K[k];if(!Y)return{top:!0,right:!0,bottom:!0,left:!0};const M=(at,Vt)=>{if(at<0||at>=S.totalSlots)return!1;const ot=K[at];return ot?Vt==="horizontal"?tt(Y.id,ot.id,!0)||tt(ot.id,Y.id,!0):tt(Y.id,ot.id,!1)||tt(ot.id,Y.id,!1):!1},W=k-Q,V=k+Q,B=k-1,ve=k+1,oe=W>=0&&M(W,"vertical"),me=V<S.totalSlots&&M(V,"vertical"),he=k%Q!==0&&M(B,"horizontal"),we=k%Q!==2&&M(ve,"horizontal");return{top:!oe,right:!we,bottom:!me,left:!he}},L=Fn(Ht(Gn,{activationConstraint:{distance:5}}),Ht(qn,{activationConstraint:{delay:10,tolerance:5}})),se=k=>{if(x)return;const{active:K}=k,{piece:Y,originIndex:M}=K.data.current,V=w(I.grid,M).map(B=>B-M);N("bubbleIn"),T(B=>({...B,activeDrag:{pieceId:Y.id,originIndex:M,groupIndices:V},justDroppedIds:[]}))},F=k=>{const{over:K}=k,Y=I.activeDrag;if(!K||!Y||x)return;const M=K.data.current?.index,W=Y.originIndex;if(M===W){N("bubbleOut"),T(ie=>({...ie,activeDrag:null}));return}const V=Y.groupIndices.map(ie=>W+ie),B=Y.groupIndices.map(ie=>M+ie);if(!B.every(ie=>ie>=0&&ie<S.totalSlots)){N("bubbleOut"),T(ie=>({...ie,activeDrag:null}));return}const oe=V.map(ie=>I.grid[ie]?.id).filter(ie=>ie!==void 0),me=A(I.grid);N("swap");let he=[];T(ie=>{he=[...ie.grid];const _r=new Set(V),vr=new Set(B),Ks=B.filter(nt=>!_r.has(nt)).map(nt=>ie.grid[nt]);return V.filter(nt=>!vr.has(nt)).forEach((nt,Ot)=>{Ot<Ks.length&&(he[nt]=Ks[Ot])}),B.forEach((nt,Ot)=>{const br=V[Ot];he[nt]=ie.grid[br]}),{...ie,grid:he,activeDrag:null,justDroppedIds:oe}});const we=A(he),at=we-me,Vt=S.rows*(Q-1)+Q*(S.rows-1),ot=we===Vt?O.WIN:s.status;ot===O.WIN&&N("win"),a({swapCount:s.swapCount+1,score:s.score+(at>0?at*s.hearts:0),status:ot}),setTimeout(()=>{T(ie=>({...ie,justDroppedIds:[]}))},250)};return{hearts:s.hearts,showResultModal:h,setShowResultModal:b,isWin:c,isLose:m,isComplete:x,time:`${p.toString().padStart(2,"0")}:${d.toString().padStart(2,"0")}`,handleDragStart:se,handleDragEnd:F,sensors:L,containerRef:v,piecesOrder:s.piecesOrder,measures:S,totalTime:l,score:s.score,getBorders:$,allPieceIds:n,justDroppedIds:I.justDroppedIds,activeDrag:I.activeDrag,grid:I.grid,swapCount:s.swapCount,correctPieces:I.grid.filter((k,K)=>k?.id===K).length}}function Ac({challengeNumber:t,win:r,hearts:s,totalTime:a,score:i,title:l}){const{language:d}=te(),p=y.useMemo(()=>Bs({type:"vitrais",language:d,challengeNumber:t,remainingHearts:s,totalHearts:ye.HEARTS,timeElapsed:a,score:i}),[d,t,s,a,i]);return e.jsxs(X,{vertical:!0,children:[e.jsx(E.Title,{level:2,className:"center",children:r?e.jsxs(e.Fragment,{children:[e.jsx(D,{icon:e.jsx(Ye,{})})," ",e.jsx(j,{pt:"Parabéns!",en:"Congratulations!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{icon:e.jsx(Je,{})})," ",e.jsx(j,{pt:"Que pena!",en:"Too bad!"})]})}),e.jsxs(E.Paragraph,{strong:!0,className:"center",children:['"',l,'"',e.jsx("br",{}),i," ",e.jsx(j,{pt:"pontos",en:"points"})," ","em ",Math.floor(a/60),":",(a%60).toString().padStart(2,"0")," ",e.jsx(j,{pt:"segundos",en:"seconds"}),"."]}),e.jsx(Xe,{result:p,rows:4}),e.jsx(Le,{})]})}function Tc({date:t,numberOfPieces:r}){return e.jsx(Pe,{date:t,betaVersion:!0,basicRules:e.jsx(j,{pt:e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"Monte o vitral quebra-cabeça o mais rápido possível."}),e.jsx("li",{children:"Ao arrastar uma peça para perto de outra que combine, elas se grudam."}),e.jsx("li",{children:"Cada vez que você grudar uma peça, você ganha 1 ponto + a quantidade de corações que você tem restante, para cada peça que está na posição correta na grade."}),e.jsxs("li",{children:["Você tem ",ye.HEARTS," ",e.jsx(H,{})," e perde um coração a cada"," ",e.jsxs("strong",{children:[ye.HEART_LOSS_INTERVAL_SECONDS+r," segundos*"]}),". Boa sorte!"]}),e.jsx("li",{style:{listStyle:"none"},children:e.jsx("small",{children:"* O tempo para perder um coração depende do número de peças no quebra-cabeça."})})]}),en:e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"Assemble the stained glass puzzle as fast as you can."}),e.jsx("li",{children:"When you drag a piece next to another one that would match, they will attach."}),e.jsx("li",{children:"Every time you attach a piece, you earn 1 point + the amount of hearts you have left for each piece that is in the correct position."}),e.jsxs("li",{children:["You have ",ye.HEARTS," ",e.jsx(H,{})," and lose one heart every"," ",e.jsxs("strong",{children:[ye.HEART_LOSS_INTERVAL_SECONDS+r," seconds*"]}),". Good luck!"]}),e.jsx("li",{style:{listStyle:"none"},children:e.jsx("small",{children:"* The time to lose a heart depends on the number of pieces in the puzzle."})})]})})})}const Ic=({pieceId:t,currentSlotIndex:r,totalRows:s,imageUrl:a,isHidden:i,disabled:l,isJustDropped:d,borders:p={top:!0,right:!0,bottom:!0,left:!0}})=>{const{attributes:g,listeners:f,setNodeRef:_,transform:n,isDragging:o}=Yn({id:`piece-${t}`,data:{piece:{id:t},originIndex:r},disabled:l}),c=r%Q,m=Math.floor(r/Q),x=`${c*(100/Q)}%`,u=`${m*(100/s)}%`,h=`${100/Q}%`,b=`${100/s}%`,v="0.5px solid rgba(0,0,0,0.5)",S=d?{duration:0}:{type:"spring",stiffness:350,damping:25};return e.jsxs(le.div,{ref:_,initial:!1,animate:{top:u,left:x},transition:S,style:{position:"absolute",width:h,height:b,transform:Vn.Translate.toString(n),zIndex:o?50:10,opacity:i?0:1,touchAction:"none",cursor:l?"default":"grab"},...f,...g,children:[e.jsx("div",{style:xr(t,a,s)}),e.jsx("div",{style:{position:"absolute",inset:0,pointerEvents:"none",borderTop:p.top?v:"none",borderRight:p.right?v:"none",borderBottom:p.bottom?v:"none",borderLeft:p.left?v:"none"}})]})},Ec=({index:t})=>{const{setNodeRef:r,isOver:s}=Wn({id:`slot-${t}`,data:{index:t}});return e.jsx("div",{ref:r,style:{position:"relative",width:"100%",height:"100%",zIndex:0},children:e.jsx("div",{style:{position:"absolute",inset:0,border:"1px solid rgba(255,255,255,0.05)",backgroundColor:s?"rgba(255,255,255,0.1)":"transparent"}})})};function Rc({data:t}){const[r]=y.useState(zs(t)),{hearts:s,showResultModal:a,setShowResultModal:i,isWin:l,isComplete:d,time:p,handleDragStart:g,handleDragEnd:f,sensors:_,containerRef:n,measures:o,score:c,totalTime:m,justDroppedIds:x,activeDrag:u,allPieceIds:h,grid:b,getBorders:v,correctPieces:S}=wc(t,r),R=gr(t.cardId);return e.jsxs(fe,{className:"app",children:[e.jsxs(_e,{icon:e.jsx(Wr,{}),localStorageKey:ye.KEY,children:["TD ",e.jsx(z,{children:ye.NAME})," #",t.number]}),e.jsxs(ge,{ref:n,children:[e.jsx(Se,{hearts:s,total:ye.HEARTS,openRules:!d||s===ye.HEARTS,rules:e.jsx(Tc,{date:t.id,numberOfPieces:t.pieces.length})}),e.jsxs(q,{children:[e.jsx(E.Text,{className:"center",children:t.title}),e.jsxs(E.Text,{className:"center",children:[S,"/",t.pieces.length," - ",p," - ",c," pts"]})]}),e.jsx(Ze,{isComplete:d,setShowResultModal:i}),e.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:o.width,margin:"12px auto",userSelect:"none"},children:e.jsx("div",{style:{position:"relative",width:o.width,height:o.height,backgroundColor:"#1f1f1f",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.5)",border:d?"2px solid #4ade80":"none",transition:"border 0.3s ease"},children:e.jsxs(zn,{sensors:_,onDragStart:g,onDragEnd:f,children:[e.jsx("div",{style:{display:"grid",width:"100%",height:"100%",gridTemplateColumns:`repeat(${Q}, 1fr)`,gridTemplateRows:`repeat(${o.rows}, 1fr)`,position:"absolute",inset:0,pointerEvents:"none"},children:Array.from({length:o.totalSlots}).map((I,T)=>e.jsx(Ec,{index:T},T))}),e.jsx("div",{style:{position:"absolute",inset:0,pointerEvents:"auto"},children:h.map(I=>{const T=b.findIndex(L=>L?.id===I);if(T===-1)return null;let A=!1;if(u){const L=T-u.originIndex;u.groupIndices.includes(L)&&(A=!0)}const w=v(T,b),$=x.includes(I);return e.jsx(Ic,{pieceId:I,currentSlotIndex:T,totalRows:o.rows,imageUrl:R,isHidden:A,disabled:d,borders:w,isJustDropped:$},I)})}),e.jsx(Bn,{dropAnimation:null,children:u?e.jsx("div",{style:{position:"relative",width:o.cellWidth,height:o.cellHeight},children:u.groupIndices.map(I=>{const T=u.originIndex+I,A=b[T];if(!A)return null;const w=T%Q-u.originIndex%Q,$=Math.floor(T/Q)-Math.floor(u.originIndex/Q),L=v(T,b);return e.jsxs("div",{style:{position:"absolute",width:"100%",height:"100%",left:`${w*100}%`,top:`${$*100}%`,zIndex:999,filter:"drop-shadow(0px 5px 10px rgba(0,0,0,0.5))"},children:[e.jsx("div",{style:xr(A.id,R,o.rows)}),e.jsx("div",{style:{position:"absolute",inset:0,pointerEvents:"none",borderTop:L.top?"0.5px solid rgba(255,255,255,0.8)":"none",borderRight:L.right?"0.5px solid rgba(255,255,255,0.8)":"none",borderBottom:L.bottom?"0.5px solid rgba(255,255,255,0.8)":"none",borderLeft:L.left?"0.5px solid rgba(255,255,255,0.8)":"none"}})]},A.id)})}):null})]})})}),e.jsx(xe,{open:a,onCancel:()=>i(!1),footer:null,children:e.jsx(Ac,{challengeNumber:t.number,win:l,hearts:s,totalTime:m,score:c,title:t.title})})]})]})}function Cc(){return e.jsx(Oe,{gameName:"vitrais",GameComponent:Rc})}const ne=3,jr=(t,r,s)=>{const a={width:"100%",height:"100%",backgroundColor:"#2d2d2d",backgroundRepeat:"no-repeat",position:"absolute",top:0,left:0};if(!r)return a;const i=t%ne,l=Math.floor(t/ne),d=s>1?l*(100/(s-1)):0;return{...a,backgroundImage:`url(${r})`,backgroundSize:`${ne*100}% ${s*100}%`,backgroundPosition:`${i*(100/(ne-1))}% ${d}%`}},it=(t,r,s)=>s?r===t+1&&Math.floor(t/ne)===Math.floor(r/ne):r===t+ne,Nc=({index:t})=>{const{setNodeRef:r,isOver:s}=Wn({id:`slot-${t}`,data:{index:t}});return e.jsx("div",{ref:r,style:{position:"relative",width:"100%",height:"100%",zIndex:0},children:e.jsx("div",{style:{position:"absolute",inset:0,border:"1px solid rgba(255,255,255,0.05)",backgroundColor:s?"rgba(255,255,255,0.1)":"transparent"}})})},Oc=({pieceId:t,currentSlotIndex:r,totalRows:s,imageUrl:a,isHidden:i,disabled:l,isJustDropped:d,borders:p={top:!0,right:!0,bottom:!0,left:!0}})=>{const{attributes:g,listeners:f,setNodeRef:_,transform:n,isDragging:o}=Yn({id:`piece-${t}`,data:{piece:{id:t},originIndex:r},disabled:l}),c=r%ne,m=Math.floor(r/ne),x=`${c*(100/ne)}%`,u=`${m*(100/s)}%`,h=`${100/ne}%`,b=`${100/s}%`,v="0.5px solid rgba(0,0,0,0.5)",S=d?{duration:0}:{type:"spring",stiffness:350,damping:25};return e.jsxs(le.div,{ref:_,initial:!1,animate:{top:u,left:x},transition:S,style:{position:"absolute",width:h,height:b,transform:Vn.Translate.toString(n),zIndex:o?50:10,opacity:i?0:1,touchAction:"none",cursor:l?"default":"grab"},...f,...g,children:[e.jsx("div",{style:jr(t,a,s)}),e.jsx("div",{style:{position:"absolute",inset:0,pointerEvents:"none",borderTop:p.top?v:"none",borderRight:p.right?v:"none",borderBottom:p.bottom?v:"none",borderLeft:p.left?v:"none"}})]})},kc=({data:t,onSaveProgress:r,width:s})=>{const a=gr(t.cardId),i=zr(),l=t.pieces?t.pieces.length:0,d=Math.max(1,Math.ceil(l/ne)),p=s>0?s:300,g=p*1.5,f=p/ne,_=g/d,[n,o]=y.useState([]),[c,m]=y.useState([]),x=y.useMemo(()=>t.pieces?Array.from({length:t.pieces.length},(A,w)=>w):[],[t.pieces]),[u,h]=y.useState(null);y.useEffect(()=>{if(t.pieces&&t.pieces.length>0){const A=t.pieces.map(w=>({id:w}));o(A)}},[t.pieces]),y.useEffect(()=>{if(n.length===0)return;const A=n.map(w=>w?w.id:-1);r?.(A)},[n,r]);const b=y.useMemo(()=>n.length===0?!1:n.every((A,w)=>A&&A.id===w),[n]),v=(A,w)=>{if(!A[w])return[];const L=new Set,se=[w];for(L.add(w);se.length>0;){const F=se.shift();if(F===void 0)continue;const k=A[F];if(!k)continue;const K=[{idx:F-1,dir:"horizontal"},{idx:F+1,dir:"horizontal"},{idx:F-ne,dir:"vertical"},{idx:F+ne,dir:"vertical"}];for(const{idx:Y,dir:M}of K){if(Y<0||Y>=l)continue;if(M==="horizontal"){const V=Math.floor(F/ne),B=Math.floor(Y/ne);if(V!==B)continue}if(L.has(Y))continue;const W=A[Y];if(W){let V=!1;M==="horizontal"?Y>F?V=it(k.id,W.id,!0):V=it(W.id,k.id,!0):Y>F?V=it(k.id,W.id,!1):V=it(W.id,k.id,!1),V&&(L.add(Y),se.push(Y))}}}return Array.from(L).sort((F,k)=>F-k)},S=(A,w)=>{const $=w[A];if(!$)return{top:!0,right:!0,bottom:!0,left:!0};const L=(B,ve)=>{if(B<0||B>=l)return!1;const oe=w[B];return oe?ve==="horizontal"?it($.id,oe.id,!0)||it(oe.id,$.id,!0):it($.id,oe.id,!1)||it(oe.id,$.id,!1):!1},se=A-ne,F=A+ne,k=A-1,K=A+1,Y=se>=0&&L(se,"vertical"),M=F<l&&L(F,"vertical"),W=A%ne!==0&&L(k,"horizontal"),V=A%ne!==2&&L(K,"horizontal");return{top:!Y,right:!V,bottom:!M,left:!W}},R=Fn(Ht(Gn,{activationConstraint:{distance:5}}),Ht(qn,{activationConstraint:{delay:10,tolerance:5}})),I=A=>{if(b)return;const{active:w}=A,{piece:$,originIndex:L}=w.data.current,F=v(n,L).map(k=>k-L);h({pieceId:$.id,originIndex:L,groupIndices:F}),m([])},T=A=>{const{over:w}=A,$=u;if(h(null),!w||!$||b)return;const L=w.data.current?.index,se=$.originIndex;if(L===se)return;const F=$.groupIndices.map(M=>se+M),k=$.groupIndices.map(M=>L+M);if(!k.every(M=>M>=0&&M<l))return;const Y=F.map(M=>n[M]?.id).filter(M=>M!==void 0);m(Y),o(M=>{const W=[...M],V=new Set(F),B=new Set(k),ve=k.filter(me=>!V.has(me)).map(me=>M[me]);return F.filter(me=>!B.has(me)).forEach((me,he)=>{he<ve.length&&(W[me]=ve[he])}),k.forEach((me,he)=>{const we=F[he];W[me]=M[we]}),W}),setTimeout(()=>{m([])},250)};return e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:p,margin:"12px auto",userSelect:"none"},children:[e.jsx("div",{style:{position:"relative",width:p,height:g,backgroundColor:"#1f1f1f",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.5)",border:b?"2px solid #4ade80":"none",transition:"border 0.3s ease"},children:e.jsxs(zn,{sensors:R,onDragStart:I,onDragEnd:T,children:[e.jsx("div",{style:{display:"grid",width:"100%",height:"100%",gridTemplateColumns:`repeat(${ne}, 1fr)`,gridTemplateRows:`repeat(${d}, 1fr)`,position:"absolute",inset:0,pointerEvents:"none"},children:Array.from({length:l}).map((A,w)=>e.jsx(Nc,{index:w},w))}),e.jsx("div",{style:{position:"absolute",inset:0,pointerEvents:"auto"},children:x.map(A=>{const w=n.findIndex(F=>F?.id===A);if(w===-1)return null;let $=!1;if(u){const F=w-u.originIndex;u.groupIndices.includes(F)&&($=!0)}const L=S(w,n),se=c.includes(A);return e.jsx(Oc,{pieceId:A,currentSlotIndex:w,totalRows:d,imageUrl:a,isHidden:$,disabled:b,borders:L,isJustDropped:se},A)})}),e.jsx(Bn,{dropAnimation:null,children:u?e.jsx("div",{style:{position:"relative",width:f,height:_},children:u.groupIndices.map(A=>{const w=u.originIndex+A,$=n[w];if(!$)return null;const L=w%ne-u.originIndex%ne,se=Math.floor(w/ne)-Math.floor(u.originIndex/ne),F=S(w,n);return e.jsxs("div",{style:{position:"absolute",width:"100%",height:"100%",left:`${L*100}%`,top:`${se*100}%`,zIndex:999,filter:"drop-shadow(0px 5px 10px rgba(0,0,0,0.5))"},children:[e.jsx("div",{style:jr($.id,a,d)}),e.jsx("div",{style:{position:"absolute",inset:0,pointerEvents:"none",borderTop:F.top?"0.5px solid rgba(255,255,255,0.8)":"none",borderRight:F.right?"0.5px solid rgba(255,255,255,0.8)":"none",borderBottom:F.bottom?"0.5px solid rgba(255,255,255,0.8)":"none",borderLeft:F.left?"0.5px solid rgba(255,255,255,0.8)":"none"}})]},$.id)})}):null})]})}),b&&e.jsx("div",{style:{marginTop:"1rem",color:"#4ade80",fontWeight:"bold"},children:"Puzzle Completed!"}),e.jsx(G,{justify:"center",className:"mt-6",children:e.jsx(J,{onClick:()=>i.refetchQueries({queryKey:["demo-vitrais"]}),children:"Outra imagem"})})]})};function Dc({data:t}){const[r,s]=jt(1,{margin:72,gap:0,maxWidth:512,minWidth:256});return e.jsxs(fe,{className:"app",children:[e.jsxs(_e,{icon:e.jsx(ys,{}),localStorageKey:"",children:["TD ",e.jsx(z,{children:{en:"Demo",pt:"Demonstração"}})," #",t.number]}),e.jsxs(ge,{ref:s,children:[e.jsx(Se,{hearts:0,total:5,openRules:!0,rules:e.jsx(e.Fragment,{children:"Não escrevi regras, estou testando alguma coisa que pedi pra vc testar também. Adivinhe!"})}),e.jsx(kc,{data:t,width:r})]})]})}function Mc(){return fn({queryKey:["demo-vitrais"],queryFn:async()=>(await new Promise(t=>setTimeout(t,500)),{id:"example",number:1,type:"vitrais",title:"Example Puzzle",cardId:`td-d${C.random(1,12)}-${C.random(10,252)}`,pieces:C.shuffle(Array.from({length:C.sample([12,15,18,21,24,27,30])},(t,r)=>r))})})}function Lc(){return e.jsx(go,{GameComponent:Dc,useDemoHook:Mc,lsKey:""})}function Jd(){const{isAuthenticated:t}=Et(),{pathname:r}=jn(),{setLanguage:s,language:a}=te();y.useEffect(()=>{a!=="pt"&&s("pt")},[a]);const i=r.split("/")?.[2];if(Br(`${Kr(a)} - Tarde Divertida`),!t)return e.jsx(en,{children:e.jsx(Nt,{children:e.jsx(Ur,{isAuthenticated:!1})})});const l={"":Bt,hub:Bt,"aqui-o":Wo,"arte-ruim":si,"comunicacao-alienigena":Wl,"controle-de-estoque":gi,espionagem:gc,filmaco:Ei,organiku:Sc,palavreado:wl,"portais-magicos":Xl,quartetos:sc,"teoria-de-conjuntos":Hl,vitrais:Cc,picaco:Nl,"ta-na-cara":lc,demo:Lc,debug:ji}[i]??Bt;return e.jsx(en,{children:e.jsx(l,{})})}export{Jd as default};
