import{r as m,az as w,f as C,bH as I,j as e,T as a,J,bF as K,e as v,I as g,a$ as Q,aG as X,l as B,b0 as ee,B as q,b8 as se,bK as te,aL as U,n as ne,aY as re,aW as ae,aX as oe}from"./index-BHxstxRa.js";import{u as D,S as _,b as R,d as y,a as $,P as E,e as P,f as d,g as k,W as ie,m as ce,n as le,i as ue,j as me,k as de,l as pe}from"./StepSwitcher-BXJo8zYy.js";import{u as he}from"./useWhichPlayerIsThe-BcsiHXiX.js";import{T as xe}from"./TrendingIcon-tG_VCgLg.js";import{I as x}from"./Instruction-BybbLj7U.js";import{T as F}from"./TurnOrder-CmSLpf1A.js";import{R as je}from"./RoundAnnouncement-D8tdXt6N.js";import{V as fe}from"./ViewOr-BgRZj989.js";import{A as z}from"./AvatarName-Ded-9Oeu.js";import{P as h}from"./PointsHighlight-DWvxDO4z.js";import{T as ge,F as ve}from"./TargetIcon-UCJ6tGE6.js";import{M as we}from"./MetricHighlight-NE1YeT7O.js";import{R as H}from"./RuleInstruction-CJDCPjux.js";import{a as b,S as G}from"./SpeechBubbleThumbsUpIcon-f1NYhfp_.js";import{R as _e}from"./ReviewIcon-BoZoumSK.js";import{T as be}from"./speech-DY7sRUF5.js";import{A as Ie}from"./Avatar-c6A67G38.js";import{S as Te}from"./StarPoints-CXhDF6ax.js";import{R as Oe}from"./LikeFilled-C-VhT6vf.js";import{R as Ne}from"./TrophyOutlined-Cz_HdSGs.js";import{S as Se}from"./StepRankingWrapper-Bvk8BHUN.js";import{T as Ae}from"./TrophyIcon-Cqy6qBLR.js";import"./GameOver-DjFlmOyW.js";import{G as Ce}from"./GameOverWrapper-BE8KPX7K.js";import{A as Re}from"./Achievements-Bysic5AC.js";import{a as ye}from"./achievements-Z0392ojz.js";/* empty css                            */import"./useBlurCards-ByGlxzrY.js";import"./RulesModal-CtIeEXbk.js";import"./WritingIcon-RZOKDAhj.js";import"./DoubleRightOutlined-Blb_jWym.js";import"./PurePanel-DkQQKWjz.js";import"./useMutation-BfEbaEN0.js";import"./Game-BROCs2wq.js";import"./WaitingRoomIcon-BqwLGh8b.js";import"./AnimatedClockIcon-DEmAIurJ.js";import"./index-BkC-I9pC.js";import"./useBubbleLock-8-ribwE0.js";import"./index-C9vtP08p.js";import"./Overflow-D8qpiekN.js";import"./useEvent-BrwtzNMp.js";import"./index-Q6J0dQ4X.js";import"./index-YBpBwVZ1.js";import"./GameBanner-B0G-RioB.js";import"./useDevFeatures-BewB_gnt.js";import"./useTDBaseUrl-BF9foKiS.js";import"./index-C31kRhB0.js";import"./InfoCircleOutlined-BHPK27TA.js";import"./index-BZRlC0LW.js";import"./SignIn-bK2xkQed.js";import"./GoogleIcon-BfnRz8LL.js";import"./Loading-BwgeH7qs.js";import"./AnimatedLoaderIcon-CN2Xdapq.js";import"./StarIcon-xcWRrwl6.js";import"./StarFilled-Dgjp5jwM.js";import"./StarFilled-CNctUIhy.js";import"./RankingBoard-CsZbDBfK.js";import"./CaretUpOutlined-CTN4lzvm.js";import"./ArrowRightOutlined-BtyUeI6C.js";import"./useMergedState-DastMU9z.js";import"./progress-eTBcOKGc.js";import"./TheEndIcon-j4gIMajT.js";import"./Container-Cqe0mFtD.js";import"./Medal-CjUO9jnU.js";import"./QuestionCircleOutlined-D6T7R5Hd.js";var Ee={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M573 421c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40zm-280 0c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40z"}},{tag:"path",attrs:{d:"M894 345a343.92 343.92 0 00-189-130v.1c-17.1-19-36.4-36.5-58-52.1-163.7-119-393.5-82.7-513 81-96.3 133-92.2 311.9 6 439l.8 132.6c0 3.2.5 6.4 1.5 9.4a31.95 31.95 0 0040.1 20.9L309 806c33.5 11.9 68.1 18.7 102.5 20.6l-.5.4c89.1 64.9 205.9 84.4 313 49l127.1 41.4c3.2 1 6.5 1.6 9.9 1.6 17.7 0 32-14.3 32-32V753c88.1-119.6 90.4-284.9 1-408zM323 735l-12-5-99 31-1-104-8-9c-84.6-103.2-90.2-251.9-11-361 96.4-132.2 281.2-161.4 413-66 132.2 96.1 161.5 280.6 66 412-80.1 109.9-223.5 150.5-348 102zm505-17l-8 10 1 104-98-33-12 5c-56 20.8-115.7 22.5-171 7l-.2-.1A367.31 367.31 0 00729 676c76.4-105.3 88.8-237.6 44.4-350.4l.6.4c23 16.5 44.1 37.1 62 62 72.6 99.6 68.5 235.2-8 330z"}},{tag:"path",attrs:{d:"M433 421c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40z"}}]},name:"comment",theme:"outlined"},Pe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M925.9 804l-24-199.2c-.8-6.6-8.9-9.4-13.6-4.7L829 659.5 557.7 388.3c-6.3-6.2-16.4-6.2-22.6 0L433.3 490 156.6 213.3a8.03 8.03 0 00-11.3 0l-45 45.2a8.03 8.03 0 000 11.3L422 591.7c6.2 6.3 16.4 6.3 22.6 0L546.4 490l226.1 226-59.3 59.3a8.01 8.01 0 004.7 13.6l199.2 24c5.1.7 9.5-3.7 8.8-8.9z"}}]},name:"fall",theme:"outlined"},ke={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M917 211.1l-199.2 24c-6.6.8-9.4 8.9-4.7 13.6l59.3 59.3-226 226-101.8-101.7c-6.3-6.3-16.4-6.2-22.6 0L100.3 754.1a8.03 8.03 0 000 11.3l45 45.2c3.1 3.1 8.2 3.1 11.3 0L433.3 534 535 635.7c6.3 6.2 16.4 6.2 22.6 0L829 364.5l59.3 59.3a8.01 8.01 0 0013.6-4.7l24-199.2c.7-5.1-3.7-9.5-8.9-8.8z"}}]},name:"rise",theme:"outlined"},Me={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M752 664c-28.5 0-54.8 10-75.4 26.7L469.4 540.8a160.68 160.68 0 000-57.6l207.2-149.9C697.2 350 723.5 360 752 360c66.2 0 120-53.8 120-120s-53.8-120-120-120-120 53.8-120 120c0 11.6 1.6 22.7 4.7 33.3L439.9 415.8C410.7 377.1 364.3 352 312 352c-88.4 0-160 71.6-160 160s71.6 160 160 160c52.3 0 98.7-25.1 127.9-63.8l196.8 142.5c-3.1 10.6-4.7 21.8-4.7 33.3 0 66.2 53.8 120 120 120s120-53.8 120-120-53.8-120-120-120zm0-476c28.7 0 52 23.3 52 52s-23.3 52-52 52-52-23.3-52-52 23.3-52 52-52zM312 600c-48.5 0-88-39.5-88-88s39.5-88 88-88 88 39.5 88 88-39.5 88-88 88zm440 236c-28.7 0-52-23.3-52-52s23.3-52 52-52 52 23.3 52 52-23.3 52-52 52z"}}]},name:"share-alt",theme:"outlined"};function T(){return T=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(s[r]=n[r])}return s},T.apply(this,arguments)}const Le=(s,t)=>m.createElement(w,T({},s,{ref:t,icon:Ee})),Be=m.forwardRef(Le);function O(){return O=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(s[r]=n[r])}return s},O.apply(this,arguments)}const Fe=(s,t)=>m.createElement(w,O({},s,{ref:t,icon:Pe})),ze=m.forwardRef(Fe);function N(){return N=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(s[r]=n[r])}return s},N.apply(this,arguments)}const Ve=(s,t)=>m.createElement(w,N({},s,{ref:t,icon:ke})),W=m.forwardRef(Ve);function S(){return S=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(s[r]=n[r])}return s},S.apply(this,arguments)}const qe=(s,t)=>m.createElement(w,S({},s,{ref:t,icon:Me})),Ue=m.forwardRef(qe),Z={SUBMIT_TOPIC:"SUBMIT_TOPIC",SUBMIT_REACTION:"SUBMIT_REACTION"};function De(s){const{translate:t}=C(),n=D({actionName:"submit-tweet",onBeforeCall:()=>s(3),onError:()=>s(2),successMessage:t("Assunto enviada com sucesso!","Tweet send successfully!"),errorMessage:t("Vixi, o aplicativo encontrou um erro ao tentar enviar seu assunto","Oops, the application failed to submit the tweet")});return r=>{n({action:Z.SUBMIT_TOPIC,...r})}}function $e(s){const{translate:t}=C(),n=D({actionName:"submit-reaction",onBeforeCall:()=>s(2),onError:()=>s(1),successMessage:t("Reação enviada com sucesso!","Reaction send successfully!"),errorMessage:t("Vixi, o aplicativo encontrou um erro ao tentar enviar sua reação","Oops, the application failed to submit your reaction")});return r=>{n({action:Z.SUBMIT_REACTION,...r})}}function He(s){return{tweetId:I(s).id}}function Ge(s){return{reaction:I([!0,!1]),likesGuess:I(Array(s+1).fill(0).map((t,n)=>t+n))}}function V({children:s,type:t,iconSize:n,className:r}){return e.jsx(we,{icon:e.jsx(ge,{}),type:t,iconSize:n,className:r,children:s})}function A({round:s,activePlayer:t,isFixedRounds:n}){return e.jsx(a,{pt:e.jsxs(e.Fragment,{children:["Todos vão curtir ou des-curtir a polêmica da vez e então devem tentar adivinhar quantas curtidas o assunto vai ganhar.",e.jsx("br",{}),"Se você adivinhar corretamente, você ganha ",e.jsx(h,{children:"3"})," pontos.",e.jsx("br",{}),"Se você escolheu um número a menos ou a mais, você ganha ",e.jsx(h,{children:"1"})," ponto.",e.jsx("br",{}),n?e.jsxs(e.Fragment,{children:["O jogo tem ",s.total," rodadas."]}):e.jsxs(e.Fragment,{children:["O primeiro jogador a receber ",e.jsx(V,{children:"10"})," pontos ganha o jogo (ou no máximo ",s.total," rodadas)"]}),e.jsx("br",{}),!!t&&e.jsxs(x,{contained:!0,children:[e.jsx(z,{player:t,addressUser:!0})," escolherá o assunto para essa rodada."]})]}),en:e.jsxs(e.Fragment,{children:["All players must like or dislike a tweet then must vote how trendy it is (how many players liked the tweet). If you guess correctly you get ",e.jsx(h,{children:"3"})," points.",e.jsx("br",{}),"If you got 1 number off (more or less), you get ",e.jsx(h,{children:"1"})," point.",e.jsx("br",{}),n?e.jsxs(e.Fragment,{children:["The game will have",s.total," rounds."]}):e.jsxs(e.Fragment,{children:["The first players to get ",e.jsx(V,{children:"10"})," points wins the game (or a maximum of ",s.total," rounds)"]}),e.jsx("br",{}),!!t&&e.jsxs(x,{contained:!0,children:[e.jsx(z,{player:t,addressUser:!0})," will choose the tweet for this round."]})]})})}function We({currentTweets:s,currentCustomTweet:t,onSubmitTweet:n,announcement:r,round:i,isFixedRounds:l}){const{translate:o}=C(),[u,j]=m.useState(""),p=()=>{u&&n({tweetId:t.id,customTweet:u})};return e.jsxs(_,{fullWidth:!0,announcement:r,children:[e.jsx(R,{children:e.jsx(a,{pt:"Selecione um assunto",en:"Select one tweet"})}),e.jsx(H,{type:"action",children:e.jsx(A,{round:i,isFixedRounds:l})}),e.jsxs("ul",{className:"p-tweets-card",children:[s.map(c=>e.jsx("li",{className:"p-tweets-card__item",children:e.jsx("button",{type:"button",onClick:()=>n({tweetId:c.id}),className:"p-tweet p-tweet--button",children:c.text})},c.id)),e.jsx("li",{className:"p-tweets-card__item p-tweets-card__item--or",children:e.jsx(a,{pt:"ou",en:"or"})}),e.jsxs("li",{className:"p-tweets-card__item p-tweets-card__item--custom",children:[e.jsx("div",{className:"p-tweet",children:t.text}),e.jsx(J,{className:"p-custom-tweet__input",placeholder:o("Escreva aqui","Write here"),onChange:c=>j(c.target.value),onPressEnter:p}),!!u&&e.jsx(K,{onClick:p,className:"p-custom-tweet__button",children:e.jsx(a,{pt:"Enviar sugestão",en:"Send suggestion"})})]})]})]})}function Ze({state:s,players:t,meta:n}){var f,M,L;const{step:r,goToNextStep:i,setStep:l}=y(0),[o,u]=he("activePlayerId",s,t),j=De(l),p=!!((f=n==null?void 0:n.options)!=null&&f.fixedRounds);$(()=>{r===1&&u&&j(He(s.currentTweets))},[r]);const c=e.jsx(E,{icon:e.jsx(xe,{}),title:e.jsx(a,{pt:"Você sabe qual a polêmica da vez?",en:"Do you know what's trending now?"}),currentRound:(M=s==null?void 0:s.round)==null?void 0:M.current,duration:((L=s==null?void 0:s.round)==null?void 0:L.current)<3?30:void 0,type:"overlay",children:e.jsxs(x,{children:[e.jsx(A,{round:s.round,activePlayer:o,isFixedRounds:p}),e.jsx(F,{order:s.gameOrder,players:t,activePlayerId:s.activePlayerId})]})});return e.jsx(P,{phase:s==null?void 0:s.phase,allowedPhase:d.POLEMICA_DA_VEZ.TOPIC_SELECTION,children:e.jsxs(k,{step:r,players:t,children:[e.jsx(je,{round:s.round,onPressButton:i,time:4,children:e.jsx(x,{contained:!0,children:e.jsx(a,{pt:"Cada rodada um novo assunto, a sua opinião e a opinião dos outros.",en:"Every round a new tweet, your opinion and everybody else's."})})}),e.jsxs(fe,{condition:u,children:[e.jsx(We,{currentTweets:s.currentTweets,currentCustomTweet:s.currentCustomTweet,onSubmitTweet:j,announcement:c,round:s.round,isFixedRounds:p}),e.jsx(_,{fullWidth:!0,announcement:c,children:e.jsx(ie,{title:e.jsx(a,{pt:"Aguarde...",en:"Please wait..."}),instruction:e.jsxs(e.Fragment,{children:[e.jsx(x,{children:e.jsx(A,{round:s.round,activePlayer:o,isFixedRounds:p})}),e.jsx(F,{order:s.gameOrder,players:t,activePlayerId:s.activePlayerId})]}),players:t})})]})]})})}function Ye(s){return e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",...s,children:[e.jsx("rect",{width:"62",height:"62",x:"1",y:"1",fill:"#55d0f2",rx:"6"}),e.jsx("path",{fill:"#61ddff",d:"M57 1H7a6 6 0 0 0-6 6v10a22 22 0 0 0 22 22h18a22 22 0 0 0 22-22V7a6 6 0 0 0-6-6"}),e.jsx("path",{fill:"#9ceaff",d:"M57 1H7a6 6 0 0 0-6 6v4a6 6 0 0 1 6-6h50a6 6 0 0 1 6 6V7a6 6 0 0 0-6-6"}),e.jsx("path",{fill:"#52aff4",d:"M57 59H7a6 6 0 0 1-6-6v4a6 6 0 0 0 6 6h50a6 6 0 0 0 6-6v-4a6 6 0 0 1-6 6"}),e.jsx("path",{fill:"#fdfef9",d:"M54 21.3s-.6 4-3.7 5.6v.3a22 22 0 0 1-5.6 14.2A23.3 23.3 0 0 1 14 44.8a20 20 0 0 0 6.2-4 22.3 22.3 0 0 1-4.4-3.7 5.2 5.2 0 0 0 1.7-1 8 8 0 0 1-4.1-2 22 22 0 0 1-2-3.9A5.5 5.5 0 0 0 14 29a7 7 0 0 1-3.3-1.4 21.8 21.8 0 0 1-.7-5.3 21 21 0 0 1 .3-3.5 20.3 20.3 0 0 0 16.2 8 11.8 11.8 0 0 1 12-11.7 12 12 0 0 1 5.7 1.4 11.9 11.9 0 0 1 4.5 4.3 11 11 0 0 0 4.4-3s0 3.6-1.9 4.5a4.6 4.6 0 0 0 2.8-1"}),e.jsx("path",{fill:"#52aff4",d:"M16 37.1a5.2 5.2 0 0 0 1.6-1 8 8 0 0 1-4-2l-.4-.6a6 6 0 0 1-1.7.7 22 22 0 0 0 2 3.9 8 8 0 0 0 4.1 2 5.2 5.2 0 0 1-1.7 1 22 22 0 0 0 1.8 1.8 20 20 0 0 0 2.6-2A22.3 22.3 0 0 1 16 37zm34.3-10.2v.3a22 22 0 0 1-5.6 14.2 23.3 23.3 0 0 1-27 5.5 20 20 0 0 1-3.6 2 23.3 23.3 0 0 0 30.6-3.5 22 22 0 0 0 5.6-14.2V31c3.1-1.6 3.7-5.6 3.7-5.6a4.3 4.3 0 0 1-2.6.9 5.6 5.6 0 0 1-1 .7zm-36.3 2a7 7 0 0 1-3.3-1.4 21.6 21.6 0 0 1-.6-3.4l-.1 2a21.8 21.8 0 0 0 .7 5.4 8.7 8.7 0 0 0 2 1 21 21 0 0 1-1.2-2.3A5.5 5.5 0 0 0 14 29z"}),e.jsx("path",{d:"M9.7 27.8a1 1 0 0 0 .4.6 10.6 10.6 0 0 0 1.4.8h-.2a1 1 0 0 0-.7 1.4 23 23 0 0 0 2 4 1 1 0 0 0 .3.2 11.5 11.5 0 0 0 2.4 1.6 1 1 0 0 0-.1 1.4 23.3 23.3 0 0 0 3.5 3.1 19 19 0 0 1-5 3 1 1 0 0 0-.2 1.7A24.3 24.3 0 0 0 45.4 42a23 23 0 0 0 6-14.5c3-2 3.6-6 3.6-6a1 1 0 0 0-.5-1.1 1 1 0 0 0-.8 0 10 10 0 0 0 .4-2.7 1 1 0 0 0-1.8-.6 8.2 8.2 0 0 1-3.3 2.4 12.8 12.8 0 0 0-4.3-4 13.1 13.1 0 0 0-6.3-1.5 12.8 12.8 0 0 0-12.9 11.6A19.4 19.4 0 0 1 11.1 18a1 1 0 0 0-1.8.5 22.3 22.3 0 0 0-.3 3.7 22.8 22.8 0 0 0 .7 5.6M11 21a21.5 21.5 0 0 0 15.5 6.5 1 1 0 0 0 1-1 10.8 10.8 0 0 1 11-10.6 11.1 11.1 0 0 1 5.2 1.3 10.8 10.8 0 0 1 4.1 4 1 1 0 0 0 1.3.4 19.6 19.6 0 0 0 2.5-1.3 1.8 1.8 0 0 1-.8.9 1 1 0 0 0 .5 1.9 6.7 6.7 0 0 0 1.1-.2 5.9 5.9 0 0 1-2.5 3 1 1 0 0 0-.6.9v.3A21 21 0 0 1 44 40.7 22.3 22.3 0 0 1 16.2 45a21 21 0 0 0 4.8-3.4 1 1 0 0 0-.2-1.6 21 21 0 0 1-3.2-2.6 5 5 0 0 0 .7-.6 1 1 0 0 0-.6-1.7 7 7 0 0 1-3.4-1.7 21 21 0 0 1-1.4-2.6 5.9 5.9 0 0 0 1.8-1.2 1 1 0 0 0-.7-1.7 5.6 5.6 0 0 1-2.5-1 21 21 0 0 1-.5-4.7z"}),e.jsx("path",{d:"M62 57a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5h2V0H7a7 7 0 0 0-7 7v50a7 7 0 0 0 7 7h50a7 7 0 0 0 7-7v-2h-2z"}),e.jsx("path",{d:"M57 0H15v2h42c4.4 0 5 5.6 5 9v42h2V11c0-10-4.9-11-7-11M11 0h2v2h-2z"})]})}function Y({tweet:s,likes:t,className:n=""}){return e.jsxs("div",{className:v("p-trending-tweet",n),children:[e.jsx(g,{icon:e.jsx(Ye,{})})," ",s," ",e.jsx(W,{})," ",!!t&&e.jsxs("span",{className:"p-trending-tweet__likes",children:[e.jsx(Q,{src:e.jsx(b,{}),shape:"square",size:"large",className:"p-trending-tweet__icon-like"})," ",t]})]})}function Je({currentTweet:s,customTweet:t,onSubmitReaction:n,players:r,announcement:i}){const{isLoading:l}=X(),[o,u]=m.useState(null),j=c=>{n({reaction:!!o,likesGuess:c})},p=m.useMemo(()=>Array(Object.keys(r).length+1).fill(0).map((c,f)=>c+f),[r]);return e.jsxs(_,{fullWidth:!0,className:"p-step",announcement:i,children:[e.jsx(R,{children:e.jsx(a,{pt:"O que você acha da polêmica da vez?",en:"What do you think of this trending topic?"})}),e.jsxs("div",{className:"p-reaction-buttons",children:[e.jsx(Y,{tweet:t??(s==null?void 0:s.text),className:"p-reaction-buttons__tweet"}),e.jsxs(B,{className:v("p-reaction-button","p-reaction-button--like",o===!0&&"p-reaction-button--active"),onClick:()=>u(!0),children:[e.jsx(g,{icon:e.jsx(b,{}),shape:"square",className:"p-like-icon"}),e.jsx(a,{pt:"Curto",en:"Like"})]}),e.jsxs(B,{className:v("p-reaction-button","p-reaction-button--dislike",o===!1&&"p-reaction-button--active"),onClick:()=>u(!1),children:[e.jsx(g,{icon:e.jsx(G,{}),shape:"square",className:"p-like-icon"}),e.jsx(a,{pt:"Não curto",en:"Dislike"})]})]}),o!==null&&e.jsxs("div",{className:ee("fadeIn"),children:[e.jsx(H,{type:"action",children:e.jsx(a,{pt:"Quantas curtidas esse assunto vai receber?",en:"How many likes will this tweet get?"})}),e.jsx("ul",{className:"p-votes",children:p.map(c=>{const f=`quantity-${c}`;return e.jsx("li",{children:e.jsx(q,{type:"primary",disabled:l||o===null,onClick:()=>j(c),size:"large",shape:"circle",children:c})},f)})})]})]})}function Ke({state:s,players:t}){var o;const{step:n,setStep:r}=y(0),i=$e(r);$(()=>{i(Ge(Object.keys(t).length))},[]);const l=e.jsx(E,{icon:e.jsx(ve,{}),title:e.jsx(a,{pt:"O que você acha?",en:"What do you think?"}),currentRound:(o=s==null?void 0:s.round)==null?void 0:o.current,type:"overlay",children:e.jsx(x,{children:e.jsx(a,{pt:e.jsxs(e.Fragment,{children:["Um assunto polêmico está abalando as redes sociais!",e.jsx("br",{}),"Curta (ou não) e tente descobrir quantas curtidas ele vai receber."]}),en:e.jsxs(e.Fragment,{children:["A topic is trending in all social media!",e.jsx("br",{}),"Like (or not) and try to guess how many likes it will get!"]})})})});return e.jsx(P,{phase:s==null?void 0:s.phase,allowedPhase:d.POLEMICA_DA_VEZ.REACT,children:e.jsx(k,{step:n,players:t,children:e.jsx(Je,{currentTweet:s.currentTweet,customTweet:s.customTweet,onSubmitReaction:i,players:t,announcement:l})})})}function Qe({reaction:s,likes:t,playerId:n,points:r}){return e.jsxs("span",{children:[s?e.jsxs(e.Fragment,{children:[e.jsx(g,{icon:e.jsx(b,{}),shape:"square",className:"p-like-icon",size:20})," ",e.jsx(a,{pt:"Curto e ",en:"I like it and"})]}):e.jsxs(e.Fragment,{children:[e.jsx(g,{icon:e.jsx(G,{}),shape:"square",className:"p-like-icon",size:20})," ",e.jsx(a,{pt:"Não curto, mas ",en:"I dislike it but "})]}),e.jsx(a,{pt:e.jsx(e.Fragment,{children:"eu acho que "}),en:e.jsx(e.Fragment,{children:"I think "})}),e.jsx("span",{className:v(r===3&&"p-tweet-comment__correct",r===1&&"p-tweet-comment__almost",r===0&&"p-tweet-comment__incorrect"),children:e.jsx(a,{pt:e.jsxs(e.Fragment,{children:[t," jogadores"]}),en:e.jsxs(e.Fragment,{children:[t," players"]})})}),e.jsx(a,{pt:e.jsx(e.Fragment,{children:" curtem."}),en:e.jsx(e.Fragment,{children:" do like it."})}),e.jsx("br",{}),e.jsx("span",{className:"p-tweet-comment__points",children:e.jsx(Te,{keyPrefix:n,quantity:r})})]})}function Xe({player:s,totalLikes:t}){const n=s.likesGuess===t,r=[t-1,t+1].includes(s.likesGuess),i=n?3:r?1:0;return e.jsxs("div",{className:"p-tweet-comment",children:[e.jsx("div",{className:"p-tweet-comment__avatar",children:e.jsx(Ie,{id:s.avatarId})}),e.jsxs("div",{className:"p-tweet-comment__content",children:[e.jsxs("div",{className:"p-tweet-comment__author",children:[e.jsx("span",{className:"p-tweet-comment__author-name",children:s.name}),e.jsx("span",{className:"p-tweet-comment__author-date",children:se(s.updatedAt).fromNow()})]}),e.jsx(Qe,{reaction:s.reaction,likes:s.likesGuess,points:i,playerId:s.id})]})]})}function es({players:s,totalLikes:t,customTweet:n,currentTweet:r,goToNextStep:i,announcement:l}){return ce(),e.jsxs(_,{fullWidth:!0,className:"p-step",announcement:l,children:[e.jsx(R,{children:e.jsx(a,{pt:"Resultado",en:"Results"})}),e.jsxs("div",{className:"p-tweet-container",children:[e.jsxs("div",{className:"p-tweet",children:[e.jsx("div",{className:"p-tweet__tweet",children:e.jsx(Y,{tweet:n??(r==null?void 0:r.text)})}),e.jsxs("div",{className:"p-tweet__actions",children:[e.jsxs("div",{className:"p-tweet__action",style:{color:t>0?"DodgerBlue":"gray"},children:[e.jsx(Oe,{className:"p-tweet__icon"}),t]}),e.jsxs("div",{className:"p-tweet__action p-tweet__action-active",children:[e.jsx(Be,{className:"p-tweet__icon"})," ",e.jsx(a,{pt:"Comentários",en:"Comments"})]}),e.jsxs("div",{className:"p-tweet__action",children:[e.jsx(Ue,{className:"p-tweet__icon"})," ",e.jsx(a,{pt:"Compartilhar",en:"Share"})]})]})]}),e.jsx("ul",{className:"p-tweet-comments",children:te(s).map(o=>{const u=`player-result-${o.id}`;return e.jsx("li",{className:"p-player-reaction",children:e.jsx(Xe,{player:o,totalLikes:t})},u)})})]}),e.jsx(U,{children:e.jsx(be,{duration:20,onExpire:i,onClick:i,icon:e.jsx(Ne,{}),children:e.jsx(a,{pt:"Ver Ranking",en:"See Ranking"})})})]})}function ss({players:s,ranking:t,goToPreviousStep:n,round:r}){return e.jsxs(Se,{players:s,ranking:t,gainedPointsDescriptions:[e.jsx(a,{pt:"Escolha correta ou próxima",en:"Correct or close guess"},"1")],children:[e.jsx(U,{align:"center",children:e.jsx(q,{onClick:n,children:e.jsx(a,{pt:"Ver resultado novamente",en:"See results again"})})}),e.jsx(le,{round:r})]})}function ts({state:s,players:t}){var o;const{step:n,goToNextStep:r,goToPreviousStep:i}=y(0),l=e.jsx(E,{icon:e.jsx(_e,{}),title:e.jsx(a,{pt:"Resultado",en:"Results"}),currentRound:(o=s==null?void 0:s.round)==null?void 0:o.current,type:"overlay",children:e.jsx(x,{children:e.jsx(a,{pt:e.jsxs(e.Fragment,{children:["E aí? Será que o assunto bombou?",e.jsx("br",{}),"Se você acertou a quantidade de curtidas, você ganha ",e.jsx(h,{children:"3"})," ","pontos.",e.jsx("br",{}),"Se você quase acertou, você ganha ",e.jsx(h,{children:"1"})," ponto."]}),en:e.jsxs(e.Fragment,{children:["So... did the tweet trend?",e.jsx("br",{}),"If you guessed the correct number of likes, you get ",e.jsx(h,{children:"3"})," points.",e.jsx("br",{}),"If you were one off, you get ",e.jsx(h,{children:"1"})," point."]})})})});return e.jsx(P,{phase:s==null?void 0:s.phase,allowedPhase:d.POLEMICA_DA_VEZ.RESOLUTION,children:e.jsxs(k,{step:n,players:t,children:[e.jsx(es,{players:t,customTweet:s.customTweet,currentTweet:s.currentTweet,totalLikes:s.totalLikes,goToNextStep:r,announcement:l}),e.jsx(ss,{players:t,round:s.round,ranking:s.ranking,goToPreviousStep:i})]})})}function ns({state:s,players:t}){const n=Object.keys(t).length;return e.jsxs(Ce,{announcementIcon:e.jsx(Ae,{}),state:s,players:t,children:[e.jsx(Re,{achievements:s.achievements,players:t,reference:ye}),e.jsx("ul",{className:"p-all-tweets",style:{gridTemplateColumns:`repeat(${n%3===0?3:5}, 1fr)`},children:ne.orderBy(s.allTweets,["likes","text"],["desc","asc"]).map(r=>{const i=r.likes>n/2;return e.jsxs("li",{className:"p-all-tweets__tweet",children:[e.jsxs("h3",{children:[i?e.jsx(W,{}):e.jsx(ze,{})," ",r.text]}),e.jsxs("div",{className:"p-all-tweets__comment",children:[e.jsx(g,{icon:e.jsx(b,{}),shape:"square",className:"p-like-icon"})," ",r.likes," ",e.jsx(a,{pt:"curtidas",en:"likes"})]})]},r.id)})})]})}function rs(s){if(s&&!s.phase)return ae;switch(s.phase){case d.DEFAULT.LOBBY:return pe;case d.DEFAULT.RULES:return de;case d.DEFAULT.SETUP:return me;case d.POLEMICA_DA_VEZ.TOPIC_SELECTION:return Ze;case d.POLEMICA_DA_VEZ.REACT:return Ke;case d.POLEMICA_DA_VEZ.RESOLUTION:return ts;case d.DEFAULT.GAME_OVER:return ns;default:return oe}}function jt(){return e.jsx(ue,{gameCollection:re.POLEMICA_DA_VEZ,getActiveComponent:rs})}export{jt as default};
