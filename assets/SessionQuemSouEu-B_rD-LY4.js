import{h as O,q as U,aJ as xe,n as R,j as e,T as i,w as _,o as C,aM as S,cc as M,e as ee,I,aN as ce,P as Ce,r as k,c9 as E,cj as _e,B as je,D as Re,cd as Ne,aZ as Ee}from"./index-mhtE89Mr.js";import{u as re,S as B,a as H,b as oe,c as D,P as L,d as $,e as z,j as Ie,k as qe,g as we,h as Ae,i as Pe}from"./StepSwitcher-73qRd_fP.js";import{F as Te}from"./FilterIcon-Cl5Mqvn9.js";import{I as V}from"./Instruction-CRcSHqZn.js";import{u as se}from"./useBooleanDictionary-D_rvkJoz.js";import{u as ne}from"./useMock-Ch6F30N8.js";import{C as Y}from"./CharacterCard-iTZmVcix.js";import{C as le}from"./CardHighlight-I0KbFBhH.js";import{R as W}from"./RuleInstruction-Wwcoeq_K.js";import{B as Ge}from"./index-uKNx7qxK.js";import{P as Fe}from"./PlayerIconsIcon-CNcttuQO.js";import{R as ke}from"./RoundAnnouncement-oALkADqF.js";import{P as te,p as Me,g as We,a as Oe,b as Ue}from"./PlayerGlyphs-DjHSQuI_.js";import{N as Q}from"./NoIcon-D48GLOCj.js";import{Y as K,M as Be}from"./YesIcon-C3B_WJq6.js";import{G as q}from"./GlyphCard-CfniB65b.js";/* empty css                             */import{I as He}from"./ImageBlurButtonContainer-BnZk4Eh-.js";import{I as ge}from"./ImageCard-vmPqgS8H.js";import{M as ye}from"./MetricHighlight-Bp45K-Uh.js";import{E as De}from"./WritingIcon-jZkUxQpV.js";import{P as F}from"./PointsHighlight-DdkxV5T_.js";import{u as Le}from"./useVotingMatch-C7N2CVOE.js";import"./Ribbon-CzboxG3F.js";import{R as $e}from"./RibbonGroup-Bcu-8-2x.js";import{R as ze}from"./ThunderboltOutlined-ZWgqWCNn.js";import{u as Ve}from"./SlideShowControls-Bb7DAlk-.js";import{A as Ye}from"./AvatarName-CdK6NBxp.js";import{P as ve}from"./PopoverRule-Dm4rF3EC.js";import{S as Qe}from"./SlideShow-wvOwGSKH.js";import{S as de}from"./StarPoints-DQFgMAmC.js";import{S as he,a as Ke,b as X,c as Je}from"./SlideShowComposableComponents-Cje6_rhw.js";import{S as Ze}from"./StepRankingWrapper-7B6ysegV.js";import{R as Xe}from"./RoundsLeftInstruction-BMTLBpuE.js";import{R as es}from"./PictureOutlined-Dar2ceC-.js";import{T as ss}from"./TrophyIcon-JiZw9oxK.js";import{G as rs}from"./GameOverWrapper-CZeCGDH6.js";import{A as os}from"./Achievements-Cf3ohYnv.js";import{a as ns}from"./achievements-BW6l1tk2.js";import{A as ts}from"./AvatarStrip-yxLm5VWQ.js";import"./useBlurCards-DA6pkazr.js";import"./speech-Sum5EwAa.js";import"./useDevFeatures-CLvdjTZ1.js";import"./RulesModal-Dt3p89j5.js";import"./index-CBastY9Y.js";import"./PurePanel-BhlflQDF.js";import"./Game-Cc1Xg0SU.js";import"./useMutation-DVWFkbvB.js";import"./index-CvadSw5N.js";import"./index-CcaLYLEA.js";import"./Overflow-t8-zGVlF.js";import"./useEvent-BzFt1j2B.js";import"./index-DNSzIJ4P.js";import"./Avatar-D88JvEkC.js";import"./GameBanner-D1kftMcD.js";import"./useTDBaseUrl-BF9foKiS.js";import"./index-ZPfDu_MS.js";import"./Loading-BdBzGtp7.js";import"./useBubbleLock-CYm-6Okl.js";import"./AnimatedLoaderIcon-B5m1cfWp.js";import"./InfoCircleOutlined-DFycsMCC.js";import"./index-Col1DL4b.js";import"./SignIn-7qVsPvVC.js";import"./GoogleIcon-BL5FOBTX.js";import"./WaitingRoomIcon-BDHh9xvo.js";import"./AnimatedClockIcon-BBOktjVQ.js";import"./LikeFilled-M9eLW4sY.js";import"./StarFilled-DgEH3wqj.js";import"./BoxCheckMarkIcon-CiUgtln3.js";import"./Sprite-CUN8BE1P.js";import"./WarningOutlined-VoL-gNsQ.js";import"./ImageBlurButton-C-iv750l.js";import"./StarIcon-D88STn0I.js";import"./StepBackwardOutlined-BR1IAkOX.js";import"./TrophyOutlined-BxtshsmL.js";import"./GarbageIcon-BSw-s7xG.js";import"./RankingBoard-smteDma2.js";import"./CaretUpOutlined-DC0bm9yU.js";import"./TheEndIcon-BtrmQxVe.js";import"./index-zvMUQj2I.js";import"./useMergedState-DEK0U3nw.js";import"./progress-CtcULjab.js";import"./TitledContainer-BVZYGpiK.js";import"./Medal-BCLdAY2A.js";const b={CHARACTER_FILTERING:"CHARACTER_FILTERING",CHARACTER_DESCRIPTION:"CHARACTER_DESCRIPTION",GUESSING:"GUESSING",RESULTS:"RESULTS"},ae={SUBMIT_CHARACTERS:"SUBMIT_CHARACTERS",SUBMIT_GLYPHS:"SUBMIT_GLYPHS",SUBMIT_GUESSES:"SUBMIT_GUESSES"},as=10;function is(r){const{translate:s}=O(),o=re({actionName:"submit-characters",onSuccess:()=>r(2),onError:()=>r(0),successMessage:s("Ação submetida com sucesso","Action submitted successfully"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return n=>{o({action:ae.SUBMIT_CHARACTERS,...n})}}function cs(r){const{translate:s}=O(),o=re({actionName:"submit-glyphs",onSuccess:()=>r(2),onError:()=>r(0),successMessage:s("Ação submetida com sucesso","Action submitted successfully"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return n=>{o({action:ae.SUBMIT_GLYPHS,...n})}}function ls(r){const{translate:s}=O(),o=re({actionName:"submit-guesses",onSuccess:()=>r(2),onError:()=>r(0),successMessage:s("Ação submetida com sucesso","Action submitted successfully"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return n=>{o({action:ae.SUBMIT_GUESSES,...n})}}const ds=r=>U.sampleSize(r,6).map(s=>s.id);function hs({user:r,announcement:s,onSelectCharacters:o}){const{isLoading:n}=xe(),a=R(12,{gap:16,minWidth:100,maxWidth:200}),{dict:t,updateDict:c,length:l,keys:d}=se({}),m=r.availableCharacters??[];return ne(),e.jsxs(B,{fullWidth:!0,announcement:s,children:[e.jsx(H,{children:e.jsx(i,{pt:e.jsxs(e.Fragment,{children:["Selecione ",e.jsx(le,{children:"6"})," cartas"]}),en:e.jsxs(e.Fragment,{children:["Select ",e.jsx(le,{children:"6"})," cards"]})})}),e.jsx(W,{type:"action",children:e.jsx(i,{pt:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Selecione"})," 6 personagens/celebridades abaixo, dessas 5 serão usadas no jogo.",e.jsx("br",{}),"Essa etapa é necessária para que você não receba um personagem que não conheça."]}),en:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Select"})," 6 characters/celebrities below, 5 of them will be used in the game.",e.jsx("br",{}),"This step is necessary so that you don't receive a character you don't know."]})})}),e.jsx(_,{className:"grid-container grid-template-6 gap-4",wrap:!0,children:m.map(h=>e.jsx(C,{disabled:r.ready||n,onClick:()=>c(h.id),active:t[h.id],activeClass:"q-character-player",children:e.jsx(Y,{size:a,character:h})},h.id))}),e.jsxs(S,{children:[e.jsx(M,{size:"large",type:"dashed",onClick:()=>o({characters:ds(m)}),loading:n,disabled:n||r.ready,children:e.jsx(i,{pt:e.jsx(e.Fragment,{children:"Escolha pra mim"}),en:e.jsx(e.Fragment,{children:"Choose for me"})})}),e.jsx(Ge,{count:l,children:e.jsx(M,{size:"large",onClick:()=>o({characters:d}),loading:n,disabled:r.ready||l!==6,children:e.jsx(i,{pt:"Enviar cartas",en:"Submit cards"})})})]})]})}function ms({players:r,state:s}){var l;const o=oe(r,s),{step:n,setStep:a}=D(),t=is(a),c=e.jsx(L,{icon:e.jsx(Te,{}),title:e.jsx(i,{pt:"Quem você conhece?",en:"Who do you know?"}),currentRound:(l=s==null?void 0:s.round)==null?void 0:l.current,type:"overlay",children:e.jsx(V,{children:e.jsx(i,{pt:e.jsx(e.Fragment,{children:"Selecione personagens/pessoas que você conhece"}),en:e.jsx(e.Fragment,{children:"Select characters/people you know"})})})});return e.jsx($,{phase:s==null?void 0:s.phase,allowedPhase:b.CHARACTER_FILTERING,children:e.jsx(z,{step:n,players:r,children:e.jsx(hs,{user:o,onSelectCharacters:t,announcement:c})})})}function ps({user:r}){return r.selectedGlyphs?e.jsxs(_,{wrap:!0,children:[e.jsx(Y,{size:100,character:r.character}),e.jsx(te,{player:r,glyphWidth:60})]}):e.jsx(e.Fragment,{})}function w({character:r,width:s,imageCardMode:o,className:n}){return o?e.jsx(He,{cardId:r.id,children:e.jsx(ge,{id:r.id,cardWidth:s,className:n,preview:!1})}):e.jsx(Y,{character:r,size:s,className:n})}function us({characters:r,playerCharacterId:s,tableOrder:o,showAll:n=!0,imageCardMode:a=!1}){const t=R(8,{gap:16,minWidth:150,maxWidth:200}),c=o.slice(0,Math.floor(o.length/2)),l=o.slice(Math.floor(o.length/2));return n?e.jsxs(S,{className:"q-table",wrap:!0,children:[e.jsx(S,{wrap:!0,children:c.map(d=>e.jsx(w,{character:r[d],width:t,imageCardMode:a,className:ee(d===s&&"q-character-player")},d))}),e.jsx(S,{wrap:!0,children:l.map(d=>e.jsx(w,{character:r[d],width:t,imageCardMode:a,className:ee(d===s&&"q-character-player")},d))})]}):e.jsx(S,{className:"q-table",children:e.jsx(Y,{character:r[s],size:t,className:"q-character-player"})})}function me({children:r,type:s,iconSize:o,className:n}){return e.jsx(ye,{icon:e.jsx(K,{}),type:s,iconSize:o,className:n,children:r})}function pe({children:r,type:s,iconSize:o,className:n}){return e.jsx(ye,{icon:e.jsx(Q,{}),type:s,iconSize:o,className:n,children:r})}const ue=[0,1,2];function xs({user:r,announcement:s,onSelectGlyphs:o,characters:n,tableOrder:a,roundType:t,imageCardMode:c}){var T;const{translate:l}=O(),d=R(20,{gap:16,minWidth:50,maxWidth:75}),m=d+15,{dict:h,updateDict:p,keys:x}=se({}),{dict:f,updateDict:P,keys:N}=se({}),J=r.glyphs??[];return ne(),e.jsxs(B,{fullWidth:!0,announcement:s,children:[e.jsx(H,{children:e.jsx(i,{pt:e.jsx(e.Fragment,{children:"Descreva seu personagem com ícones"}),en:e.jsx(e.Fragment,{children:"Describe your character with glyphs"})})}),e.jsxs(W,{type:"rule",children:[e.jsx(i,{pt:e.jsxs(e.Fragment,{children:["Dos ícones abaixo, você pode selecionar até ",e.jsx(me,{children:"3"})," positivos e até ",e.jsx(pe,{children:"3"})," negativos.",e.jsx("br",{})," Quando você clica em ícone, você determina se ele é relacionado ao seu personagem ou não.",e.jsx("br",{}),e.jsx("strong",{children:"A sua carta é a que tem a borda de bolinhas amarelas!"})]}),en:e.jsxs(e.Fragment,{children:["From the glyphs below, you may select up to ",e.jsx(me,{children:"3"})," positive and ",e.jsx(pe,{children:"3"})," negative glyphs.",e.jsx("br",{}),"When you click on a glyph, you will determine if it's related or not to your character.",e.jsx("br",{}),e.jsx("strong",{children:"Your card is highlighted with the dotted yellow border!"})]})}),t==="SHOW"&&e.jsx(i,{pt:e.jsxs(e.Fragment,{children:[e.jsx("br",{}),"Você também pode ver todos os personagens abaixo caso queira evitar conflito com outros jogadores."]}),en:e.jsxs(e.Fragment,{children:[e.jsx("br",{}),"You can also take a look at all the characters for this round so you don't give clues that match others."]})})]}),t!=="SHOW"&&e.jsx(W,{type:"event",children:e.jsx(i,{pt:e.jsx(e.Fragment,{children:"De agora em diante, você vê apenas o seu personagem."}),en:e.jsx(e.Fragment,{children:"From now on, you only see your own character."})})}),e.jsx(us,{characters:n,playerCharacterId:(T=r.character)==null?void 0:T.id,tableOrder:a,showAll:t==="SHOW",imageCardMode:c}),e.jsxs(S,{className:"q-selections",children:[e.jsx("div",{className:"q-selections__section q-selections__section--positive",children:ue.map(j=>{const g=x[j];return e.jsx("div",{className:"q-selections__positive",children:e.jsxs("div",{className:"q-selections__entry",children:[e.jsx(I,{icon:e.jsx(K,{})}),g!==void 0?e.jsx(C,{onClick:()=>p(g),title:l("Remover","Remove"),children:e.jsx(ce,{title:e.jsx(i,{pt:"Remover",en:"Remove"}),children:e.jsx(q,{width:m,id:g})})}):e.jsx("div",{className:"q-selections__no-glyph",style:{width:`${m}px`,height:`${m}px`}})]})},`pos-${j}-${g}`)})}),e.jsx("div",{className:"q-selections__section q-selections__section--negative",children:ue.map(j=>{const g=N[j];return e.jsx("div",{className:"q-selections__positive",children:e.jsxs("div",{className:"q-selections__entry",children:[e.jsx(I,{icon:e.jsx(Q,{})}),g!==void 0?e.jsx(C,{onClick:()=>P(g),children:e.jsx(ce,{title:e.jsx(i,{pt:"Remover",en:"Remove"}),trigger:"hover",children:e.jsx(q,{width:m,id:g})})}):e.jsx("div",{className:"q-selections__no-glyph",style:{width:`${m}px`,height:`${m}px`}})]})},`neg-${j}-${g}`)})})]}),e.jsx(_,{className:"glyphs",wrap:!0,children:J.map(j=>e.jsx(Ce,{content:e.jsx(js,{id:j,updatePositive:p,updateNegative:P,disablePositive:x.length===3,disableNegative:N.length===3}),title:e.jsx(i,{pt:"Positivo ou Negativo?",en:"Positive or Negative"}),trigger:"click",children:e.jsx(C,{children:e.jsx(q,{width:d,id:j})})},j))}),e.jsx(S,{children:e.jsx(M,{size:"large",onClick:()=>o({glyphs:Me(h,f)}),disabled:r.ready||x.length<1&&N.length<1,children:e.jsx(i,{pt:e.jsx(e.Fragment,{children:"Enviar ícones"}),en:e.jsx(e.Fragment,{children:"Submit glyphs"})})})})]})}function js({id:r,updatePositive:s,updateNegative:o,disablePositive:n,disableNegative:a}){return e.jsxs(_,{children:[e.jsx(C,{onClick:()=>s(r),disabled:n,children:e.jsx(I,{icon:e.jsx(K,{}),size:"large"})}),e.jsx(C,{onClick:()=>o(r),disabled:a,children:e.jsx(I,{icon:e.jsx(Q,{}),size:"large"})})]})}function gs({players:r,state:s}){var d;const o=oe(r,s),{step:n,goToNextStep:a,setStep:t}=D(),c=cs(t),l=e.jsx(L,{icon:e.jsx(Fe,{}),title:e.jsx(i,{pt:"Descreva seu personagem com ícones",en:"Describe your character with glyphs"}),currentRound:(d=s==null?void 0:s.round)==null?void 0:d.current,type:"overlay",children:e.jsx(V,{children:e.jsx(i,{pt:e.jsx(e.Fragment,{children:"Selecione até 6 ícones que ajudem os outros jogadores a adivinhar o seu personagem"}),en:e.jsx(e.Fragment,{children:"Select up to 6 glyphs that would help other players to guess who your character is"})})})});return e.jsx($,{phase:s==null?void 0:s.phase,allowedPhase:b.CHARACTER_DESCRIPTION,children:e.jsxs(z,{step:n,players:r,waitingRoom:{content:e.jsx(ps,{user:o})},children:[e.jsx(ke,{round:s==null?void 0:s.round,onPressButton:a,buttonText:" ",time:5}),e.jsx(xs,{user:o,onSelectGlyphs:c,characters:s.characters,tableOrder:s.tableOrder,announcement:l,roundType:s.roundType,imageCardMode:s.mode==="imageCards"})]})})}function A({currentRound:r}){return e.jsx(i,{pt:e.jsxs(e.Fragment,{children:["Você ganha ",e.jsx(F,{children:r}),"ponto para cada par que acertar e também"," ",e.jsx(F,{children:r}),"ponto para cada jogador que acertar o seu."]}),en:e.jsxs(e.Fragment,{children:["You get ",e.jsx(F,{children:r}),"point for each pair you get correctly and also ",e.jsx(F,{children:r}),"point for each player who gets your character correctly"]})})}function ys({user:r,announcement:s,onSubmitGuesses:o,players:n,characters:a,tableOrder:t,round:c,imageCardMode:l}){var ie;const{isLoading:d}=xe(),m=R(20,{gap:16,minWidth:45,maxWidth:60}),h=R(8,{gap:16,minWidth:120,maxWidth:200}),{votes:p,setVotes:x,activateItem:f,isVotingComplete:P,isItemActive:N}=Le("player",!0,Object.keys(n).length,{}),[J,T]=k.useState(!1),j=()=>{T(!0);const u=Object.keys(p),y=Object.values(p),Z=Object.keys(n).map(v=>E(["player",v])).filter(v=>!u.includes(v)),fe=U.shuffle(Object.keys(a).map(v=>E(["char",v])).filter(v=>!y.includes(v))),G={...p};return Z.forEach((v,be)=>{G[v]||(G[v]=fe[be])}),x(G),G},g=k.useCallback(()=>{if(r.character)return{[E(["player",r.id])]:E(["char",r.character.id])}},[r]);ne(),k.useEffect(()=>{const u=g();u&&x(y=>({...y,...u}))},[(ie=r==null?void 0:r.character)==null?void 0:ie.id]);const Se=We(n,p);return e.jsxs(B,{fullWidth:!0,announcement:s,children:[e.jsx(H,{children:e.jsx(i,{pt:e.jsx(e.Fragment,{children:"Pareie os cada personagem com um jogador"}),en:e.jsx(e.Fragment,{children:"Pair player and characters"})})}),e.jsxs(W,{type:"rule",children:[e.jsx(i,{pt:e.jsxs(e.Fragment,{children:["De acordo com a seleção de ícones de cada jogador, tente adivinhar todos os pares.",e.jsx("br",{}),e.jsx("strong",{children:"Clique"})," em uma das barras de ícones então no personagem correspondente.",e.jsx("br",{}),"Para desfazer, basta selecionar normalmente que sua escolha era sobreposta."]}),en:e.jsxs(e.Fragment,{children:["Based on each player's glyphs selection, try to guess the pairs.",e.jsx("br",{}),e.jsx("strong",{children:"Click"})," on one of the glyph bars and then on the corresponding character.",e.jsx("br",{}),"To undo, just select normally that your choice was overridden."]})}),e.jsx("br",{}),e.jsx(A,{currentRound:c.current})]}),e.jsxs("div",{className:"q-voting-container",children:[e.jsx("div",{className:"q-voting-characters",children:t.map(u=>{const y=E(["char",u]),Z=Se[u]??[];return e.jsxs(C,{onClick:()=>f(y),active:N(y),className:"q-voting-characters__button",children:[e.jsx($e,{labels:Z}),e.jsx(w,{character:a[u],width:h,className:ee(u==="a"&&"q-character-player"),imageCardMode:l})]},u)})}),e.jsx("div",{className:"q-players-glyphs",children:_e(n).map(u=>{const y=E(["player",u.id]);return e.jsx(C,{onClick:()=>f(y),active:N(y),children:e.jsx(te,{player:u,glyphWidth:m,done:!!p[y]})},`glyphs-for-${u.id}`)})})]}),e.jsxs(S,{children:[e.jsx(M,{size:"large",onClick:()=>o({guesses:Oe(p),choseRandomly:J}),disabled:r.ready||!P,children:e.jsx(i,{pt:e.jsx(e.Fragment,{children:"Enviar pares"}),en:e.jsx(e.Fragment,{children:"Submit guesses"})})}),e.jsx(je,{size:"large",type:"dashed",onClick:()=>j(),disabled:d||r.ready,icon:e.jsx(ze,{}),children:e.jsx(i,{pt:e.jsx(e.Fragment,{children:"Desistir"}),en:e.jsx(e.Fragment,{children:"Guess for me"})})})]})]})}function vs({players:r,state:s}){var l;const o=oe(r,s),{step:n,setStep:a}=D(),t=ls(a),c=e.jsx(L,{icon:e.jsx(De,{}),title:e.jsx(i,{pt:"Pareie os personagens e símbolos",en:"Pair characters with the players' glyphs"}),currentRound:(l=s==null?void 0:s.round)==null?void 0:l.current,type:"overlay",children:e.jsx(V,{children:e.jsx(A,{currentRound:s.round.current})})});return e.jsx($,{phase:s==null?void 0:s.phase,allowedPhase:b.GUESSING,children:e.jsx(z,{step:n,players:r,children:e.jsx(ys,{user:o,onSubmitGuesses:t,characters:s.characters,tableOrder:s.tableOrder,players:r,announcement:c,round:s.round,imageCardMode:s.mode==="imageCards"})})})}function Ss({players:r,playersSay:s,playersPoints:o,characters:n,currentColor:a,currentPlayer:t,round:c,imageCardMode:l}){const d=U.orderBy(Object.entries(s).map(([h,p])=>({cardId:h,character:n[h],playersIds:p,count:p.length,isCorrect:t.character.id===h})),["isCorrect","count","card.text"],["desc","desc","asc"]),m=s[t.character.id];return e.jsxs(_,{className:"q-gallery__info-container",direction:"vertical",children:[e.jsxs(_,{className:"q-gallery__votes",direction:"vertical",children:[e.jsx(he,{children:e.jsx(i,{pt:"Jogadores votaram",en:"Players voted"})}),d.map((h,p)=>e.jsxs("div",{className:"q-gallery__guess",children:[e.jsx(Ke,{winner:h.isCorrect,backgroundColor:a,children:l?e.jsx(ge,{id:h.character.id,cardWidth:35,className:"inline"}):e.jsx(Re,{children:h.character.name})}),e.jsx(X,{playersIds:h.playersIds,players:r})]},`guess-${h.cardId}-${p}`))]}),e.jsxs(_,{className:"q-gallery__votes",direction:"vertical",children:[e.jsx(he,{children:e.jsx(i,{pt:"Pontos",en:"Points"})}),m.length?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"q-gallery__players",children:e.jsx(X,{playersIds:m,players:r,children:e.jsx(de,{quantity:c.current,keyPrefix:`guessers-points-${t.id}`})})}),e.jsx("div",{className:"q-gallery__player-points",children:e.jsx(X,{playersIds:[t.id],players:r,children:e.jsx(de,{quantity:o==null?void 0:o[t.id],keyPrefix:`artist-points-${t.id}`})})})]}):e.jsx(Je,{children:e.jsx(i,{pt:"Esses ícones devem ter sido uma bosta, heim.",en:"It must have been a very crappy glyphs. What a shame..."})})]})]})}function fs({players:r,gallery:s,characters:o,slideShowConfig:n,round:a,imageCardMode:t}){Ie();const c=R(20,{gap:16,minWidth:45,maxWidth:60}),l=R(8,{gap:16,minWidth:120,maxWidth:200}),{playerId:d,characterId:m,playersPoints:h,playersSay:p}=s[n.slideIndex],x=r[d],f=Ne(x.avatarId);return e.jsxs(B,{className:"l-step-album",children:[e.jsx(H,{children:e.jsx(i,{pt:"Galeria",en:"Gallery"})}),e.jsx(ve,{content:e.jsx(A,{currentRound:a.current})}),e.jsxs(Qe,{config:n,barColor:f,leftClassName:"q-gallery__result",rightClassName:"q-gallery__info",children:[e.jsxs("div",{className:"q-gallery__result-container",children:[e.jsx("div",{className:"q-gallery__player",style:{backgroundColor:f},children:e.jsx(Ye,{player:x,size:"large"})}),e.jsxs(S,{vertical:!0,children:[e.jsx(w,{character:o[m],width:l,imageCardMode:t}),e.jsx(te,{player:x,glyphWidth:c})]})]}),e.jsx(Ss,{players:r,playersSay:p,playersPoints:h,characters:o,currentColor:f,currentPlayer:x,round:a,imageCardMode:t})]})]})}function bs({players:r,ranking:s,round:o,onGoBack:n}){return e.jsxs(Ze,{players:r,ranking:s,gainedPointsDescriptions:[e.jsx(i,{pt:"Votos corretos",en:"Correct guesses"},"1"),e.jsx(i,{pt:"Votos corretos em seu personagem por outros jogadores",en:"Correct guesses on your character by other players"},"2")],children:[e.jsx(ve,{content:e.jsx(A,{currentRound:o.current})}),e.jsx(Xe,{round:o}),e.jsx(je,{size:"large",onClick:n,icon:e.jsx(es,{}),children:e.jsx(i,{pt:"Ver Galeria Novamente",en:"See Gallery Again"})}),e.jsx(qe,{round:o})]})}function Cs({players:r,state:s}){var l;const{step:o,goToPreviousStep:n,goToNextStep:a}=D(),t=Ve({length:s.gallery.length,slideDuration:as,onExpire:a}),c=()=>{t.reset(),n()};return e.jsx($,{phase:s==null?void 0:s.phase,allowedPhase:b.RESULTS,children:e.jsxs(z,{step:o,players:r,children:[e.jsx(L,{icon:e.jsx(Be,{}),title:e.jsx(i,{pt:"Resultado",en:"Results"}),onClose:a,currentRound:(l=s==null?void 0:s.round)==null?void 0:l.current,unskippable:!0,type:"block",children:e.jsx(V,{children:e.jsx(A,{currentRound:s.round.current})})}),e.jsx(fs,{players:r,gallery:s.gallery,characters:s.characters,slideShowConfig:t,round:s.round,imageCardMode:s.mode==="imageCards"}),e.jsx(bs,{players:r,ranking:s.ranking,round:s.round,onGoBack:c})]})})}function _s({players:r,character:s,glyphWidth:o,imageCardsMode:n}){const[a,t]=k.useMemo(()=>Ue(s.glyphs??{}),[s.glyphs]);return e.jsxs("div",{className:"q-player-glyphs q-final-character",children:[e.jsx(ts,{player:r[s.playerId],withName:!0,className:"q-player-glyphs__strip"}),e.jsx(w,{width:100,character:s,imageCardMode:n}),a.map((c,l)=>e.jsxs("div",{className:"q-player-glyphs__entry q-player-glyphs__entry--positive",children:[e.jsx(I,{icon:e.jsx(K,{}),size:"small"}),c?e.jsx(q,{width:o,id:c}):e.jsx("div",{className:"q-selections__no-glyph",style:{width:`${o}px`,height:`${o}px`}})]},`pos-${s.id}-${c}-${l}`)),t.map((c,l)=>e.jsxs("div",{className:"q-player-glyphs__entry q-player-glyphs__entry--negative",children:[e.jsx(I,{icon:e.jsx(Q,{}),size:"small"}),c?e.jsx(q,{width:o,id:c}):e.jsx("div",{className:"q-selections__no-glyph",style:{width:`${o}px`,height:`${o}px`}})]},`neg-${s.id}-${c}-${l}`))]})}function Rs({state:r,players:s,meta:o}){return e.jsxs(rs,{state:r,players:s,announcementIcon:e.jsx(ss,{}),children:[e.jsx(os,{players:s,achievements:r.achievements,reference:ns}),e.jsx(S,{wrap:!0,children:U.orderBy(r.gallery,`name.${o.language}`).map(n=>{var a;return e.jsx(_s,{players:s,character:n,glyphWidth:30,imageCardsMode:!!((a=o.options)!=null&&a.imageCardsMode)},n.id)})})]})}function Ns(r){switch(r.phase){case b.CHARACTER_FILTERING:return ms;case b.CHARACTER_DESCRIPTION:return gs;case b.GUESSING:return vs;case b.RESULTS:return Cs;case Pe.DEFAULT.GAME_OVER:return Rs;default:return Ae}}function oo(){return e.jsx(we,{gameCollection:Ee.QUEM_SOU_EU,getActiveComponent:Ns})}export{oo as default};
