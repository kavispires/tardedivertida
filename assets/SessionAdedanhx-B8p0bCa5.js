import{r as h,az as le,j as e,f as G,n as C,e as x,T as u,bz as S,J as ge,v as de,P as U,I as m,aG as ue,aL as k,B as pe,aP as fe,b0 as B,aM as z,bC as T,aY as ve,aW as ye,aX as be}from"./index-CSgiS5-z.js";import{u as q,P,a as Ae,S as X,b as Y,c as J,d as Q,e as Z,f as K,H as Ne,g as Se,h as Re,i as I,j as Ee,k as _e,l as we}from"./StepSwitcher-59vdKKK-.js";import{L as O}from"./LockIcon-BNK0W4S5.js";import{S as he,T as Te}from"./TimedWritingIcon-7R1tO9If.js";import{T as b}from"./TimeHighlight-Bm4aMYI9.js";import{I as E}from"./Instruction-BhKtxEBL.js";import{T as _}from"./TextHighlight-f2dfHlnP.js";import{R as Ie}from"./RoundAnnouncement-CfdSHv8f.js";import{u as Ce}from"./useBlurCards-EiuZxAto.js";import{D as ne}from"./DevButton-I3FCcW_z.js";import{R as ee}from"./RuleInstruction-CE5oePlz.js";import{A as ke}from"./AnimatedClockIcon-Dmwhf0hD.js";import{M as Oe}from"./MetricHighlight-DndJutgZ.js";import{m as ae}from"./clues-CMvmnVIC.js";import{B as He}from"./BoxQuestionMarkIcon-hVGgI4Qb.js";import{B as Pe}from"./BoxXIcon-D1fRkP1t.js";import{N as V}from"./NoIcon-s8qQ8hzG.js";import{S as $e,a as Me}from"./SpeechBubbleThumbsUpIcon-bqliva9G.js";import{A as Le}from"./Avatar-DzdHn8Tj.js";import{A as w}from"./AvatarName-DyNp7TjJ.js";import{P as g}from"./PointsHighlight-MCJ1aDqV.js";import{R as Fe}from"./LockFilled-DEJ5B6SA.js";import{D as Ue}from"./index-CLdBgnQQ.js";import{T as xe}from"./TimedTimerBar-XXRPtYIT.js";import{V as Be}from"./VerifyListIcon-BwmTpHQ3.js";import{P as ze}from"./PlusOutlined-ByZyTB3m.js";import{R as Ve}from"./CheckOutlined-BM1O2Tzv.js";import{R as We}from"./RankIcon-1vUXhX_b.js";import{S as De}from"./StepRanking-Bl6g95Oh.js";import{T as Ge}from"./speech-C960orx4.js";import{R as qe}from"./TrophyOutlined-DzBU_4qt.js";import{C as Xe}from"./CrownIcon-2hBTANbb.js";import"./GameOver-Dbwr_4gQ.js";import{G as Ye}from"./GameOverWrapper-Bl2DAoDl.js";import{A as Je}from"./Achievements-CSUepuHK.js";import{C as te}from"./Container-CNVvrXLx.js";import{a as Qe}from"./achievements-DKaYe857.js";import"./RulesModal-Dd_NRrG7.js";import"./WritingIcon-DR_9camd.js";import"./DoubleRightOutlined-B9IjKK52.js";import"./PurePanel-BijFlcE0.js";import"./useMutation-CyJ5AjJq.js";import"./Game-JSNPG8tM.js";import"./WaitingRoomIcon-C-etbZ6W.js";import"./index-Bcafee-5.js";import"./useBubbleLock-CmIdkOok.js";import"./index-prz0JiuA.js";import"./Overflow-zdB_x8D-.js";import"./useEvent-DrrrUF8p.js";import"./index-BZvTW1ET.js";import"./index-CsZVA3I7.js";import"./GameBanner-BSnwC2DJ.js";import"./useDevFeatures-B5yHgo7p.js";import"./useTDBaseUrl-BF9foKiS.js";import"./index-bTsgShmN.js";import"./InfoCircleOutlined-BWzemnN4.js";import"./SignIn-CLmmdOJj.js";import"./GoogleIcon-D9IbkC6M.js";import"./Loading-4Chd3RcK.js";import"./AnimatedLoaderIcon-B_Lvi6Be.js";import"./LikeFilled-eqZdsvMt.js";import"./ClockIcon-CAQ3Rizq.js";import"./StarFilled-DbPTqDk7.js";import"./StarFilled-CNctUIhy.js";import"./StarIcon-Cd2uRObQ.js";import"./TimerBar-8IbAcC9j.js";import"./progress-DptaQlvm.js";import"./StepRankingWrapper-DSxjhBdR.js";import"./RankingBoard-Dhn_n5jc.js";import"./CaretUpOutlined-CTN4lzvm.js";import"./ArrowRightOutlined-BbLQvkf5.js";import"./useMergedState-zgb0OmaB.js";import"./TheEndIcon-D_PBhSN8.js";import"./Medal-HVOSKATK.js";import"./QuestionCircleOutlined-wUG9t1ew.js";var Ze={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464H332V240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v68c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-68c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM540 701v53c0 4.4-3.6 8-8 8h-40c-4.4 0-8-3.6-8-8v-53a48.01 48.01 0 1156 0z"}}]},name:"unlock",theme:"filled"};function W(){return W=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(s[t]=n[t])}return s},W.apply(this,arguments)}const Ke=(s,r)=>h.createElement(le,W({},s,{ref:r,icon:ze})),me=h.forwardRef(Ke);function D(){return D=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(s[t]=n[t])}return s},D.apply(this,arguments)}const es=(s,r)=>h.createElement(le,D({},s,{ref:r,icon:Ze})),ss=h.forwardRef(es),rs=s=>s<10?`0${s}`:s;function ns({icon:s,type:r,iconSize:n,children:t,className:c="",iconPlacement:a="before",minutes:i=0,seconds:o}){return e.jsxs(Oe,{icon:s??e.jsx(ke,{}),type:r,iconSize:n,className:c,iconPlacement:a,children:[i,":",rs(o),t]})}const R={ANSWERING:"ANSWERING",EVALUATION:"EVALUATION",RESULTS:"RESULTS"},se={SUBMIT_ANSWERS:"SUBMIT_ANSWERS",NEXT_EVALUATION_GROUP:"NEXT_EVALUATION_GROUP",SUBMIT_REJECTED_ANSWERS:"SUBMIT_REJECTED_ANSWERS"},$=180,H=$/60;function as(s){const{translate:r}=G(),n=q({actionName:"submit-answers",onSuccess:()=>s(3),onError:()=>s(2),successMessage:r("Respostas submetidas com sucesso","Answers submitted successfully"),errorMessage:r("Vixi, o aplicativo encontrou um erro ao tentar enviar suas respostas","Oops, the application found an error while trying to submit your answers")});return t=>{n({action:se.SUBMIT_ANSWERS,...t})}}function ts(){const{translate:s}=G(),r=q({actionName:"go-to-next-evaluation-group",successMessage:s("Ação submetida com sucesso","Action submitted successfully"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return()=>{r({action:se.NEXT_EVALUATION_GROUP})}}function os(){const{translate:s}=G(),r=q({actionName:"go-to-next-evaluation-group",successMessage:s("Ação submetida com sucesso","Action submitted successfully"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return n=>{r({action:se.SUBMIT_REJECTED_ANSWERS,...n})}}const is=s=>{const r={};return s.xHeaders.forEach((n,t)=>{s.yHeaders.forEach((c,a)=>{const i=`${t}-${a}`;r[i]={id:i,answer:"",timestamp:0}})}),r},cs=(s,r,n,t)=>{if(t||Math.random()>.5){if(!(Math.random()>.1))return{id:s,answer:`ç${ae()}ç`,timestamp:C.random(30,Math.max($,45))};let i=ae();if(n.type==="starts-with"&&(i=`${n.letters}${i}`),n.type==="ends-with"&&(i=`${i}${n.letters}`),n.type==="includes"){const o=C.random(0,i.length-1);i=`${i.slice(0,o)}${n.letters}${i.slice(o)}`}return{id:s,answer:i,timestamp:C.random(1,180)}}return{id:s,answer:"",timestamp:0}},oe=(s,r,n,t)=>{const c={...s};return Object.keys(c).forEach(a=>{const[i,o]=a.split("-").map(Number),l=r[i],d=n[o],f=cs(a,l,d,t);f&&(c[a]=f)}),c},ls="/tardedivertida/assets/category-icons-BT_vZNlh.svg";function ds({category:s,width:r=35,className:n=""}){return e.jsx("div",{className:x("category-icon",n),style:{width:`${r}px`,height:`${r}px`},children:e.jsx("svg",{viewBox:"0 0 512 512",style:{width:`${r}px`,height:`${r}px`},children:e.jsx("use",{href:`${ls}#${s}`})})})}function us({grid:s,answers:r,updateAnswer:n,toggleLock:t}){const c=h.useMemo(()=>new Array((s.xHeaders.length+1)*(s.yHeaders.length+1)).fill(0).map((i,o)=>{const l=o%(s.xHeaders.length+1),d=Math.floor(o/(s.xHeaders.length+1));return l===0&&d===0?{type:"corner"}:l===0?s.yHeaders[d-1]:d===0?s.xHeaders[l-1]:{id:`${l-1}-${d-1}`,type:"cell"}}),[s.xHeaders,s.yHeaders]);return e.jsx("div",{className:"adedanhx-grid",style:{gridTemplateColumns:`auto repeat(${s.xHeaders.length}, 1fr)`,gridTemplateRows:`auto repeat(${s.yHeaders.length}, 1fr)`},children:c.map(a=>{const i=String(((a==null?void 0:a.letters)||(a==null?void 0:a.label)||a.id)??a.type);let o=je;return a!=null&&a.letters&&(o=L),a!=null&&a.label&&(o=M),(a==null?void 0:a.type)==="cell"&&(o=hs),e.jsx(o,{data:a,toggleLock:t,updateAnswer:n,answer:r==null?void 0:r[a==null?void 0:a.id]},i)})})}function ps({grid:s,players:r,answersGrid:n,answersGroups:t}){const c=h.useMemo(()=>new Array((s.xHeaders.length+1)*(s.yHeaders.length+1)).fill(0).map((i,o)=>{const l=o%(s.xHeaders.length+1),d=Math.floor(o/(s.xHeaders.length+1));if(l===0&&d===0)return{type:"corner"};if(l===0)return s.yHeaders[d-1];if(d===0)return s.xHeaders[l-1];const f=`${l-1}-${d-1}`,p=n[f];return{id:`${l-1}-${d-1}`,type:"cell",result:p}}),[s.xHeaders,s.yHeaders,n]);return e.jsx("div",{className:"adedanhx-grid",style:{gridTemplateColumns:`auto repeat(${s.xHeaders.length}, 1fr)`,gridTemplateRows:`auto repeat(${s.yHeaders.length}, 1fr)`},children:c.map(a=>{const i=String(((a==null?void 0:a.letters)||(a==null?void 0:a.label)||a.id)??a.type);let o=je;return a!=null&&a.letters&&(o=L),a!=null&&a.label&&(o=M),(a==null?void 0:a.type)==="cell"&&(o=xs,a.groupAnswer=t.find(l=>l.id===a.id)),e.jsx(o,{data:a,updateAnswer:S,players:r},i)})})}function je(s){return e.jsx("div",{className:x("adedanhx-grid-cell adedanhx-grid-cell__corner"),children:"."})}function M({data:s}){const{label:r,category:n,level:t}=s;return e.jsxs("div",{className:x("adedanhx-grid-cell adedanhx-grid-cell__header"),children:[e.jsx("span",{className:"adedanhx-grid-cell__category-icon",children:e.jsx(ds,{category:n})}),e.jsx("span",{className:"adedanhx-grid-cell__category-label",children:r}),e.jsx("span",{className:"adedanhx-grid-cell__level",children:Array(t).fill("✰").join("")})]})}function L({data:s}){const{letters:r,level:n,type:t}=s;return e.jsxs("div",{className:x("adedanhx-grid-cell adedanhx-grid-cell__header"),children:[e.jsxs("span",{className:x("adedanhx-grid-cell__letters-type",`adedanhx-grid-cell__letters-type--${t}`),children:[t==="ends-with"&&e.jsx(u,{pt:"Termina com",en:"Ends with"}),t==="includes"&&e.jsx(u,{pt:"Contém",en:"Includes"})]}),e.jsxs("span",{className:"adedanhx-grid-cell__letters-label",children:[t==="ends-with"&&"-",r]}),e.jsx("span",{className:"adedanhx-grid-cell__level",children:Array(n).fill("✰").join("")})]})}function hs({data:s,answer:r,toggleLock:n=()=>{},updateAnswer:t}){const{id:c}=s,a=((r==null?void 0:r.timestamp)??0)>0;return e.jsxs("div",{className:x("adedanhx-grid-cell adedanhx-grid-cell__writing"),children:[e.jsx(ge,{className:"adedanhx-grid-cell__input",placeholder:"?",onChange:i=>t(c,i.target.value),disabled:a}),e.jsx(de,{checkedChildren:e.jsx(Fe,{}),unCheckedChildren:e.jsx(ss,{}),onClick:()=>n(c),disabled:!(r!=null&&r.answer)})]})}function xs({data:s,players:r}){var c,a;const{result:n,groupAnswer:t}=s;return!t||((c=t==null?void 0:t.answers)==null?void 0:c.length)===0||!r?e.jsx(U,{content:e.jsx(u,{pt:"Ninguém respondeu essa",en:"Nobody has answered this one"}),children:e.jsx("div",{className:x("adedanhx-grid-cell adedanhx-grid-cell__results"),children:e.jsx(m,{icon:e.jsx(He,{}),size:"large"})})}):((a=t==null?void 0:t.answers)==null?void 0:a.length)>0&&!n?e.jsx(U,{content:e.jsx(ie,{groupAnswer:t,players:r}),children:e.jsx("div",{className:x("adedanhx-grid-cell adedanhx-grid-cell__results"),children:e.jsx(m,{icon:e.jsx(Pe,{}),size:"large"})})}):e.jsx(U,{content:e.jsx(ie,{groupAnswer:t,players:r}),children:e.jsxs("div",{className:x("adedanhx-grid-cell adedanhx-grid-cell__results"),children:[e.jsx("span",{className:"adedanhx-grid-cell__results-player",children:e.jsx(w,{player:r[n.main.playerId]})}),e.jsxs("span",{className:"adedanhx-grid-cell__results-answer",children:['"',n.main.answer,'"']}),e.jsx("span",{className:"adedanhx-grid-cell__results-score",children:e.jsx(g,{type:"positive",children:n.main.score})}),e.jsx(Ue,{className:"adedanhx-grid-cell__results-divider"}),e.jsxs("span",{className:"adedanhx-grid-cell__results-players",children:[e.jsxs("div",{children:[e.jsx(g,{children:n.score})," "]}),n.playerIds.map(i=>e.jsx(Le,{id:r[i].avatarId,alt:r[i].name,size:"small"},`${n.id}-${i}`))]})]})})}function ie({groupAnswer:s,players:r}){return e.jsx("ul",{className:"popover-results",children:s.answers.map(n=>e.jsxs(h.Fragment,{children:[e.jsx(w,{player:r[n.playerId]}),e.jsx("span",{children:n.answer}),n.autoRejected&&e.jsx(m,{icon:e.jsx(V,{}),size:"small"}),n.rejected&&e.jsx(m,{icon:e.jsx($e,{}),size:"small"}),!n.rejected&&!n.autoRejected&&e.jsx(m,{icon:e.jsx(Me,{}),size:"small"})]},n.id))})}function ms({stopper:s,onSubmit:r}){return e.jsxs(e.Fragment,{children:[e.jsx(P,{icon:e.jsx(he,{}),title:"STOP!",currentRound:1,type:"overlay",duration:4,children:e.jsx(E,{children:e.jsx(u,{pt:e.jsxs(e.Fragment,{children:[e.jsx(w,{player:s})," parou o jogo!",e.jsx("br",{}),"Você tem ",e.jsx(b,{children:"5 segundos"})," pra terminar o que tava escrevendo!"]}),en:e.jsxs(e.Fragment,{children:[e.jsx(w,{player:s})," stopped the game!",e.jsx("br",{}),"You have ",e.jsx(b,{children:"5 seconds"})," to finish what you were writing!"]})})})}),e.jsx(xe,{duration:12,onExpire:r})]})}function js({grid:s,onSubmitAnswers:r,user:n,players:t,stoppedBy:c}){const{isLoading:a}=ue(),[i,o]=h.useState(is(s)),l=j=>{r({answers:Object.values(i).reduce((v,y)=>(y.answer&&(v[y.id]=`${y.answer}${fe}${y.timestamp}`),v),{}),stop:j?n.id:void 0})},{timeLeft:d,seconds:f,minutes:p}=Ce({duration:$,onExpire:l}),A=(j,v)=>{o(y=>({...y,[j]:{...y[j],answer:v.trim()}}))},F=j=>{o(v=>({...v,[j]:{...v[j],timestamp:v[j].timestamp?0:d}}))};Ae();const N=Object.values(i).every(j=>j.timestamp>0);return e.jsxs(X,{fullWidth:!0,children:[e.jsxs(Y,{children:[e.jsx(u,{pt:"Complete a grade",en:"Complete the grid"})," ",e.jsx(ns,{seconds:f,minutes:p,iconSize:"large",className:"timer"})]}),c&&e.jsx(ms,{stopper:t[c],onSubmit:l}),e.jsx(ee,{type:"rule",children:e.jsx(u,{pt:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Escreva"})," na ordem que achar melhor e não esqueça de ",e.jsx("strong",{children:"apertar"})," do botão de cadeado ",e.jsx(m,{size:"small",icon:e.jsx(O,{})})," a cada resposta para que seu tempo seja gravado corretamente.",e.jsx("br",{}),"Você tem ",e.jsxs(b,{children:[H," minutos"]}),"!"]}),en:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Write"})," tne the answers in the order you think is best and don't forget to"," ",e.jsx("strong",{children:"press"})," the lock button ",e.jsx(m,{size:"small",icon:e.jsx(O,{})})," after each answer.",e.jsx("br",{}),"You have ",e.jsxs(b,{children:[H," minutes"]}),"!"]})})}),e.jsx(us,{grid:s,answers:i,updateAnswer:A,toggleLock:F}),e.jsxs(E,{contained:!0,children:[e.jsx(u,{pt:"Se você acabar todas as células antes do tempo você pode apertar stop para finalizar a rodada.",en:"If you finish all the cells before the time you can press stop to end the round."}),e.jsxs(k,{children:[e.jsx(ne,{ghost:!0,onClick:()=>o(oe(i,s.xHeaders,s.yHeaders)),children:"Mock Answers"}),e.jsx(ne,{ghost:!0,onClick:()=>o(oe(i,s.xHeaders,s.yHeaders,!0)),children:"Mock Stop"}),e.jsx(pe,{type:"primary",size:"large",className:"button",onClick:()=>l(!0),disabled:a||d<20||!N,loading:a,icon:e.jsx(m,{size:"small",icon:e.jsx(he,{})}),children:e.jsx(u,{pt:"STOP!",en:"STOP!"})})]})]})]})}function gs({players:s,state:r}){var o,l;const n=J(s,r),{step:t,goToNextStep:c,setStep:a}=Q(),i=as(a);return e.jsx(Z,{phase:r==null?void 0:r.phase,allowedPhase:R.ANSWERING,children:e.jsxs(K,{step:t,players:s,children:[e.jsx(Ie,{round:r==null?void 0:r.round,onPressButton:c,buttonText:" ",time:((o=r==null?void 0:r.round)==null?void 0:o.current)===1?10:5,unskippable:!0,children:e.jsx(E,{contained:!0,children:e.jsx(u,{pt:e.jsxs(e.Fragment,{children:["Você tem ",e.jsxs(b,{children:[H," minutos"]})," para preencher o maior número de células da tabela combinando coluna e linha.",e.jsx("br",{}),"A cada célula que você completa, lembre-se de apertar o"," ",e.jsx(m,{size:"small",icon:e.jsx(O,{})})," cadeado para gravar o tempo."]}),en:e.jsxs(e.Fragment,{children:["You have ",e.jsxs(b,{children:[H," minutes"]})," to fill in as many cells of the table as possible by combining column and row.",e.jsx("br",{}),"For each cell you complete, remember to press the"," ",e.jsx(m,{size:"small",icon:e.jsx(O,{})})," lock to record the time."]})})})}),e.jsx(P,{icon:e.jsx(Te,{}),title:e.jsx(u,{pt:"Adedanhe!",en:"Write!!!"}),currentRound:(l=r==null?void 0:r.round)==null?void 0:l.current,type:"block",onClose:c,duration:r.grid.xHeaders.length*4,unskippable:!0,children:e.jsx(E,{children:e.jsx(u,{pt:e.jsxs(e.Fragment,{children:["As categorias da rodada são"," ",r.grid.xHeaders.map(d=>e.jsx(_,{dark:!0,children:d.label},d.label)),".",e.jsx("br",{}),"Você ganha pontos bônus se você for o primeiro a responder uma célula! Boa sorte!"]}),en:e.jsxs(e.Fragment,{children:["The round categories are"," ",r.grid.xHeaders.map(d=>e.jsx(_,{dark:!0,children:d.label},d.label)),".",e.jsx("br",{}),"You get bonus points if you are the first to answer a cell! Good luck!"]})})})}),e.jsx(js,{players:s,user:n,grid:r.grid,onSubmitAnswers:i,stoppedBy:r.stop})]})})}function re(){return e.jsx(u,{pt:e.jsxs(e.Fragment,{children:["Cada resposta válida ganha ",e.jsx(g,{children:"pontos"})," de acordo com as estrelas sua letra (linha).",e.jsx("br",{}),"O primeiro jogador a responder em cada célula, também ganha"," ",e.jsx(g,{type:"positive",children:"pontos bônus"})," igual as estrelas da categoria (coluna)."]}),en:e.jsxs(e.Fragment,{children:["Each valid answer earns ",e.jsx(g,{children:"points"})," according to the stars of its letter (row).",e.jsx("br",{}),"The first player to answer in each cell also earns"," ",e.jsx(g,{type:"positive",children:"bonus points"})," equal to the stars of the category (column)."]})})}function fs({answersGroup:s,players:r,user:n,onSubmitRejections:t,timer:c}){const{isLoading:a}=ue(),[i,o]=h.useState(""),[l,d]=h.useState({});h.useEffect(()=>{i!==s.id&&(d({}),o(s.id))},[s.id]);const f=(p,A)=>{d(F=>{const N={...F};return!A&&N[p]?delete N[p]:N[p]=A,N})};return e.jsxs("div",{children:[e.jsxs("div",{className:"div-container evaluation-entry",children:[e.jsxs("div",{className:"div-container evaluation-entry__side",children:[e.jsx("span",{className:x(B("flipInY")),children:e.jsx(M,{data:s.topic,updateAnswer:S})},s.topic.id),e.jsx(me,{}),e.jsx("span",{className:x(B("flipInY")),children:e.jsx(L,{data:s.letter,updateAnswer:S})},s.letter.letters)]}),e.jsxs("div",{className:x("div-container evaluation-entry__side",B("fadeIn")),children:[s.answers.map(p=>e.jsxs("div",{className:"evaluation-entry__player",children:[e.jsxs(b,{children:[$-p.timestamp,'"']})," ",e.jsx(w,{player:r[p.playerId]})," ",e.jsx("span",{className:x("evaluation-entry__answer-text",p.autoRejected&&"evaluation-entry__answer-text--rejected"),children:e.jsx(z,{title:p.answer,children:p.answer})}),p.autoRejected?e.jsx(z,{title:e.jsx(u,{pt:"Resposta rejeitada automaticamente por não condizer com a letra",en:"Auto rejected for not fit the letter"}),children:e.jsx(m,{icon:e.jsx(V,{}),size:"small"})}):e.jsx(de,{checkedChildren:e.jsx(m,{icon:e.jsx(V,{}),size:"small"}),unCheckedChildren:e.jsx(Ve,{}),onClick:A=>f(p.id,A),checked:l[p.id]?!0:void 0})]},p.playerId)),e.jsx(k,{className:"evaluation-entry__reject-button",children:e.jsx(pe,{type:"primary",shape:"round",onClick:()=>t({evaluations:l}),loading:a,disabled:C.isEqual(l,n.evaluations),children:e.jsx(u,{pt:"Atualizar rejeições",en:"Reject wrong answers"})})})]},s.id)]}),e.jsx(k,{children:e.jsx(xe,{duration:c,onExpire:S,className:"margin"})},s.id)]})}function vs({players:s,user:r,announcement:n,answersGroups:t,answersGroupIndex:c,onNextGroup:a,onSubmitRejections:i}){const o=t[c],l=h.useMemo(()=>Math.min(o.answers.length*3,12),[o.answers.length]);return e.jsxs(X,{fullWidth:!0,announcement:n,children:[e.jsx(Y,{children:e.jsx(u,{pt:e.jsxs(e.Fragment,{children:["Avaliação"," ",e.jsxs(_,{children:[c+1," / ",t.length]})]}),en:e.jsxs(e.Fragment,{children:["Evaluation"," ",e.jsxs(_,{children:[c+1," / ",t.length]})]})})}),e.jsx(ee,{type:"rule",children:e.jsx(u,{pt:e.jsxs(e.Fragment,{children:["Se você acha que alguma não está certa dentro da categoria e letra, aperte o botãozinho para marcar como errado.",e.jsx("br",{}),"Todos que responderam ganham"," ",e.jsxs(g,{children:[o.letter.level," ",T(o.letter.level,"ponto")]})," ","e o primeiro jogador que respondeu corretamente ganha"," ",e.jsxs(g,{type:"positive",children:[o.topic.level," ",T(o.topic.level,"ponto")]}),"adicionais."]}),en:e.jsxs(e.Fragment,{children:["If you think any of the answers is wrong, ",e.jsx("strong",{children:"hit"})," the check mark switch and submit wrong answers.",e.jsx("br",{}),"Everyone who answered earns"," ",e.jsxs(g,{children:[o.letter.level," ",T(o.letter.level,"point")]}),"and the first player who answered correctly earns additional"," ",e.jsxs(g,{type:"positive",children:[o.topic.level," ",T(o.topic.level,"point")]}),"."]})})}),e.jsx(fs,{answersGroup:o,players:s,user:r,onSubmitRejections:i,timer:c===0?15:l}),e.jsx(ys,{onNextGroup:a,duration:c===0?15:l,players:s},c)]})}function ys({onNextGroup:s,duration:r,players:n}){const[t,c]=h.useState(!0),a=h.useMemo(()=>Object.values(n).filter(i=>i.ready).length,[n]);return e.jsxs(Ne,{className:"m-admin",direction:"vertical",align:"center",children:[e.jsxs("span",{children:[e.jsx(u,{pt:"Rejeições",en:"Rejections"}),": ",e.jsx(_,{children:a})]}),e.jsx(Se,{onClick:s,disabled:t,duration:r,onExpire:()=>c(!1),children:e.jsx(u,{pt:"Confirmar e ir paro o próximo grupo",en:"Confirm and go to next answer"})})]})}function bs({players:s,state:r}){var o;const n=J(s,r),{step:t}=Q(),c=ts(),a=os(),i=e.jsx(P,{icon:e.jsx(Be,{}),title:e.jsx(u,{pt:"Avaliação",en:"Evaluation"}),currentRound:(o=r==null?void 0:r.round)==null?void 0:o.current,type:"overlay",duration:10,children:e.jsxs(E,{children:[e.jsx(u,{pt:e.jsxs(e.Fragment,{children:["Vamos conferir cada resposta!",e.jsx("br",{})]}),en:e.jsxs(e.Fragment,{children:["Let's check each answer!",e.jsx("br",{})]})}),e.jsx(re,{})]})});return e.jsx(Z,{phase:r==null?void 0:r.phase,allowedPhase:R.EVALUATION,children:e.jsx(K,{step:t,players:s,children:e.jsx(vs,{players:s,user:n,announcement:i,answersGroups:r.answersGroups,answersGroupIndex:r.answersGroupIndex,onNextGroup:c,onSubmitRejections:a})})})}function As({grid:s,players:r,answersGrid:n,answersGroups:t,goToNextStep:c,announcement:a}){return e.jsxs(X,{fullWidth:!0,announcement:a,children:[e.jsx(Y,{children:e.jsx(u,{pt:e.jsx(e.Fragment,{children:"Resultado"}),en:e.jsx(e.Fragment,{children:"Results"})})}),e.jsx(ee,{type:"rule",children:e.jsx(re,{})}),e.jsx(ps,{grid:s,answersGrid:n,answersGroups:t,players:r}),e.jsx(k,{children:e.jsx(Ge,{duration:25,icon:e.jsx(qe,{}),onExpire:c,onClick:c,children:e.jsx(u,{pt:"Ver Ranking",en:"See Ranking"})})})]})}function Ns({players:s,state:r}){var d;const n=J(s,r),{step:t,goToNextStep:c,goToPreviousStep:a}=Q(0),[i,o]=h.useState(!0);h.useEffect(()=>{i&&t>0&&o(!1)},[t,i]);const l=e.jsx(P,{icon:e.jsx(We,{}),title:e.jsx(u,{pt:"Resultado",en:"Results"}),currentRound:(d=r==null?void 0:r.round)==null?void 0:d.current,type:"overlay",children:e.jsx(E,{children:e.jsx(re,{})})});return e.jsx(Z,{phase:r==null?void 0:r.phase,allowedPhase:R.RESULTS,children:e.jsxs(K,{step:t,players:s,children:[e.jsx(As,{players:s,user:n,announcement:l,grid:r.grid,answersGrid:r.answersGrid,answersGroups:r.answersGroups,goToNextStep:c}),e.jsx(De,{ranking:r.ranking,players:s,goToPreviousStep:a,round:r.round})]})})}function ce({entry:s}){return e.jsxs("div",{className:"final-gallery-entry",children:[e.jsx(M,{data:s.topic,updateAnswer:S}),e.jsx(me,{}),e.jsx(L,{data:s.letter,updateAnswer:S}),s.topAnswer&&e.jsx("span",{className:"final-gallery-entry__answer",children:e.jsx(z,{title:s.topAnswer.answer,children:s.topAnswer.answer})})]})}function Ss({state:s,players:r}){return e.jsxs(Ye,{state:s,players:r,announcementIcon:e.jsx(Xe,{}),children:[e.jsx(Je,{players:r,achievements:s.achievements,reference:Qe}),e.jsx(te,{title:e.jsx(u,{pt:"Respostas Mais Rápidas",en:"Fastest Answers"}),contentProps:{className:"final-gallery"},children:s.topAnswers.map(n=>e.jsx(ce,{entry:n},n.id))}),e.jsx(te,{title:e.jsx(u,{pt:"Sem Respostas",en:"No Answers"}),contentProps:{className:"final-gallery"},children:s.noAnswers.map(n=>e.jsx(ce,{entry:n},n.id))})]})}function Rs(s){if(s&&!s.phase)return ye;switch(s.phase){case I.DEFAULT.LOBBY:return we;case I.DEFAULT.RULES:return _e;case I.DEFAULT.SETUP:return Ee;case R.ANSWERING:return gs;case R.EVALUATION:return bs;case R.RESULTS:return Ns;case I.DEFAULT.GAME_OVER:return Ss;default:return be}}function qr(){return e.jsx(Re,{gameCollection:ve.ADEDANHX,getActiveComponent:Rs})}export{qr as default};
