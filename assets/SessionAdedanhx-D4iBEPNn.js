import{r as p,ae as pe,af as xe,j as e,h as z,bE as me,o as C,e as x,T as u,bB as S,K as je,w as te,P as D,I as m,aH as ie,aM as I,B as ce,aQ as ge,b1 as L,aN as B,bF as fe,bG as T,aZ as ve,aX as Ae,aY as ye}from"./index-h8mzitR-.js";import{u as V,P as M,a as be,S as q,b as G,c as W,d as X,e as Y,f as g,g as J,H as Ne,h as Ee,i as Se,j as _e,k as Re,l as we}from"./StepSwitcher-BMDtlF2c.js";import{L as k}from"./LockIcon-BaXkps_B.js";import{S as le,T as Te}from"./TimedWritingIcon-B9rCOiMy.js";import{T as b}from"./TimeHighlight-3xDt2wDG.js";import{I as _}from"./Instruction-CHGPc6nu.js";import{T as R}from"./TextHighlight-CALiYyMr.js";import{R as Ce}from"./RoundAnnouncement-D--mFVjd.js";import{u as Ie}from"./useBlurCards-Cp4_fGgl.js";import{D as ee}from"./DevButton-C2g0bUYQ.js";import{R as Q}from"./RuleInstruction-CDnhKt4B.js";import{A as ke}from"./AnimatedClockIcon--eZeQzg4.js";import{M as He}from"./MetricHighlight-syKVi6bn.js";import{B as Me}from"./BoxQuestionMarkIcon-BAsWNb43.js";import{B as $e}from"./BoxXIcon-U7NpbxqD.js";import{N as U}from"./NoIcon-R_bBF3g0.js";import{S as Pe,a as Fe}from"./SpeechBubbleThumbsUpIcon-D-edEZex.js";import{A as Oe}from"./Avatar-DZbhPyHJ.js";import{A as w}from"./AvatarName-BrKNo6ZT.js";import{P as f}from"./PointsHighlight-B5IrRzny.js";import{R as De}from"./LockFilled-NJyLWqtZ.js";import{D as Le}from"./index-CKn1a2PP.js";import{T as de}from"./TimedTimerBar-K0uEz9q5.js";import{V as Be}from"./VerifyListIcon-D2kCwfEY.js";import{R as ue}from"./PlusOutlined-CT2nZqRN.js";import{R as Ue}from"./RankIcon-B9iXj3IK.js";import{S as ze}from"./StepRanking-BoNqq0E1.js";import{T as Ve}from"./speech-D8z_4bjy.js";import{R as qe}from"./TrophyOutlined-BnAVLXL0.js";import{C as Ge}from"./CrownIcon-CH90FC6k.js";import"./GameOver-CKycJgjK.js";import{G as We}from"./GameOverWrapper-lGUx_3eV.js";import{A as Xe}from"./Achievements-Cx6nfu-m.js";import{C as se}from"./Container-Bcx-WcZU.js";import{a as Ye}from"./achievements-DKaYe857.js";import"./RulesModal-D_V2YBiq.js";import"./WritingIcon-nSQWkc5S.js";import"./index-CHOlN-J6.js";import"./PurePanel-BgVK2jee.js";import"./useMutation-D1SPF4Q5.js";import"./Game-CG1T44wZ.js";import"./WaitingRoomIcon-CRORwyIy.js";import"./index-Ob0Xs44f.js";import"./useBubbleLock-BqbNyyZd.js";import"./index-BUDK_Jaj.js";import"./Overflow-Co_LHJIG.js";import"./useEvent-CS2Sw2tm.js";import"./index-BVMimMqk.js";import"./index-BAv1BVYV.js";import"./GameBanner-Dh0QSu8x.js";import"./useDevFeatures-DOf2ZLgW.js";import"./useTDBaseUrl-BF9foKiS.js";import"./index-CKSvIhFe.js";import"./InfoCircleOutlined-t13E3JA_.js";import"./SignIn-BpFgBfoS.js";import"./GoogleIcon-Chv-2q5K.js";import"./Loading-ByYFTfKY.js";import"./AnimatedLoaderIcon-ChJdULz4.js";import"./LikeFilled-jov7edYi.js";import"./ClockIcon-C79bECBa.js";import"./StarFilled-BZwazXAt.js";import"./StarIcon-Dtle9uOV.js";import"./TimerBar-C6nGVhRM.js";import"./progress-BhGd-im4.js";import"./StepRankingWrapper-CMfMeCY-.js";import"./RankingBoard-CgDjpHe3.js";import"./CaretUpOutlined-CWBpac-T.js";import"./index-BbOlsASv.js";import"./useMergedState-C0__Sjty.js";import"./TheEndIcon-CnmJdf_9.js";import"./Medal-DMWLhaLx.js";var Je={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464H332V240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v68c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-68c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM540 701v53c0 4.4-3.6 8-8 8h-40c-4.4 0-8-3.6-8-8v-53a48.01 48.01 0 1156 0z"}}]},name:"unlock",theme:"filled"},Qe=function(r,a){return p.createElement(pe,xe({},r,{ref:a,icon:Je}))},Ze=p.forwardRef(Qe);const Ke=s=>s<10?`0${s}`:s;function es({icon:s,type:r,iconSize:a,children:o,className:c="",iconPlacement:n="before",minutes:i=0,seconds:t}){return e.jsxs(He,{icon:s??e.jsx(ke,{}),type:r,iconSize:a,className:c,iconPlacement:n,children:[i,":",Ke(t),o]})}const Z={SUBMIT_ANSWERS:"SUBMIT_ANSWERS",NEXT_EVALUATION_GROUP:"NEXT_EVALUATION_GROUP",SUBMIT_REJECTED_ANSWERS:"SUBMIT_REJECTED_ANSWERS"},$=180,H=$/60;function ss(s){const{translate:r}=z(),a=V({actionName:"submit-answers",onSuccess:()=>s(3),onError:()=>s(2),successMessage:r("Respostas submetidas com sucesso","Answers submitted successfully"),errorMessage:r("Vixi, o aplicativo encontrou um erro ao tentar enviar suas respostas","Oops, the application found an error while trying to submit your answers")});return o=>{a({action:Z.SUBMIT_ANSWERS,...o})}}function rs(){const{translate:s}=z(),r=V({actionName:"go-to-next-evaluation-group",successMessage:s("Ação submetida com sucesso","Action submitted successfully"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return()=>{r({action:Z.NEXT_EVALUATION_GROUP})}}function ns(){const{translate:s}=z(),r=V({actionName:"go-to-next-evaluation-group",successMessage:s("Ação submetida com sucesso","Action submitted successfully"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return a=>{r({action:Z.SUBMIT_REJECTED_ANSWERS,...a})}}const as=s=>{const r={};return s.xHeaders.forEach((a,o)=>{s.yHeaders.forEach((c,n)=>{const i=`${o}-${n}`;r[i]={id:i,answer:"",timestamp:0}})}),r},os=["agua","bola","coco","dedo"],ts=["agua","bola","coco","dedo","egua","flauta","gatilho","hélio","jaguar"],is=["agua","bola","coco","dedo","egua","flauta","gatilho","hélio","jaguar","ketchup","lagoa","manga","ninja","olho","pato","queijo","raio","sapo","tigre","urso","vaca","xarope","zangado","abacaxi","banana","cachorro","dado","elefante","faca","gato","helicoptero","igreja","janela","kiwi"],re=(s="default")=>{const r={low:os,default:ts,high:is}[s];return me(r)},cs=(s,r,a,o)=>{if(o||Math.random()>.5){if(!(Math.random()>.1))return{id:s,answer:`ç${re()}ç`,timestamp:C.random(30,Math.max($,45))};let i=re();if(a.type==="starts-with"&&(i=`${a.letters}${i}`),a.type==="ends-with"&&(i=`${i}${a.letters}`),a.type==="includes"){const t=C.random(0,i.length-1);i=`${i.slice(0,t)}${a.letters}${i.slice(t)}`}return{id:s,answer:i,timestamp:C.random(1,180)}}return{id:s,answer:"",timestamp:0}},ne=(s,r,a,o)=>{const c={...s};return Object.keys(c).forEach(n=>{const[i,t]=n.split("-").map(Number),l=r[i],d=a[t],v=cs(n,l,d,o);v&&(c[n]=v)}),c},ls="/tardedivertida/assets/category-icons-BT_vZNlh.svg";function ds({category:s,width:r=35,className:a=""}){return e.jsx("div",{className:x("category-icon",a),style:{width:`${r}px`,height:`${r}px`},children:e.jsx("svg",{viewBox:"0 0 512 512",style:{width:`${r}px`,height:`${r}px`},children:e.jsx("use",{href:`${ls}#${s}`})})})}function us({grid:s,answers:r,updateAnswer:a,toggleLock:o}){const c=p.useMemo(()=>new Array((s.xHeaders.length+1)*(s.yHeaders.length+1)).fill(0).map((i,t)=>{const l=t%(s.xHeaders.length+1),d=Math.floor(t/(s.xHeaders.length+1));return l===0&&d===0?{type:"corner"}:l===0?s.yHeaders[d-1]:d===0?s.xHeaders[l-1]:{id:`${l-1}-${d-1}`,type:"cell"}}),[s.xHeaders,s.yHeaders]);return e.jsx("div",{className:"adedanhx-grid",style:{gridTemplateColumns:`auto repeat(${s.xHeaders.length}, 1fr)`,gridTemplateRows:`auto repeat(${s.yHeaders.length}, 1fr)`},children:c.map(n=>{const i=String(((n==null?void 0:n.letters)||(n==null?void 0:n.label)||n.id)??n.type);let t=he;return n!=null&&n.letters&&(t=F),n!=null&&n.label&&(t=P),(n==null?void 0:n.type)==="cell"&&(t=ps),e.jsx(t,{data:n,toggleLock:o,updateAnswer:a,answer:r==null?void 0:r[n==null?void 0:n.id]},i)})})}function hs({grid:s,players:r,answersGrid:a,answersGroups:o}){const c=p.useMemo(()=>new Array((s.xHeaders.length+1)*(s.yHeaders.length+1)).fill(0).map((i,t)=>{const l=t%(s.xHeaders.length+1),d=Math.floor(t/(s.xHeaders.length+1));if(l===0&&d===0)return{type:"corner"};if(l===0)return s.yHeaders[d-1];if(d===0)return s.xHeaders[l-1];const v=`${l-1}-${d-1}`,h=a[v];return{id:`${l-1}-${d-1}`,type:"cell",result:h}}),[s.xHeaders,s.yHeaders,a]);return e.jsx("div",{className:"adedanhx-grid",style:{gridTemplateColumns:`auto repeat(${s.xHeaders.length}, 1fr)`,gridTemplateRows:`auto repeat(${s.yHeaders.length}, 1fr)`},children:c.map(n=>{const i=String(((n==null?void 0:n.letters)||(n==null?void 0:n.label)||n.id)??n.type);let t=he;return n!=null&&n.letters&&(t=F),n!=null&&n.label&&(t=P),(n==null?void 0:n.type)==="cell"&&(t=xs,n.groupAnswer=o.find(l=>l.id===n.id)),e.jsx(t,{data:n,updateAnswer:S,players:r},i)})})}function he(s){return e.jsx("div",{className:x("adedanhx-grid-cell adedanhx-grid-cell__corner"),children:"."})}function P({data:s}){const{label:r,category:a,level:o}=s;return e.jsxs("div",{className:x("adedanhx-grid-cell adedanhx-grid-cell__header"),children:[e.jsx("span",{className:"adedanhx-grid-cell__category-icon",children:e.jsx(ds,{category:a})}),e.jsx("span",{className:"adedanhx-grid-cell__category-label",children:r}),e.jsx("span",{className:"adedanhx-grid-cell__level",children:Array(o).fill("✰").join("")})]})}function F({data:s}){const{letters:r,level:a,type:o}=s;return e.jsxs("div",{className:x("adedanhx-grid-cell adedanhx-grid-cell__header"),children:[e.jsxs("span",{className:x("adedanhx-grid-cell__letters-type",`adedanhx-grid-cell__letters-type--${o}`),children:[o==="ends-with"&&e.jsx(u,{pt:"Termina com",en:"Ends with"}),o==="includes"&&e.jsx(u,{pt:"Contém",en:"Includes"})]}),e.jsxs("span",{className:"adedanhx-grid-cell__letters-label",children:[o==="ends-with"&&"-",r]}),e.jsx("span",{className:"adedanhx-grid-cell__level",children:Array(a).fill("✰").join("")})]})}function ps({data:s,answer:r,toggleLock:a=()=>{},updateAnswer:o}){const{id:c}=s,n=((r==null?void 0:r.timestamp)??0)>0;return e.jsxs("div",{className:x("adedanhx-grid-cell adedanhx-grid-cell__writing"),children:[e.jsx(je,{className:"adedanhx-grid-cell__input",placeholder:"?",onChange:i=>o(c,i.target.value),disabled:n}),e.jsx(te,{checkedChildren:e.jsx(De,{}),unCheckedChildren:e.jsx(Ze,{}),onClick:()=>a(c),disabled:!(r!=null&&r.answer)})]})}function xs({data:s,players:r}){var c,n;const{result:a,groupAnswer:o}=s;return!o||((c=o==null?void 0:o.answers)==null?void 0:c.length)===0||!r?e.jsx(D,{content:e.jsx(u,{pt:"Ninguém respondeu essa",en:"Nobody has answered this one"}),children:e.jsx("div",{className:x("adedanhx-grid-cell adedanhx-grid-cell__results"),children:e.jsx(m,{icon:e.jsx(Me,{}),size:"large"})})}):((n=o==null?void 0:o.answers)==null?void 0:n.length)>0&&!a?e.jsx(D,{content:e.jsx(ae,{groupAnswer:o,players:r}),children:e.jsx("div",{className:x("adedanhx-grid-cell adedanhx-grid-cell__results"),children:e.jsx(m,{icon:e.jsx($e,{}),size:"large"})})}):e.jsx(D,{content:e.jsx(ae,{groupAnswer:o,players:r}),children:e.jsxs("div",{className:x("adedanhx-grid-cell adedanhx-grid-cell__results"),children:[e.jsx("span",{className:"adedanhx-grid-cell__results-player",children:e.jsx(w,{player:r[a.main.playerId]})}),e.jsxs("span",{className:"adedanhx-grid-cell__results-answer",children:['"',a.main.answer,'"']}),e.jsx("span",{className:"adedanhx-grid-cell__results-score",children:e.jsx(f,{type:"positive",children:a.main.score})}),e.jsx(Le,{className:"adedanhx-grid-cell__results-divider"}),e.jsxs("span",{className:"adedanhx-grid-cell__results-players",children:[e.jsxs("div",{children:[e.jsx(f,{children:a.score})," "]}),a.playerIds.map(i=>e.jsx(Oe,{id:r[i].avatarId,alt:r[i].name,size:"small"},`${a.id}-${i}`))]})]})})}function ae({groupAnswer:s,players:r}){return e.jsx("ul",{className:"popover-results",children:s.answers.map(a=>e.jsxs(p.Fragment,{children:[e.jsx(w,{player:r[a.playerId]}),e.jsx("span",{children:a.answer}),a.autoRejected&&e.jsx(m,{icon:e.jsx(U,{}),size:"small"}),a.rejected&&e.jsx(m,{icon:e.jsx(Pe,{}),size:"small"}),!a.rejected&&!a.autoRejected&&e.jsx(m,{icon:e.jsx(Fe,{}),size:"small"})]},a.id))})}function ms({stopper:s,onSubmit:r}){return e.jsxs(e.Fragment,{children:[e.jsx(M,{icon:e.jsx(le,{}),title:"STOP!",currentRound:1,type:"overlay",duration:4,children:e.jsx(_,{children:e.jsx(u,{pt:e.jsxs(e.Fragment,{children:[e.jsx(w,{player:s})," parou o jogo!",e.jsx("br",{}),"Você tem ",e.jsx(b,{children:"5 segundos"})," pra terminar o que tava escrevendo!"]}),en:e.jsxs(e.Fragment,{children:[e.jsx(w,{player:s})," stopped the game!",e.jsx("br",{}),"You have ",e.jsx(b,{children:"5 seconds"})," to finish what you were writing!"]})})})}),e.jsx(de,{duration:12,onExpire:r})]})}function js({grid:s,onSubmitAnswers:r,user:a,players:o,stoppedBy:c}){const{isLoading:n}=ie(),[i,t]=p.useState(as(s)),l=j=>{r({answers:Object.values(i).reduce((A,y)=>(y.answer&&(A[y.id]=`${y.answer}${ge}${y.timestamp}`),A),{}),stop:j?a.id:void 0})},{timeLeft:d,seconds:v,minutes:h}=Ie({duration:$,onExpire:l}),N=(j,A)=>{t(y=>({...y,[j]:{...y[j],answer:A.trim()}}))},O=j=>{t(A=>({...A,[j]:{...A[j],timestamp:A[j].timestamp?0:d}}))};be();const E=Object.values(i).every(j=>j.timestamp>0);return e.jsxs(q,{fullWidth:!0,children:[e.jsxs(G,{children:[e.jsx(u,{pt:"Complete a grade",en:"Complete the grid"})," ",e.jsx(es,{seconds:v,minutes:h,iconSize:"large",className:"timer"})]}),c&&e.jsx(ms,{stopper:o[c],onSubmit:l}),e.jsx(Q,{type:"rule",children:e.jsx(u,{pt:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Escreva"})," na ordem que achar melhor e não esqueça de ",e.jsx("strong",{children:"apertar"})," do botão de cadeado ",e.jsx(m,{size:"small",icon:e.jsx(k,{})})," a cada resposta para que seu tempo seja gravado corretamente.",e.jsx("br",{}),"Você tem ",e.jsxs(b,{children:[H," minutos"]}),"!"]}),en:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Write"})," tne the answers in the order you think is best and don't forget to"," ",e.jsx("strong",{children:"press"})," the lock button ",e.jsx(m,{size:"small",icon:e.jsx(k,{})})," after each answer.",e.jsx("br",{}),"You have ",e.jsxs(b,{children:[H," minutes"]}),"!"]})})}),e.jsx(us,{grid:s,answers:i,updateAnswer:N,toggleLock:O}),e.jsxs(_,{contained:!0,children:[e.jsx(u,{pt:"Se você acabar todas as células antes do tempo você pode apertar stop para finalizar a rodada.",en:"If you finish all the cells before the time you can press stop to end the round."}),e.jsxs(I,{children:[e.jsx(ee,{ghost:!0,onClick:()=>t(ne(i,s.xHeaders,s.yHeaders)),children:"Mock Answers"}),e.jsx(ee,{ghost:!0,onClick:()=>t(ne(i,s.xHeaders,s.yHeaders,!0)),children:"Mock Stop"}),e.jsx(ce,{type:"primary",size:"large",className:"button",onClick:()=>l(!0),disabled:n||d<20||!E,loading:n,icon:e.jsx(m,{size:"small",icon:e.jsx(le,{})}),children:e.jsx(u,{pt:"STOP!",en:"STOP!"})})]})]})]})}function gs({players:s,state:r}){var t,l;const a=W(s,r),{step:o,goToNextStep:c,setStep:n}=X(),i=ss(n);return e.jsx(Y,{phase:r==null?void 0:r.phase,allowedPhase:g.ADEDANHX.ANSWERING,children:e.jsxs(J,{step:o,players:s,children:[e.jsx(Ce,{round:r==null?void 0:r.round,onPressButton:c,buttonText:" ",time:((t=r==null?void 0:r.round)==null?void 0:t.current)===1?10:5,unskippable:!0,children:e.jsx(_,{contained:!0,children:e.jsx(u,{pt:e.jsxs(e.Fragment,{children:["Você tem ",e.jsxs(b,{children:[H," minutos"]})," para preencher o maior número de células da tabela combinando coluna e linha.",e.jsx("br",{}),"A cada célula que você completa, lembre-se de apertar o"," ",e.jsx(m,{size:"small",icon:e.jsx(k,{})})," cadeado para gravar o tempo."]}),en:e.jsxs(e.Fragment,{children:["You have ",e.jsxs(b,{children:[H," minutes"]})," to fill in as many cells of the table as possible by combining column and row.",e.jsx("br",{}),"For each cell you complete, remember to press the"," ",e.jsx(m,{size:"small",icon:e.jsx(k,{})})," lock to record the time."]})})})}),e.jsx(M,{icon:e.jsx(Te,{}),title:e.jsx(u,{pt:"Adedanhe!",en:"Write!!!"}),currentRound:(l=r==null?void 0:r.round)==null?void 0:l.current,type:"block",onClose:c,duration:r.grid.xHeaders.length*4,unskippable:!0,children:e.jsx(_,{children:e.jsx(u,{pt:e.jsxs(e.Fragment,{children:["As categorias da rodada são"," ",r.grid.xHeaders.map(d=>e.jsx(R,{dark:!0,children:d.label},d.label)),".",e.jsx("br",{}),"Você ganha pontos bônus se você for o primeiro a responder uma célula! Boa sorte!"]}),en:e.jsxs(e.Fragment,{children:["The round categories are"," ",r.grid.xHeaders.map(d=>e.jsx(R,{dark:!0,children:d.label},d.label)),".",e.jsx("br",{}),"You get bonus points if you are the first to answer a cell! Good luck!"]})})})}),e.jsx(js,{players:s,user:a,grid:r.grid,onSubmitAnswers:i,stoppedBy:r.stop})]})})}function K(){return e.jsx(u,{pt:e.jsxs(e.Fragment,{children:["Cada resposta válida ganha ",e.jsx(f,{children:"pontos"})," de acordo com as estrelas sua letra (linha).",e.jsx("br",{}),"O primeiro jogador a responder em cada célula, também ganha"," ",e.jsx(f,{type:"positive",children:"pontos bônus"})," igual as estrelas da categoria (coluna)."]}),en:e.jsxs(e.Fragment,{children:["Each valid answer earns ",e.jsx(f,{children:"points"})," according to the stars of its letter (row).",e.jsx("br",{}),"The first player to answer in each cell also earns"," ",e.jsx(f,{type:"positive",children:"bonus points"})," equal to the stars of the category (column)."]})})}function fs({answersGroup:s,players:r,user:a,onSubmitRejections:o,timer:c}){const{isLoading:n}=ie(),[i,t]=p.useState(""),[l,d]=p.useState({});p.useEffect(()=>{i!==s.id&&(d({}),t(s.id))},[s.id]);const v=(h,N)=>{d(O=>{const E={...O};return!N&&E[h]?delete E[h]:E[h]=N,E})};return e.jsxs("div",{children:[e.jsxs("div",{className:"div-container evaluation-entry",children:[e.jsxs("div",{className:"div-container evaluation-entry__side",children:[e.jsx("span",{className:x(L("flipInY")),children:e.jsx(P,{data:s.topic,updateAnswer:S})},s.topic.id),e.jsx(ue,{}),e.jsx("span",{className:x(L("flipInY")),children:e.jsx(F,{data:s.letter,updateAnswer:S})},s.letter.letters)]}),e.jsxs("div",{className:x("div-container evaluation-entry__side",L("fadeIn")),children:[s.answers.map(h=>e.jsxs("div",{className:"evaluation-entry__player",children:[e.jsxs(b,{children:[$-h.timestamp,'"']})," ",e.jsx(w,{player:r[h.playerId]})," ",e.jsx("span",{className:x("evaluation-entry__answer-text",h.autoRejected&&"evaluation-entry__answer-text--rejected"),children:e.jsx(B,{title:h.answer,children:h.answer})}),h.autoRejected?e.jsx(B,{title:e.jsx(u,{pt:"Resposta rejeitada automaticamente por não condizer com a letra",en:"Auto rejected for not fit the letter"}),children:e.jsx(m,{icon:e.jsx(U,{}),size:"small"})}):e.jsx(te,{checkedChildren:e.jsx(m,{icon:e.jsx(U,{}),size:"small"}),unCheckedChildren:e.jsx(fe,{}),onClick:N=>v(h.id,N),checked:l[h.id]?!0:void 0})]},h.playerId)),e.jsx(I,{className:"evaluation-entry__reject-button",children:e.jsx(ce,{type:"primary",shape:"round",onClick:()=>o({evaluations:l}),loading:n,disabled:C.isEqual(l,a.evaluations),children:e.jsx(u,{pt:"Atualizar rejeições",en:"Reject wrong answers"})})})]},s.id)]}),e.jsx(I,{children:e.jsx(de,{duration:c,onExpire:S,className:"margin"})},s.id)]})}function vs({players:s,user:r,announcement:a,answersGroups:o,answersGroupIndex:c,onNextGroup:n,onSubmitRejections:i}){const t=o[c],l=p.useMemo(()=>Math.min(t.answers.length*3,12),[t.answers.length]);return e.jsxs(q,{fullWidth:!0,announcement:a,children:[e.jsx(G,{children:e.jsx(u,{pt:e.jsxs(e.Fragment,{children:["Avaliação"," ",e.jsxs(R,{children:[c+1," / ",o.length]})]}),en:e.jsxs(e.Fragment,{children:["Evaluation"," ",e.jsxs(R,{children:[c+1," / ",o.length]})]})})}),e.jsx(Q,{type:"rule",children:e.jsx(u,{pt:e.jsxs(e.Fragment,{children:["Se você acha que alguma não está certa dentro da categoria e letra, aperte o botãozinho para marcar como errado.",e.jsx("br",{}),"Todos que responderam ganham"," ",e.jsxs(f,{children:[t.letter.level," ",T(t.letter.level,"ponto")]})," ","e o primeiro jogador que respondeu corretamente ganha"," ",e.jsxs(f,{type:"positive",children:[t.topic.level," ",T(t.topic.level,"ponto")]}),"adicionais."]}),en:e.jsxs(e.Fragment,{children:["If you think any of the answers is wrong, ",e.jsx("strong",{children:"hit"})," the check mark switch and submit wrong answers.",e.jsx("br",{}),"Everyone who answered earns"," ",e.jsxs(f,{children:[t.letter.level," ",T(t.letter.level,"point")]}),"and the first player who answered correctly earns additional"," ",e.jsxs(f,{type:"positive",children:[t.topic.level," ",T(t.topic.level,"point")]}),"."]})})}),e.jsx(fs,{answersGroup:t,players:s,user:r,onSubmitRejections:i,timer:c===0?15:l}),e.jsx(As,{onNextGroup:n,duration:c===0?15:l,players:s},c)]})}function As({onNextGroup:s,duration:r,players:a}){const[o,c]=p.useState(!0),n=p.useMemo(()=>Object.values(a).filter(i=>i.ready).length,[a]);return e.jsxs(Ne,{className:"m-admin",direction:"vertical",align:"center",children:[e.jsxs("span",{children:[e.jsx(u,{pt:"Rejeições",en:"Rejections"}),": ",e.jsx(R,{children:n})]}),e.jsx(Ee,{onClick:s,disabled:o,duration:r,onExpire:()=>c(!1),children:e.jsx(u,{pt:"Confirmar e ir paro o próximo grupo",en:"Confirm and go to next answer"})})]})}function ys({players:s,state:r}){var t;const a=W(s,r),{step:o}=X(),c=rs(),n=ns(),i=e.jsx(M,{icon:e.jsx(Be,{}),title:e.jsx(u,{pt:"Avaliação",en:"Evaluation"}),currentRound:(t=r==null?void 0:r.round)==null?void 0:t.current,type:"overlay",duration:10,children:e.jsxs(_,{children:[e.jsx(u,{pt:e.jsxs(e.Fragment,{children:["Vamos conferir cada resposta!",e.jsx("br",{})]}),en:e.jsxs(e.Fragment,{children:["Let's check each answer!",e.jsx("br",{})]})}),e.jsx(K,{})]})});return e.jsx(Y,{phase:r==null?void 0:r.phase,allowedPhase:g.ADEDANHX.EVALUATION,children:e.jsx(J,{step:o,players:s,children:e.jsx(vs,{players:s,user:a,announcement:i,answersGroups:r.answersGroups,answersGroupIndex:r.answersGroupIndex,onNextGroup:c,onSubmitRejections:n})})})}function bs({grid:s,players:r,answersGrid:a,answersGroups:o,goToNextStep:c,announcement:n}){return e.jsxs(q,{fullWidth:!0,announcement:n,children:[e.jsx(G,{children:e.jsx(u,{pt:e.jsx(e.Fragment,{children:"Resultado"}),en:e.jsx(e.Fragment,{children:"Results"})})}),e.jsx(Q,{type:"rule",children:e.jsx(K,{})}),e.jsx(hs,{grid:s,answersGrid:a,answersGroups:o,players:r}),e.jsx(I,{children:e.jsx(Ve,{duration:25,icon:e.jsx(qe,{}),onExpire:c,onClick:c,children:e.jsx(u,{pt:"Ver Ranking",en:"See Ranking"})})})]})}function Ns({players:s,state:r}){var d;const a=W(s,r),{step:o,goToNextStep:c,goToPreviousStep:n}=X(0),[i,t]=p.useState(!0);p.useEffect(()=>{i&&o>0&&t(!1)},[o,i]);const l=e.jsx(M,{icon:e.jsx(Ue,{}),title:e.jsx(u,{pt:"Resultado",en:"Results"}),currentRound:(d=r==null?void 0:r.round)==null?void 0:d.current,type:"overlay",children:e.jsx(_,{children:e.jsx(K,{})})});return e.jsx(Y,{phase:r==null?void 0:r.phase,allowedPhase:g.ADEDANHX.RESULTS,children:e.jsxs(J,{step:o,players:s,children:[e.jsx(bs,{players:s,user:a,announcement:l,grid:r.grid,answersGrid:r.answersGrid,answersGroups:r.answersGroups,goToNextStep:c}),e.jsx(ze,{ranking:r.ranking,players:s,goToPreviousStep:n,round:r.round})]})})}function oe({entry:s}){return e.jsxs("div",{className:"final-gallery-entry",children:[e.jsx(P,{data:s.topic,updateAnswer:S}),e.jsx(ue,{}),e.jsx(F,{data:s.letter,updateAnswer:S}),s.topAnswer&&e.jsx("span",{className:"final-gallery-entry__answer",children:e.jsx(B,{title:s.topAnswer.answer,children:s.topAnswer.answer})})]})}function Es({state:s,players:r}){return e.jsxs(We,{state:s,players:r,announcementIcon:e.jsx(Ge,{}),children:[e.jsx(Xe,{players:r,achievements:s.achievements,reference:Ye}),e.jsx(se,{title:e.jsx(u,{pt:"Respostas Mais Rápidas",en:"Fastest Answers"}),contentProps:{className:"final-gallery"},children:s.topAnswers.map(a=>e.jsx(oe,{entry:a},a.id))}),e.jsx(se,{title:e.jsx(u,{pt:"Sem Respostas",en:"No Answers"}),contentProps:{className:"final-gallery"},children:s.noAnswers.map(a=>e.jsx(oe,{entry:a},a.id))})]})}function Ss(s){if(s&&!s.phase)return Ae;switch(s.phase){case g.DEFAULT.LOBBY:return we;case g.DEFAULT.RULES:return Re;case g.DEFAULT.SETUP:return _e;case g.ADEDANHX.ANSWERING:return gs;case g.ADEDANHX.EVALUATION:return ys;case g.ADEDANHX.RESULTS:return Ns;case g.DEFAULT.GAME_OVER:return Es;default:return ye}}function zr(){return e.jsx(Se,{gameCollection:ve.ADEDANHX,getActiveComponent:Ss})}export{zr as default};
