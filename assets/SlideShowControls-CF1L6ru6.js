import{r as l,$ as I,j as s,y as w,bv as R,B as u,T as m}from"./index-CeOwbMjx.js";import{u as v}from"./speech-CUsQIq4g.js";import{R as y}from"./StepBackwardOutlined-CA-aokBC.js";import{j as _,k as C}from"./Session-CPPdBuTu.js";import{R as $}from"./TrophyOutlined-DIShJ8y3.js";var E={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M676.4 528.95L293.2 829.97c-14.25 11.2-35.2 1.1-35.2-16.95V210.97c0-18.05 20.95-28.14 35.2-16.94l383.2 301.02a21.53 21.53 0 010 33.9M694 864h64a8 8 0 008-8V168a8 8 0 00-8-8h-64a8 8 0 00-8 8v688a8 8 0 008 8"}}]},name:"step-forward",theme:"outlined"};function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},p.apply(this,arguments)}const M=(e,t)=>l.createElement(I,p({},e,{ref:t,icon:E})),N=l.forwardRef(M);function G(e){const[t,a]=l.useState(0),[r,i]=l.useState(!0);return l.useEffect(()=>{r&&t===e.length-1&&i(!1)},[r,t,e.length]),{...e,slideIndex:t,setSlideIndex:a,reset:()=>a(0),isFirstGalleryRunThrough:r,setIsFirstGalleryRunThrough:i}}function P({config:e,disableControls:t,barColor:a="gray",nextButtonProps:r}){const i=e.slideDuration??10,o=i*e.length,{timeLeft:d,isRunning:h,pause:x,resume:j}=v({duration:o,autoStart:!0,onExpire:()=>e.onExpire()}),c=t??e.isFirstGalleryRunThrough;l.useEffect(()=>{const n=Math.max(0,Math.min(e.length-1,Math.floor((o-d)/i)));return h&&d<o&&d>0&&n!==e.slideIndex&&e.setSlideIndex(n),()=>{}},[d,e,i,o]);const S=()=>{x(),e.setSlideIndex(n=>Math.max(n-1,0))},f=()=>{x(),e.setSlideIndex(n=>Math.min(n+1,e.length-1))},b=l.useMemo(()=>Array(e.length).fill("").map((n,g)=>s.jsx("div",{className:"slide-show__controls-timer-bar-node",style:{width:`${99/e.length}%`},children:n},`control-timer-bar-${n+g}`)),[e.length]);return s.jsxs("div",{className:"slide-show__controls",children:[s.jsxs("div",{className:"slide-show__controls-timer-bar",children:[s.jsx("div",{className:"slide-show__controls-timer-bar-base",children:b}),s.jsx("span",{className:"slide-show__controls-timer-bar-pill",style:{width:`${T(o,d)}%`,backgroundColor:a}})]}),s.jsxs(w,{style:{opacity:c?0:100},className:R("fadeIn"),children:[s.jsx(u,{size:"large",icon:s.jsx(y,{}),onClick:S,disabled:c||e.slideIndex===0,children:s.jsx(m,{pt:"Anterior",en:"Previous"})}),s.jsx(u,{size:"large",icon:h?s.jsx(_,{}):s.jsx(C,{}),onClick:h?x:j}),s.jsxs(u,{size:"large",onClick:f,disabled:c||e.slideIndex===e.length-1,children:[s.jsx(m,{pt:"PrÃ³ximo",en:"Next"})," ",s.jsx(N,{})]}),s.jsx(u,{...r,size:"large",onClick:()=>e.onExpire(),icon:r?.icon??s.jsx($,{}),disabled:c,children:r?.children??s.jsx(m,{pt:"Ver Ranking",en:"See Ranking"})})]})]})}function T(e,t){return e===0?100:(1-t/e)*100}export{P as S,G as u};
