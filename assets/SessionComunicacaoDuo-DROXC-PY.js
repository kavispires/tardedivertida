import{r as f,aA as W,a4 as K,f as A,H as _e,cL as Te,o as Ce,bQ as ce,j as e,D as q,K as je,aL as L,b3 as we,e as j,aZ as $e,n as ke,T as o,b1 as Q,B as De,I as le,bs as b,aH as fe,aK as k,cH as z,i as G,aX as Be}from"./index-B83c9TQH.js";import{u as J,S as X,a as Z,b as P,c as ee,P as re,d as ne,e as se,k as Fe,g as Re,h as Ve,i as Le}from"./StepSwitcher-DpzEUkWi.js";import{u as ye}from"./useWhichPlayerIsThe-SOKWe0Rc.js";import{Q as Pe}from"./QuestionIcon-BLUtxQ1l.js";import{I as _}from"./Instruction-IvDPs7BZ.js";import{S as ge}from"./SignCard-BhkZGeJD.js";import{u as Me}from"./useTDBaseUrl-BF9foKiS.js";import{S as ve}from"./index-CBs8-BCF.js";import{V as He}from"./VerticalAlignTopOutlined-v_ZPtoJ9.js";import{R as Ue}from"./StepBackwardOutlined-3l6ZajMT.js";import{A as D}from"./AvatarName-DcKrRdR0.js";import{R as T}from"./RuleInstruction-B5iXMYSs.js";import{V as E}from"./ViewIf-DCU9pM3B.js";import{A as qe,a as Ge}from"./AlienStarEyesIcon-J15mVFJ5.js";import{A as ue}from"./AlienNeutralIcon-CDoQZntz.js";import{C as Ie}from"./Card-D-p-wknN.js";import{C as be}from"./CharacterCard-BxD0HQr7.js";import{I as Ne}from"./ItemCard-CqkzP5JE.js";import{S as Se}from"./SuspectCard-CSgc8s3F.js";/* empty css                             */import{I as Ae}from"./ImageCard-D3GfInMh.js";import{P as Ye}from"./index-B_x3Ec3L.js";import{R as Qe}from"./CloseCircleOutlined-BsehhKK0.js";import{a as ze}from"./toFinite-DlvNSgPw.js";import{k as We}from"./keyBy-BFpCKv_O.js";import{C as Ke}from"./Collapse-BBT9RMVm.js";import{F as Je}from"./Table-BYSdJ-_8.js";import{T as me}from"./index-C2_d4emY.js";import{N as Xe}from"./NuclearExplosionIcon-C16QQuql.js";import{T as I}from"./TextHighlight-BfrQTpJU.js";import{V as te}from"./ViewOr-CsBd1h52.js";import{M as Ze}from"./MysteryBoxIcon-CAI0_ynQ.js";import{T as he}from"./DoubleRightOutlined-Cb8iHebs.js";import{T as er}from"./TheEndIcon-DWQMhST5.js";import{G as rr}from"./GameOverWrapper-DjZOIYk2.js";import{A as nr}from"./Achievements-0zPHj_Dy.js";import{a as sr}from"./achievements-BSYlXBla.js";import"./speech-CQAlb3m4.js";import"./useDevFeatures-CPgAEBiN.js";import"./RulesModal-BW-pqbDf.js";import"./WritingIcon-DJNif-l_.js";import"./Game-DkYQFeAs.js";import"./useMutation-8jqgbTXR.js";import"./PurePanel-D6GzHA8p.js";import"./index-FNObLAUU.js";import"./Overflow-DOpqHgGK.js";import"./useEvent-D-difd1N.js";import"./index-BUMrV97I.js";import"./Avatar-COZjYXIS.js";import"./GameBanner-CtbWxc3u.js";import"./Loading-GdOJ8GoH.js";import"./useBubbleLock-D7aLmT5n.js";import"./AnimatedLoaderIcon-UJtaa21K.js";import"./InfoCircleOutlined-arLgXxS8.js";import"./index-BlF3bodY.js";import"./sampleSize-Du-jv_yv.js";import"./_copyArray-DyNXx8uz.js";import"./_isIterateeCall-DRTNVfaa.js";import"./SignIn-B3LT7c4F.js";import"./GoogleIcon-CQDoyrU_.js";import"./WaitingRoomIcon-BGs0H-Sw.js";import"./AnimatedClockIcon-DXq4Ch3d.js";import"./Sprite-clQlUtYz.js";import"./WarningOutlined-g8HhVjG5.js";import"./StarFilled-BwQzFuF_.js";import"./StarFilled-CNctUIhy.js";import"./ImageBlurButtonContainer--T3DhaJh.js";import"./ImageBlurButton-CW3Yi7kH.js";import"./_baseAssignValue-DufPSj0i.js";import"./_defineProperty-mvQNgVI2.js";import"./EllipsisOutlined-ZXiYbzOM.js";import"./index-CT5wJ3Jw.js";import"./useId-CcjWW2MB.js";import"./scrollTo-CFft1nZz.js";import"./FilterFilled-B9EqEaba.js";import"./iconUtil-CDw29up0.js";import"./CaretDownOutlined-Dv3U9ShB.js";import"./CaretUpOutlined-CTN4lzvm.js";import"./ArrowRightOutlined-B5YD9emV.js";import"./useMergedState-Bgw_SNsS.js";import"./progress-B9Tjbynj.js";import"./TitledContainer-Dq754WQ8.js";import"./Medal-31yl3MTr.js";import"./QuestionCircleOutlined-DX19rtzN.js";var tr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M112 476h160v72H112zm320 0h160v72H432zm320 0h160v72H752z"}}]},name:"dash",theme:"outlined"},ar={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 780H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM505.7 669a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V176c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8z"}}]},name:"vertical-align-bottom",theme:"outlined"},ir=function(r,s){return f.createElement(W,K({},r,{ref:s,icon:tr}))},or=f.forwardRef(ir),dr=function(r,s){return f.createElement(W,K({},r,{ref:s,icon:ar}))},cr=f.forwardRef(dr),lr=function(r,s){return f.createElement(W,K({},r,{ref:s,icon:He}))},ur=f.forwardRef(lr);const O={ASKING_FOR_SOMETHING:"ASKING_FOR_SOMETHING",DELIVER_SOMETHING:"DELIVER_SOMETHING",VERIFICATION:"VERIFICATION"},ae={SUBMIT_REQUEST:"SUBMIT_REQUEST",SUBMIT_DELIVERY:"SUBMIT_DELIVERY",STOP_DELIVERY:"STOP_DELIVERY"},C={A:"A",B:"B",TABOO:"TABOO"},ie=[C.A,C.B],v={IDLE:"IDLE",WIN:"WIN",LOSE:"LOSE",CONTINUE:"CONTINUE"},Y={IDLE:"IDLE",A:C.A,B:C.B};function mr(){const{translate:n}=A(),r=J({actionName:"submit-request",successMessage:n("Ação submetida com sucesso","Action submitted successfully"),errorMessage:n("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return s=>{r({action:ae.SUBMIT_REQUEST,...s})}}function hr(){const{translate:n}=A(),r=J({actionName:"submit-delivery",successMessage:n("Ação submetida com sucesso","Action submitted successfully"),errorMessage:n("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return s=>{r({action:ae.SUBMIT_DELIVERY,...s})}}function pr(){const{translate:n}=A(),r=J({actionName:"stop-delivery",successMessage:n("Ação submetida com sucesso","Action submitted successfully"),errorMessage:n("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return()=>{r({action:ae.STOP_DELIVERY})}}function Ee(n){const r=Me("resources");return _e({queryKey:["items-attributes"],queryFn:async()=>await(await fetch(`${r}/items-attributes.json`)).json(),enabled:n,staleTime:Number.POSITIVE_INFINITY})}function oe({value:n,onChange:r,availableAttributeKeys:s,disabled:i}){const{language:t}=A(),{isLoading:d,data:h={}}=Ee(!0),[p,c]=f.useState(""),a=f.useCallback(Te(l=>{c(l)},300),[]),u=f.useMemo(()=>Ce(s?Object.values(h).filter(l=>s.includes(l.id)):Object.values(h),[`name.${t}`],["asc"]),[h,s,t]),x=f.useMemo(()=>u.reduce((l,g)=>(l[g.id]=ce(`${g.name[t]} ${g.description[t]} ${g.keywords}`).toLowerCase(),l),{}),[u,t]),m=f.useMemo(()=>u.filter(l=>p===""||x[l.id].includes(ce(p.toLowerCase()))),[u,x,p]),y=(l,g)=>{r(jr(n,l,g))};return e.jsx(ve,{spinning:d,children:e.jsxs("div",{className:"alien-keyboard",style:{width:"100%"},children:[e.jsxs("div",{className:"alien-keyboard__keys",children:[xr.map(l=>e.jsxs("button",{type:"button",className:"alien-keyboard__key alien-keyboard__key--helper",onClick:()=>y(l.id,"helper"),disabled:i,children:[l.icon,e.jsx("small",{children:e.jsx(q,{children:l.name})})]},l.id)),e.jsx("div",{className:"alien-keyboard__search",children:e.jsx(je.Search,{placeholder:"Search",onChange:l=>a(l.target.value),onSearch:l=>a(l),style:{width:156},disabled:i,allowClear:!0})})]}),e.jsx("div",{className:"alien-keyboard__keys",children:m.map(l=>e.jsx(L,{title:e.jsx("div",{className:"center",children:e.jsx(q,{children:l.description})}),children:e.jsxs("button",{type:"button",className:"alien-keyboard__key",onClick:()=>y(l.id,"attribute"),disabled:i,children:[e.jsx(ge,{width:32,id:`${l.spriteId.split("-")[1]}`,className:"transparent"}),e.jsx("small",{children:e.jsx(q,{children:l.name})})]})},l.id))})]})})}const xr=[{id:"^",name:{en:"NOT",pt:"NÃO"},icon:e.jsx(ur,{}),type:"helper"},{id:"~",name:{en:"SORTA",pt:"MEIO"},icon:e.jsx(or,{}),type:"helper"},{id:"*",name:{en:"VERY",pt:"MUITO"},icon:e.jsx(cr,{}),type:"helper"},{id:"<",name:{en:"Backspace",pt:"Apagar"},icon:e.jsx(Ue,{})}],jr=(n,r,s)=>{const i=n[n.length-1]??"",t=!we.includes(i.toUpperCase());return s==="attribute"?t?`${n}${r}`:n.includes(r)?n:`${n}+${r}`:s==="helper"?r==="<"?t?n.slice(0,-1):n.slice(0,-4):t?`${n.slice(0,-1)}${r}`:`${n}${r}`:n};function B({value:n,withTranslation:r=!1,className:s,...i}){const{isLoading:t,data:d={}}=Ee(!0),{dualTranslate:h}=A(),p=f.useMemo(()=>fr(n).map(a=>{const u=a[0],x=a.substring(1);if(x&&(d!=null&&d[x])){const m=d[x];return{spriteId:m==null?void 0:m.spriteId,variant:pe[u],name:{pt:`${R[u].pt}${m==null?void 0:m.name.pt}`.trim().toLowerCase(),en:`${R[u].en}${m==null?void 0:m.name.en}`.trim().toLowerCase()},description:{en:(m==null?void 0:m.description.en)??"",pt:(m==null?void 0:m.description.pt)??""}}}return{spriteId:"",variant:pe[u],name:{pt:`${R[u].pt} `,en:`${R[u].en} `},description:{pt:"",en:""}}}),[n,d]);return e.jsxs(ve,{spinning:t,children:[e.jsx("div",{className:j("alien-text",s),...i,children:p.map(c=>e.jsx(L,{title:h(c.name),children:e.jsx("div",{className:j("alien-text__character",`alien-text__character--${c.variant}`),children:e.jsx(ge,{width:48,id:`${c.spriteId.split("-")[1]}`,className:"transparent"})})},`${c.spriteId}-${c.variant}`))}),r&&e.jsx("div",{className:"alien-text-translation",children:p.map(c=>e.jsx(L,{title:h(c.description),children:e.jsx("span",{className:"alien-text-translation__text",children:h(c.name)})},`${c.spriteId}-${c.variant}`))})]})}function fr(n){const r=[];for(let s=0;s<n.length;s+=4)r.push(n.substring(s,s+4));return r}const R={"+":{en:"",pt:""},"^":{en:"not ",pt:"não "},"~":{en:"sorta ",pt:"meio "},"*":{en:"very ",pt:"muito "}},pe={"+":"normal","^":"not","~":"sorta","*":"very"};function V({entry:n,deckType:r,userSide:s}){const{dualTranslate:i}=A(),t=ie.indexOf(s);return r==="items"?e.jsx("div",{className:j("cd-board-entry",`cd-board-entry--${n.affiliation[t]}`),children:e.jsx(Ne,{id:`${n.data.id}`,title:n.data.name?i(n.data.name):void 0})},`cd-board-entry-${n.data.id}`):r==="images"?e.jsx("div",{className:j("cd-board-entry",`cd-board-entry--${n.affiliation[t]}`),children:e.jsx(Ae,{id:n.data.id,cardWidth:72,className:"board-entry-image-card"})},`cd-board-entry-${n.data.id}`):r==="contenders"?e.jsx("div",{className:j("cd-board-entry",`cd-board-entry--${n.affiliation[t]}`),children:e.jsx(be,{character:n.data,size:96,className:"board-entry-image-card"})},`cd-board-entry-${n.data.id}`):r==="suspects"?e.jsx("div",{className:j("cd-board-entry",`cd-board-entry--${n.affiliation[t]}`),children:e.jsx(Se,{suspect:n.data,width:72,hideName:!0})},`cd-board-entry-${n.data.id}`):r==="words"?e.jsx("div",{className:j("cd-board-entry",`cd-board-entry--${n.affiliation[t]}`),children:e.jsx(Ie,{hideHeader:!0,children:n.data.text})},`cd-board-entry-${n.data.id}`):e.jsx("div",{className:j("cd-board-entry",`cd-board-entry--${n.affiliation[t]}`),children:n.id},`cd-board-entry-${n.id}`)}function M({deck:n,deckType:r,userId:s,userSide:i,onClick:t,animateEntries:d=[],disabled:h}){const p=ie.indexOf(i),c=f.useMemo(()=>{const a=p===0?1:0,u=de(i);return n.some(x=>{var m;return x.affiliation[p]===C.TABOO&&x.affiliation[a]===u&&((m=x.deliveredBy)==null?void 0:m.length)})},[n,i,p]);return e.jsx($e.PreviewGroup,{children:e.jsx("div",{className:"cd-board",children:n.map(a=>{var x,m;const u=a.affiliation[p]===C.TABOO&&c;return t&&a.status===Y.IDLE&&!((x=a.deliveredBy)!=null&&x.includes(s))&&!u?e.jsx(Ye,{title:e.jsx(o,{en:"Are you sure you want to deliver this item?",pt:"Você tem certeza que deseja entregar este item?"}),trigger:r==="images"?"hover":"click",onConfirm:()=>t(a),children:e.jsx(ke,{disabled:h,className:"cd-board-entry-entry-wrapper",children:e.jsx(xe,{entry:a,userId:s,userSide:i,animateEntries:d,children:e.jsx(V,{entry:a,deckType:r,userSide:i})})},a.id)},a.id):a.status===Y.A||a.status===Y.B?e.jsx("span",{className:j(d.includes(a.id)&&Q("slideInDown")),children:e.jsx(yr,{side:a.status,children:e.jsx(V,{entry:a,deckType:r,userSide:i})})},a.id):(((m=a==null?void 0:a.deliveredBy)==null?void 0:m.length)??0)>0?e.jsx("div",{className:"cd-board-entry-entry-wrapper",children:e.jsx(xe,{entry:a,userId:s,userSide:i,animateEntries:d,children:e.jsx(V,{entry:a,deckType:r,userSide:i})})},a.id):e.jsxs("div",{className:j("cd-board-entry-entry-wrapper",u&&t&&"cd-board-entry-entry-wrapper--not-allowed"),children:[u&&e.jsx("div",{className:"cd-board-entry-taboo",children:e.jsx(L,{title:e.jsx(o,{en:"You already found the other player's item that matches one of your taboos so none of these other ones can be an item for the other player anymore.",pt:"Você já encontrou o item do outro jogador que corresponde a um dos seus tabus, então nenhum desses outros tabus seus pode ser um item para o outro jogador."}),children:e.jsx(De,{shape:"circle",size:"small",icon:e.jsx(Qe,{})})})}),e.jsx(V,{entry:a,deckType:r,userSide:i})]},a.id)})})})}function yr({side:n,children:r}){const[s,i]=ze(!1);return e.jsxs("div",{className:"cd-board-entry-cover",onClick:i,children:[e.jsx("div",{className:j("cd-board-entry-cover__alien",`cd-board-entry-cover__alien--${de(n)}`,s&&"cd-board-entry-cover__alien--open"),children:n==="A"?e.jsx(qe,{style:{width:36}}):e.jsx(Ge,{style:{width:36}})}),r]})}function xe({children:n,entry:r,userId:s,userSide:i,animateEntries:t}){var p,c,a,u;if((((p=r==null?void 0:r.deliveredBy)==null?void 0:p.length)??0)===0)return e.jsx(e.Fragment,{children:n});const d=(c=r.deliveredBy)==null?void 0:c.includes(s),h=!!((a=r.deliveredBy)!=null&&a.filter(x=>x!==s).length);return e.jsxs("div",{className:j("cd-board-entry-neutral",((u=r.deliveredBy)==null?void 0:u.includes(s))&&"cd-board-entry-neutral--not-allowed"),children:[d&&e.jsx("span",{className:j(t.includes(r.id)&&Q("tada")),children:e.jsx(le,{className:j("cd-board-entry-neutral-item",`cd-board-entry-neutral-item--${i}`),icon:e.jsx(ue,{color:i==="A"?"teal":"orange"})})}),h&&e.jsx("span",{className:j(t.includes(r.id)&&Q("tada")),children:e.jsx(le,{className:j("cd-board-entry-neutral-item",`cd-board-entry-neutral-item--${de(i)}`),icon:e.jsx(ue,{color:i==="A"?"orange":"teal"})})}),n]})}const de=n=>n==="A"?"B":"A";function H({summary:n,players:r,round:s}){const i=Object.values(r).find(d=>d.side==="A"),t=Object.values(r).find(d=>d.side==="B");return!i||!t?null:e.jsxs("div",{className:"cd-summary",children:[e.jsxs("div",{className:"cd-summary__entry",children:[e.jsx("div",{className:"cd-summary__number",children:s.total-s.current+1}),e.jsx("div",{className:"cd-summary__entry-label",children:e.jsx(o,{en:"Rounds left",pt:"Rodadas restantes"})})]}),e.jsxs("div",{className:"cd-summary__entry",children:[e.jsx("div",{className:"cd-summary__number cd-summary__number--left",children:n.deliverablesLeft}),e.jsx("div",{className:"cd-summary__entry-label",children:e.jsx(o,{en:"Items left",pt:"Itens restantes"})})]}),e.jsxs("div",{className:"cd-summary__entry",children:[e.jsx("div",{className:"cd-summary__number cd-summary__number--A",children:n.deliverablesLeftForA}),e.jsx("div",{className:"cd-summary__entry-label",children:e.jsx(D,{player:i})})]}),e.jsxs("div",{className:"cd-summary__entry",children:[e.jsx("div",{className:"cd-summary__number cd-summary__number--B",children:n.deliverablesLeftForB}),e.jsx("div",{className:"cd-summary__entry-label",children:e.jsx(D,{player:t})})]})]})}function gr({deliverable:n,deckType:r,userSide:s}){const{dualTranslate:i}=A(),t=ie.indexOf(s);return r==="items"?e.jsx("div",{className:j("cd-history-entry",`cd-history-entry--${n.affiliation[t]}`),children:e.jsx(Ne,{id:`${n.data.id}`,title:n.data.name?i(n.data.name):void 0,width:64})},`cd-history-entry-${n.data.id}`):r==="images"?e.jsx("div",{className:j("cd-history-entry",`cd-history-entry--${n.affiliation[t]}`),children:e.jsx(Ae,{id:n.data.id,cardWidth:48,className:"history-entry-image-card"})},`cd-history-entry-${n.data.id}`):r==="contenders"?e.jsx("div",{className:j("cd-history-entry",`cd-history-entry--${n.affiliation[t]}`),children:e.jsx(be,{character:n.data,size:96,className:"history-entry-image-card"})},`cd-history-entry-${n.data.id}`):r==="suspects"?e.jsx("div",{className:j("cd-history-entry",`cd-history-entry--${n.affiliation[t]}`),children:e.jsx(Se,{suspect:n.data,width:72,hideName:!0})},`cd-history-entry-${n.data.id}`):r==="words"?e.jsx("div",{className:j("cd-history-entry",`cd-history-entry--${n.affiliation[t]}`),children:e.jsx(Ie,{hideHeader:!0,children:n.data.text})},`cd-history-entry-${n.data.id}`):e.jsx("div",{className:"cd-board-entry",children:n.id})}function U({history:n,players:r,deck:s,deckType:i,clueInputType:t,userSide:d}){const h=f.useMemo(()=>We(s,"id"),[s]),p=[{key:"player",title:e.jsx(o,{pt:"Jogador",en:"Player"}),dataIndex:"requesterId",render:a=>e.jsx(D,{player:r[a]})},{key:"clue",title:e.jsx(o,{pt:"Pedido",en:"Dica"}),dataIndex:"clue",render:a=>t==="alien-keyboard"?e.jsx(B,{value:a,withTranslation:!0}):a},{key:"quantity",title:e.jsx(o,{pt:"Quantidade",en:"Quantity"}),dataIndex:"quantity"},{key:"deliverables",title:e.jsx(o,{pt:"Itens",en:"Items"}),dataIndex:"deliverables",render:a=>e.jsx(b,{wrap:"wrap",gap:8,children:a.map(u=>e.jsx(gr,{deliverable:h[u],deckType:i,userSide:d},u))})}],c=[{key:"history",label:e.jsx(o,{pt:"Histórico de Perguntas",en:"Inquiry History"}),children:e.jsx(Je,{dataSource:n,columns:p,pagination:!1})}];return e.jsx(_,{contained:!0,children:e.jsx(Ke,{items:c})})}function vr({players:n,user:r,announcement:s,deckType:i,deck:t,status:d,history:h,requester:p,isTheRequester:c,summary:a,clueInputType:u,round:x,onSubmitRequest:m}){const{isLoading:y}=fe(),[l,g]=f.useState(""),[N,w]=f.useState(1),{dualTranslate:F}=A(),$=()=>{m({clue:l,clueQuantity:N})};return e.jsxs(X,{fullWidth:!0,announcement:s,children:[e.jsx(Z,{size:"small",wait:c,children:c?e.jsx(o,{pt:e.jsx(e.Fragment,{children:"Peça algo!"}),en:e.jsx(e.Fragment,{children:"Ask for something!"})}):e.jsx(o,{pt:e.jsxs(e.Fragment,{children:["Aguarde ",e.jsx(D,{player:p})," pedir algo"]}),en:e.jsxs(e.Fragment,{children:["Wait for ",e.jsx(D,{player:p})," to ask for something"]})})}),e.jsx(T,{type:"rule",children:d===v.IDLE?e.jsx(o,{en:"It's the first round, so any of you can give the first clue",pt:"É a primeira rodada, então qualquer um de vocês pode dar a primeira dica"}):e.jsx(o,{en:"Players alternate asking for items, unless one player is done asking for all of their items",pt:"Os jogadores alternam pedindo itens, a menos que um jogador tenha terminado de pedir todos os seus itens"})}),e.jsxs(b,{gap:8,align:"center",children:[e.jsx(M,{deck:t,deckType:i,userId:r.id,userSide:r.side}),e.jsx(H,{summary:a,players:n,round:x})]}),e.jsxs(E,{condition:u==="alien-keyboard",children:[e.jsx(E,{condition:c,children:e.jsx(T,{type:"action",children:e.jsx(o,{en:"Use the keyboard below to type your request and add the number of items you want",pt:"Use o teclado abaixo para digitar seu pedido e adicione o número de itens que deseja"})})}),e.jsxs(k,{vertical:!0,children:[e.jsx(E,{condition:c,children:e.jsxs(b,{gap:8,align:"center",children:[e.jsx(B,{value:l,withTranslation:!0}),e.jsxs("strong",{children:[e.jsx(o,{en:"Quantity",pt:"Quantidade"}),":"]}),e.jsx(me,{value:N,onChange:S=>w(S??1),min:0,max:6,size:"large"}),e.jsx(z,{size:"large",loading:y,disabled:!l,onClick:$,children:e.jsx(o,{en:"Submit",pt:"Enviar"})})]})}),e.jsx(oe,{value:l,onChange:g,disabled:!c||r.ready})]})]}),e.jsxs(E,{condition:u!=="alien-keyboard"&&c,children:[e.jsx(T,{type:"rule",children:e.jsx(o,{en:"You can ask for items by typing your request in the input box",pt:"Você pode pedir itens digitando seu pedido no campo de entrada"})}),e.jsxs(k,{vertical:!0,children:[e.jsxs(b,{gap:8,align:"center",children:[e.jsx(je,{size:"large",value:l,onChange:S=>g(S.target.value),placeholder:F({pt:"Digite seu pedido aqui",en:"Type your request here"})}),e.jsxs("strong",{children:[e.jsx(o,{en:"Quantity",pt:"Quantidade"}),":"]}),e.jsx(me,{value:N,onChange:S=>w(S??1),min:0,max:6,size:"large"})]}),e.jsx(z,{size:"large",loading:y,disabled:!l,onClick:$,children:e.jsx(o,{en:"Submit",pt:"Enviar"})})]})]}),e.jsx(U,{history:h,players:n,deck:t,deckType:i,clueInputType:u,userSide:r.side})]})}function Ir({players:n,state:r}){var c;const s=P(n,r),{step:i}=ee(),[t,d]=r.status===v.IDLE?[s,!0]:ye("requesterId",r,n),h=mr(),p=e.jsx(re,{icon:e.jsx(Pe,{}),title:d?e.jsx(o,{pt:"Peça algo",en:"Ask for something"}):e.jsx(o,{pt:"O outro jogador pede algo",en:"The other player asks for something"}),currentRound:(c=r==null?void 0:r.round)==null?void 0:c.current,type:"overlay",children:e.jsx(_,{children:e.jsx(o,{pt:e.jsx(e.Fragment,{children:"Cada alienígena deve dar dicar para todos os itens marcados com sua cor"}),en:e.jsx(e.Fragment,{children:"Each alien must give clues for all items marked with their color"})})})});return e.jsx(ne,{phase:r==null?void 0:r.phase,allowedPhase:O.ASKING_FOR_SOMETHING,children:e.jsx(se,{step:i,players:n,children:e.jsx(vr,{user:s,players:n,announcement:p,deckType:r.deckType,deck:r.deck,status:r.status,history:r.history,requester:t,isTheRequester:d,summary:r.summary,clueInputType:r.clueInputType,onSubmitRequest:h,round:r.round})})})}function br({announcement:n,players:r,user:s,deckType:i,deck:t,status:d,history:h,summary:p,clueInputType:c,round:a,clue:u,clueQuantity:x,entryIdToAnimate:m,nextPhase:y}){const l=f.useMemo(()=>d===v.CONTINUE&&!m?{en:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Skip!"})," All done for this round, let's try another clue"]}),pt:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Passa!"})," Tudo certo para esta rodada, vamos tentar outra dica"]})}:d===v.WIN?{en:e.jsx(e.Fragment,{children:"All items have been found!"}),pt:e.jsx(e.Fragment,{children:"Todos os itens foram encontrados!"})}:d===v.LOSE?{en:e.jsxs(e.Fragment,{children:["Nooooo, a ",e.jsx(I,{children:"taboo"})," item has been selected!"]}),pt:e.jsxs(e.Fragment,{children:["Nãããão, um item ",e.jsx(I,{children:"taboo"})," foi selecionado!"]})}:d===v.CONTINUE&&y===O.ASKING_FOR_SOMETHING?{en:e.jsxs(e.Fragment,{children:[e.jsx(I,{children:"Neutral!"})," All done fir this round, let's try another clue."]}),pt:e.jsxs(e.Fragment,{children:[e.jsx(I,{children:"Neutro!"})," Vamos para a próxima rodada."]})}:{en:e.jsxs(e.Fragment,{children:[e.jsx(I,{children:"Correct!"})," Want to try one more item?"]}),pt:e.jsxs(e.Fragment,{children:[e.jsx(I,{children:"Correto!"})," Quer tentar outro item?"]})},[d,m,y]);return e.jsxs(X,{fullWidth:!0,announcement:n,children:[e.jsx(Z,{size:"small",children:e.jsx(o,{en:"Results",pt:"Resultado"})}),e.jsx(T,{type:"event",children:e.jsx(o,{en:l.en,pt:l.pt})}),e.jsx(Fe,{round:a,autoTriggerTime:d!==v.CONTINUE?5:2,withWaitingTimeBar:!0}),e.jsxs(b,{gap:8,align:"center",className:"mb-4",children:[e.jsx("div",{className:"cd-clue-quantity",children:x}),e.jsxs(te,{condition:c==="alien-keyboard",children:[e.jsx(B,{value:u,withTranslation:!0}),e.jsx(I,{style:{fontSize:"1.5rem",background:"white"},children:u})]})]}),e.jsxs(b,{gap:8,align:"center",children:[e.jsx(M,{deck:t,deckType:i,userId:s.id,userSide:s.side,animateEntries:m?[m]:[]}),e.jsx(H,{summary:p,players:r,round:a})]}),e.jsx(E,{condition:c==="alien-keyboard",children:e.jsx(k,{children:e.jsx(oe,{value:"",onChange:()=>{},disabled:!0})})}),e.jsx(U,{history:h,players:r,deck:t,deckType:i,clueInputType:c,userSide:s.side})]})}function Nr({players:n,state:r}){var d;const s=P(n,r),{step:i}=ee(),t=r.status===v.LOSE?e.jsx(re,{icon:e.jsx(Xe,{}),title:e.jsx(o,{pt:"Nãaaaaaooooooo",en:"Nooooooooo"}),currentRound:(d=r==null?void 0:r.round)==null?void 0:d.current,type:"overlay",duration:4}):void 0;return e.jsx(ne,{phase:r==null?void 0:r.phase,allowedPhase:O.VERIFICATION,children:e.jsx(se,{step:i,players:n,children:e.jsx(br,{user:s,players:n,deckType:r.deckType,deck:r.deck,status:r.status,history:r.history,summary:r.summary,clueInputType:r.clueInputType,clue:r.clue,clueQuantity:r.clueQuantity,round:r.round,entryIdToAnimate:r.entryIdToAnimate,nextPhase:r.nextPhase,announcement:t})})})}function Sr({players:n,user:r,announcement:s,deckType:i,deck:t,history:d,isTheRequester:h,summary:p,clueInputType:c,round:a,onSubmitDelivery:u,onStopDelivery:x,clue:m,clueQuantity:y}){var w,F,$,S;const{isLoading:l}=fe(),g=Oe=>{u({delivery:Oe.id})},N=d[d.length-1];return e.jsxs(X,{fullWidth:!0,announcement:s,children:[e.jsx(Z,{size:"small",wait:h,children:h?e.jsx(o,{pt:e.jsx(e.Fragment,{children:"Aguarde o outro jogador responder com alguma coisa"}),en:e.jsx(e.Fragment,{children:"Wait for the other player to answer with something"})}):e.jsx(o,{pt:e.jsx(e.Fragment,{children:"Dê um item"}),en:e.jsx(e.Fragment,{children:"Give an item"})})}),e.jsx(T,{type:h?"wait":"action",children:h?e.jsxs(e.Fragment,{children:[e.jsx(o,{en:"You asked for an item and the other player now must deliver at least one item. If they are correct, they can try another",pt:"Você pediu um item e o outro jogador agora deve entregar pelo menos um deles. Se eles acertarem, podem tentar outro"}),e.jsx("br",{}),e.jsx(o,{en:"After delivering at least one, the player may stop and skip to the next turn",pt:"Depois de entregar pelo menos um, o jogador pode parar e pular para a próxima rodada"})]}):e.jsxs(e.Fragment,{children:[e.jsx(o,{en:"The other player asked for an item and you must deliver at least one item. If you are correct, you can try another",pt:"O outro jogador pediu um item e você deve entregar pelo menos um deles. Se você acertar, você pode tentar outro"}),e.jsx("br",{}),e.jsx(o,{en:"Click on the item one by one to deliver them. After delivering at least one, you will able to stop and skip to the next turn",pt:"Clique nos itens um por um para entregá-los. Depois de entregar pelo menos um, você poderá parar e pular para a próxima rodada"})]})}),e.jsx(E,{condition:((w=N.deliverables)==null?void 0:w.length)>0&&!h,children:e.jsxs(T,{type:"rule",children:[((F=N.deliverables)==null?void 0:F.length)>=y?e.jsx(o,{en:"You have delivered all the items you needed in this round. You can stop now or try to deliver more",pt:"Você entregou todos os itens que precisava nesta rodada. Você pode parar agora ou tentar entregar mais"}):e.jsx(o,{en:e.jsxs(e.Fragment,{children:["You have delivered ",e.jsx(he,{children:($=N.deliverables)==null?void 0:$.length}),"things this round. You may stop now and skip to the next turn"]}),pt:e.jsxs(e.Fragment,{children:["Você entregou ",e.jsx(he,{children:(S=N.deliverables)==null?void 0:S.length}),"coisas essa rodada. Você pode parar agora e pular para a próxima rodada"]})}),e.jsx("br",{}),e.jsx(z,{onClick:x,type:"default",loading:l,block:!0,children:e.jsx(o,{en:"Stop",pt:"Parar"})})]})}),e.jsxs(b,{gap:8,align:"center",className:"mb-4",children:[e.jsx("div",{className:"cd-clue-quantity",children:y}),e.jsxs(te,{condition:c==="alien-keyboard",children:[e.jsx(B,{value:m,withTranslation:!0}),e.jsx(I,{style:{fontSize:"1.5rem",background:"white"},children:m})]})]}),e.jsxs(b,{gap:8,align:"center",children:[e.jsx(M,{deck:t,deckType:i,userId:r.id,userSide:r.side,onClick:h?void 0:g,disabled:l}),e.jsx(H,{summary:p,players:n,round:a})]}),e.jsx(E,{condition:c==="alien-keyboard",children:e.jsx(k,{children:e.jsx(oe,{value:"",onChange:()=>{},disabled:!0})})}),e.jsx(U,{history:d,players:n,deck:t,deckType:i,clueInputType:c,userSide:r.side})]})}function Ar({players:n,state:r}){var x;const s=P(n,r),{step:i}=ee(),[t,d]=ye("requesterId",r,n),h=hr(),p=pr(),a=r.history[r.history.length-1].deliverables.length>0,u=e.jsx(re,{icon:e.jsx(Ze,{}),title:d?e.jsx(o,{pt:"Você pediu!",en:"You asked for"}):e.jsx(o,{pt:"Por favor, me vê aí...",en:"Please give me..."}),currentRound:(x=r==null?void 0:r.round)==null?void 0:x.current,type:"overlay",duration:3,children:e.jsx(_,{children:e.jsxs(te,{condition:r.clueInputType==="alien-keyboard",children:[e.jsx(B,{value:r.clue??""}),e.jsx(I,{style:{fontSize:"1.5rem"},children:r.clue})]})})});return e.jsx(ne,{phase:r==null?void 0:r.phase,allowedPhase:O.DELIVER_SOMETHING,children:e.jsx(se,{step:i,players:n,children:e.jsx(Sr,{user:s,players:n,announcement:a?void 0:u,deckType:r.deckType,deck:r.deck,status:r.status,history:r.history,requester:t,isTheRequester:d,summary:r.summary,clueInputType:r.clueInputType,clue:r.clue,clueQuantity:r.clueQuantity,onSubmitDelivery:h,onStopDelivery:p,round:r.round})})})}function Er({state:n,players:r}){const s=P(r,n);return e.jsxs(rr,{state:n,players:r,announcementIcon:e.jsx(er,{}),children:[e.jsxs(k,{vertical:!0,children:[n.status===v.WIN&&e.jsxs(e.Fragment,{children:[e.jsx(G,{level:3,children:e.jsx(o,{pt:"Vocês venceram!",en:"You won!"})}),e.jsx(_,{contained:!0,children:e.jsx(o,{pt:"Vocês comunicaram todos os items",en:"You communicated all items"})})]}),n.status===v.LOSE&&e.jsxs(e.Fragment,{children:[e.jsx(G,{level:3,children:e.jsx(o,{pt:"Vocês perderam!",en:"You lost!"})}),e.jsx(_,{contained:!0,children:e.jsx(o,{pt:"Alguém clicou em  um tabu",en:"Someone selected a taboo"})})]}),n.status===v.CONTINUE&&e.jsxs(e.Fragment,{children:[e.jsx(G,{level:3,children:e.jsx(o,{pt:"Vocês perderam!",en:"You lost!"})}),e.jsx(_,{contained:!0,children:e.jsx(o,{pt:"As rodadas acabaram antes que vocês comunicassem todos os itens",en:"The rounds ended before you communicated all items"})})]})]}),e.jsx(nr,{players:r,achievements:n.achievements,reference:sr}),e.jsxs(b,{gap:8,align:"center",children:[e.jsx(M,{deck:n.deck,deckType:n.deckType,userId:s.id,userSide:s.side}),e.jsx(H,{summary:n.summary,players:r,round:n.round})]}),e.jsx(U,{history:n.history,players:r,deck:n.deck,deckType:n.deckType,clueInputType:n.clueInputType,userSide:s.side})]})}function Or(n){switch(n.phase){case O.ASKING_FOR_SOMETHING:return Ir;case O.DELIVER_SOMETHING:return Ar;case O.VERIFICATION:return Nr;case Le.DEFAULT.GAME_OVER:return Er;default:return Ve}}function as(){return e.jsx(Re,{gameCollection:Be.COMUNICACAO_DUO,getActiveComponent:Or})}export{as as default};
