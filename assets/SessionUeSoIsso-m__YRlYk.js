import{f as b,j as e,i as q,T as a,I as E,r as w,aL as U,n as le,bx as Pe,b2 as Z,e as $,bL as Re,a$ as Ne,q as Y,z as de,aG as ue,fk as Fe,bF as L,bk as ee,bl as se,J as Ge,b0 as pe,B as re,aY as We,aW as Be,aX as Ve}from"./index-BTRYo_JU.js";import{u as N,f as j,S as I,W as me,b as C,R as Me,d as F,P as G,e as W,g as B,a as ke,c as He,p as xe,H as he,q as qe,n as je,i as Le,j as ze,k as De,l as $e}from"./StepSwitcher-DnkTIRnq.js";import{u as T}from"./useWhichPlayerIsThe-BEz-MI3K.js";import{O as Ye}from"./OpinionsIcon-EdkO7ep-.js";import{A as h}from"./AvatarName-DAenfZgV.js";import{I as O}from"./Instruction-BWsH0zfP.js";import{R as Je}from"./RoundAnnouncement-D3oqVAWc.js";import{V as R}from"./ViewOr-TzM4WjBZ.js";import{B as ge}from"./BoxBlankIcon-CORXyR30.js";import{B as Se}from"./BoxCheckMarkIcon-C4xH7ONX.js";import{B as Ke}from"./BoxQuestionMarkIcon-DQXsiJjJ.js";import{B as J}from"./BoxXIcon-Ci8YBuiY.js";import{P as S}from"./PointsHighlight-Ba1GEDtW.js";import{T as fe}from"./TurnOrder-CBuZPmmu.js";import{P as Qe}from"./progress-ED-Q4esO.js";import{T as Xe}from"./speech-CjFYMbZ_.js";import{R as v}from"./RuleInstruction-DXytLzLg.js";import{R as Ze}from"./CloudUploadOutlined-BwanDzqS.js";import{W as ve}from"./WritingIcon-D6LBsyev.js";import{S as A}from"./SuggestionEasel-DVEX2Azf.js";import{D as es}from"./DevButton-Cf6ysBry.js";import{C as ss}from"./ControlledInputWriting-hHYJjpUD.js";import{C as be}from"./Card-Be4Z3hsW.js";import{R as rs}from"./WarningOutlined-B3EsXJRm.js";import{M as Ie}from"./MetricHighlight-CNg2LqOC.js";import{V as ns}from"./VerifyListIcon-r3vp6amr.js";import{m as Oe}from"./messageContent-Bc8lI0p0.js";import{P as os}from"./PopoverRule-C-maDR30.js";import{V as z}from"./ViewIf-KllO0pe9.js";import{A as D}from"./Avatar-DW9OA1dO.js";import{R as ye}from"./CloseOutlined-D-C6xUdP.js";import{G as as}from"./GuessIcon-xSlwnUJi.js";import{u as _e}from"./useBlurCards-DsbGDTih.js";import{T as we}from"./TimerBar-BZxJtbxi.js";import{T as _}from"./TextHighlight-BBtbimeM.js";import{R as is}from"./QuestionCircleOutlined-CNAY2SAs.js";import{R as ts}from"./MinusOutlined-BVKdS-S8.js";import{S as cs}from"./SpeechBubbleIcon-BJyxsLF4.js";import{F as ls}from"./FlagIcon-CWoy2Ion.js";import"./GameOver-CMXfCRxr.js";import{G as ds}from"./GameOverWrapper-BXAAv3Eb.js";import{A as us}from"./Achievements-DYLN-sms.js";import{C as ps}from"./Container-BS29JhJs.js";import{a as ms}from"./achievements-qAk8QZBN.js";import{A as xs}from"./AnimatedProcessingIcon-SOUXtTsN.js";import{R as hs}from"./CheckOutlined-C1Rr4amu.js";/* empty css                            */import"./RulesModal-C76og4QM.js";import"./DoubleRightOutlined-K_i5wRdY.js";import"./PurePanel-CTbaOXVZ.js";import"./useMutation-Y0s_HXnf.js";import"./Game-LGO8TFe5.js";import"./WaitingRoomIcon-Bo40Gclr.js";import"./AnimatedClockIcon-BDIxvchV.js";import"./index-DQmIDfSh.js";import"./useBubbleLock-DT_m3yep.js";import"./index-dP7AQMWH.js";import"./Overflow-D27nJfac.js";import"./useEvent-BwBIfN2J.js";import"./index-DX9UPUKj.js";import"./index-BuD-th2M.js";import"./GameBanner-D1metudZ.js";import"./useDevFeatures-2MI9JLMb.js";import"./useTDBaseUrl-BF9foKiS.js";import"./index-C1CA2Fg3.js";import"./InfoCircleOutlined-DfJnCAq1.js";import"./index-DBrFGq3m.js";import"./SignIn-JevPnEZv.js";import"./GoogleIcon-CVRgS1Xf.js";import"./Loading-CG6iLMHE.js";import"./AnimatedLoaderIcon-BwNpHgfi.js";import"./LikeFilled-wzJD_VGZ.js";import"./StarIcon-DF1wNOC4.js";import"./StarFilled-C0wh3iHN.js";import"./StarFilled-CNctUIhy.js";import"./VideoGameControllerIcon-BJce3Dks.js";import"./ArrowRightOutlined-ClvBEYc8.js";import"./useMergedState-D5VgOPJ1.js";import"./TheEndIcon-Bfl_iIZj.js";import"./Medal-2F0xZROC.js";const V={SUBMIT_VOTES:"SUBMIT_VOTES",SUBMIT_SUGGESTIONS:"SUBMIT_SUGGESTIONS",SUBMIT_OUTCOME:"SUBMIT_OUTCOME",VALIDATE_SUGGESTION:"VALIDATE_SUGGESTION",SEND_GUESS:"SEND_GUESS",SUBMIT_VALIDATION:"SUBMIT_VALIDATION"},H=120;function js(s){const{translate:r}=b(),n=N({actionName:"submit-votes",onBeforeCall:()=>s(3),onError:()=>s(1),successMessage:r("Votos enviados com sucesso!","Votes send successfully!"),errorMessage:r("Vixi, o aplicativo encontrou um erro ao tentar enviar seus votos","Oops, the application failed to send your votes")});return o=>{n({action:V.SUBMIT_VOTES,...o})}}function gs(s){const{translate:r}=b(),n=N({actionName:"submit-suggestion",onBeforeCall:()=>s(2),onError:()=>s(1),successMessage:r("Dicas enviada com sucesso!","Suggestions sent successfully!"),errorMessage:r("Vixi, o aplicativo encontrou um erro ao tentar enviar suas dicas","Oops, the application failed to send your suggestions")});return o=>{n({action:V.SUBMIT_SUGGESTIONS,...o})}}function Ss(s){const{translate:r}=b(),n=N({actionName:"submit-validations",onBeforeCall:()=>s(2),onError:()=>s(1),successMessage:r("Validação enviada com sucesso!","Validation sent successfully!"),errorMessage:r("Vixi, o aplicativo encontrou um erro ao tentar enviar a validação das sugestões","Oops, the application failed to send the validation")});return o=>{n({action:V.SUBMIT_VALIDATION,...o})}}function fs(){const{translate:s}=b(),r=N({actionName:"validate-suggestion",successMessage:s("Atualizado!","Updated!"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar atualizar","Oops, the application failed to update")});return n=>{r({action:V.VALIDATE_SUGGESTION,...n})}}function Te(s){const{translate:r}=b(),n=N({actionName:"submit-outcome",onBeforeCall:()=>s(3),onError:()=>s(0),successMessage:r("Resultado enviado com sucesso!","Outcome sent successfully!"),errorMessage:r("Vixi, o aplicativo encontrou um erro ao tentar enviar o resultado","Oops, the application failed to submit the outcome")});return o=>{n({action:V.SUBMIT_OUTCOME,...o})}}function vs(){const{translate:s}=b(),r=N({actionName:"send-guess",successMessage:s("Chute enviado!","Guess sent!"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar atualizar","Oops, the application failed to update")});return n=>{r({action:V.SEND_GUESS,...n})}}function Ee({group:s}){const r=Array(10).fill(0).map((n,o)=>{var t;return((t=s.attempts)==null?void 0:t[n+o])??"UNKNOWN"});return e.jsxs("div",{className:"u-group-progress",children:[e.jsx(q,{size:"xx-small",level:5,className:"u-group-progress__title",children:e.jsx(a,{pt:"Progresso:",en:"Group Progress"})}),e.jsx("ol",{className:"u-group-progress__bar",children:r.map((n,o)=>{const t=`attempt-${o}`;return e.jsxs("li",{className:"u-group-progress__item",children:[e.jsx("div",{className:"u-group-progress__label",children:o+1}),e.jsxs("div",{className:"u-group-progress__result",children:[n==="CORRECT"&&e.jsx(E,{icon:e.jsx(Se,{})}),n==="WRONG"&&e.jsx(E,{icon:e.jsx(J,{})}),n==="PASS"&&e.jsx(E,{icon:e.jsx(ge,{})}),n==="UNKNOWN"&&e.jsx(E,{icon:e.jsx(Ke,{}),className:"u-group-progress__unknown"})]})]},t)})}),e.jsxs("span",{children:[e.jsx(a,{pt:"Pontuação:",en:"Score:"}),e.jsxs(S,{children:[s.score??0,"/",s.goal]})]})]})}function K({players:s,instructionSuffix:r,announcement:n,phase:o,turnOrder:t,guesser:l}){const{language:i,translate:d}=b(),u=w.useMemo(()=>o===j.UE_SO_ISSO.WORD_SELECTION?0:o===j.UE_SO_ISSO.SUGGEST?45:90,[o]),c=w.useMemo(()=>{if(o===j.UE_SO_ISSO.COMPARE)return 0;const m=Object.keys(s).length;return 45*Object.values(s).reduce((g,f)=>g+(f.ready?1:0),0)/m},[s,o]),p=d("Aguarde enquanto os outros jogadores","Please wait while the other players");return e.jsx(I,{fullWidth:!0,announcement:n,children:e.jsxs(me,{players:s,title:`${p} ${r[i]}.`,instruction:e.jsx(a,{pt:"Você é o(a) adivinhador(a)",en:"You're the guesser"}),children:[e.jsx(fe,{players:s,order:t,activePlayerId:l.id}),e.jsx(Qe,{percent:u+c,status:"active",showInfo:!1})]})})}function bs({guesser:s,onSendSelectedWords:r,announcement:n,words:o=[],players:t,turnOrder:l}){const[i,d]=w.useState({}),u=Object.keys(i),c=u.length===0,p=()=>{const x=o[0].id;r({votes:[x]})},m=x=>{d(g=>{const f={...g};return f[x]?delete f[x]:f[x]=!0,f})};return e.jsxs(I,{fullWidth:!0,announcement:n,children:[e.jsx(C,{children:e.jsx(a,{pt:e.jsxs(e.Fragment,{children:["Selecione a Palavra Secreta para ",e.jsx(h,{player:s})]}),en:e.jsxs(e.Fragment,{children:["Select a Secret Word for ",e.jsx(h,{player:s})]})})}),e.jsx(v,{type:"rule",children:e.jsx(a,{pt:e.jsxs(e.Fragment,{children:["A palavra com mais votos será escolhida para essa rodada.",e.jsx("br",{}),e.jsx("strong",{children:"Você pode selecionar quantas quiser!"}),e.jsx("br",{}),"Se você não selecionar nenhuma, a primeira palavra será enviada como sua escolha."]}),en:e.jsxs(e.Fragment,{children:["The word with the most votes will be selected for the round.",e.jsx("br",{}),e.jsx("strong",{children:"You can choose as many as you wish!"}),e.jsx("br",{}),"If you fail to select any of them, the first one will be submitted as your choice."]})})}),e.jsx("ul",{className:"u-word-card",children:o.map(x=>e.jsx("li",{className:"u-word-card__word",children:e.jsxs("button",{type:"button",className:"u-word-card__button",onClick:()=>m(x.id),children:[e.jsx("span",{className:"u-word-card__text",children:x.text}),e.jsx("span",{className:"u-word-card__icon",children:!!i[x.id]&&e.jsx(Me,{})})]})},x.id))}),e.jsx(Xe,{icon:e.jsx(Ze,{}),type:"primary",onClick:()=>r({votes:u}),disabled:c,onExpire:p,duration:20,hideTimer:!c,children:e.jsx(a,{pt:"Enviar votos",en:"Send votes"})}),e.jsx(fe,{players:t,order:l,activePlayerId:s.id,className:"u-margin"})]})}function Is({guesser:s,group:r}){return e.jsxs(O,{contained:!0,children:[e.jsx(a,{pt:e.jsxs(e.Fragment,{children:["Para essa rodada, ",e.jsx(h,{player:s,addressUser:!0})," será o(a) adivinhador(a)."]}),en:e.jsxs(e.Fragment,{children:["For this round, ",e.jsx(h,{player:s,addressUser:!0})," will be the guesser."]})}),e.jsx("br",{}),e.jsx(Ee,{group:r})]})}function Os({state:s,players:r}){var c;const[n,o]=T("guesserId",s,r),{step:t,setStep:l,goToNextStep:i}=F(0),d=js(l),u=e.jsx(G,{icon:e.jsx(Ye,{}),title:e.jsx(a,{pt:"Seleção da Palavra Secreta",en:"Secret Word Selection"}),currentRound:(c=s==null?void 0:s.round)==null?void 0:c.current,type:"overlay",children:o?e.jsx(O,{children:e.jsx(a,{pt:e.jsxs(e.Fragment,{children:["Os outros jogadores escolherão a palavra secreta.",e.jsx("br",{}),"Aguarde..."]}),en:e.jsxs(e.Fragment,{children:["The other players will now choose the secret word.",e.jsx("br",{}),"Just wait..."]})})}):e.jsx(O,{children:e.jsx(a,{pt:e.jsxs(e.Fragment,{children:["Selecione a palavra secreta para essa rodada.",e.jsx("br",{}),"Você pode selecionar quantas quiser.",e.jsx("br",{}),"A palavra mais votada será usada nessa rodada!"]}),en:e.jsxs(e.Fragment,{children:["Choose the secret word for this round.",e.jsx("br",{}),"You may select as many as you wish.",e.jsx("br",{}),"The most voted word would be used this round!"]})})})});return e.jsx(W,{phase:s==null?void 0:s.phase,allowedPhase:j.UE_SO_ISSO.WORD_SELECTION,children:e.jsxs(B,{step:t,players:r,children:[e.jsx(Je,{round:s.round,onPressButton:i,time:7,children:e.jsx(Is,{guesser:n,group:s.group})}),e.jsxs(R,{condition:o,children:[e.jsx(K,{players:r,instructionSuffix:{pt:"decidem a palavra secreta",en:"choose a secret word"},announcement:u,phase:s.phase,guesser:n,turnOrder:s.gameOrder}),e.jsx(bs,{words:s==null?void 0:s.words,onSendSelectedWords:d,guesser:n,announcement:u,turnOrder:s.gameOrder,players:r})]})]})})}function ys({user:s}){return s.suggestions?e.jsx(U,{children:s.suggestions.map(r=>e.jsx(A,{value:r,id:r},r))}):e.jsx(e.Fragment,{})}const _s=["agua","bola","coco","dedo","egua","flauta","gatilho","hélio","jaguar"],ne=s=>({suggestions:le.sampleSize(_s,s)});function ws(){return e.jsx(v,{type:"action",children:e.jsx(a,{pt:e.jsxs(e.Fragment,{children:["Hora de escrever uma dica para a palavra secreta!",e.jsx("br",{}),"A dica tem que ser uma ",e.jsx("strong",{children:"palavra única"})," que ajude o adivinhador... adivinhar.",e.jsx("br",{}),"É proibido usar derivados, partes da palavra ou traduções em outras línguas.",e.jsx("br",{}),"E não seja tão óbvio, já que dicas similares são eliminadas!"]}),en:e.jsxs(e.Fragment,{children:["Time to write a clue for the secret word!",e.jsx("br",{}),"The clue MUST be a ",e.jsx("strong",{children:"single word or compound word"})," that helps the guesser... guess.",e.jsx("br",{}),"You can't use parts of the Secret word, translations, words in the same family (prince/princess), made-up words, or phonetically identical (weather/whether).",e.jsx("br",{}),"Don't be too obvious, identical words (and variants) will be eliminated!"]})})})}function Ts(){return e.jsx(O,{children:e.jsx(a,{pt:e.jsxs(e.Fragment,{children:["Hora de comparar as dicas e eliminar as similares!",e.jsx("br",{}),"O aplicativo elimina automaticamente todas as palavras idênticas, mas os jogadores precisam eliminar as inválidas e similares."]}),en:e.jsxs(e.Fragment,{children:["Time to compare the clues and eliminate variants",e.jsx("br",{}),"The app has already eliminated any identical clues."]})})})}function Es(){return e.jsx(O,{contained:!0,children:e.jsx(a,{pt:e.jsxs(e.Fragment,{children:["Já eliminamos todas as palavras idênticas, agora, elimine palavras inválidas ou similares.",e.jsx("br",{}),"Lembre-se que são consideradas dicas iguais palavras derivadas e conjugações:"," ",e.jsx("code",{children:"piloto = pilotar = pilotando"}),". Variações como pluralidade, gênero e erros ortográficos também devem ser eliminadas: ",e.jsx("code",{children:"príncipe = princesa = príncipes = pryncipi"}),"."]}),en:e.jsxs(e.Fragment,{children:["The app has already eliminated all identical clues, not it's time to eliminate all invalid clues.",e.jsx("br",{}),"Remember that the following clue types are considered invalid:",e.jsx("br",{}),"Variants: ",e.jsx("code",{children:"pilot = pilots = piloting"}),".",e.jsx("br",{}),"Words on the same family: ",e.jsx("code",{children:"prince = princess"}),e.jsx("br",{}),"Misspelled or made-up words."]})})})}function Us({controller:s}){return e.jsx(v,{type:"event",children:e.jsx(a,{pt:e.jsxs(e.Fragment,{children:["Para não virar bagunça, somente ",e.jsx(h,{player:s,addressUser:!0}),"pode clicar nas palavras para eliminá-las ou ativá-las, mas todos podem discutir.",e.jsx("br",{}),e.jsx("strong",{children:"Uma dica ser muito ruim não significa que ela seja inválida."}),e.jsx("br",{}),"Refiram às palavras por letra, o Adivinhador pode estar ouvindo!"]}),en:e.jsxs(e.Fragment,{children:[e.jsx(h,{player:s}),"is in charge of clicking on the clues to disable or enable them as valid but everybody (but the guesser) should discuss.",e.jsx("br",{}),e.jsx("strong",{children:"A terrible clue is still valid if it follow the rules."}),e.jsx("br",{}),"Refer to the clues by letter, the Guesser is listening!"]})})})}function M({word:s,header:r}){const{translate:n}=b();return e.jsx(be,{color:"purple",header:n("A Palavra Secreta é","Secret Word",r),size:"large",children:s??e.jsx(rs,{})})}function oe({children:s}){return e.jsx(Ie,{icon:e.jsx(ve,{}),children:s})}function ae({children:s}){return e.jsx(Ie,{icon:e.jsx(J,{}),children:s})}function As({guesser:s,onSendSuggestions:r,secretWord:n,suggestionsNumber:o=1,announcement:t,isUserTheGuesser:l}){return ke(()=>{l||r(ne(o))},[]),e.jsxs(I,{fullWidth:!0,announcement:t,children:[e.jsx(C,{children:e.jsx(a,{pt:e.jsxs(e.Fragment,{children:["Escreva uma dica para ",e.jsx(h,{player:s})]}),en:e.jsxs(e.Fragment,{children:["Write a clue for ",e.jsx(h,{player:s})]})})}),e.jsx(ws,{}),e.jsx(M,{word:n.text}),o>1&&e.jsx(v,{type:"event",children:e.jsx(a,{pt:e.jsxs(e.Fragment,{children:["Já que esse jogo tem menos jogadores, você tem que escrever"," ",e.jsxs(oe,{children:[o," sugestões"]})]}),en:e.jsxs(e.Fragment,{children:["Since we have fewer players you must write"," ",e.jsxs(oe,{children:[o," clues"]})]})})}),e.jsx(ss,{onSubmit:r,inputComponent:A,valueKey:"suggestions",inputQuantity:o,submitButtonLabel:e.jsxs(e.Fragment,{children:[e.jsx(a,{pt:"Enviar dica",en:"Send clue"}),o>1&&"s"]}),submitButtonProps:{icon:e.jsx(Pe,{}),size:"large"}}),e.jsx(es,{ghost:!0,onClick:()=>r(ne(o)),children:"Mock Suggestions"})]})}function Cs({state:s,players:r}){var c;const n=He(r,s),{step:o,setStep:t}=F(0),[l,i]=T("guesserId",s,r),d=gs(t),u=e.jsx(G,{icon:e.jsx(ve,{}),title:e.jsx(a,{pt:"Escreva uma dica!",en:"Write a Clue!"}),currentRound:(c=s==null?void 0:s.round)==null?void 0:c.current,type:"overlay",children:i?e.jsx(O,{children:e.jsx(a,{pt:"Já que você é o adivinhador, relaxe e aguarde...",en:"Since you're the guesser, just relax and wait..."})}):e.jsx(O,{children:e.jsx(a,{pt:"Hora de escrever uma dica para a palavra secreta!",en:"Time to write a clue for the secret word!"})})});return e.jsx(W,{phase:s==null?void 0:s.phase,allowedPhase:j.UE_SO_ISSO.SUGGEST,className:"word-selection-phase",children:e.jsx(B,{step:o,players:r,waitingRoom:{content:e.jsx(ys,{user:n})},children:e.jsxs(R,{condition:i,children:[e.jsx(K,{players:r,instructionSuffix:{pt:"escrevem dicas",en:"write clues"},phase:s.phase,guesser:l,turnOrder:s.gameOrder}),e.jsx(As,{guesser:l,isUserTheGuesser:i,onSendSuggestions:d,secretWord:s.secretWord,suggestionsNumber:s.suggestionsNumber,announcement:u})]})})})}function ie({avatarId:s,playerName:r,index:n,invalid:o,suggestion:t}){return e.jsxs(be,{size:"medium",color:Re(n),className:$(o&&"u-suggestion-card__invalid"),header:r?`${Z[n]} (${r})`:Z[n],children:[o?e.jsx(Ne,{size:"small",className:"u-suggestion-card__suggestion-avatar",children:e.jsx(ye,{})}):e.jsx(D,{id:s,size:"small",className:"u-suggestion-card__suggestion-avatar"}),t]})}function te({suggestions:s,players:r,onSetValidation:n,isLoading:o,myRecommendation:t,readOnly:l=!0}){return e.jsx(Y,{className:"u-word-compare-suggestions-step__suggestions",children:s.map((i,d)=>{var u;return l?e.jsx("div",{children:e.jsx(ie,{suggestion:i.suggestion,invalid:i.invalid,playerName:r[i.playerId].name,avatarId:r[i.playerId].avatarId,index:d})},`${i.suggestion}-${d}`):e.jsx("button",{type:"button",className:"u-word-compare-suggestions-step__suggestion-button",onClick:()=>n(d,i),disabled:o,children:e.jsx(ie,{suggestion:i.suggestion,invalid:(u=t==null?void 0:t[d])==null?void 0:u.invalid,avatarId:r[i.playerId].avatarId,playerName:r[i.playerId].name,index:d})},`${i.suggestion}-${d}`)})})}function Ps({isUserTheController:s,controller:r,onValidateSuggestions:n,onUpdateSuggestions:o,players:t,secretWord:l,suggestions:i,announcement:d}){const{message:u}=de.useApp(),{translate:c}=b(),{isLoading:p}=ue(),[m,x]=w.useState(Fe(i)),g=xe(),[f,k]=w.useState(!1),Q=(y,Ae,Ce)=>{if(Ce)return;const P=[...m];P[y]?P[y].invalid=!P[y].invalid:P[y]={...Ae,invalid:!0},o({suggestions:P}),x(P)};w.useEffect(()=>{s&&!f&&!p&&(u.info(Oe(c("Você controla!","You control!"),c("Siga as instruções na página","Follow the instructions on the page"),r.id,3)),k(!0))},[s,r.id,c,f,p,u]);const X=Object.values(m);return e.jsxs(I,{fullWidth:!0,announcement:d,children:[e.jsx(C,{children:e.jsx(a,{pt:"Comparem as Dicas",en:"Compare Clues"})}),e.jsx(M,{word:l.text}),e.jsx(os,{content:e.jsx(Es,{})}),e.jsx(Us,{controller:r}),e.jsx(te,{suggestions:i,readOnly:!s,players:t,onSetValidation:Q,isLoading:p,myRecommendation:m}),e.jsx(z,{condition:s,children:e.jsx(U,{children:e.jsx(L,{type:"primary",onClick:()=>n({validSuggestions:X.filter(y=>!y.invalid)}),children:e.jsx(a,{pt:"Confirmar dicas válidas",en:"Confirm valid clues"})})})}),e.jsx(z,{condition:!s,children:e.jsxs(he,{label:e.jsx(a,{pt:"Host Controls (use somente se o jogador controlador não controlar)",en:"Host Controls (only use if the assign player doesn't)"}),direction:"vertical",align:"center",children:[e.jsx(te,{suggestions:i,readOnly:!g,players:t,onSetValidation:Q,isLoading:p,myRecommendation:m}),e.jsx(qe,{onClick:()=>n({validSuggestions:X.filter(y=>!y.invalid)}),children:e.jsx(a,{pt:"Confirmar dicas válidas como Admin",en:"Confirm valid clues as Admin"})})]})})]})}function Rs({state:s,players:r}){var m;const{step:n,setStep:o}=F(0),[t,l]=T("guesserId",s,r),[i,d]=T("controllerId",s,r),u=Ss(o),c=fs(),p=e.jsxs(G,{icon:e.jsx(ns,{}),title:e.jsx(a,{pt:"Comparação de dicas!",en:"Clue Check!"}),currentRound:(m=s==null?void 0:s.round)==null?void 0:m.current,type:"overlay",children:[e.jsx(Ts,{}),l&&e.jsx(O,{contained:!0,children:e.jsx(a,{pt:"Já que você é o adivinhador, relaxe e aguarde... novamente",en:"Since you're the guesser, just relax and wait... again"})})]});return e.jsx(W,{phase:s==null?void 0:s.phase,allowedPhase:j.UE_SO_ISSO.COMPARE,children:e.jsxs(B,{step:n,players:r,children:[e.jsxs(R,{condition:l,children:[e.jsx(K,{players:r,instructionSuffix:{pt:"validam dicas",en:"validate the clues"},phase:s.phase,guesser:t,turnOrder:s.gameOrder}),e.jsx(Ps,{controller:i,isUserTheController:d,secretWord:s.secretWord,suggestions:s.suggestions,players:r,onValidateSuggestions:u,onUpdateSuggestions:c,announcement:p})]}),e.jsx(me,{players:r,title:e.jsx(a,{pt:"Enviando a confirmação de dicas",en:"Sending confirmation"}),instruction:"..."})]})})}function Ue({isTheGuesser:s,guesser:r,secretWord:n,hintsEnabled:o,showFirstHint:t,showSecondHint:l}){const i=o&&t?e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx(ee.span,{...se("fadeIn"),children:e.jsx(a,{pt:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Dica 1"}),": A palavra tem"," ",e.jsxs(_,{children:[n.text.length," letras"]})]}),en:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Hint 1"}),": The word has"," ",e.jsxs(_,{children:[n.text.length," letters"]})]})})})]}):null,d=o&&l?e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx(ee.span,{...se("fadeIn"),children:e.jsx(a,{pt:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Dica 2"}),": A palavra começa com"," ",e.jsx(_,{children:n.text[0]})]}),en:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Hint 2"}),": The word starts with"," ",e.jsx(_,{children:n.text[0]})]})})})]}):null;return s?e.jsxs(v,{type:"rule",children:[e.jsx(a,{pt:"Você tem uma única chance de adivinhar a palavra secreta!",en:"You have a single chance to guess the secret word!"}),i,d]}):e.jsxs(v,{type:t||l?"event":"wait",children:[e.jsx(a,{pt:e.jsxs(e.Fragment,{children:[r.name," está pensando..."]}),en:e.jsxs(e.Fragment,{children:[r.name," is thinking..."]})}),i,d]})}function Ns({guesser:s,onSendGuess:r,onSubmitOutcome:n,validSuggestions:o,announcement:t,secretWord:l,timerEnabled:i,hintsEnabled:d}){const{translate:u}=b(),[c,p]=w.useState(""),{timeLeft:m}=_e({duration:H,disabled:!i,onExpire:()=>r({guess:c})}),x=()=>{c&&c.length>0&&r({guess:c})};return e.jsxs(I,{fullWidth:!0,announcement:t,children:[e.jsxs(C,{children:[e.jsx(a,{pt:"Hora de brilhar",en:"Time to shine"}),", ",e.jsx(h,{player:s}),"!"]}),i&&e.jsx(we,{value:m,total:H,status:m<15?"exception":"active",size:"small"}),e.jsx(Ue,{isTheGuesser:!0,guesser:s,secretWord:l,hintsEnabled:d,showFirstHint:m<60,showSecondHint:m<30}),e.jsx(M,{word:e.jsx(is,{})}),e.jsx(v,{type:"action",children:e.jsx(a,{pt:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Escreva"})," sua adivinhação abaixo.",e.jsx("br",{}),"Se você acertar, o grupo ganha ",e.jsx(S,{type:"positive",children:"2 pontos"})," mas se você errar, o grupo perde ",e.jsx(S,{type:"negative",children:"1 ponto"}),".",e.jsx("br",{}),"Você pode pular se não estiver se sentindo seguro."]}),en:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Write"})," your guess below.",e.jsx("br",{}),"If you get it right, the group wins ",e.jsx(S,{type:"positive",children:"2 points"})," ","but if you get it wrong, the group loses"," ",e.jsx(S,{type:"negative",children:"1 point"}),".",e.jsx("br",{}),"You can skip if you're not feeling confident."]})})}),e.jsxs(U,{children:[e.jsx(Ge,{placeholder:u("Digite aqui seu chute","Type your guess here"),onChange:g=>p(g.target.value),onPressEnter:x,size:"large"}),e.jsxs(L,{type:"primary",onClick:()=>r({guess:c}),disabled:c.length<3||m<=0,size:"large",children:[e.jsx(a,{pt:"Enviar",en:"Submit"}),m]}),e.jsx("span",{children:e.jsx(a,{pt:"OU",en:"OR"})}),e.jsx(L,{icon:e.jsx(ts,{}),type:"default",onClick:()=>n({outcome:"PASS"}),disabled:m<=0,children:e.jsx(a,{pt:"Passar a vez...",en:"Skip turn"})})]}),e.jsxs(U,{wrap:!0,children:[o.map((g,f)=>{const k=`${g.suggestion}-${f}`;return e.jsx(A,{id:k,value:g.suggestion},k)}),o.length===0&&e.jsx(v,{type:"alert",children:e.jsx(a,{pt:"Seus companheiros eliminaram todas as dicas, super burros...",en:"All clues were eliminated! Good luck..."})})]})]})}function Fs({guesser:s,secretWord:r,validSuggestions:n,announcement:o,timerEnabled:t,hintsEnabled:l}){const{timeLeft:i}=_e({duration:H,disabled:!t,onExpire:()=>{}});return e.jsxs(I,{fullWidth:!0,announcement:o,children:[e.jsx(C,{children:e.jsx(a,{pt:e.jsxs(e.Fragment,{children:["Hora de ",e.jsx(h,{player:s})," brilhar!"]}),en:e.jsxs(e.Fragment,{children:["Time for ",e.jsx(h,{player:s})," to shine!"]})})}),t&&e.jsx(we,{value:i,total:H,status:i<15?"exception":"active",size:"small"}),e.jsx(v,{type:"wait",children:e.jsx(a,{pt:e.jsxs(e.Fragment,{children:[s.name," tem uma única chance de adivinhar a palavra secreta!",e.jsx("br",{}),"Se acertar, o grupo ganha ",e.jsx(S,{type:"positive",children:"2 pontos"})," mas se errar, o grupo perde ",e.jsx(S,{type:"negative",children:"1 pontos"}),".",e.jsx("br",{}),"Há a opção de pular a rodada, mas só faz o grupo perder tempo."]}),en:e.jsxs(e.Fragment,{children:[s.name," has a single chance to guess the secret word!",e.jsx("br",{}),"If they get it right, the group wins ",e.jsx(S,{type:"positive",children:"2 points"})," ","but if they get it wrong, the group loses"," ",e.jsx(S,{type:"negative",children:"1 points"}),".",e.jsx("br",{}),"There's the option to skip the round, but it only wastes time."]})})}),e.jsx(M,{word:r.text}),e.jsx(Ue,{isTheGuesser:!1,guesser:s,secretWord:r,hintsEnabled:l,showFirstHint:i<60,showSecondHint:i<30}),e.jsx(Y,{className:"u-word-guess-phase__suggestions",children:n.map((d,u)=>{const c=`${d.suggestion}-${u}`;return e.jsx(A,{id:c,value:d.suggestion},c)})}),n.length===0&&e.jsx(v,{type:"alert",children:e.jsx(a,{pt:"Vocês eliminaram todas as dicas, super burros... coitado do(a) adivinhador(a)",en:"Y'all eliminated all the clues! Poor guesser..."})})]})}function Gs({state:s,players:r,meta:n}){var p,m,x,g,f;const{step:o,setStep:t}=F(0),[l,i]=T("guesserId",s,r),d=Te(t),u=vs(),c=e.jsx(G,{icon:e.jsx(as,{}),title:e.jsx(a,{pt:"Adivinhação",en:"Guessing"}),currentRound:(p=s==null?void 0:s.round)==null?void 0:p.current,type:"overlay",children:e.jsx(a,{pt:"Hora de adivinhar a palavra secreta!",en:"Time to guess the secret word!"})});return e.jsx(W,{phase:s==null?void 0:s.phase,allowedPhase:j.UE_SO_ISSO.GUESS,children:e.jsx(B,{step:o,players:r,children:e.jsxs(R,{condition:i,children:[e.jsx(Ns,{guesser:l,secretWord:s.secretWord,onSubmitOutcome:d,onSendGuess:u,validSuggestions:s.validSuggestions,announcement:c,timerEnabled:!!((m=n.options)!=null&&m.withTimer),hintsEnabled:!!((x=n.options)!=null&&x.withHints)}),e.jsx(Fs,{guesser:l,validSuggestions:s.validSuggestions,secretWord:s.secretWord,announcement:c,timerEnabled:!!((g=n.options)!=null&&g.withTimer),hintsEnabled:!!((f=n.options)!=null&&f.withHints)})]})})})}function Ws({guess:s,guesser:r,secretWord:n,validSuggestions:o,suggestions:t,group:l,announcement:i}){const d=l.attempts.at(-1)==="PASS";return e.jsxs(I,{fullWidth:!0,announcement:i,children:[e.jsx(C,{className:pe("heartBeat"),children:d?e.jsx(a,{pt:e.jsxs(e.Fragment,{children:[e.jsx(h,{player:r,addressUser:!0,size:"large"})," passou..."]}),en:e.jsxs(e.Fragment,{children:[e.jsx(h,{player:r,addressUser:!0,size:"large"})," passed..."]})}):e.jsx(a,{pt:e.jsxs(e.Fragment,{children:[e.jsx(h,{player:r,addressUser:!0,size:"large"})," disse"," ",e.jsx(_,{children:s})]}),en:e.jsxs(e.Fragment,{children:[e.jsx(h,{player:r,addressUser:!0,size:"large"})," said"," ",e.jsx(_,{children:s})]})})}),e.jsx(M,{word:n.text}),e.jsx(Ee,{group:l}),e.jsx(v,{type:"rule",children:e.jsx(a,{pt:e.jsxs(e.Fragment,{children:["Lembre-se que vocês o objetivo é conseguir ",e.jsx(S,{children:"7 pontos"})," em até 10 rodadas, mas vocês perdem imediatamente se tiverem",e.jsx(ae,{children:"3 erros"}),".",e.jsx("br",{}),"Vocês ganham ",e.jsx(S,{type:"positive",children:"2 pontos"})," para cada acerto e perdem",e.jsx(S,{type:"negative",children:"1 ponto"})," para cada erro."]}),en:e.jsxs(e.Fragment,{children:["Remember that the goal is to get ",e.jsx(S,{children:"7 points"})," within 10 rounds, but you immediately lose if you get",e.jsx(ae,{children:"3 errors"}),".",e.jsx("br",{}),"You gain ",e.jsx(S,{type:"positive",children:"2 points"})," for each correct guess and lose",e.jsx(S,{type:"negative",children:"1 point"})," for each mistake."]})})}),e.jsx(q,{size:"xx-small",className:"margin",children:e.jsx(a,{pt:"Dicas válidas",en:"Valid clues"})}),e.jsx(U,{wrap:!0,children:o.map((u,c)=>{const p=`${u.suggestion}-${c}`;return e.jsx(A,{id:p,value:u.suggestion},p)})}),o.length!==t.length&&e.jsxs("div",{className:"u-margin",children:[e.jsx(q,{size:"x-small",className:"margin",children:e.jsx(a,{pt:"Todas as dicas",en:"All clues"})}),e.jsx(U,{className:"u-all-suggestions",wrap:!0,children:t.map((u,c)=>{const p=`all-${u.suggestion}-${c}`;return e.jsx(A,{id:p,value:u.suggestion},p)})})]}),e.jsx(je,{})]})}function Bs({state:s,players:r}){var i;const{step:n}=F(0),[o]=T("guesserId",s,r),t=s.group.attempts.at(-1)==="PASS",l=e.jsx(G,{icon:e.jsx(cs,{}),title:t?e.jsx(a,{pt:e.jsxs(e.Fragment,{children:["E ",e.jsx(h,{player:o,addressUser:!0,size:"large"})," passou..."]}),en:e.jsxs(e.Fragment,{children:["And ",e.jsx(h,{player:o,addressUser:!0,size:"large"})," passed..."]})}):e.jsx(a,{pt:e.jsxs(e.Fragment,{children:["E ",e.jsx(h,{player:o,addressUser:!0,size:"large"})," disse..."]}),en:e.jsxs(e.Fragment,{children:["And ",e.jsx(h,{player:o,addressUser:!0,size:"large"})," said..."]})}),currentRound:(i=s==null?void 0:s.round)==null?void 0:i.current,type:"overlay",duration:3,children:!t&&e.jsx(O,{className:"u-guess",contained:!0,children:e.jsxs(_,{children:['"',s.guess,'"']})})});return e.jsx(W,{phase:s==null?void 0:s.phase,allowedPhase:j.UE_SO_ISSO.RESULT,children:e.jsx(B,{step:n,players:r,children:e.jsx(Ws,{guesser:o,guess:s.guess||"?",validSuggestions:s.validSuggestions,suggestions:s.suggestions,secretWord:s.secretWord,announcement:l,group:s.group})})})}function Vs({state:s,players:r}){return e.jsxs(ds,{state:s,players:r,announcementIcon:e.jsx(ls,{}),children:[e.jsx(us,{players:r,achievements:s.achievements,reference:ms}),e.jsx(ps,{title:e.jsx(a,{pt:"Dicas do jogo",en:"Game's clues"}),children:s.gallery.map(n=>e.jsxs("div",{className:"u-gallery-entry",children:[e.jsx("div",{className:"u-gallery-entry__word",children:n.text}),le.orderBy(n.suggestions,"invalid").map(o=>e.jsxs("div",{className:$("u-gallery-entry__suggestion",o.invalid&&"u-gallery-entry__suggestion--invalid"),children:[e.jsx(D,{id:r[o.playerId].avatarId,size:"small"})," ",o.suggestion]},o.playerId)),e.jsxs("div",{className:"u-gallery-entry__outcome",children:[e.jsx(D,{id:r[n.guesserId].avatarId,size:"small"}),n.outcome==="CORRECT"&&e.jsx(E,{icon:e.jsx(Se,{})}),n.outcome==="WRONG"&&e.jsx(E,{icon:e.jsx(J,{})}),n.outcome==="PASS"&&e.jsx(E,{icon:e.jsx(ge,{})})]})]},n.id))})]})}function Ms({guess:s,guesser:r,isLoading:n,isUserTheController:o,controller:t,secretWord:l,onSubmitOutcome:i,validSuggestions:d,announcement:u}){const{message:c}=de.useApp(),{translate:p}=b();return w.useEffect(()=>{o&&!n&&c.info(Oe(p("Você controla!","You control!"),p("Selecione se o adivinhador acertou ou não","Select if the guesser got it right or not"),t.id,3))},[o,t.id,p,n,c]),e.jsxs(I,{fullWidth:!0,announcement:u,children:[e.jsxs(C,{className:pe("heartBeat"),children:[e.jsx(h,{player:r,addressUser:!0})," ",e.jsx(a,{pt:"disse",en:"said"})," ",e.jsx(_,{children:s})]}),e.jsx(M,{word:l.text}),e.jsx(v,{type:"alert",children:e.jsx(a,{pt:e.jsxs(e.Fragment,{children:["O sistema não pode verificar se a resposta está correta.",e.jsx("br",{}),"Por favor, confirme se ",e.jsx(h,{player:r})," acertou ou não."]}),en:e.jsxs(e.Fragment,{children:["The system wasn't able to verify the guess.",e.jsx("br",{}),"Please confirm if ",e.jsx(h,{player:r})," got it right or not."]})})}),e.jsx(U,{className:"u-word-guess-phase__suggestions",children:d.map((m,x)=>{const g=`${m.suggestion}-${x}`;return e.jsx(A,{id:g,value:m.suggestion},g)})}),e.jsxs(z,{condition:o,children:[e.jsxs(v,{type:"action",children:[e.jsx(a,{pt:"Aperte o botão correspondente",en:"Press the corresponding button"}),":"]}),e.jsx(ce,{onSubmitOutcome:i,isLoading:n})]}),!o&&e.jsx(he,{label:e.jsx(a,{pt:"Host Controls (use somente se o jogador controlador não controlar)",en:"Host Controls (only use if the assign player doesn't)"}),children:e.jsx(ce,{onSubmitOutcome:i,isLoading:n})})]})}function ce({onSubmitOutcome:s,isLoading:r}){return e.jsxs(Y,{className:$("u-word-guess-phase__guess-submit"),children:[e.jsx(re,{icon:e.jsx(hs,{}),type:"primary",style:{backgroundColor:"green"},onClick:()=>s({outcome:"CORRECT"}),disabled:r,children:e.jsx(a,{pt:"Acertou",en:"Correct"})}),e.jsx(re,{icon:e.jsx(ye,{}),type:"primary",danger:!0,onClick:()=>s({outcome:"WRONG"}),disabled:r,children:e.jsx(a,{pt:"Errou",en:"Wrong"})})]})}function ks({state:s,players:r}){var x;const{isLoading:n}=ue(),{step:o,setStep:t}=F(0),l=xe(),[i]=T("guesserId",s,r),[d,u]=T("controllerId",s,r),c=Te(t),p=!["CONTINUE","WIN"].includes(s.group.outcome)&&(u||l),m=e.jsx(G,{icon:e.jsx(xs,{}),title:e.jsx(a,{pt:"Processando o palpite...",en:"Processing the guess..."}),currentRound:(x=s==null?void 0:s.round)==null?void 0:x.current,type:"overlay",unskippable:!p,duration:p?3:300});return e.jsx(W,{phase:s==null?void 0:s.phase,allowedPhase:j.UE_SO_ISSO.VERIFY_GUESS,children:e.jsx(B,{step:o,players:r,children:e.jsxs(R,{condition:["CONTINUE","WIN"].includes(s.group.outcome),children:[e.jsx(I,{announcement:m,children:e.jsx(je,{autoTriggerTime:2})}),e.jsxs(R,{condition:p,children:[e.jsx(Ms,{guesser:i,guess:s.guess||"?",onSubmitOutcome:c,validSuggestions:s.validSuggestions,secretWord:s.secretWord,controller:d,isUserTheController:u,isLoading:n,announcement:m}),e.jsx(I,{announcement:m,children:e.jsx("div",{})})]})]})})})}function Hs(s){if(s&&!s.phase)return Be;switch(s.phase){case j.DEFAULT.LOBBY:return $e;case j.DEFAULT.RULES:return De;case j.DEFAULT.SETUP:return ze;case j.UE_SO_ISSO.WORD_SELECTION:return Os;case j.UE_SO_ISSO.SUGGEST:return Cs;case j.UE_SO_ISSO.COMPARE:return Rs;case j.UE_SO_ISSO.GUESS:return Gs;case j.UE_SO_ISSO.VERIFY_GUESS:return ks;case j.UE_SO_ISSO.RESULT:return Bs;case j.DEFAULT.GAME_OVER:return Vs;default:return Ve}}function jn(){return e.jsx(Le,{gameCollection:We.UE_SO_ISSO,getActiveComponent:Hs})}export{jn as default};
