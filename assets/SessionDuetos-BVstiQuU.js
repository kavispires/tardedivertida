import{f as L,j as e,e as v,q as C,bF as H,aG as V,r as R,T as o,l as y,b0 as B,aL as x,bG as W,i as w,a$ as T,B as Y,aY as Q,aW as X,aX as J}from"./index-CKSL2Oo6.js";import{u as K,S as $,a as q,b as Z,c as O,P as U,d as E,e as D,l as ee,g as re,h as N,i as se,j as te}from"./StepSwitcher-CBiXRQp9.js";import{S as ie}from"./SocksIcon-B7t8hd9d.js";import{I as z}from"./Instruction-DF1wPxF_.js";import{R as ae}from"./RoundAnnouncement-CDsNqJDf.js";import{C as ne}from"./ClubberAvatar-Bkf0_9uN.js";import{C as oe}from"./CostumeAvatar-C2YVxOgr.js";import{S as ce}from"./SuperHeroAvatar-DSbZA9Vs.js";import{C as me}from"./Card-_rLW197d.js";import{C as de}from"./CharacterCard-CVLUhBRS.js";import{E as pe}from"./EmojiCard-D9rQTM41.js";import{G as le}from"./GlyphCard-FL1fifHM.js";import{I as ue}from"./ItemCard-CpFJktzQ.js";import{S as he}from"./SuspectCard-kj09athr.js";/* empty css                             */import{I as xe}from"./ImageBlurButtonContainer-ClK59aE_.js";import{I as je}from"./ImageCard-bkgYYAnE.js";import{u as ge}from"./useMock-BEDFNZrO.js";import{D as fe}from"./DevButton-CNsNoU-w.js";import{P}from"./PointsHighlight-Cqx1q6uR.js";import{R as b}from"./RuleInstruction-BdzuuL12.js";import{P as ve}from"./WritingIcon-C4AzkpWR.js";import{A as F}from"./Avatar-DDdPWuVM.js";import{T as Ie}from"./speech-CqmAxZxy.js";import{R as Se}from"./TrophyOutlined-BzOg76aA.js";import{S as Pe}from"./StepRankingWrapper-OzaA_Q-p.js";import{T as Ce}from"./TrophyIcon-BE7ScyIk.js";import"./GameOver-BHyTQYE6.js";import{G as be}from"./GameOverWrapper-8_nXSM8h.js";import{A as _e}from"./Achievements-DXta8Z7S.js";import{C as Re}from"./Container-U1LQeSXW.js";import{a as Ae}from"./achievements-_vvMKcjs.js";import"./useBlurCards-D3ZaeHZ7.js";import"./RulesModal-DlMNhdIN.js";import"./DoubleRightOutlined-CjTCQ3pG.js";import"./PurePanel-CRwM7CCN.js";import"./Game-CP7vFpvj.js";import"./WaitingRoomIcon-BKXqH9Wz.js";import"./AnimatedClockIcon-DM7zoNlE.js";import"./useMutation-D_B7Vfnl.js";import"./index-Bdi3uGfe.js";import"./useBubbleLock-C6uDvWiA.js";import"./index-CQf5PTff.js";import"./Overflow-_JyRjA96.js";import"./useEvent-BFfbDrcc.js";import"./index-C3BZauMc.js";import"./index-DrTTWnBZ.js";import"./GameBanner-mHka2_E9.js";import"./useDevFeatures-Cb6Idozw.js";import"./useTDBaseUrl-BF9foKiS.js";import"./index-D7I0RBnj.js";import"./InfoCircleOutlined-Aq5RKLpc.js";import"./index-wxCCf58o.js";import"./SignIn-BcbcbeeW.js";import"./GoogleIcon-qk2_n4kf.js";import"./Loading-D2wGLowI.js";import"./AnimatedLoaderIcon-BaK23vAb.js";import"./LikeFilled-JwMomx_o.js";import"./CustomAvatarWrapper-KDD-8XJg.js";import"./Sprite-BaLT_REp.js";import"./WarningOutlined-D8W2y9pX.js";import"./ImageBlurButton-CSj_Szg2.js";import"./StarIcon-CtxF96tC.js";import"./MetricHighlight-DBzD29Gf.js";import"./StarFilled-DTNAAK7x.js";import"./StarFilled-CNctUIhy.js";import"./RankingBoard-Dt_8p3AD.js";import"./CaretUpOutlined-CTN4lzvm.js";import"./ArrowRightOutlined-6akbC97L.js";import"./useMergedState-DBp2fCOi.js";import"./progress-CayaoTRB.js";import"./TheEndIcon-BChTc1oL.js";import"./Medal-BycRMZrJ.js";import"./QuestionCircleOutlined-aNAmMO78.js";const A={PAIRING:"PAIRING",RESULTS:"RESULTS"},ye={SUBMIT_PAIRS:"SUBMIT_PAIRS"};function we(r){const{translate:s}=L(),t=K({actionName:"submit-pairs",onSuccess:()=>r(2),onError:()=>r(0),successMessage:s("Pares submetidos com sucesso","Paris submitted successfully"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar enviar seus pares","Oops, the application found an error while trying to submit your pairs")});return n=>{t({action:ye.SUBMIT_PAIRS,...n})}}function g({itemEntry:r,className:s,size:t,looseItem:n}){const{dualTranslate:c}=L(),i=t==="small"?.75:1;return r.type==="alien-item"?e.jsx(ue,{id:r.value.id,width:75*i,className:s,title:c(r.value.name)}):r.type==="images"?e.jsx(xe,{cardId:r.value,children:e.jsx(je,{id:r.value,cardWidth:(n?1.5:1)*100*i,className:s,preview:!1})}):r.type==="words"?e.jsx(me,{hideHeader:!0,className:s,size:t,children:r.value.text}):r.type==="suspects"?e.jsx("div",{className:s,children:e.jsx(he,{suspect:r.value,width:100*i,hideName:!0})}):r.type==="contenders"?e.jsx(de,{character:r.value,size:120*i,className:s},r.value.id):r.type==="emojis"?e.jsx(pe,{id:String(r.value),width:75*i,className:s}):r.type==="glyphs"?e.jsx(le,{id:r.value,width:75*i,className:s}):r.type==="clubbers"?e.jsx(ne,{id:r.value,width:75*i,className:v("avatar-entry-background",s)}):r.type==="costumes"?e.jsx(oe,{id:r.value,width:75*i,className:v("avatar-entry-background",s)}):r.type==="superHeroes"?e.jsx(ce,{id:r.value,width:75*i,className:v("avatar-entry-background",s)}):e.jsx("div",{className:s,children:r.type})}function _({index:r,firstItem:s,secondItem:t,placeholder:n,size:c}){return e.jsxs(C,{className:v("pairs-grid__pair",`pairs-grid__pair--${r}`),direction:"vertical",children:[e.jsx("div",{className:"pairs-grid__slot",children:s?e.jsx(g,{itemEntry:s,size:c}):e.jsx(g,{itemEntry:n,className:"pairs-grid__empty-slot",size:c})}),e.jsx("div",{className:"pairs-grid__slot",children:t?e.jsx(g,{itemEntry:t,size:c}):e.jsx(g,{itemEntry:n,className:"pairs-grid__empty-slot",size:c})})]},`pair-${r}`)}function Te({pool:r,pairs:s,size:t}){const n=Math.floor(r.length/2);return e.jsx(C,{className:v("pairs-grid",`pairs-grid--made-${n}`),wrap:!0,children:Array.from({length:n}).map((c,i)=>{const d=i*2,p=s[d],a=s[d+1],h=r.find(I=>I.id===p),l=r.find(I=>I.id===a);return!h||!l?e.jsx(e.Fragment,{}):e.jsx(_,{index:i,firstItem:h,secondItem:l,placeholder:r[0],size:t},`${p}${a}`)})})}const Ne=r=>{const s=H(r.map(t=>t.id));return r.length%2===0||s.pop(),s};function Fe({user:r,announcement:s,pool:t,onSubmitPairs:n}){const{isLoading:c}=V(),[i,d]=R.useState([]),p=Math.floor(t.length/2),a=R.useMemo(()=>i.map(m=>t.find(j=>j.id===m)),[i,t]),h=i.length===p*2&&i.every(Boolean);ge();const l=m=>{h||d(j=>{const u=[...j],f=u.findIndex(S=>typeof S!="string");return f!==-1?u[f]=m:u.push(m),u})},I=m=>{d(j=>{const u=[...j],f=u.findIndex(S=>S===m);return f!==-1&&(u[f]=null),u})};return e.jsxs($,{fullWidth:!0,announcement:s,children:[e.jsx(q,{children:e.jsx(o,{pt:e.jsxs(e.Fragment,{children:["Agrupe os itens em ",p," pares"]}),en:e.jsxs(e.Fragment,{children:["Group the items into ",p," pairs"]})})}),c,e.jsx(b,{type:"rule",children:e.jsx(o,{pt:e.jsxs(e.Fragment,{children:["Você ganha ",e.jsx(P,{children:"pontos"})," por cada jogador que fez o mesmo par que você!",e.jsx("br",{}),e.jsx("strong",{children:"Clique"})," em um item para adicioná-lo ao par.",e.jsx("br",{}),"Para remover, basta clicar no item novamente."]}),en:e.jsxs(e.Fragment,{children:["You get ",e.jsx(P,{children:"points"})," for each player who did the same pair than you!",e.jsx("br",{}),e.jsx("strong",{children:"Click"})," on an item to add it to the pair.",e.jsx("br",{}),"To remove, just click on the item again."]})})}),t.length%2===1&&e.jsx(b,{type:"event",children:e.jsx(o,{pt:e.jsx(e.Fragment,{children:"Um item ficará sobrando, você também ganha pontos por cada jogador que também deixou esse item sobrando!"}),en:e.jsx(e.Fragment,{children:"One item will be left out, you also get points for each player who also left this item out!"})})}),e.jsx(C,{className:v("pairs-grid",`pairs-grid--${p}`),wrap:!0,children:Array.from({length:p}).map((m,j)=>{const u=j*2,f=i[u],S=i[u+1],k=a[u],M=a[u+1],G=t[0].type==="alien-item"?{...t[0],value:{id:t[0].id,name:{pt:"?",en:"?"}}}:t[0];return e.jsxs(C,{className:v("pairs-grid__pair",`pairs-grid__pair--${j}`),direction:"vertical",children:[e.jsx("div",{className:"pairs-grid__slot",children:f&&k?e.jsx(y,{onClick:()=>I(f),className:B("bounceIn"),children:e.jsx(g,{itemEntry:k})}):e.jsx(g,{itemEntry:G,className:"pairs-grid__empty-slot"})}),e.jsx("div",{className:"pairs-grid__slot",children:S&&M?e.jsx(y,{onClick:()=>I(S),className:B("bounceIn"),children:e.jsx(g,{itemEntry:M})}):e.jsx(g,{itemEntry:G,className:"pairs-grid__empty-slot"})})]},`pair-${j}`)})}),e.jsxs(x,{children:[e.jsx(fe,{onClick:()=>d(Ne(t)),children:"Mock Pairs"}),e.jsx(W,{size:"large",disabled:r.ready||!h,onClick:()=>n({pairs:i.map(m=>String(m))}),children:e.jsx(o,{pt:"Enviar Pares",en:"Submit Pairs"})})]}),e.jsx(C,{wrap:!0,className:v("options-grid",`options-grid--${t.length}`),children:t.map(m=>i.includes(m.id)?e.jsx(g,{itemEntry:m,className:"options-grid--selected"},m.id):e.jsx(y,{onClick:()=>l(m.id),children:e.jsx(g,{itemEntry:m,looseItem:!0})},m.id))})]})}function ke({players:r,state:s}){var a;const t=Z(r,s),{step:n,setStep:c,goToNextStep:i}=O(),d=we(c),p=e.jsx(U,{icon:e.jsx(ie,{}),title:e.jsx(o,{pt:"Coloque os itens em pares",en:"Pair the items"}),currentRound:(a=s==null?void 0:s.round)==null?void 0:a.current,type:"overlay",children:e.jsx(z,{children:e.jsx(o,{pt:e.jsx(e.Fragment,{children:"Faça pares com os itens e ganhe pontos por cada par igual a de outros jogadores."}),en:e.jsx(e.Fragment,{children:"Pair the items and get points for each pair you match with other players "})})})});return e.jsx(E,{phase:s==null?void 0:s.phase,allowedPhase:A.PAIRING,children:e.jsxs(D,{step:n,players:r,waitingRoom:{content:e.jsx(Te,{pool:s.pool,pairs:(t==null?void 0:t.pairs)??[],size:"small"})},children:[e.jsx(ae,{round:s.round,time:3,onPressButton:i}),e.jsx(Fe,{user:t,announcement:p,pool:s.pool,onSubmitPairs:d})]})})}function Me({announcement:r,pool:s,goToNextStep:t,gallery:n,leftOut:c,players:i}){const d=R.useMemo(()=>n.filter(a=>a.players.length>1),[n]),p=R.useMemo(()=>n.filter(a=>a.players.length===1),[n]);return e.jsxs($,{fullWidth:!0,announcement:r,children:[e.jsx(q,{children:e.jsx(o,{pt:"Resultado",en:"Results"})}),e.jsx(w,{size:"xx-small",children:e.jsx(o,{pt:"Pares Vencedores",en:"Winnings Pairs"})}),d.length>0&&e.jsx(b,{type:"scoring",children:e.jsx(o,{pt:e.jsxs(e.Fragment,{children:["Você ganha ",e.jsx(P,{children:"pontos"})," por cada jogador que fez o mesmo par que você!"]}),en:e.jsxs(e.Fragment,{children:["You get ",e.jsx(P,{children:"points"})," for each player who did the same pair than you!"]})})}),e.jsxs(x,{wrap:!0,children:[d.length===0&&e.jsx(b,{type:"event",children:e.jsx(o,{pt:"Ninguém deu match!",en:"Nobody matched anything!"})}),d.map((a,h)=>e.jsxs(x,{className:"pairs-grid__pair",vertical:!0,children:[e.jsx(x,{children:e.jsx(T.Group,{max:{count:7},children:a.players.map(l=>e.jsx(F,{id:i[l].avatarId,size:"small"},`${a.pairId}-${l}`))})}),e.jsx(_,{index:h%6,placeholder:s[0],firstItem:a.pair[0],secondItem:a.pair[1]})]},a.pairId))]}),c.length>1&&e.jsxs(e.Fragment,{children:[e.jsx(w,{size:"xx-small",children:e.jsx(o,{pt:"Sobras Vencedoras",en:"Left Out Matches"})}),e.jsx(b,{type:"scoring",children:e.jsx(o,{pt:e.jsxs(e.Fragment,{children:["Para o item que ficou sobrando, você também ganha ",e.jsx(P,{children:"pontos"})," ","por cada jogador que deixou de fora o mesmo item que você!"]}),en:e.jsxs(e.Fragment,{children:["For the item that was left over, you also get ",e.jsx(P,{children:"points"})," for each player who left out the same item as you!"]})})}),e.jsx(x,{wrap:!0,style:{alignItems:"flex-start"},children:c.map((a,h)=>e.jsxs(C,{className:"results",direction:"vertical",children:[e.jsx(x,{children:e.jsx(T.Group,{max:{count:7},children:a.players.map(l=>e.jsx(F,{id:i[l].avatarId,size:"small"},`${a.id}-${l}`))})}),e.jsx(_,{index:h%6,placeholder:s[0],firstItem:a.item})]},a.id))})]}),e.jsx(x,{children:e.jsx(Ie,{duration:45,onExpire:t,onClick:t,icon:e.jsx(Se,{}),children:e.jsx(o,{pt:"Ver Ranking",en:"See Ranking"})})}),p.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(w,{size:"xx-small",children:e.jsx(o,{pt:"Pares que não deram match",en:"Pairs that didn't match"})}),e.jsx(x,{wrap:!0,style:{alignItems:"flex-start"},children:p.map((a,h)=>e.jsxs(x,{className:"pairs-grid__pair",vertical:!0,children:[e.jsx(x,{children:e.jsx(T.Group,{max:{count:7},children:a.players.map(l=>e.jsx(F,{id:i[l].avatarId,size:"small"},`${a.pairId}-${l}`))})}),e.jsx(_,{index:h%6,placeholder:s[0],firstItem:a.pair[0],secondItem:a.pair[1]})]},a.pairId))})]})]})}function Ge({players:r,ranking:s,goToPreviousStep:t,round:n}){return e.jsxs(Pe,{players:r,ranking:s,gainedPointsDescriptions:[e.jsx(o,{pt:"Deu match com outros jogadores",en:"Match other player's paris"},"1"),e.jsx(o,{pt:"O item de fora foi o mesmo que outros jogadores",en:"The left out item was the same as other players"},"2")],children:[e.jsx(x,{children:e.jsx(Y,{onClick:t,children:e.jsx(o,{pt:"Ver resultado novamente",en:"See results again"})})}),e.jsx(ee,{round:n})]})}function Be({players:r,state:s}){var d;const{step:t,goToNextStep:n,goToPreviousStep:c}=O(),i=e.jsx(U,{icon:e.jsx(ve,{}),title:e.jsx(o,{pt:"Resultado",en:"Results"}),currentRound:(d=s==null?void 0:s.round)==null?void 0:d.current,type:"overlay",children:e.jsx(z,{children:e.jsx(o,{pt:e.jsx(e.Fragment,{children:"Quantos pares você acertou?"}),en:e.jsx(e.Fragment,{children:"How many pairs did you get?"})})})});return e.jsx(E,{phase:s==null?void 0:s.phase,allowedPhase:A.RESULTS,children:e.jsxs(D,{step:t,players:r,children:[e.jsx(Me,{players:r,announcement:i,goToNextStep:n,gallery:s.gallery,leftOut:s.leftOut,pool:s.pool}),e.jsx(Ge,{players:r,round:s.round,ranking:s.ranking,goToPreviousStep:c})]})})}function Le({state:r,players:s}){const t=r.gallery??[];return e.jsxs(be,{state:r,players:s,announcementIcon:e.jsx(Ce,{}),children:[e.jsx(_e,{players:s,achievements:r.achievements,reference:Ae}),e.jsx(Re,{title:e.jsx(o,{pt:"Melhores Pares",en:"Best Pairs"}),className:"mt-4",children:t.map((n,c)=>e.jsx(_,{index:c%6,firstItem:n.pair[0],secondItem:n.pair[1],placeholder:n.pair[0]},n.pairId))})]})}function $e(r){if(r&&!r.phase)return X;switch(r.phase){case N.DEFAULT.LOBBY:return te;case N.DEFAULT.SETUP:return se;case A.PAIRING:return ke;case A.RESULTS:return Be;case N.DEFAULT.GAME_OVER:return Le;default:return J}}function as(){return e.jsx(re,{gameCollection:Q.DUETOS,getActiveComponent:$e})}export{as as default};
