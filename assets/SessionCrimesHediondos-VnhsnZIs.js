import{r as f,ay as ee,f as q,bI as z,aO as J,bG as S,bD as be,j as e,T as c,B as L,bm as U,l as me,aK as O,e as N,bE as ue,bF as Se,aL as H,D as Ce,bJ as Ae,I as G,n as ie,a$ as ve,aX as $e,aV as Fe,aW as Ge}from"./index-CQUMMVDG.js";import{u as pe,S as P,b as D,o as Le,d as se,c as K,P as k,e as ne,f as w,g as re,p as Ve,R as ye,a as Re,m as He,n as qe,i as ze,j as Ue,k as Ke,l as Ye}from"./StepSwitcher-Cltrlngp.js";import{C as Je}from"./CrimeSceneIcon-BS49kb7A.js";import{C as Qe,a as Xe}from"./CrimeTapeIcon-C3MdpqBu.js";import{E as Ze}from"./EventIcon-CTt6F3nn.js";import{L as es}from"./LocationIcon-PQOPufed.js";import{S as ss}from"./SkullIcon-J3M66cgg.js";import{D as Ee}from"./DevButton-BRccYaYT.js";import{I as E}from"./Instruction-BcmUACq2.js";import{R as Oe}from"./RoundAnnouncement-CT9R_Rw9.js";import{P as _}from"./PointsHighlight-CG875ZZp.js";import{C as B,S as $,a as ns}from"./SceneTile-BX-sYNUn.js";import{R as W,a as rs}from"./RuleInstruction-DN3QIpN4.js";import{K as we}from"./KnifeIcon-B0nB3xSl.js";import{M as Te}from"./MetricHighlight-BMAOLpuw.js";import{L as os}from"./LoupeIcon-Dv_FNqw3.js";import{T as ts}from"./TextHighlight-RzvVEwxu.js";import{A as Ne}from"./Avatar-CmeCW0wX.js";import{R as is}from"./QuestionCircleFilled-DWN-BabN.js";import{R as as}from"./WarningFilled-DIgXvwZM.js";import{R as cs}from"./CloseCircleFilled-Dmh9peyY.js";import{R as _e}from"./LockFilled-1Lz_4pIY.js";import{R as ds}from"./EnvironmentOutlined-BcjMiOHs.js";import{C as Me}from"./Collapse-CWc3g6-a.js";import{G as ls}from"./GuessIcon-BedXVQUp.js";import{I as ms}from"./InvestigationIcon-0bwRhenK.js";import{D as us,T as ps}from"./speech-DcZj5YcT.js";import{F as hs}from"./FloatingHand-DLmTt3N7.js";import{L as xs}from"./LockIcon-BUckGvH4.js";import{A as js}from"./AvatarCard-Bylyc32B.js";import{R as vs}from"./RankIcon-C3wzJi-3.js";import{P as fs}from"./PopoverRule-Dv8WsaLM.js";import{B as Is}from"./BoxCheckMarkIcon-BuoluNdl.js";import{B as gs}from"./BoxMinusIcon-srCMe9Kp.js";import{B as bs}from"./BoxOneIcon-BXD4oLbJ.js";import{B as Ss}from"./BoxXIcon-CeQ_BVPS.js";import{A as Cs}from"./AvatarName-DIZJIZlp.js";import{F as ys}from"./Table-BflFT9Dr.js";import{R as fe}from"./TrophyOutlined-E7m2_2ZB.js";import{S as Rs}from"./StepRankingWrapper-4deGJVFu.js";import{T as Es}from"./TrophyIcon-Cu2z3dlk.js";import"./GameOver-Dfoeq1n2.js";import{G as Os}from"./GameOverWrapper-T3rdZG_8.js";import{A as ws}from"./Achievements-BAyv2Mp4.js";import{a as Ts}from"./achievements-CXubfGnp.js";import"./useBlurCards-BNBaHpYL.js";import"./RulesModal-CyiumakY.js";import"./WritingIcon-D_CabSBO.js";import"./DoubleRightOutlined-_thKMvXL.js";import"./PurePanel-DkMXBX4K.js";import"./useMutation-CNFCaVbz.js";import"./Game-DMEYRr-s.js";import"./WaitingRoomIcon-DaW3uofA.js";import"./AnimatedClockIcon-Cr0gLJd3.js";import"./index-D9a1HKEb.js";import"./useBubbleLock-Dck5kWPv.js";import"./index-SVYsEjXI.js";import"./Overflow-3IsHxuZJ.js";import"./useEvent-DBQOYUIG.js";import"./index-DjhFmCe7.js";import"./index-igwYyNuM.js";import"./GameBanner-DY8t2G9E.js";import"./useDevFeatures-NUd8DDqp.js";import"./useTDBaseUrl-BF9foKiS.js";import"./index-DM0bH6ac.js";import"./InfoCircleOutlined-tNBm2eLt.js";import"./index-CnGqfOjc.js";import"./SignIn-Cqng2M16.js";import"./GoogleIcon-QYeWCHdD.js";import"./Loading-BcJgtUMy.js";import"./AnimatedLoaderIcon-T0eGRTHJ.js";import"./LikeFilled-Clhf1Kqr.js";import"./StarIcon-Bltqe6k8.js";/* empty css                             */import"./ImageBlurButtonContainer-0igmRsBa.js";import"./ImageBlurButton-BnRq3atq.js";import"./ItemCard-CflSsGvY.js";import"./Sprite-C1udt0Hk.js";import"./WarningOutlined-CclWfmT_.js";import"./StarFilled-D0W2b4Hd.js";import"./StarFilled-CNctUIhy.js";import"./HandOfCardsIcon-hRdlhw7m.js";import"./EllipsisOutlined-B6_2mSqc.js";import"./index-De6wMb-w.js";import"./useId-0-OfsZou.js";import"./scrollTo-KRbcs74W.js";import"./FilterFilled-B9EqEaba.js";import"./iconUtil-CJfzjpEk.js";import"./CaretDownOutlined-Dv3U9ShB.js";import"./CaretUpOutlined-CTN4lzvm.js";import"./RankingBoard-CgjHi8vO.js";import"./ArrowRightOutlined-CQllJ8az.js";import"./useMergedState-D5RTwnQi.js";import"./progress-2u_7ipfX.js";import"./TheEndIcon-UcvM5_Bv.js";import"./Container-B97coqBy.js";import"./Medal-DKUNn8kV.js";import"./QuestionCircleOutlined-DVgZxFlY.js";var Ns={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M688 312v-48c0-4.4-3.6-8-8-8H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8zm-392 88c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H296zm376 116c-119.3 0-216 96.7-216 216s96.7 216 216 216 216-96.7 216-216-96.7-216-216-216zm107.5 323.5C750.8 868.2 712.6 884 672 884s-78.8-15.8-107.5-44.5C535.8 810.8 520 772.6 520 732s15.8-78.8 44.5-107.5C593.2 595.8 631.4 580 672 580s78.8 15.8 107.5 44.5C808.2 653.2 824 691.4 824 732s-15.8 78.8-44.5 107.5zM640 812a32 32 0 1064 0 32 32 0 10-64 0zm12-64h40c4.4 0 8-3.6 8-8V628c0-4.4-3.6-8-8-8h-40c-4.4 0-8 3.6-8 8v112c0 4.4 3.6 8 8 8zM440 852H208V148h560v344c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h272c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"exception",theme:"outlined"},_s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 310H732.4c13.6-21.4 21.6-46.8 21.6-74 0-76.1-61.9-138-138-138-41.4 0-78.7 18.4-104 47.4-25.3-29-62.6-47.4-104-47.4-76.1 0-138 61.9-138 138 0 27.2 7.9 52.6 21.6 74H144c-17.7 0-32 14.3-32 32v200c0 4.4 3.6 8 8 8h40v344c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V550h40c4.4 0 8-3.6 8-8V342c0-17.7-14.3-32-32-32zm-334-74c0-38.6 31.4-70 70-70s70 31.4 70 70-31.4 70-70 70h-70v-70zm-138-70c38.6 0 70 31.4 70 70v70h-70c-38.6 0-70-31.4-70-70s31.4-70 70-70zM180 482V378h298v104H180zm48 68h250v308H228V550zm568 308H546V550h250v308zm48-376H546V378h298v104z"}}]},name:"gift",theme:"outlined"},Ms={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zM704 536c0 4.4-3.6 8-8 8H544v152c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V544H328c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h152V328c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v152h152c4.4 0 8 3.6 8 8v48z"}}]},name:"plus-square",theme:"filled"},Bs={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64L128 192v384c0 212.1 171.9 384 384 384s384-171.9 384-384V192L512 64zm312 512c0 172.3-139.7 312-312 312S200 748.3 200 576V246l312-110 312 110v330z"}},{tag:"path",attrs:{d:"M378.4 475.1a35.91 35.91 0 00-50.9 0 35.91 35.91 0 000 50.9l129.4 129.4 2.1 2.1a33.98 33.98 0 0048.1 0L730.6 434a33.98 33.98 0 000-48.1l-2.8-2.8a33.98 33.98 0 00-48.1 0L483 579.7 378.4 475.1z"}}]},name:"safety",theme:"outlined"};function ae(){return ae=Object.assign?Object.assign.bind():function(s){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(s[r]=o[r])}return s},ae.apply(this,arguments)}const ks=(s,n)=>f.createElement(ee,ae({},s,{ref:n,icon:Ns})),Ps=f.forwardRef(ks);function ce(){return ce=Object.assign?Object.assign.bind():function(s){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(s[r]=o[r])}return s},ce.apply(this,arguments)}const Ds=(s,n)=>f.createElement(ee,ce({},s,{ref:n,icon:_s})),Ws=f.forwardRef(Ds);function de(){return de=Object.assign?Object.assign.bind():function(s){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(s[r]=o[r])}return s},de.apply(this,arguments)}const As=(s,n)=>f.createElement(ee,de({},s,{ref:n,icon:Ms})),$s=f.forwardRef(As);function le(){return le=Object.assign?Object.assign.bind():function(s){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(s[r]=o[r])}return s},le.apply(this,arguments)}const Fs=(s,n)=>f.createElement(ee,le({},s,{ref:n,icon:Bs})),Gs=f.forwardRef(Fs),he={SUBMIT_CRIME:"SUBMIT_CRIME",SUBMIT_MARK:"SUBMIT_MARK",SUBMIT_GUESSES:"SUBMIT_GUESSES"};function Ls(s){const{translate:n}=q(),o=pe({actionName:"submit-crime",onBeforeCall:()=>s(11),onError:()=>s(9),successMessage:n("Crime enviado com sucesso","Crime submitted successfully"),errorMessage:n("Vixi, o aplicativo encontrou um erro ao tentar enviar seu crime","Oops, the application failed to send your crime")});return r=>{o({action:he.SUBMIT_CRIME,...r})}}function Vs(s){const{translate:n}=q(),o=pe({actionName:"submit-mark",onBeforeCall:()=>s(3),onError:()=>s(2),successMessage:n("Nova informação enviadas com sucesso","New information submitted successfully"),errorMessage:n("Vixi, o aplicativo encontrou um erro ao tentar enviar a nova informação","Oops, the application failed to send the new information")});return r=>{o({action:he.SUBMIT_MARK,...r})}}function Hs(s){const{translate:n}=q(),o=pe({actionName:"submit-guesses",onBeforeCall:()=>s(2),onError:()=>s(1),successMessage:n("Respostas enviadas com sucesso","Guesses submitted successfully"),errorMessage:n("Vixi, o aplicativo encontrou um erro ao tentar enviar suas respostas","Oops, the application failed to send your guesses")});return r=>{o({action:he.SUBMIT_GUESSES,...r})}}const qs=s=>{const n=be(s),o=n.find(a=>a==null?void 0:a.includes("wp")),r=n.find(a=>a==null?void 0:a.includes("ev")),t=[0,1,2,3,4,5];return{weaponId:o,evidenceId:r,causeOfDeathIndex:S(t),reasonForEvidenceIndex:S(t),locationIndex:S(t)}},Ie=(s,n,o)=>Object.values(n).reduce((r,t)=>{var a;if(t.id!==o.id){const i=((a=o.history)==null?void 0:a[t.id])??[],l=z(i);if(l){if(l.status==="CORRECT"||l.status==="LOCKED")return r[t.id]={weaponId:l.weaponId,evidenceId:l.evidenceId},r;if(l.status==="HALF"||l.status==="WRONG"){const m=s[l.groupIndex],g=m.filter(R=>R==null?void 0:R.includes("wp")),C=m.filter(R=>R==null?void 0:R.includes("ev")),y=i.reduce((R,V)=>(R[`${V.weaponId}${J}${V.evidenceId}`]=!0,R),{});let b=`${S(g)}${J}${S(C)}`;for(;y[b];)b=`${S(g)}${J}${S(C)}`;const[F,Y]=b.split(J);return r[t.id]={weaponId:F,evidenceId:Y},r}const p=i.reduce((m,g)=>(g.status==="WRONG_GROUP"&&m.push(g.groupIndex),m),[]),j=[0,1,2,3].filter(m=>!p.includes(m)).map(m=>s[m]),x=S(j),v=x.filter(m=>m==null?void 0:m.includes("wp")),I=x.filter(m=>m==null?void 0:m.includes("ev"));return r[t.id]={weaponId:S(v),evidenceId:S(I)},r}const u=S(Object.values(s)),d=u.filter(p=>p==null?void 0:p.includes("wp")),h=u.filter(p=>p==null?void 0:p.includes("ev"));r[t.id]={weaponId:S(d),evidenceId:S(h)}}return r},{}),zs=()=>S([0,1,2,3,4,5]);function Us(){return e.jsx(E,{contained:!0,children:e.jsx(c,{pt:e.jsxs(e.Fragment,{children:["Bem-vindo à Convenção Anual de Serial Killers!",e.jsx("br",{}),"Você e os outros serial killers decidiram fazer uma dinâmica de adivinhação.",e.jsx("br",{}),"O objetivo é todos darem dicas sobre as circunstâncias que seus últimos crimes aconteceram para ajudar os outros jogadores a descobrirem qual arma e qual objeto foram usados durante o crime.",e.jsx("br",{}),"Prontos para aterrorizar?"]}),en:e.jsxs(e.Fragment,{children:["Welcome to the Annual Serial Killers Con!",e.jsx("br",{}),"You and the other serial killers decided to break the ice and make a game out of it.",e.jsx("br",{}),"The goal is to give clues about the circunstancies your latest crime occurred so the other players can guess what weapon and evidence were used during the crime.",e.jsx("br",{}),"Ready to terrorize?"]})})})}function Ks(){return e.jsx(E,{contained:!0,children:e.jsx(c,{pt:e.jsxs(e.Fragment,{children:["Baseado nas informações dadas pelos jogadores, tente adivinhar qual arma e objeto cada jogador usou em seu crime.",e.jsx("br",{}),"Você ganha pontos se adivinhar uma das cartas ou ambas as cartas, e você também ganha"," ",e.jsx(_,{children:"1 ponto"})," para cada uma de suas cartas que os outros adivinharem, mas essa pontuação é secreta."]}),en:e.jsxs(e.Fragment,{children:["Based on the information given by other players, try to guess the weapon and object used on their crimes.",e.jsx("br",{}),"You get points for getting one or both cards correctly, and you get"," ",e.jsx(_,{children:"1 point"})," when other players get each of your cards correctly, but these points are kept secret."]})})})}function Be({round:s}){const n=s.total-s.current+1;return e.jsx(E,{contained:!0,children:e.jsx(c,{pt:e.jsxs(e.Fragment,{children:["Você ganha ",e.jsx(_,{children:"1 ponto"})," para cada arma ou objeto que você acertar.",e.jsx("br",{}),"Se você acertar o par de um jogador, você ganha ",e.jsxs(_,{children:[n," pontos"]}),".",e.jsx("br",{}),"Para todos os seus acertos, seus respectivos autores ganham"," ",e.jsx(_,{children:"1 ponto"}),".",e.jsx("br",{}),"Ganha o jogo o primeiro jogador que acertar tudo."]}),en:e.jsxs(e.Fragment,{children:["You get ",e.jsx(_,{children:"1 point"})," for each weapon or evidence you get correctly.",e.jsx("br",{}),"If you get the pair for a player, you get ",e.jsxs(_,{children:[n," points"]})," ","instead.",e.jsx("br",{}),"All of your correct guesses grant ",e.jsx(_,{children:"1 extra point"})," to the authors.",e.jsx("br",{}),"Wins the game the player who get all correctly first."]})})})}function oe({onClick:s,children:n,disabled:o=!1,...r}){return e.jsx(L,{type:"primary",size:"large",disabled:o,onClick:s,...r,children:n??e.jsxs(e.Fragment,{children:["»» ",e.jsx(c,{pt:"Próximo",en:"Next"})," »»"]})})}function X({children:s,type:n,iconSize:o,className:r}){return e.jsx(Te,{icon:e.jsx(we,{}),type:n,iconSize:o,className:r,children:s})}function Z({children:s,type:n,iconSize:o,className:r}){return e.jsx(Te,{icon:e.jsx(Qe,{}),type:n,iconSize:o,className:r,children:s})}function Ys({announcement:s,user:n,items:o,groupedItems:r,selections:t,updateSelections:a}){const[i,l]=f.useState(t.weaponId??""),[u,d]=f.useState(t.evidenceId??""),h=U(12,{gap:8,minWidth:50,maxWidth:200}),p=r[n.itemGroupIndex],j=v=>{v.type==="weapon"?l(v.id):d(v.id)},x=()=>{let v="",I="";be(p).forEach(m=>{o[m].type==="weapon"?v=m:I=m}),l(v),d(I)};return e.jsxs(P,{announcement:s,children:[e.jsx(D,{children:e.jsx(c,{pt:"Qual foi seu último crime?",en:"How was your last crime?"})}),e.jsx(W,{type:"action",children:e.jsx(c,{pt:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Selecione"})," uma carta azul que representa o meio que a morte aconteceu no seu último crime, normalmente uma arma.",e.jsx("br",{}),"E ",e.jsx("strong",{children:"selecione"})," uma carta vermelha que um objeto na cena do crime.",e.jsx("br",{}),"O jogo contém ",e.jsx(X,{children:"16 meios"})," e"," ",e.jsx(Z,{children:"16 evidências"}),", mas para essa parte, você vê apenas 4 opções de cada."]}),en:e.jsxs(e.Fragment,{children:["Select a blue card and a red card.",e.jsx("br",{}),"They represent the weapon used in your latest crime and an object that was in the crime scene.",e.jsx("br",{}),"The game has ",e.jsx(X,{children:"16 weapons"})," and"," ",e.jsx(Z,{children:"16 objects"}),", but for this phase, you only see 4 options of each."]})})}),e.jsx("ul",{className:"h-items-selection",children:p.map(v=>e.jsx("li",{className:"h-items-selection__item",children:e.jsx(me,{onClick:()=>j(o[v]),children:e.jsx(B,{item:o[v],cardWidth:h,isSelected:[i,u].includes(v)})})},v))}),e.jsxs(O,{children:[e.jsx(L,{onClick:x,size:"large",children:e.jsx(c,{pt:"Selecionar aleatoriamente",en:"Random picks"})}),e.jsx(oe,{disabled:!i||!u,onClick:()=>a({weaponId:i,evidenceId:u})})]})]})}function xe({items:s,weaponId:n,evidenceId:o,fadeWeapon:r=!1,fadeEvidence:t=!1}){const a=U(12,{gap:8,minWidth:50,maxWidth:200});return e.jsxs("ul",{className:"h-items-crime-selection",children:[e.jsx("li",{children:e.jsx(B,{item:s[n],cardWidth:a,className:N(r&&"h-items-crime-selection__faded")})}),e.jsx("li",{children:e.jsx($s,{style:{color:"white"}})}),e.jsx("li",{children:e.jsx(B,{item:s[o],cardWidth:a,className:N(t&&"h-items-crime-selection__faded")})})]})}function je({goToStep:s}){return e.jsx(L,{onClick:()=>s(1),size:"large",children:e.jsx(c,{pt:"Reiniciar",en:"Restart"})})}function Js({announcement:s,items:n,selections:o,updateSelections:r,causeOfDeathTile:t,goToStep:a}){const[i,l]=f.useState(),u=d=>{l(d.value)};return e.jsxs(P,{announcement:s,children:[e.jsx(D,{children:e.jsx(c,{pt:"Como foi seu último crime?",en:"How was your last crime?"})}),e.jsx(W,{type:"action",children:e.jsx(c,{pt:e.jsxs(e.Fragment,{children:["Baseado somente no ",e.jsx(X,{children:"meio do crime (carta azul)"}),", selecione a causa da morte de sua vítima."]}),en:e.jsxs(e.Fragment,{children:["Based solely on the ",e.jsx(X,{children:"mean of murder (blue card)"})," you've chosen, select your victim's cause of death."]})})}),e.jsxs(O,{children:[e.jsx(xe,{items:n,weaponId:o.weaponId??"",evidenceId:o.evidenceId??"",fadeEvidence:!0}),e.jsx($,{tile:t,onSelectValue:u,index:i})]}),e.jsxs(O,{children:[e.jsx(je,{goToStep:a}),e.jsx(oe,{disabled:i===void 0,onClick:()=>r({causeOfDeathIndex:i})})]})]})}function Qs({announcement:s,user:n,items:o,selections:r,updateSelections:t,locationTile:a,groupedItems:i,goToStep:l}){const u=U(12,{gap:8,minWidth:50,maxWidth:200}),[d,h]=f.useState(),p=i[n.itemGroupIndex],j=x=>{h(x.value)};return e.jsxs(P,{announcement:s,children:[e.jsx(D,{children:e.jsx(c,{pt:"Onde foi o crime?",en:"Where was the crime?"})}),e.jsx(W,{type:"action",children:e.jsx(c,{pt:e.jsxs(e.Fragment,{children:["Baseado em qualquer uma das suas cartas (ou ambas), selecione o local onde o crime aconteceu.",e.jsx("br",{}),"Lembre-se que você está tentando ajudar os outros jogadores adivinhar o seu crime, seja inteligente!"]}),en:e.jsxs(e.Fragment,{children:["Based on any card (or both), select where the crime occurred.",e.jsx("br",{}),"Remember you are trying to help the players guess your crime, so be smart!"]})})}),e.jsx("ul",{className:"h-items-selection",children:p.map(x=>e.jsx("li",{className:"h-items-selection__item",children:e.jsx(B,{item:o[x],cardWidth:u,isSelected:[r.weaponId,r.evidenceId].includes(x)})},x))}),e.jsx("div",{className:"h-scene-tiles-list",children:e.jsx($,{tile:a,onSelectValue:j,index:d})}),e.jsxs(O,{children:[e.jsx(je,{goToStep:l}),e.jsx(oe,{disabled:d===void 0,onClick:()=>t({locationIndex:d})})]})]})}function Xs({announcement:s,items:n,causeOfDeathTile:o,reasonForEvidenceTile:r,locationTile:t,selections:a,onSubmitCrime:i,updateSelection:l,players:u}){const{translate:d}=q();return e.jsxs(P,{announcement:s,children:[e.jsx(D,{children:e.jsx(c,{pt:"Seu crime tá bom?",en:"Is your crime alright?"})}),e.jsx(W,{type:"rule",children:e.jsx(c,{pt:e.jsx(e.Fragment,{children:"Revise seu crime."}),en:e.jsx(e.Fragment,{children:"Recap your crime."})})}),e.jsx(xe,{items:n,weaponId:a.weaponId??"",evidenceId:a.evidenceId??""}),e.jsxs("div",{className:"h-scene-tiles-list",children:[e.jsx($,{tile:o,index:a.causeOfDeathIndex,onSelectValue:h=>l({causeOfDeathIndex:h.value})}),e.jsx($,{tile:r,index:a.reasonForEvidenceIndex,onSelectValue:h=>l({reasonForEvidenceIndex:h.value})}),!!t&&e.jsx($,{tile:t,index:a.locationIndex,onSelectValue:h=>l({locationIndex:h.value})})]}),e.jsx(O,{align:"center",children:e.jsx(ue,{onClick:i,size:"large",children:e.jsx(c,{pt:"Enviar",en:"Submit"})})}),e.jsx(Le,{players:u,readyText:d("Já cometi meu crime","I'm done committing my crime"),readyTextPlural:d("Já cometemos nossos crimes","We're done committing our crimes")})]})}function Zs({announcement:s,items:n,selections:o,updateSelections:r,reasonForEvidenceTile:t,goToStep:a}){const[i,l]=f.useState(),u=d=>{l(d.value)};return e.jsxs(P,{announcement:s,children:[e.jsx(D,{children:e.jsx(c,{pt:"O que tinha no seu último crime?",en:"What was in your last crime?"})}),e.jsx(W,{type:"action",children:e.jsx(c,{pt:e.jsxs(e.Fragment,{children:["Baseado somente em seu ",e.jsx(Z,{children:"objeto (carta vermelha)"}),", selecione o que o objeto significa para o crime."]}),en:e.jsxs(e.Fragment,{children:["Based solely on the ",e.jsx(Z,{children:"object (red card)"})," you've chosen, select the meaning of it to the crime."]})})}),e.jsxs(O,{children:[e.jsx(xe,{items:n,weaponId:o.weaponId??"",evidenceId:o.evidenceId??"",fadeWeapon:!0}),e.jsx($,{tile:t,onSelectValue:u,index:i})]}),e.jsxs(O,{children:[e.jsx(je,{goToStep:a}),e.jsx(oe,{disabled:i===void 0,onClick:()=>r({reasonForEvidenceIndex:i})})]})]})}function en({players:s,state:n}){var C;const{step:o,setStep:r,goToNextStep:t}=se(0),a=K(s,n),[i,l]=f.useState({}),u=Ls(r),d=()=>{u(i)},h=y=>{l(b=>({...b,...y})),t()},p=y=>{l(b=>({...b,...y}))},j=()=>u(qs(n.groupedItems[a.itemGroupIndex])),x=e.jsx(k,{icon:e.jsx(Ze,{}),title:e.jsx(c,{pt:"A Convenção",en:"The Convention"}),currentRound:(C=n==null?void 0:n.round)==null?void 0:C.current,duration:30,type:"overlay",children:e.jsx(Us,{})}),v=e.jsx(k,{icon:e.jsx(ss,{}),title:e.jsx(c,{pt:"Causa da Morte",en:"Cause of Death"}),duration:3,type:"overlay",children:e.jsx(E,{children:e.jsx(c,{pt:"Como a vítima morreu?",en:"How did the victim die?"})})}),I=e.jsx(k,{icon:e.jsx(Je,{}),title:e.jsx(c,{pt:"Evidências?",en:"Evidence?"}),duration:3,type:"overlay",children:e.jsx(E,{children:e.jsx(c,{pt:"Conte-nos sobre o objeto que você escolheu.",en:"Tell us about the object you selected."})})}),m=e.jsx(k,{icon:e.jsx(es,{}),title:e.jsx(c,{pt:"Local do Crime",en:"Crime Location"}),duration:3,type:"overlay",children:e.jsx(E,{children:e.jsx(c,{pt:"Onde que foi?",en:"Where was it?"})})}),g=e.jsx(k,{icon:e.jsx(Xe,{}),title:e.jsx(c,{pt:"Revisão",en:"Review"}),duration:3,type:"overlay"});return e.jsx(ne,{phase:n==null?void 0:n.phase,allowedPhase:w.CRIMES_HEDIONDOS.CRIME_SELECTION,children:e.jsxs(re,{step:o,players:s,children:[e.jsx(Oe,{round:n==null?void 0:n.round,onPressButton:t,buttonText:" ",time:5}),e.jsxs(e.Fragment,{children:[e.jsx(Ys,{user:a,groupedItems:n.groupedItems,items:n.items,selections:i,updateSelections:h,announcement:x}),e.jsx(Ee,{onClick:j,size:"large",children:"Random Crime"})]}),e.jsx(Js,{items:n.items,causeOfDeathTile:n.causeOfDeathTile,selections:i,updateSelections:h,goToStep:r,announcement:v}),e.jsx(Zs,{items:n.items,reasonForEvidenceTile:n.reasonForEvidenceTile,selections:i,updateSelections:h,goToStep:r,announcement:I}),e.jsx(Qs,{user:a,items:n.items,groupedItems:n.groupedItems,locationTile:n.locationTile,selections:i,updateSelections:h,goToStep:r,announcement:m}),e.jsx(Xs,{items:n.items,causeOfDeathTile:n.causeOfDeathTile,reasonForEvidenceTile:n.reasonForEvidenceTile,locationTile:n.locationTile,selections:i,onSubmitCrime:d,updateSelection:p,players:s,announcement:g})]})})}function ge({cardWidth:s,cardType:n}){return e.jsx(B,{item:{id:`dmhk-${n==="evidence"?"ev":"wp"}-000`,type:n,name:{pt:"?",en:"?"}},cardWidth:s,isSelected:!1})}function A({status:s,withDescription:n=!1,className:o=""}){const r="crime-guess-status";switch(s){case"LOCKED":return e.jsxs("span",{className:N(r,`${r}--${s}`,o),children:[e.jsx(_e,{color:"gray"}),e.jsx(c,{pt:"TRAVADO",en:"LOCKED"}),n&&e.jsx(c,{pt:": Você já tinha adivinhado esse corretamente",en:": You already guessed this one correctly"})]});case"CORRECT":return e.jsxs("span",{className:N(r,`${r}--${s}`,o),children:[e.jsx(ye,{color:"green"}),e.jsx(c,{pt:"CORRETO",en:"CORRECT"}),n&&e.jsx(c,{pt:": Você acertou arma e objeto",en:": You got the weapon and object correctly"})]});case"HALF":return e.jsxs("span",{className:N(r,`${r}--${s}`,o),children:[e.jsx(Ve,{}),e.jsx(c,{pt:"SOMENTE UM",en:"ONE ONLY"}),n&&e.jsx(c,{pt:": Um dos items está correto",en:": One of the items is correct"})]});case"WRONG":return e.jsxs("span",{className:N(r,`${r}--${s}`,o),children:[e.jsx(cs,{color:"red"}),e.jsx(c,{pt:"ERRADO",en:"WRONG"}),n&&e.jsx(c,{pt:": Você errou ambos arma e objeto, mas está no quadrante certo",en:": You got both weapon and object wrong but you are in the right group"})]});case"WRONG_GROUP":return e.jsxs("span",{className:N(r,`${r}--${s}`,o),children:[e.jsx(as,{color:"red"}),e.jsx(c,{pt:"GRUPO ERRADO",en:"WRONG GROUP"}),n&&e.jsx(c,{pt:": Você é tão burro que você escolheu items no grupo errado",en:": You're so dumb you chose items in the wrong group"})]});default:return e.jsxs("span",{className:N(r,`${r}--${s}`,o),children:[e.jsx(is,{}),e.jsx(c,{pt:"?",en:"?"}),");",n&&e.jsx(c,{pt:": Recebido status desconhecido",en:": Received unknown guess status"})]})}}const Q=100;function te({crime:s,player:n,scenesOrder:o,scenes:r,selectedWeaponId:t,selectedEvidenceId:a,history:i,items:l,isLocked:u}){const[d,h]=f.useState(-1),p=!!(t&&t),j=d>=0&&i?i[d].weaponId:t,x=d>=0&&i?i[d].evidenceId:a,v=Se(n.avatarId),I=i==null?void 0:i.length;return e.jsxs("div",{className:"h-crime",children:[e.jsxs("div",{className:"h-crime__player",style:{backgroundColor:v},children:[e.jsx("span",{className:"h-crime__player-avatar",children:e.jsx(Ne,{id:n.avatarId})}),e.jsx("span",{className:"h-crime__player-name",children:n.name})]}),e.jsx("div",{className:"h-crime__scenes",children:o.filter(m=>s.scenes[m]!==void 0).map(m=>{const g=r[m];return e.jsx(sn,{scene:g,playerIndex:s.scenes[m]},`crime-scene-${m}-by-${s.playerId}`)})}),e.jsx("div",{className:"h-crime__history",style:{borderColor:I?v:"transparent"},children:I&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-crime__history-header",children:e.jsx(H,{title:e.jsx(c,{pt:"Histórico: passe o mouse nas rodadas",en:"History: hover the round numbers"}),children:e.jsx(rs,{})})}),i==null?void 0:i.map((m,g)=>e.jsx(L,{ghost:!0,shape:"circle",size:"small",onMouseOver:()=>h(g),onMouseLeave:()=>h(-1),children:g+1},`history-entry-${g}`))]})}),e.jsxs("div",{className:"h-crime-selections",children:[j?e.jsx(B,{item:l[j],cardWidth:Q}):e.jsx(ge,{cardWidth:Q,cardType:"weapon"}),x?e.jsx(B,{item:l[x],cardWidth:Q}):e.jsx(ge,{cardWidth:Q,cardType:"evidence"}),e.jsxs("div",{className:"h-crime-selections__status",children:[d>=0&&i&&i[d]&&e.jsx(A,{status:i[d].status}),d===-1&&u&&e.jsx(A,{status:"LOCKED"})]})]}),e.jsxs("div",{className:"h-crime__player",style:{backgroundColor:p?v:void 0},children:[u&&e.jsx(_e,{}),!u&&p&&e.jsx(ye,{})]})]})}function sn({scene:s,playerIndex:n}){const{language:o}=q();return e.jsxs("li",{className:N("h-crime-scene",`h-crime-scene--${s.type}`),children:[e.jsxs("div",{className:N("h-crime-scene__label",`h-crime-scene__label--${s.type}`),children:[e.jsx(nn,{type:s.type})," ",s.title[o]]}),e.jsx("div",{className:"h-crime-scene__value",children:s.values[n][o]})]})}function nn({type:s}){switch(s){case"cause":return e.jsx(Gs,{});case"evidence":return e.jsx(Ws,{});case"location":return e.jsx(ds,{});default:return e.jsx(Ps,{})}}function ke({items:s,weaponId:n,evidenceId:o,groupedItems:r}){const t=U(12,{gap:8,minWidth:30,maxWidth:200});return e.jsx("ul",{className:"h-grouped-items-board",children:Object.keys(r).map(a=>e.jsx("li",{className:"reset-li",children:e.jsx("ul",{className:"h-grouped-items-board__group",children:r[a].map(i=>e.jsx("li",{className:"reset-li",children:e.jsx(B,{item:s[i],cardWidth:t,isSelected:[n,o].includes(i)})},i))})},`group-${a}`))})}function rn({user:s,items:n,groupedItems:o,onSubmitMark:r,sceneTile:t,crimes:a,scenes:i,scenesOrder:l,announcement:u}){const[d,h]=f.useState(),p=x=>{h(x.value)},j=a.find(x=>x.playerId===s.id);return e.jsxs(P,{announcement:u,children:[e.jsx(D,{children:e.jsx(Ce,{children:t.description})}),e.jsx(W,{type:"action",children:e.jsx(c,{pt:e.jsx(e.Fragment,{children:"Baseado em suas cartas, selecione uma opção na nova carta de detalhes da Cena do Crime abaixo."}),en:e.jsx(e.Fragment,{children:"Based on your cards, select an option in the new Scene card below."})})}),e.jsx(E,{contained:!0,children:e.jsx(Me,{items:[{key:"weapons-evidences",label:e.jsx(c,{pt:"Clique para ver todas Armas e Evidências",en:"Click to see all Weapons and Evidence"}),children:e.jsx(ke,{groupedItems:o,items:n,weaponId:s.weaponId,evidenceId:s.evidenceId})}]})}),e.jsx("div",{className:"",children:j&&e.jsx(te,{crime:j,scenes:i,scenesOrder:l,items:n,player:s,selectedWeaponId:s.weaponId,selectedEvidenceId:s.evidenceId},`crime-by-${j.playerId}`)}),e.jsx($,{tile:t,onSelectValue:p,index:d}),e.jsx(O,{children:e.jsx(ue,{size:"large",disabled:d===void 0,onClick:()=>r({sceneIndex:d}),children:e.jsx(c,{pt:"Enviar",en:"Send"})})})]})}function on({players:s,state:n}){var u;const o=K(s,n),{step:r,setStep:t,goToNextStep:a}=se(0),i=Vs(t);Re(()=>{i({sceneIndex:zs()})},[]);const l=e.jsx(k,{icon:e.jsx(os,{}),title:e.jsx(c,{pt:"Nova pista",en:"New clue"}),currentRound:(u=n==null?void 0:n.round)==null?void 0:u.current,type:"overlay",children:e.jsxs(E,{children:[e.jsx(c,{pt:"Compartilhe mais uma pista sobre seu crime:",en:"Share one more piece of information about your crime:"}),e.jsx("br",{}),e.jsx(ts,{children:e.jsx(Ce,{children:n.currentScene.description})})]})});return e.jsx(ne,{phase:n==null?void 0:n.phase,allowedPhase:w.CRIMES_HEDIONDOS.SCENE_MARKING,children:e.jsxs(re,{step:r,players:s,children:[e.jsx(Oe,{round:n==null?void 0:n.round,onPressButton:a,buttonText:" ",time:5}),e.jsx(rn,{user:o,groupedItems:n.groupedItems,items:n.items,onSubmitMark:i,sceneTile:n.currentScene,scenes:n.scenes,scenesOrder:n.scenesOrder,crimes:n.crimes,announcement:l})]})})}const Pe=(s,n)=>(s==null?void 0:s[n])??[],tn=(s,n)=>{const o=z(Pe(s,n));return!!["CORRECT","LOCKED"].includes(o==null?void 0:o.status)},an=s=>!!["CORRECT","LOCKED"].includes(s==null?void 0:s.status),cn=s=>{const n={};return Object.entries(s??{}).forEach(([o,r])=>{const t=z(r);["CORRECT","LOCKED"].includes(t.status)&&(n[o]={weaponId:t.weaponId,evidenceId:t.evidenceId,isComplete:!0})}),n};function De({setActivePlayerId:s,players:n,guesses:o,user:r,history:t,children:a}){return e.jsxs("div",{className:"h-players-cards-container",children:[e.jsx("ul",{className:"h-players-cards",children:Ae(n).map(i=>{var d,h;const l=r.id===i.id||!!((d=o[i.id])!=null&&d.weaponId&&((h=o[i.id])!=null&&h.evidenceId)),u=tn(t,i.id);return e.jsx("li",{children:e.jsx(me,{onClick:()=>s(i.id),hoverType:"tint",className:"h-players-cards__button",children:e.jsx(js,{size:"small",player:i,withName:!0,className:"h-players-cards__avatar",replacementAvatar:u&&e.jsx(G,{icon:e.jsx(xs,{}),className:"h-players-cards__seal"})||l&&e.jsx(G,{icon:e.jsx(we,{}),className:"h-players-cards__seal"})})})},`player-card-${i.id}`)})}),a]})}const dn=s=>({id:`dmhk-${s==="ev"?"ev":"wp"}-xxx`,type:s,name:{pt:"-",en:"-"}});function ln({items:s,weaponId:n,evidenceId:o,groupedItems:r,onSelectItem:t,activeColor:a,isLocked:i,wrongGroups:l=[]}){const u=U(12,{gap:8,minWidth:30,maxWidth:200});return e.jsx("ul",{className:"h-grouped-items-board",style:a?{backgroundColor:a}:{},children:Object.keys(r).map((d,h)=>{const p=r[d],j=l.includes(h);return e.jsx("li",{children:e.jsx("ul",{className:"h-grouped-items-board__group",style:a?{borderColor:a}:{},children:p.map(x=>e.jsx("li",{children:e.jsx(me,{onClick:i||j?void 0:()=>t(x),hoverType:"tint",disabled:j,children:j?e.jsx(ns,{id:"x",cardWidth:u}):e.jsx(B,{item:j?dn(x.split("-")[1]):s[x],cardWidth:u,isSelected:[n,o].includes(x),activeColor:a})})},x))})},`group-${d}`)})})}function mn({user:s,groupedItems:n,items:o,players:r,scenes:t,scenesOrder:a,crimes:i,onSubmitGuesses:l,announcement:u}){var R,V;const[d,h]=f.useState({}),[p,j]=f.useState("");Re(()=>{l({guesses:Ie(n,r,s)})},[]),f.useEffect(()=>{h(T=>({...T,...cn(s.history)}))},[s.history]);const x=T=>{if(p&&T){const M={...d[p]??{weaponId:void 0,evidenceId:void 0,isComplete:!1}};T.includes("wp")?M.weaponId=T:M.evidenceId=T,h(We=>({...We,[p]:{...M,isComplete:!!(M!=null&&M.weaponId&&(M!=null&&M.evidenceId))}}))}},v=Object.keys(r).length,I=Object.values(d).length===v-1&&Object.values(d).every(T=>T.weaponId&&T.evidenceId),m=i.find(T=>T.playerId===p),g=p===s.id,C=(d==null?void 0:d[p])??{},y=z(Pe(s.history,p)),b=["CORRECT","LOCKED"].includes(y==null?void 0:y.status),{activeWeaponId:F,activeEvidenceId:Y}=un(g,b,s,C,y);return e.jsxs(P,{announcement:u,children:[e.jsx(D,{children:e.jsx(c,{pt:"Quais foram os crimes?",en:"What were the crimes?"})}),e.jsx(W,{type:"action",children:e.jsx(c,{pt:e.jsxs(e.Fragment,{children:["Selecione cada jogador abaixo, analise suas respostas sobre o crime, e selecione uma arma e um objeto.",e.jsx("br",{}),"O par sempre estará no mesmo quadrante, mas os objetos não são exclusivos e diferentes crimes podem usar as mesmas cartas.",e.jsx("br",{}),"Crimes que já tem ambos selecionados são indicados por uma faca."]}),en:e.jsxs(e.Fragment,{children:["Select each player below, analyze their answers about their crimes, then select a weapon and an object.",e.jsx("br",{}),"The pair will always be in the same quadrant, but object are non-exclusive so different crimes might use the same cards.",e.jsx("br",{}),"Crimes with both cards selected are indicated by a knife."]})})}),e.jsx(us,{dev:!0,children:e.jsx(O,{children:e.jsx(Ee,{onClick:()=>h(Ie(n,r,s)),children:e.jsx(c,{pt:"Seleção Aleatória Semi-inteligente",en:"Semi-intelligent Random Selection"})})})}),I&&e.jsx(O,{align:"center",children:e.jsx(ue,{size:"large",disabled:!I,onClick:()=>l({guesses:d}),children:e.jsx(c,{pt:"Enviar Respostas",en:"Send Guesses"})})}),e.jsx(De,{user:s,setActivePlayerId:j,players:r,guesses:d,history:s.history,children:e.jsx(ln,{items:o,weaponId:F,evidenceId:Y,groupedItems:n,onSelectItem:x,activeColor:p?Se((R=r[p])==null?void 0:R.avatarId):void 0,isLocked:g||b,wrongGroups:((V=s==null?void 0:s.wrongGroups)==null?void 0:V[p])??[]})}),m&&e.jsx(hs,{title:"Crime",icon:e.jsx(ms,{}),children:e.jsx(te,{crime:m,scenes:t,scenesOrder:a,items:o,history:(s==null?void 0:s.history[m.playerId])??[],player:r[m.playerId],selectedWeaponId:F,selectedEvidenceId:Y,isLocked:g||b},`crime-by-${m.playerId}`)}),e.jsx("div",{className:"h-empty-space"})]})}const un=(s,n,o,r,t)=>s?{activeWeaponId:o.weaponId,activeEvidenceId:o.evidenceId}:n?{activeWeaponId:t.weaponId,activeEvidenceId:t.evidenceId}:{activeWeaponId:r.weaponId,activeEvidenceId:r.evidenceId};function pn({players:s,state:n}){var l;const{step:o,setStep:r}=se(0),t=K(s,n),a=Hs(r),i=e.jsx(k,{icon:e.jsx(ls,{}),title:e.jsx(c,{pt:"Tente Adivinhar",en:"Try to guess"}),currentRound:(l=n==null?void 0:n.round)==null?void 0:l.current,type:"overlay",children:e.jsx(Ks,{})});return e.jsx(ne,{phase:n==null?void 0:n.phase,allowedPhase:w.CRIMES_HEDIONDOS.GUESSING,children:e.jsx(re,{step:o,players:s,children:e.jsx(mn,{user:t,groupedItems:n.groupedItems,items:n.items,players:s,scenes:n.scenes,scenesOrder:n.scenesOrder,crimes:n.crimes,onSubmitGuesses:a,announcement:i})})})}function hn({players:s,results:n}){const o=[{title:"",dataIndex:"playerId",render:t=>e.jsx(Cs,{player:s[t],size:"small",addressUser:!0})},...ie.orderBy(Object.keys(n)).map(t=>({title:e.jsx(Ne,{id:s[t].avatarId,size:"small"}),dataIndex:t,render:a=>e.jsx(xn,{status:a})}))],r=ie.orderBy(Object.entries(n)).filter(([t,a])=>s[t].type==="player").map(([t,a])=>({playerId:t,...a}));return e.jsx(ys,{columns:o,dataSource:r,pagination:!1,size:"small",bordered:!0})}function xn({status:s}){switch(s){case"LOCKED":case"CORRECT":return e.jsx(H,{title:e.jsx(A,{status:s,withDescription:!0}),color:"white",children:e.jsx(G,{icon:e.jsx(Is,{}),shape:"square",alt:s})});case"HALF":return e.jsx(H,{title:e.jsx(A,{status:s,withDescription:!0}),color:"white",children:e.jsx(G,{icon:e.jsx(bs,{}),shape:"square",alt:s})});case"WRONG":return e.jsx(H,{title:e.jsx(A,{status:s,withDescription:!0}),color:"white",children:e.jsx(G,{icon:e.jsx(gs,{}),shape:"square",alt:s})});case"WRONG_GROUP":return e.jsx(H,{title:e.jsx(A,{status:s,withDescription:!0}),color:"white",children:e.jsx(G,{icon:e.jsx(Ss,{}),shape:"square",alt:s})});default:return e.jsx("span",{children:"•"})}}function jn({user:s,groupedItems:n,items:o,players:r,scenes:t,scenesOrder:a,crimes:i,onSeeRanking:l,round:u,results:d,isFirstRunThrough:h,announcement:p}){var b;He();const[j,x]=f.useState(""),v=Object.keys(r).length,I=i.find(F=>F.playerId===j),m=j===s.id,g=I?((b=s.history)==null?void 0:b[I==null?void 0:I.playerId])??[]:[],C=z(g),y=an(C);return e.jsxs(P,{announcement:p,children:[e.jsx(D,{children:e.jsx(c,{pt:"Resultado",en:"Results"})}),e.jsx(fs,{content:e.jsx(Be,{round:u})}),e.jsx(W,{type:"rule",children:e.jsx(c,{pt:e.jsxs(e.Fragment,{children:["Veja aqui como todos os jogadores foram. Passe o mouse nos ícones para saber mais detalhes.",e.jsx("br",{}),"As colunas são os crimes e as linhas são os chutes dessa rodada de cada jogador."]}),en:e.jsxs(e.Fragment,{children:["See how all players did. Hover the icons to see details.",e.jsx("br",{}),"The columns are the crimes and the rows are the guesses for each player."]})})}),e.jsxs(E,{contained:!0,children:[e.jsx(hn,{players:r,results:d}),e.jsx(c,{pt:e.jsxs(e.Fragment,{children:["Você acertou ",s.correctCrimes," pares e está com um total (secreto) de"," ",e.jsxs(_,{children:[s.score+s.secretScore," pontos"]}),"."]}),en:e.jsxs(e.Fragment,{children:["You guesses ",s.correctCrimes," crimes and have a (secret) total of"," ",e.jsxs(_,{children:[s.score+s.secretScore," points"]}),"."]})})]}),e.jsx(O,{children:e.jsx(E,{contained:!0,children:e.jsx(Me,{items:[{key:"weapons-evidences",label:e.jsx(c,{pt:" Ver todas Armas e Evidências",en:"See all Weapons and Evidence"}),children:e.jsx(ke,{items:o,weaponId:s.weaponId,evidenceId:s.evidenceId,groupedItems:n})}]})})}),e.jsxs(De,{user:s,setActivePlayerId:x,players:r,guesses:{},history:s.history,children:[!j&&e.jsx(E,{contained:!0,children:e.jsx(c,{pt:"Clique em um jogador para ver o resultado do seu crime",en:"Click a player to see their crime"})}),!!j&&e.jsx(E,{contained:!0,className:!y&&!m?ve("tada"):"",children:C?e.jsx(A,{status:C.status,withDescription:!0}):m?e.jsx(c,{pt:"Este é o seu próprio crime",en:"This is your own crime"}):""},`instruction-status-${j}`),I&&e.jsx("div",{className:ve("slideInUp",{speed:"fast"}),children:e.jsx(te,{crime:I,scenes:t,scenesOrder:a,items:o,history:s.history[I.playerId],player:r[I.playerId],selectedWeaponId:m?s.weaponId:C.weaponId,selectedEvidenceId:m?s.evidenceId:C.evidenceId,isLocked:y})},`crime-by-${I.playerId}`)]}),e.jsx(O,{children:h?e.jsx(ps,{onClick:l,onExpire:l,duration:Math.min(v*15,60),icon:e.jsx(fe,{}),children:e.jsx(c,{pt:"Ver Ranking",en:"See Ranking"})}):e.jsx(L,{onClick:l,icon:e.jsx(fe,{}),children:e.jsx(c,{pt:"Ver Ranking",en:"See Ranking"})})})]})}function vn({ranking:s,players:n,goToPreviousStep:o,round:r}){const t=r.total-r.current+1;return e.jsxs(Rs,{players:n,ranking:s,gainedPointsDescriptions:[e.jsx(c,{pt:e.jsxs(e.Fragment,{children:["Pares corretos ganham ",t," pontos nessa rodada. 1 ponto a menos na próxima."]}),en:e.jsxs(e.Fragment,{children:["Correct pairs get ",t," points this round. 1 point less next round."]})},"1")],children:[e.jsx(O,{children:e.jsx(L,{onClick:o,children:e.jsx(c,{pt:"Ver resultado novamente",en:"See results again"})})}),e.jsx(qe,{round:r})]})}function fn({players:s,state:n}){var d;const{step:o,goToNextStep:r,goToPreviousStep:t}=se(0),a=K(s,n),[i,l]=f.useState(!0);f.useEffect(()=>{i&&o>1&&l(!1)},[o,i]);const u=e.jsx(k,{icon:e.jsx(vs,{}),title:e.jsx(c,{pt:"Resultado",en:"Results"}),currentRound:(d=n==null?void 0:n.round)==null?void 0:d.current,type:"overlay",children:e.jsx(E,{children:e.jsx(Be,{round:n.round})})});return e.jsx(ne,{phase:n==null?void 0:n.phase,allowedPhase:w.CRIMES_HEDIONDOS.REVEAL,children:e.jsxs(re,{step:o,players:s,children:[e.jsx(jn,{user:a,groupedItems:n.groupedItems,items:n.items,players:s,scenes:n.scenes,scenesOrder:n.scenesOrder,crimes:n.crimes,onSeeRanking:r,round:n.round,results:n.results,isFirstRunThrough:i,announcement:u}),e.jsx(vn,{ranking:n.ranking,players:s,goToPreviousStep:t,round:n.round})]})})}function In({state:s,players:n}){const o=f.useMemo(()=>ie.orderBy(s.crimes??[],["playerId"]),[s.crimes]),r=K(n,s);return e.jsxs(Os,{state:s,players:n,announcementIcon:e.jsx(Es,{}),children:[e.jsx(ws,{players:n,achievements:s.achievements,reference:Ts}),e.jsx("ul",{children:o.map(t=>{var a;return e.jsx(te,{crime:t,items:s.items,player:n[t.playerId],scenes:s.scenes,scenesOrder:s.scenesOrder,selectedEvidenceId:t.evidenceId,selectedWeaponId:t.weaponId,history:(a=r.history)==null?void 0:a[t.playerId]},`crime-by-${t.playerId}`)})})]})}function gn(s){if(s&&!s.phase)return Fe;switch(s.phase){case w.DEFAULT.LOBBY:return Ye;case w.DEFAULT.RULES:return Ke;case w.DEFAULT.SETUP:return Ue;case w.CRIMES_HEDIONDOS.CRIME_SELECTION:return en;case w.CRIMES_HEDIONDOS.SCENE_MARKING:return on;case w.CRIMES_HEDIONDOS.GUESSING:return pn;case w.CRIMES_HEDIONDOS.REVEAL:return fn;case w.DEFAULT.GAME_OVER:return In;default:return Ge}}function po(){return e.jsx(ze,{gameCollection:$e.CRIMES_HEDIONDOS,getActiveComponent:gn})}export{po as default};
