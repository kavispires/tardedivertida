import{r as o,d2 as Oe,p as me,c as y,d as fe,a0 as Le,fL as He,cE as Te,f1 as xe,fh as ye,fM as Fe,u as ve,b as ze,eX as _e,eZ as Se,S as Ae,g as Be,m as We,a5 as K,f3 as je,a3 as Xe,fN as Ue,cJ as Ye,af as Ge,fO as Ke,fP as Ze,fo as qe,fQ as Ve,ag as Ce,a6 as Je}from"./index-COXNih-K.js";const we=o.createContext(null),Ee=o.createContext({});function pe(){return pe=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},pe.apply(this,arguments)}const Qe=t=>{const{prefixCls:n,className:e,containerRef:r,...s}=t,{panel:a}=o.useContext(Ee),l=Oe(a,r);return o.createElement("div",pe({className:y(`${n}-section`,e),role:"dialog",ref:l},me(t,{aria:!0}),{"aria-modal":"true"},s))};function et(t){const{prefixCls:n,direction:e,className:r,style:s,maxSize:a,containerRef:l,currentSize:g,onResize:S,onResizeEnd:v,onResizeStart:h}=t,[c,C]=o.useState(!1),[w,N]=o.useState(0),[k,R]=o.useState(0),b=e==="left"||e==="right",z=fe(p=>{p.preventDefault(),p.stopPropagation(),C(!0),N(b?p.clientX:p.clientY);let x;if(typeof g=="number")x=g;else if(l?.current){const i=l.current.getBoundingClientRect();x=b?i.width:i.height}R(x),h?.(x)}),m=fe(p=>{if(!c)return;let i=(b?p.clientX:p.clientY)-w;(e==="right"||e==="bottom")&&(i=-i);let d=k+i;d<0&&(d=0),a&&d>a&&(d=a),S?.(d)}),f=o.useCallback(()=>{if(c&&(C(!1),l?.current)){const p=l.current.getBoundingClientRect(),x=b?p.width:p.height;v?.(x)}},[c,l,v,b]);return o.useEffect(()=>{if(c)return document.addEventListener("mousemove",m),document.addEventListener("mouseup",f),()=>{document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",f)}},[c,m,f]),{dragElementProps:{className:y(`${n}-dragger`,`${n}-dragger-${e}`,{[`${n}-dragger-dragging`]:c,[`${n}-dragger-horizontal`]:b,[`${n}-dragger-vertical`]:!b},r),style:s,onMouseDown:z},isDragging:c}}function ue(t){if(typeof t=="string"){const n=Number(t.replace(/px$/i,""));if(parseFloat(t)===n&&Le(!1,"Invalid value type of `width` or `height` which should be number type instead."),!Number.isNaN(n))return n}return t}function tt(t,n,e,r,s){He(n&&(r??s!==!1),t),Te.useEffect(()=>{n&&e===!0&&t()?.focus({preventScroll:!0})},[n])}function Z(){return Z=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},Z.apply(this,arguments)}const nt=(t,n)=>{const{prefixCls:e,open:r,placement:s,inline:a,push:l,forceRender:g,autoFocus:S,focusTrap:v,classNames:h,rootClassName:c,rootStyle:C,zIndex:w,className:N,id:k,style:R,motion:b,width:z,height:m,size:f,maxSize:E,children:p,mask:x,maskClosable:i,maskMotion:d,maskClassName:I,maskStyle:u,afterOpenChange:D,onClose:q,onMouseEnter:V,onMouseOver:L,onMouseLeave:W,onClick:H,onKeyDown:J,onKeyUp:Q,styles:P,drawerRender:j,resizable:_,defaultSize:M}=t,T=o.useRef(null);o.useImperativeHandle(n,()=>T.current),tt(()=>T.current,r,S,v,x);const[ne,oe]=o.useState(!1),X=o.useContext(we);let ee;typeof l=="boolean"?ee=l?{}:{distance:0}:ee=l||{};const O=ee?.distance??X?.pushDistance??180,se=o.useMemo(()=>({pushDistance:O,push:()=>{oe(!0)},pull:()=>{oe(!1)}}),[O]);o.useEffect(()=>{r?X?.push?.():X?.pull?.()},[r]),o.useEffect(()=>()=>{X?.pull?.()},[]);const U=o.createElement(xe,Z({key:"mask"},d,{visible:x&&r}),({className:$,style:re},de)=>o.createElement("div",{className:y(`${e}-mask`,$,h?.mask,I),style:{...re,...u,...P?.mask},onClick:i&&r?q:void 0,ref:de})),ae=typeof b=="function"?b(s):b,[Y,le]=o.useState(),A=s==="left"||s==="right",G=o.useMemo(()=>ue(f??(A?z:m)??Y??M??(A?378:void 0)),[f,z,m,M,A,Y]),ie=o.useMemo(()=>{const $={};if(ne&&O)switch(s){case"top":$.transform=`translateY(${O}px)`;break;case"bottom":$.transform=`translateY(${-O}px)`;break;case"left":$.transform=`translateX(${O}px)`;break;default:$.transform=`translateX(${-O}px)`;break}return A?$.width=ue(G):$.height=ue(G),$},[ne,O,s,A,G]),F=o.useRef(null),B=!!_,te=typeof _=="object"&&_||{},ce=fe($=>{le($),te.onResize?.($)}),{dragElementProps:De,isDragging:ge}=et({prefixCls:`${e}-resizable`,direction:s,className:h?.dragger,style:P?.dragger,maxSize:E,containerRef:F,currentSize:G,onResize:ce,onResizeStart:te.onResizeStart,onResizeEnd:te.onResizeEnd}),Ie={onMouseEnter:V,onMouseOver:L,onMouseLeave:W,onClick:H,onKeyDown:J,onKeyUp:Q},Me=o.createElement(xe,Z({key:"panel"},ae,{visible:r,forceRender:g,onVisibleChanged:D,removeOnLeave:!1,leavedClassName:`${e}-content-wrapper-hidden`}),({className:$,style:re},de)=>{const be=o.createElement(Qe,Z({id:k,containerRef:de,prefixCls:e,className:y(N,h?.section),style:{...R,...P?.section}},me(t,{aria:!0}),Ie),p);return o.createElement("div",Z({ref:F,className:y(`${e}-content-wrapper`,ge&&`${e}-content-wrapper-dragging`,h?.wrapper,!ge&&$),style:{...re,...ie,...P?.wrapper}},me(t,{data:!0})),B&&o.createElement("div",De),j?j(be):be)}),he={...C};return w&&(he.zIndex=w),o.createElement(we.Provider,{value:se},o.createElement("div",{className:y(e,`${e}-${s}`,c,{[`${e}-open`]:r,[`${e}-inline`]:a}),style:he,tabIndex:-1,ref:T},U,Me))},ot=o.forwardRef(nt),rt=t=>{const{open:n=!1,prefixCls:e="rc-drawer",placement:r="right",autoFocus:s=!0,keyboard:a=!0,width:l,height:g,size:S,maxSize:v,mask:h=!0,maskClosable:c=!0,getContainer:C,forceRender:w,afterOpenChange:N,destroyOnHidden:k,onMouseEnter:R,onMouseOver:b,onMouseLeave:z,onClick:m,onKeyDown:f,onKeyUp:E,onClose:p,resizable:x,defaultSize:i,focusTriggerAfterClose:d,panelRef:I}=t,[u,D]=o.useState(!1),[q,V]=o.useState(!1);ye(()=>{V(!0)},[]);const L=q?n:!1,W=o.useRef(null),H=o.useRef(null);ye(()=>{L&&(H.current=document.activeElement)},[L]);const J=M=>{D(M),N?.(M),!M&&d!==!1&&H.current&&!W.current?.contains(H.current)&&H.current?.focus({preventScroll:!0})},Q=o.useMemo(()=>({panel:I}),[I]);if(!w&&!u&&!L&&k)return null;const j={...t,open:L,prefixCls:e,placement:r,autoFocus:s,keyboard:a,width:l,height:g,size:S,maxSize:v,defaultSize:i,mask:h,maskClosable:c,inline:C===!1,afterOpenChange:J,ref:W,resizable:x,...{onMouseEnter:R,onMouseOver:b,onMouseLeave:z,onClick:m,onKeyDown:f,onKeyUp:E}},_=({top:M,event:T})=>{M&&a&&(T.stopPropagation(),p?.(T))};return o.createElement(Ee.Provider,{value:Q},o.createElement(Fe,{open:L||w||u,autoDestroy:!1,getContainer:C,autoLock:h&&(L||u),onEsc:_},o.createElement(ot,j)))},Ne=t=>{const{prefixCls:n,ariaId:e,title:r,footer:s,extra:a,closable:l,loading:g,onClose:S,headerStyle:v,bodyStyle:h,footerStyle:c,children:C,classNames:w,styles:N}=t,k=ve("drawer"),{classNames:R,styles:b,closable:z}=k,[m,f]=ze([R,w],[b,N],{props:{...t,closable:l??z}}),E=o.useMemo(()=>{const u=l??z;if(u!==!1)return typeof u=="object"&&u?.placement==="end"?"end":"start"},[l,z]),p=o.useCallback(u=>o.createElement("button",{type:"button",onClick:S,className:y(`${n}-close`,{[`${n}-close-${E}`]:E==="end"},m.close),style:f.close},u),[S,n,E,m.close,f.close]),[x,i]=_e(Se(t),Se(k),{closable:!0,closeIconRender:p}),d=()=>!r&&!x?null:o.createElement("div",{style:{...f.header,...v},className:y(`${n}-header`,m.header,{[`${n}-header-close-only`]:x&&!r&&!a})},o.createElement("div",{className:`${n}-header-title`},E==="start"&&i,r&&o.createElement("div",{className:y(`${n}-title`,m.title),style:f.title,id:e},r)),a&&o.createElement("div",{className:y(`${n}-extra`,m.extra),style:f.extra},a),E==="end"&&i),I=()=>s?o.createElement("div",{className:y(`${n}-footer`,m.footer),style:{...f.footer,...c}},s):null;return o.createElement(o.Fragment,null,d(),o.createElement("div",{className:y(`${n}-body`,m.body),style:{...f.body,...h}},g?o.createElement(Ae,{active:!0,title:!1,paragraph:{rows:5},className:`${n}-body-skeleton`}):C),I())},st=t=>{const n="100%";return{left:`translateX(-${n})`,right:`translateX(${n})`,top:`translateY(-${n})`,bottom:`translateY(${n})`}[t]},ke=(t,n)=>({"&-enter, &-appear":{...t,"&-active":n},"&-leave":{...n,"&-active":t}}),Re=(t,n)=>({"&-enter, &-appear, &-leave":{"&-start":{transition:"none"},"&-active":{transition:`all ${n}`}},...ke({opacity:t},{opacity:1})}),at=(t,n)=>[Re(.7,n),ke({transform:st(t)},{transform:"none"})],lt=t=>{const{componentCls:n,motionDurationSlow:e}=t;return{[n]:{[`${n}-mask-motion`]:Re(0,e),[`${n}-panel-motion`]:["left","right","top","bottom"].reduce((r,s)=>({...r,[`&-${s}`]:at(s,e)}),{})}}},it=t=>{const{borderRadiusSM:n,componentCls:e,zIndexPopup:r,colorBgMask:s,colorBgElevated:a,motionDurationSlow:l,motionDurationMid:g,paddingXS:S,padding:v,paddingLG:h,fontSizeLG:c,lineHeightLG:C,lineWidth:w,lineType:N,colorSplit:k,marginXS:R,colorIcon:b,colorIconHover:z,colorBgTextHover:m,colorBgTextActive:f,colorText:E,fontWeightStrong:p,footerPaddingBlock:x,footerPaddingInline:i,draggerSize:d,calc:I}=t,u=`${e}-content-wrapper`,D=`${e}-resizable-dragger`;return{[e]:{position:"fixed",inset:0,zIndex:r,pointerEvents:"none",color:E,"&-pure":{position:"relative",background:a,display:"flex",flexDirection:"column",pointerEvents:"auto",[`&${e}-left`]:{boxShadow:t.boxShadowDrawerLeft},[`&${e}-right`]:{boxShadow:t.boxShadowDrawerRight},[`&${e}-top`]:{boxShadow:t.boxShadowDrawerUp},[`&${e}-bottom`]:{boxShadow:t.boxShadowDrawerDown}},"&-inline":{position:"absolute"},[`${e}-mask`]:{position:"absolute",inset:0,zIndex:r,background:s,pointerEvents:"auto",[`&${e}-mask-blur`]:{backdropFilter:"blur(4px)"}},[u]:{position:"absolute",zIndex:r,maxWidth:"100vw",transition:`all ${l}`,"&-hidden":{display:"none"}},[`&-left > ${u}`]:{top:0,bottom:0,left:{_skip_check_:!0,value:0},boxShadow:t.boxShadowDrawerLeft},[`&-right > ${u}`]:{top:0,right:{_skip_check_:!0,value:0},bottom:0,boxShadow:t.boxShadowDrawerRight},[`&-top > ${u}`]:{top:0,insetInline:0,boxShadow:t.boxShadowDrawerUp},[`&-bottom > ${u}`]:{bottom:0,insetInline:0,boxShadow:t.boxShadowDrawerDown},[`${e}-section`]:{display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"auto",background:a,pointerEvents:"auto"},[`${e}-header`]:{display:"flex",flex:0,alignItems:"center",padding:`${K(v)} ${K(h)}`,fontSize:c,lineHeight:C,borderBottom:`${K(w)} ${N} ${k}`,"&-title":{display:"flex",flex:1,alignItems:"center",minWidth:0,minHeight:0}},[`${e}-extra`]:{flex:"none"},[`${e}-close`]:{display:"inline-flex",width:I(c).add(S).equal(),height:I(c).add(S).equal(),borderRadius:n,justifyContent:"center",alignItems:"center",color:b,fontWeight:p,fontSize:c,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textDecoration:"none",background:"transparent",border:0,cursor:"pointer",transition:`all ${g}`,textRendering:"auto",[`&${e}-close-end`]:{marginInlineStart:R},[`&:not(${e}-close-end)`]:{marginInlineEnd:R},"&:hover":{color:z,backgroundColor:m,textDecoration:"none"},"&:active":{backgroundColor:f},...je(t)},[`${e}-title`]:{flex:1,margin:0,fontWeight:t.fontWeightStrong,fontSize:c,lineHeight:C},[`${e}-body`]:{flex:1,minWidth:0,minHeight:0,padding:h,overflow:"auto",[`${e}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center"}},[`${e}-footer`]:{flexShrink:0,padding:`${K(x)} ${K(i)}`,borderTop:`${K(w)} ${N} ${k}`},[D]:{position:"absolute",zIndex:1,backgroundColor:"transparent",userSelect:"none",pointerEvents:"auto","&:hover":{backgroundColor:t.colorPrimary,opacity:.2},"&-dragging":{backgroundColor:t.colorPrimary,opacity:.3}},[`${D}-left`]:{top:0,bottom:0,right:{_skip_check_:!0,value:0},width:d,cursor:"col-resize"},[`${D}-right`]:{top:0,bottom:0,left:{_skip_check_:!0,value:0},width:d,cursor:"col-resize"},[`${D}-top`]:{insetInline:0,bottom:0,height:d,cursor:"row-resize"},[`${D}-bottom`]:{insetInline:0,top:0,height:d,cursor:"row-resize"},[`${u}-dragging`]:{userSelect:"none",transition:"none",willChange:"width, height",[`${e}-content`]:{pointerEvents:"none"},[`${e}-section`]:{pointerEvents:"none"}},"&-rtl":{direction:"rtl"}}}},ct=t=>({zIndexPopup:t.zIndexPopupBase,footerPaddingBlock:t.paddingXS,footerPaddingInline:t.padding,draggerSize:4}),Pe=Be("Drawer",t=>{const n=We(t,{});return[it(n),lt(n)]},ct),dt={distance:180},$e=378,ut=t=>{const{rootClassName:n,size:e,defaultSize:r=$e,height:s,width:a,mask:l,push:g=dt,open:S,afterOpenChange:v,onClose:h,prefixCls:c,getContainer:C,panelRef:w=null,style:N,className:k,resizable:R,"aria-labelledby":b,focusable:z,maskStyle:m,drawerStyle:f,contentWrapperStyle:E,destroyOnClose:p,destroyOnHidden:x,...i}=t,{placement:d}=i,I=Xe(),u=i.title?I:void 0,{getPopupContainer:D,getPrefixCls:q,direction:V,className:L,style:W,classNames:H,styles:J,mask:Q}=ve("drawer"),P=q("drawer",c),[j,_]=Pe(P),M=C===void 0&&D?()=>D(document.body):C,T=o.useMemo(()=>typeof e=="number"?e:e==="large"?736:e==="default"?$e:typeof e=="string"?/^\d+(\.\d+)?$/.test(e)?Number(e):e:!d||d==="left"||d==="right"?a:s,[e,d,a,s]),ne={motionName:Ce(P,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},oe=ce=>({motionName:Ce(P,`panel-motion-${ce}`),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500}),X=Ue(),ee=Ye(w,X),[O,se]=Ge("Drawer",i.zIndex),[U,ae]=Ke(l,Q,P),Y=Ze(z,M!==!1&&U),{classNames:le,styles:A,rootStyle:G}=i,ie={...t,zIndex:O,panelRef:w,mask:U,defaultSize:r,push:g,focusable:Y},[F,B]=ze([H,le],[J,A],{props:ie}),te=y({"no-mask":!U,[`${P}-rtl`]:V==="rtl"},n,j,_,F.root);return o.createElement(qe,{form:!0,space:!0},o.createElement(Ve.Provider,{value:se},o.createElement(rt,{prefixCls:P,onClose:h,maskMotion:ne,motion:oe,...i,classNames:{mask:y(F.mask,ae.mask),section:F.section,wrapper:F.wrapper,dragger:F.dragger},styles:{mask:{...B.mask,...m},section:{...B.section,...f},wrapper:{...B.wrapper,...E},dragger:B.dragger},open:S,mask:U,push:g,size:T,defaultSize:r,style:{...W,...N},rootStyle:{...G,...B.root},className:y(L,k),rootClassName:te,getContainer:M,afterOpenChange:v,panelRef:ee,zIndex:O,...R?{resizable:R}:{},"aria-labelledby":b??u,destroyOnHidden:x??p,focusTriggerAfterClose:Y.focusTriggerAfterClose,focusTrap:Y.trap},o.createElement(Ne,{prefixCls:P,size:e,...i,ariaId:u,onClose:h}))))},mt=t=>{const{prefixCls:n,style:e,className:r,placement:s="right",...a}=t,{getPrefixCls:l}=o.useContext(Je),g=l("drawer",n),[S,v]=Pe(g),h=y(g,`${g}-pure`,`${g}-${s}`,S,v,r);return o.createElement("div",{className:h,style:e},o.createElement(Ne,{prefixCls:g,...a}))};ut._InternalPanelDoNotUseOrYouWillBeFired=mt;var ft=function(t,n){return typeof n=="boolean"?n:!t},gt=function(t){return o.useReducer(ft,t)};export{ut as D,gt as u};
