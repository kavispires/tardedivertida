import{r as v,aF as pe,a7 as xe,h as O,bA as V,cc as fr,M as gr,q as Xe,bO as Ce,j as e,D as Q,O as Ze,aQ as H,b8 as yr,e as j,b2 as vr,o as br,T as u,b6 as me,B as Ir,I as Re,F as T,aM as er,aP as L,ch as he,k as K,a_ as Nr}from"./index-Bv2JedHY.js";import{u as je,S as fe,a as ge,P as ye,f as Sr,c as Tr,d as _r,e as Or}from"./Session-BC2hsnNX.js";import{u as rr}from"./useWhichPlayerIsThe-CLpABNYc.js";import{Q as Er}from"./QuestionIcon-CqeW8ZPM.js";import{S as ve,P as be,a as Ie}from"./StepSwitcher-BCjhbxWB.js";import{I as $}from"./useDevFeatures-BeiftI-c.js";import{S as tr}from"./SignCard-CC1PVt80.js";import{u as Ar}from"./useTDBaseUrl-BF9foKiS.js";import{S as nr}from"./index-CTxvdU9G.js";import{R as wr}from"./StepBackwardOutlined-CNnRQaro.js";import{P as F}from"./PlayerAvatarName-BMN3kBN6.js";import{R as k}from"./RuleInstruction-BV1a0RUm.js";import{V as w}from"./ViewIf-qgMpzyEs.js";import{A as Cr,a as Rr}from"./AlienStarEyesIcon-J9EAf_fB.js";import{A as $e}from"./AlienNeutralIcon-BR_sbF5t.js";import{D as $r}from"./DivButton-B6-c0DeJ.js";import{C as ar}from"./Card-Dz6iDFV9.js";import{C as ir}from"./CharacterCard-Cy8J6qDc.js";import{I as sr}from"./ItemCard-Bgps-8a2.js";import{S as or}from"./SuspectCard-C6zbootG.js";/* empty css                             */import{I as dr}from"./ImageCard-57obRdq1.js";import{P as kr}from"./index-DaUC7QhH.js";import{R as Dr}from"./CloseCircleOutlined-DTFBt5ME.js";import{a as qr}from"./DebugOnly-D7LSN2fw.js";import{C as Lr}from"./Collapse-BSxNvGSf.js";import{F as Fr}from"./Table-Hn3EKBsl.js";import{T as ke}from"./index-DwpyjPzl.js";import{N as Br}from"./NuclearExplosionIcon-CKq_Ro4D.js";import{T as S}from"./TextHighlight-BSLL2u3H.js";import{V as Ne}from"./ViewOr-Bx1kDirb.js";import{M as Pr}from"./MysteryBoxIcon-AhakDJP1.js";import{T as De}from"./index-CMe9jnJg.js";import{T as Vr}from"./TheEndIcon-C7dv2XNo.js";import"./GameBanner-Dolwj4x9.js";import{G as Mr}from"./GameOverWrapper-CnRDs_o3.js";import{A as Gr}from"./Achievements-CG3D0tEY.js";import{a as Hr}from"./achievements-BSYlXBla.js";import"./Game-DZpwiVJl.js";import"./useMutation-DCFtoaJg.js";import"./speech-BC2r1q_K.js";import"./PurePanel-DveY4EAq.js";import"./index-DXLNxcEI.js";import"./Overflow-B3d7Zff6.js";import"./index-C5BSkKNN.js";import"./PlayerAvatar-B5XzlucT.js";import"./RulesModal-Blpup0Vo.js";import"./WritingIcon-By_NHQpT.js";import"./index-Bdm1H7ig.js";import"./useBubbleLock-DK7mwtgu.js";import"./InfoCircleOutlined-C9L3-EY0.js";import"./index-CaG36SC9.js";import"./SignIn-DUuFbELe.js";import"./GoogleIcon-CrKEIhun.js";import"./AnimatedGearIcon-BKgkNme9.js";import"./AnimatedClockIcon-DVggaDGI.js";import"./TimedButton-CZf0Ymvr.js";import"./Loading-DAY2-sf8.js";import"./AnimatedLoaderIcon-_R9dZEpI.js";import"./WaitingRoomIcon-BLlVK-GC.js";import"./LikeFilled-rJSyhYWA.js";import"./Sprite-DfY2M0RQ.js";import"./WarningOutlined-DhDeJShx.js";import"./StarFilled-CQFlL-pg.js";import"./ImageBlurButtonContainer-A5zjYbb2.js";import"./ImageBlurButton-BdoyK4Sf.js";import"./EllipsisOutlined-BEWOR4Yd.js";import"./index-SlasSWkJ.js";import"./FilterFilled-w1tsrh-0.js";import"./iconUtil-i_tcgFvv.js";import"./CaretDownOutlined-CZXEPch2.js";import"./CaretUpOutlined-CdAKPD24.js";import"./ArrowRightOutlined-DIWdYL2V.js";import"./progress-dENqAQyI.js";import"./TitledContainer-BmxUhwzh.js";import"./Medal-0Kmh_WCo.js";var Ur={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z"}}]},name:"vertical-align-top",theme:"outlined"},zr=function(t,n){return v.createElement(pe,xe({},t,{ref:n,icon:Ur}))},Wr=v.forwardRef(zr),Yr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M112 476h160v72H112zm320 0h160v72H432zm320 0h160v72H752z"}}]},name:"dash",theme:"outlined"},Qr=function(t,n){return v.createElement(pe,xe({},t,{ref:n,icon:Yr}))},Kr=v.forwardRef(Qr),Jr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 780H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM505.7 669a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V176c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8z"}}]},name:"vertical-align-bottom",theme:"outlined"},Xr=function(t,n){return v.createElement(pe,xe({},t,{ref:n,icon:Jr}))},Zr=v.forwardRef(Xr);const C={ASKING_FOR_SOMETHING:"ASKING_FOR_SOMETHING",DELIVER_SOMETHING:"DELIVER_SOMETHING",VERIFICATION:"VERIFICATION"},Se={SUBMIT_REQUEST:"SUBMIT_REQUEST",SUBMIT_DELIVERY:"SUBMIT_DELIVERY",STOP_DELIVERY:"STOP_DELIVERY"},D={A:"A",B:"B",TABOO:"TABOO"},Te=[D.A,D.B],I={IDLE:"IDLE",WIN:"WIN",LOSE:"LOSE",CONTINUE:"CONTINUE"},J={IDLE:"IDLE",A:D.A,B:D.B};function et(){const{translate:r}=O(),t=je({actionName:"submit-request",successMessage:r("Ação submetida com sucesso","Action submitted successfully"),errorMessage:r("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return n=>{t({action:Se.SUBMIT_REQUEST,...n})}}function rt(){const{translate:r}=O(),t=je({actionName:"submit-delivery",successMessage:r("Ação submetida com sucesso","Action submitted successfully"),errorMessage:r("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return n=>{t({action:Se.SUBMIT_DELIVERY,...n})}}function tt(){const{translate:r}=O(),t=je({actionName:"stop-delivery",successMessage:r("Ação submetida com sucesso","Action submitted successfully"),errorMessage:r("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return()=>{t({action:Se.STOP_DELIVERY})}}var X,qe;function cr(){if(qe)return X;qe=1;function r(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return X=r,X}var Z,Le;function nt(){if(Le)return Z;Le=1;var r=typeof V=="object"&&V&&V.Object===Object&&V;return Z=r,Z}var ee,Fe;function lr(){if(Fe)return ee;Fe=1;var r=nt(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=r||t||Function("return this")();return ee=n,ee}var re,Be;function at(){if(Be)return re;Be=1;var r=lr(),t=function(){return r.Date.now()};return re=t,re}var te,Pe;function it(){if(Pe)return te;Pe=1;var r=/\s/;function t(n){for(var i=n.length;i--&&r.test(n.charAt(i)););return i}return te=t,te}var ne,Ve;function st(){if(Ve)return ne;Ve=1;var r=it(),t=/^\s+/;function n(i){return i&&i.slice(0,r(i)+1).replace(t,"")}return ne=n,ne}var ae,Me;function ur(){if(Me)return ae;Me=1;var r=lr(),t=r.Symbol;return ae=t,ae}var ie,Ge;function ot(){if(Ge)return ie;Ge=1;var r=ur(),t=Object.prototype,n=t.hasOwnProperty,i=t.toString,s=r?r.toStringTag:void 0;function d(m){var h=n.call(m,s),c=m[s];try{m[s]=void 0;var a=!0}catch{}var l=i.call(m);return a&&(h?m[s]=c:delete m[s]),l}return ie=d,ie}var se,He;function dt(){if(He)return se;He=1;var r=Object.prototype,t=r.toString;function n(i){return t.call(i)}return se=n,se}var oe,Ue;function ct(){if(Ue)return oe;Ue=1;var r=ur(),t=ot(),n=dt(),i="[object Null]",s="[object Undefined]",d=r?r.toStringTag:void 0;function m(h){return h==null?h===void 0?s:i:d&&d in Object(h)?t(h):n(h)}return oe=m,oe}var de,ze;function lt(){if(ze)return de;ze=1;function r(t){return t!=null&&typeof t=="object"}return de=r,de}var ce,We;function ut(){if(We)return ce;We=1;var r=ct(),t=lt(),n="[object Symbol]";function i(s){return typeof s=="symbol"||t(s)&&r(s)==n}return ce=i,ce}var le,Ye;function mt(){if(Ye)return le;Ye=1;var r=st(),t=cr(),n=ut(),i=NaN,s=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,m=/^0o[0-7]+$/i,h=parseInt;function c(a){if(typeof a=="number")return a;if(n(a))return i;if(t(a)){var l=typeof a.valueOf=="function"?a.valueOf():a;a=t(l)?l+"":l}if(typeof a!="string")return a===0?a:+a;a=r(a);var p=d.test(a);return p||m.test(a)?h(a.slice(2),p?2:8):s.test(a)?i:+a}return le=c,le}var ue,Qe;function ht(){if(Qe)return ue;Qe=1;var r=cr(),t=at(),n=mt(),i="Expected a function",s=Math.max,d=Math.min;function m(h,c,a){var l,p,x,y,o,f,b=0,E=!1,A=!1,R=!0;if(typeof h!="function")throw new TypeError(i);c=n(c)||0,r(a)&&(E=!!a.leading,A="maxWait"in a,x=A?s(n(a.maxWait)||0,c):x,R="trailing"in a?!!a.trailing:R);function N(g){var _=l,q=p;return l=p=void 0,b=g,y=h.apply(q,_),y}function hr(g){return b=g,o=setTimeout(P,c),E?N(g):y}function pr(g){var _=g-f,q=g-b,we=c-_;return A?d(we,x-q):we}function Ee(g){var _=g-f,q=g-b;return f===void 0||_>=c||_<0||A&&q>=x}function P(){var g=t();if(Ee(g))return Ae(g);o=setTimeout(P,pr(g))}function Ae(g){return o=void 0,R&&l?N(g):(l=p=void 0,y)}function xr(){o!==void 0&&clearTimeout(o),b=0,l=f=p=o=void 0}function jr(){return o===void 0?y:Ae(t())}function Y(){var g=t(),_=Ee(g);if(l=arguments,p=this,f=g,_){if(o===void 0)return hr(f);if(A)return clearTimeout(o),o=setTimeout(P,c),N(f)}return o===void 0&&(o=setTimeout(P,c)),y}return Y.cancel=xr,Y.flush=jr,Y}return ue=m,ue}var pt=ht();const xt=fr(pt);function mr(r){const t=Ar("resources");return gr({queryKey:["items-attributes"],queryFn:async()=>await(await fetch(`${t}/items-attributes.json`)).json(),enabled:r,staleTime:Number.POSITIVE_INFINITY})}function _e({value:r,onChange:t,availableAttributeKeys:n,disabled:i}){const{language:s}=O(),{isLoading:d,data:m={}}=mr(!0),[h,c]=v.useState(""),a=v.useCallback(xt(o=>{c(o)},300),[]),l=v.useMemo(()=>Xe.orderBy(n?Object.values(m).filter(o=>n.includes(o.id)):Object.values(m),[`name.${s}`],["asc"]),[m,n,s]),p=v.useMemo(()=>l.reduce((o,f)=>(o[f.id]=Ce(`${f.name[s]} ${f.description[s]} ${f.keywords}`).toLowerCase(),o),{}),[l,s]),x=v.useMemo(()=>l.filter(o=>h===""||p[o.id].includes(Ce(h.toLowerCase()))),[l,p,h]),y=(o,f)=>{t(ft(r,o,f))};return e.jsx(nr,{spinning:d,children:e.jsxs("div",{className:"alien-keyboard",style:{width:"100%"},children:[e.jsxs("div",{className:"alien-keyboard__keys",children:[jt.map(o=>e.jsxs("button",{type:"button",className:"alien-keyboard__key alien-keyboard__key--helper",onClick:()=>y(o.id,"helper"),disabled:i,children:[o.icon,e.jsx("small",{children:e.jsx(Q,{children:o.name})})]},o.id)),e.jsx("div",{className:"alien-keyboard__search",children:e.jsx(Ze.Search,{placeholder:"Search",onChange:o=>a(o.target.value),onSearch:o=>a(o),style:{width:156},disabled:i,allowClear:!0})})]}),e.jsx("div",{className:"alien-keyboard__keys",children:x.map(o=>e.jsx(H,{title:e.jsx("div",{className:"center",children:e.jsx(Q,{children:o.description})}),children:e.jsxs("button",{type:"button",className:"alien-keyboard__key",onClick:()=>y(o.id,"attribute"),disabled:i,children:[e.jsx(tr,{width:32,signId:`${o.spriteId.split("-")[1]}`,className:"transparent"}),e.jsx("small",{children:e.jsx(Q,{children:o.name})})]})},o.id))})]})})}const jt=[{id:"^",name:{en:"NOT",pt:"NÃO"},icon:e.jsx(Wr,{}),type:"helper"},{id:"~",name:{en:"SORTA",pt:"MEIO"},icon:e.jsx(Kr,{}),type:"helper"},{id:"*",name:{en:"VERY",pt:"MUITO"},icon:e.jsx(Zr,{}),type:"helper"},{id:"<",name:{en:"Backspace",pt:"Apagar"},icon:e.jsx(wr,{})}],ft=(r,t,n)=>{const i=r[r.length-1]??"",s=!yr.includes(i.toUpperCase());return n==="attribute"?s?`${r}${t}`:r.includes(t)?r:`${r}+${t}`:n==="helper"?t==="<"?s?r.slice(0,-1):r.slice(0,-4):s?`${r.slice(0,-1)}${t}`:`${r}${t}`:r};function B({value:r,withTranslation:t=!1,className:n,...i}){const{isLoading:s,data:d={}}=mr(!0),{dualTranslate:m}=O(),h=v.useMemo(()=>gt(r).map(a=>{const l=a[0],p=a.substring(1);if(p&&d?.[p]){const x=d[p];return{spriteId:x?.spriteId,variant:Ke[l],name:{pt:`${M[l].pt}${x?.name.pt}`.trim().toLowerCase(),en:`${M[l].en}${x?.name.en}`.trim().toLowerCase()},description:{en:x?.description.en??"",pt:x?.description.pt??""}}}return{spriteId:"",variant:Ke[l],name:{pt:`${M[l].pt} `,en:`${M[l].en} `},description:{pt:"",en:""}}}),[r,d]);return e.jsxs(nr,{spinning:s,children:[e.jsx("div",{className:j("alien-text",n),...i,children:h.map(c=>e.jsx(H,{title:m(c.name),children:e.jsx("div",{className:j("alien-text__character",`alien-text__character--${c.variant}`),children:e.jsx(tr,{width:48,signId:`${c.spriteId.split("-")[1]}`,className:"transparent"})})},`${c.spriteId}-${c.variant}`))}),t&&e.jsx("div",{className:"alien-text-translation",children:h.map(c=>e.jsx(H,{title:m(c.description),children:e.jsx("span",{className:"alien-text-translation__text",children:m(c.name)})},`${c.spriteId}-${c.variant}`))})]})}function gt(r){const t=[];for(let n=0;n<r.length;n+=4)t.push(r.substring(n,n+4));return t}const M={"+":{en:"",pt:""},"^":{en:"not ",pt:"não "},"~":{en:"sorta ",pt:"meio "},"*":{en:"very ",pt:"muito "}},Ke={"+":"normal","^":"not","~":"sorta","*":"very"};function G({entry:r,deckType:t,userSide:n}){const{dualTranslate:i}=O(),s=Te.indexOf(n);return t==="items"?e.jsx("div",{className:j("cd-board-entry",`cd-board-entry--${r.affiliation[s]}`),children:e.jsx(sr,{itemId:`${r.data.id}`,title:r.data.name?i(r.data.name):void 0})},`cd-board-entry-${r.data.id}`):t==="images"?e.jsx("div",{className:j("cd-board-entry",`cd-board-entry--${r.affiliation[s]}`),children:e.jsx(dr,{cardId:r.data.id,cardWidth:72,className:"board-entry-image-card"})},`cd-board-entry-${r.data.id}`):t==="contenders"?e.jsx("div",{className:j("cd-board-entry",`cd-board-entry--${r.affiliation[s]}`),children:e.jsx(ir,{character:r.data,size:96,className:"board-entry-image-card"})},`cd-board-entry-${r.data.id}`):t==="suspects"?e.jsx("div",{className:j("cd-board-entry",`cd-board-entry--${r.affiliation[s]}`),children:e.jsx(or,{suspect:r.data,width:72,hideName:!0})},`cd-board-entry-${r.data.id}`):t==="words"?e.jsx("div",{className:j("cd-board-entry",`cd-board-entry--${r.affiliation[s]}`),children:e.jsx(ar,{hideHeader:!0,children:r.data.text})},`cd-board-entry-${r.data.id}`):e.jsx("div",{className:j("cd-board-entry",`cd-board-entry--${r.affiliation[s]}`),children:r.id},`cd-board-entry-${r.id}`)}function U({deck:r,deckType:t,userId:n,userSide:i,onClick:s,animateEntries:d=[],disabled:m}){const h=Te.indexOf(i),c=v.useMemo(()=>{const a=h===0?1:0,l=Oe(i);return r.some(p=>p.affiliation[h]===D.TABOO&&p.affiliation[a]===l&&p.deliveredBy?.length)},[r,i,h]);return e.jsx(vr.PreviewGroup,{children:e.jsx("div",{className:"cd-board",children:r.map(a=>{const l=a.affiliation[h]===D.TABOO&&c;return s&&a.status===J.IDLE&&!a.deliveredBy?.includes(n)&&!l?e.jsx(kr,{title:e.jsx(u,{en:"Are you sure you want to deliver this item?",pt:"Você tem certeza que deseja entregar este item?"}),trigger:t==="images"?"hover":"click",onConfirm:()=>s(a),children:e.jsx(br,{disabled:m,className:"cd-board-entry-entry-wrapper",children:e.jsx(Je,{entry:a,userId:n,userSide:i,animateEntries:d,children:e.jsx(G,{entry:a,deckType:t,userSide:i})})},a.id)},a.id):a.status===J.A||a.status===J.B?e.jsx("span",{className:j(d.includes(a.id)&&me("slideInDown")),children:e.jsx(yt,{side:a.status,children:e.jsx(G,{entry:a,deckType:t,userSide:i})})},a.id):(a?.deliveredBy?.length??0)>0?e.jsx("div",{className:"cd-board-entry-entry-wrapper",children:e.jsx(Je,{entry:a,userId:n,userSide:i,animateEntries:d,children:e.jsx(G,{entry:a,deckType:t,userSide:i})})},a.id):e.jsxs("div",{className:j("cd-board-entry-entry-wrapper",l&&s&&"cd-board-entry-entry-wrapper--not-allowed"),children:[l&&e.jsx("div",{className:"cd-board-entry-taboo",children:e.jsx(H,{title:e.jsx(u,{en:"You already found the other player's item that matches one of your taboos so none of these other ones can be an item for the other player anymore.",pt:"Você já encontrou o item do outro jogador que corresponde a um dos seus tabus, então nenhum desses outros tabus seus pode ser um item para o outro jogador."}),children:e.jsx(Ir,{shape:"circle",size:"small",icon:e.jsx(Dr,{})})})}),e.jsx(G,{entry:a,deckType:t,userSide:i})]},a.id)})})})}function yt({side:r,children:t}){const[n,i]=qr(!1);return e.jsxs($r,{className:"cd-board-entry-cover",onClick:i,children:[e.jsx("div",{className:j("cd-board-entry-cover__alien",`cd-board-entry-cover__alien--${Oe(r)}`,n&&"cd-board-entry-cover__alien--open"),children:r==="A"?e.jsx(Cr,{style:{width:36}}):e.jsx(Rr,{style:{width:36}})}),t]})}function Je({children:r,entry:t,userId:n,userSide:i,animateEntries:s}){if((t?.deliveredBy?.length??0)===0)return e.jsx(e.Fragment,{children:r});const d=t.deliveredBy?.includes(n),m=!!t.deliveredBy?.filter(h=>h!==n).length;return e.jsxs("div",{className:j("cd-board-entry-neutral",t.deliveredBy?.includes(n)&&"cd-board-entry-neutral--not-allowed"),children:[d&&e.jsx("span",{className:j(s.includes(t.id)&&me("tada")),children:e.jsx(Re,{className:j("cd-board-entry-neutral-item",`cd-board-entry-neutral-item--${i}`),icon:e.jsx($e,{color:i==="A"?"teal":"orange"})})}),m&&e.jsx("span",{className:j(s.includes(t.id)&&me("tada")),children:e.jsx(Re,{className:j("cd-board-entry-neutral-item",`cd-board-entry-neutral-item--${Oe(i)}`),icon:e.jsx($e,{color:i==="A"?"orange":"teal"})})}),r]})}const Oe=r=>r==="A"?"B":"A";function z({summary:r,players:t,round:n}){const i=Object.values(t).find(d=>d.side==="A"),s=Object.values(t).find(d=>d.side==="B");return!i||!s?null:e.jsxs("div",{className:"cd-summary",children:[e.jsxs("div",{className:"cd-summary__entry",children:[e.jsx("div",{className:"cd-summary__number",children:n.total-n.current+1}),e.jsx("div",{className:"cd-summary__entry-label",children:e.jsx(u,{en:"Rounds left",pt:"Rodadas restantes"})})]}),e.jsxs("div",{className:"cd-summary__entry",children:[e.jsx("div",{className:"cd-summary__number cd-summary__number--left",children:r.deliverablesLeft}),e.jsx("div",{className:"cd-summary__entry-label",children:e.jsx(u,{en:"Items left",pt:"Itens restantes"})})]}),e.jsxs("div",{className:"cd-summary__entry",children:[e.jsx("div",{className:"cd-summary__number cd-summary__number--A",children:r.deliverablesLeftForA}),e.jsx("div",{className:"cd-summary__entry-label",children:e.jsx(F,{player:i})})]}),e.jsxs("div",{className:"cd-summary__entry",children:[e.jsx("div",{className:"cd-summary__number cd-summary__number--B",children:r.deliverablesLeftForB}),e.jsx("div",{className:"cd-summary__entry-label",children:e.jsx(F,{player:s})})]})]})}function vt({deliverable:r,deckType:t,userSide:n}){const{dualTranslate:i}=O(),s=Te.indexOf(n);return t==="items"?e.jsx("div",{className:j("cd-history-entry",`cd-history-entry--${r.affiliation[s]}`),children:e.jsx(sr,{itemId:`${r.data.id}`,title:r.data.name?i(r.data.name):void 0,width:64})},`cd-history-entry-${r.data.id}`):t==="images"?e.jsx("div",{className:j("cd-history-entry",`cd-history-entry--${r.affiliation[s]}`),children:e.jsx(dr,{cardId:r.data.id,cardWidth:48,className:"history-entry-image-card"})},`cd-history-entry-${r.data.id}`):t==="contenders"?e.jsx("div",{className:j("cd-history-entry",`cd-history-entry--${r.affiliation[s]}`),children:e.jsx(ir,{character:r.data,size:96,className:"history-entry-image-card"})},`cd-history-entry-${r.data.id}`):t==="suspects"?e.jsx("div",{className:j("cd-history-entry",`cd-history-entry--${r.affiliation[s]}`),children:e.jsx(or,{suspect:r.data,width:72,hideName:!0})},`cd-history-entry-${r.data.id}`):t==="words"?e.jsx("div",{className:j("cd-history-entry",`cd-history-entry--${r.affiliation[s]}`),children:e.jsx(ar,{hideHeader:!0,children:r.data.text})},`cd-history-entry-${r.data.id}`):e.jsx("div",{className:"cd-board-entry",children:r.id})}function W({history:r,players:t,deck:n,deckType:i,clueInputType:s,userSide:d}){const m=v.useMemo(()=>Xe.keyBy(n,"id"),[n]),h=[{key:"player",title:e.jsx(u,{pt:"Jogador",en:"Player"}),dataIndex:"requesterId",render:a=>e.jsx(F,{player:t[a]})},{key:"clue",title:e.jsx(u,{pt:"Pedido",en:"Dica"}),dataIndex:"clue",render:a=>s==="alien-keyboard"?e.jsx(B,{value:a,withTranslation:!0}):a},{key:"quantity",title:e.jsx(u,{pt:"Quantidade",en:"Quantity"}),dataIndex:"quantity"},{key:"deliverables",title:e.jsx(u,{pt:"Itens",en:"Items"}),dataIndex:"deliverables",render:a=>e.jsx(T,{wrap:"wrap",gap:8,children:a.map(l=>e.jsx(vt,{deliverable:m[l],deckType:i,userSide:d},l))})}],c=[{key:"history",label:e.jsx(u,{pt:"Histórico de Perguntas",en:"Inquiry History"}),children:e.jsx(Fr,{dataSource:r,columns:h,pagination:!1})}];return e.jsx($,{contained:!0,children:e.jsx(Lr,{items:c})})}function bt({players:r,user:t,announcement:n,deckType:i,deck:s,status:d,history:m,requester:h,isTheRequester:c,summary:a,clueInputType:l,round:p,onSubmitRequest:x}){const{isLoading:y}=er(),[o,f]=v.useState(""),[b,E]=v.useState(1),{dualTranslate:A}=O(),R=()=>{x({clue:o,clueQuantity:b})};return e.jsxs(ve,{fullWidth:!0,announcement:n,children:[e.jsx(fe,{size:"small",wait:c,children:c?e.jsx(u,{pt:e.jsx(e.Fragment,{children:"Peça algo!"}),en:e.jsx(e.Fragment,{children:"Ask for something!"})}):e.jsx(u,{pt:e.jsxs(e.Fragment,{children:["Aguarde ",e.jsx(F,{player:h})," pedir algo"]}),en:e.jsxs(e.Fragment,{children:["Wait for ",e.jsx(F,{player:h})," to ask for something"]})})}),e.jsx(k,{type:"rule",children:d===I.IDLE?e.jsx(u,{en:"It's the first round, so any of you can give the first clue",pt:"É a primeira rodada, então qualquer um de vocês pode dar a primeira dica"}):e.jsx(u,{en:"Players alternate asking for items, unless one player is done asking for all of their items",pt:"Os jogadores alternam pedindo itens, a menos que um jogador tenha terminado de pedir todos os seus itens"})}),e.jsxs(T,{gap:8,align:"center",children:[e.jsx(U,{deck:s,deckType:i,userId:t.id,userSide:t.side}),e.jsx(z,{summary:a,players:r,round:p})]}),e.jsxs(w,{condition:l==="alien-keyboard",children:[e.jsx(w,{condition:c,children:e.jsx(k,{type:"action",children:e.jsx(u,{en:"Use the keyboard below to type your request and add the number of items you want",pt:"Use o teclado abaixo para digitar seu pedido e adicione o número de itens que deseja"})})}),e.jsxs(L,{vertical:!0,children:[e.jsx(w,{condition:c,children:e.jsxs(T,{gap:8,align:"center",children:[e.jsx(B,{value:o,withTranslation:!0}),e.jsxs("strong",{children:[e.jsx(u,{en:"Quantity",pt:"Quantidade"}),":"]}),e.jsx(ke,{value:b,onChange:N=>E(N??1),min:0,max:6,size:"large"}),e.jsx(he,{size:"large",loading:y,disabled:!o,onClick:R,children:e.jsx(u,{en:"Submit",pt:"Enviar"})})]})}),e.jsx(_e,{value:o,onChange:f,disabled:!c||t.ready})]})]}),e.jsxs(w,{condition:l!=="alien-keyboard"&&c,children:[e.jsx(k,{type:"rule",children:e.jsx(u,{en:"You can ask for items by typing your request in the input box",pt:"Você pode pedir itens digitando seu pedido no campo de entrada"})}),e.jsxs(L,{vertical:!0,children:[e.jsxs(T,{gap:8,align:"center",children:[e.jsx(Ze,{size:"large",value:o,onChange:N=>f(N.target.value),placeholder:A({pt:"Digite seu pedido aqui",en:"Type your request here"})}),e.jsxs("strong",{children:[e.jsx(u,{en:"Quantity",pt:"Quantidade"}),":"]}),e.jsx(ke,{value:b,onChange:N=>E(N??1),min:0,max:6,size:"large"})]}),e.jsx(he,{size:"large",loading:y,disabled:!o,onClick:R,children:e.jsx(u,{en:"Submit",pt:"Enviar"})})]})]}),e.jsx(W,{history:m,players:r,deck:s,deckType:i,clueInputType:l,userSide:t.side})]})}function It({players:r,state:t,user:n}){const{step:i}=ge();let[s,d]=rr("requesterId",t,r);t.status===I.IDLE&&(s=n,d=!0);const m=et(),h=e.jsx(be,{icon:e.jsx(Er,{}),title:d?e.jsx(u,{pt:"Peça algo",en:"Ask for something"}):e.jsx(u,{pt:"O outro jogador pede algo",en:"The other player asks for something"}),currentRound:t?.round?.current,type:"overlay",children:e.jsx($,{children:e.jsx(u,{pt:e.jsx(e.Fragment,{children:"Cada alienígena deve dar dicar para todos os itens marcados com sua cor"}),en:e.jsx(e.Fragment,{children:"Each alien must give clues for all items marked with their color"})})})});return e.jsx(ye,{phase:t?.phase,allowedPhase:C.ASKING_FOR_SOMETHING,children:e.jsx(Ie,{step:i,players:r,children:e.jsx(bt,{user:n,players:r,announcement:h,deckType:t.deckType,deck:t.deck,status:t.status,history:t.history,requester:s,isTheRequester:d,summary:t.summary,clueInputType:t.clueInputType,onSubmitRequest:m,round:t.round})})})}function Nt({announcement:r,players:t,user:n,deckType:i,deck:s,status:d,history:m,summary:h,clueInputType:c,round:a,clue:l,clueQuantity:p,entryIdToAnimate:x,nextPhase:y}){const o=v.useMemo(()=>d===I.CONTINUE&&!x?{en:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Skip!"})," All done for this round, let's try another clue"]}),pt:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Passa!"})," Tudo certo para esta rodada, vamos tentar outra dica"]})}:d===I.WIN?{en:e.jsx(e.Fragment,{children:"All items have been found!"}),pt:e.jsx(e.Fragment,{children:"Todos os itens foram encontrados!"})}:d===I.LOSE?{en:e.jsxs(e.Fragment,{children:["Nooooo, a ",e.jsx(S,{children:"taboo"})," item has been selected!"]}),pt:e.jsxs(e.Fragment,{children:["Nãããão, um item ",e.jsx(S,{children:"taboo"})," foi selecionado!"]})}:d===I.CONTINUE&&y===C.ASKING_FOR_SOMETHING?{en:e.jsxs(e.Fragment,{children:[e.jsx(S,{children:"Neutral!"})," All done fir this round, let's try another clue."]}),pt:e.jsxs(e.Fragment,{children:[e.jsx(S,{children:"Neutro!"})," Vamos para a próxima rodada."]})}:{en:e.jsxs(e.Fragment,{children:[e.jsx(S,{children:"Correct!"})," Want to try one more item?"]}),pt:e.jsxs(e.Fragment,{children:[e.jsx(S,{children:"Correto!"})," Quer tentar outro item?"]})},[d,x,y]);return e.jsxs(ve,{fullWidth:!0,announcement:r,children:[e.jsx(fe,{size:"small",children:e.jsx(u,{en:"Results",pt:"Resultado"})}),e.jsx(k,{type:"event",children:e.jsx(u,{en:o.en,pt:o.pt})}),e.jsx(Sr,{round:a,autoTriggerTime:d!==I.CONTINUE?5:2,withWaitingTimeBar:!0}),e.jsxs(T,{gap:8,align:"center",className:"mb-4",children:[e.jsx("div",{className:"cd-clue-quantity",children:p}),e.jsxs(Ne,{condition:c==="alien-keyboard",children:[e.jsx(B,{value:l,withTranslation:!0}),e.jsx(S,{style:{fontSize:"1.5rem",background:"white"},children:l})]})]}),e.jsxs(T,{gap:8,align:"center",children:[e.jsx(U,{deck:s,deckType:i,userId:n.id,userSide:n.side,animateEntries:x?[x]:[]}),e.jsx(z,{summary:h,players:t,round:a})]}),e.jsx(w,{condition:c==="alien-keyboard",children:e.jsx(L,{children:e.jsx(_e,{value:"",onChange:()=>{},disabled:!0})})}),e.jsx(W,{history:m,players:t,deck:s,deckType:i,clueInputType:c,userSide:n.side})]})}function St({players:r,state:t,user:n}){const{step:i}=ge(),s=t.status===I.LOSE?e.jsx(be,{icon:e.jsx(Br,{}),title:e.jsx(u,{pt:"Nãaaaaaooooooo",en:"Nooooooooo"}),currentRound:t?.round?.current,type:"overlay",duration:4}):void 0;return e.jsx(ye,{phase:t?.phase,allowedPhase:C.VERIFICATION,children:e.jsx(Ie,{step:i,players:r,children:e.jsx(Nt,{user:n,players:r,deckType:t.deckType,deck:t.deck,status:t.status,history:t.history,summary:t.summary,clueInputType:t.clueInputType,clue:t.clue,clueQuantity:t.clueQuantity,round:t.round,entryIdToAnimate:t.entryIdToAnimate,nextPhase:t.nextPhase,announcement:s})})})}function Tt({players:r,user:t,announcement:n,deckType:i,deck:s,history:d,isTheRequester:m,summary:h,clueInputType:c,round:a,onSubmitDelivery:l,onStopDelivery:p,clue:x,clueQuantity:y}){const{isLoading:o}=er(),f=E=>{l({delivery:E.id})},b=d[d.length-1];return e.jsxs(ve,{fullWidth:!0,announcement:n,children:[e.jsx(fe,{size:"small",wait:m,children:m?e.jsx(u,{pt:e.jsx(e.Fragment,{children:"Aguarde o outro jogador responder com alguma coisa"}),en:e.jsx(e.Fragment,{children:"Wait for the other player to answer with something"})}):e.jsx(u,{pt:e.jsx(e.Fragment,{children:"Dê um item"}),en:e.jsx(e.Fragment,{children:"Give an item"})})}),e.jsx(k,{type:m?"wait":"action",children:m?e.jsxs(e.Fragment,{children:[e.jsx(u,{en:"You asked for an item and the other player now must deliver at least one item. If they are correct, they can try another",pt:"Você pediu um item e o outro jogador agora deve entregar pelo menos um deles. Se eles acertarem, podem tentar outro"}),e.jsx("br",{}),e.jsx(u,{en:"After delivering at least one, the player may stop and skip to the next turn",pt:"Depois de entregar pelo menos um, o jogador pode parar e pular para a próxima rodada"})]}):e.jsxs(e.Fragment,{children:[e.jsx(u,{en:"The other player asked for an item and you must deliver at least one item. If you are correct, you can try another",pt:"O outro jogador pediu um item e você deve entregar pelo menos um deles. Se você acertar, você pode tentar outro"}),e.jsx("br",{}),e.jsx(u,{en:"Click on the item one by one to deliver them. After delivering at least one, you will able to stop and skip to the next turn",pt:"Clique nos itens um por um para entregá-los. Depois de entregar pelo menos um, você poderá parar e pular para a próxima rodada"})]})}),e.jsx(w,{condition:b.deliverables?.length>0&&!m,children:e.jsxs(k,{type:"rule",children:[b.deliverables?.length>=y?e.jsx(u,{en:"You have delivered all the items you needed in this round. You can stop now or try to deliver more",pt:"Você entregou todos os itens que precisava nesta rodada. Você pode parar agora ou tentar entregar mais"}):e.jsx(u,{en:e.jsxs(e.Fragment,{children:["You have delivered ",e.jsx(De,{children:b.deliverables?.length}),"things this round. You may stop now and skip to the next turn"]}),pt:e.jsxs(e.Fragment,{children:["Você entregou ",e.jsx(De,{children:b.deliverables?.length}),"coisas essa rodada. Você pode parar agora e pular para a próxima rodada"]})}),e.jsx("br",{}),e.jsx(he,{onClick:p,type:"default",loading:o,block:!0,children:e.jsx(u,{en:"Stop",pt:"Parar"})})]})}),e.jsxs(T,{gap:8,align:"center",className:"mb-4",children:[e.jsx("div",{className:"cd-clue-quantity",children:y}),e.jsxs(Ne,{condition:c==="alien-keyboard",children:[e.jsx(B,{value:x,withTranslation:!0}),e.jsx(S,{style:{fontSize:"1.5rem",background:"white"},children:x})]})]}),e.jsxs(T,{gap:8,align:"center",children:[e.jsx(U,{deck:s,deckType:i,userId:t.id,userSide:t.side,onClick:m?void 0:f,disabled:o}),e.jsx(z,{summary:h,players:r,round:a})]}),e.jsx(w,{condition:c==="alien-keyboard",children:e.jsx(L,{children:e.jsx(_e,{value:"",onChange:()=>{},disabled:!0})})}),e.jsx(W,{history:d,players:r,deck:s,deckType:i,clueInputType:c,userSide:t.side})]})}function _t({players:r,state:t,user:n}){const{step:i}=ge(),[s,d]=rr("requesterId",t,r),m=rt(),h=tt(),a=t.history[t.history.length-1].deliverables.length>0,l=e.jsx(be,{icon:e.jsx(Pr,{}),title:d?e.jsx(u,{pt:"Você pediu!",en:"You asked for"}):e.jsx(u,{pt:"Por favor, me vê aí...",en:"Please give me..."}),currentRound:t?.round?.current,type:"overlay",duration:3,children:e.jsx($,{children:e.jsxs(Ne,{condition:t.clueInputType==="alien-keyboard",children:[e.jsx(B,{value:t.clue??""}),e.jsx(S,{style:{fontSize:"1.5rem"},children:t.clue})]})})});return e.jsx(ye,{phase:t?.phase,allowedPhase:C.DELIVER_SOMETHING,children:e.jsx(Ie,{step:i,players:r,children:e.jsx(Tt,{user:n,players:r,announcement:a?void 0:l,deckType:t.deckType,deck:t.deck,status:t.status,history:t.history,requester:s,isTheRequester:d,summary:t.summary,clueInputType:t.clueInputType,clue:t.clue,clueQuantity:t.clueQuantity,onSubmitDelivery:m,onStopDelivery:h,round:t.round})})})}function Ot({state:r,players:t,user:n}){return e.jsxs(Mr,{state:r,players:t,announcementIcon:e.jsx(Vr,{}),children:[e.jsxs(L,{vertical:!0,children:[r.status===I.WIN&&e.jsxs(e.Fragment,{children:[e.jsx(K,{level:3,children:e.jsx(u,{pt:"Vocês venceram!",en:"You won!"})}),e.jsx($,{contained:!0,children:e.jsx(u,{pt:"Vocês comunicaram todos os items",en:"You communicated all items"})})]}),r.status===I.LOSE&&e.jsxs(e.Fragment,{children:[e.jsx(K,{level:3,children:e.jsx(u,{pt:"Vocês perderam!",en:"You lost!"})}),e.jsx($,{contained:!0,children:e.jsx(u,{pt:"Alguém clicou em  um tabu",en:"Someone selected a taboo"})})]}),r.status===I.CONTINUE&&e.jsxs(e.Fragment,{children:[e.jsx(K,{level:3,children:e.jsx(u,{pt:"Vocês perderam!",en:"You lost!"})}),e.jsx($,{contained:!0,children:e.jsx(u,{pt:"As rodadas acabaram antes que vocês comunicassem todos os itens",en:"The rounds ended before you communicated all items"})})]})]}),e.jsx(Gr,{players:t,achievements:r.achievements,reference:Hr}),e.jsxs(T,{gap:8,align:"center",children:[e.jsx(U,{deck:r.deck,deckType:r.deckType,userId:n.id,userSide:n.side}),e.jsx(z,{summary:r.summary,players:t,round:r.round})]}),e.jsx(W,{history:r.history,players:t,deck:r.deck,deckType:r.deckType,clueInputType:r.clueInputType,userSide:n.side})]})}function Et(r){switch(r.phase){case C.ASKING_FOR_SOMETHING:return It;case C.DELIVER_SOMETHING:return _t;case C.VERIFICATION:return St;case Or.DEFAULT.GAME_OVER:return Ot;default:return _r}}function Xn(){return e.jsx(Tr,{gameCollection:Nr.COMUNICACAO_DUO,getActiveComponent:Et})}export{Xn as default};
