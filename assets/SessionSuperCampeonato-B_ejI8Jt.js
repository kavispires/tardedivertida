import{h as S,q as le,n as k,j as e,B as P,T as i,aP as f,o as G,b8 as ce,ch as H,r as h,b5 as de,e as m,I as U,b6 as O,co as ue,ci as me,k as K,x as he,b0 as xe}from"./index-DMpRviFJ.js";import{u as L,S as E,a as T,c as b,b as y,P as B,d as I,e as v,R as pe,k as je,j as fe,g as ge,h as Ce,i as we}from"./StepSwitcher-BOyyqvyf.js";import{L as Se}from"./ListIcon-Dw31eqvc.js";import{I as g}from"./Instruction-4geF5Vz_.js";import{R as be}from"./RoundAnnouncement-B8SCVj4L.js";import{u as F}from"./useMock-B9yLHprg.js";import{C as Q}from"./Card-UCiGeUe3.js";import{P as C}from"./PointsHighlight-D83IgHO3.js";import{R as se}from"./RuleInstruction-Cl2ylr3r.js";import{C as d}from"./CharacterCard-DLAff9-o.js";import{F as ne}from"./FloatingHand-BNbLysgN.js";import{A as ve}from"./AnonymousIcon-BTO277II.js";import{G as te,M as _e}from"./WritingIcon-HiUGBQuM.js";/* empty css                             */import{I as Ne}from"./ImageBlurButtonContainer-7IwSURp1.js";import{A as Y}from"./Avatar-jynvwvaM.js";import{T as Ee}from"./ThumbsUpIcon-WVXQQ-uF.js";import{T as re}from"./TrophyIcon-DsPyGdFO.js";import{S as W}from"./index-B-GmMO-p.js";import{P as Te}from"./index-C7i6YJCC.js";import{B as ye}from"./BoxingGlovesIcon-whHKG7Nl.js";import{u as Be}from"./useBlurCards-BvS7Vrdl.js";import{T as Ie}from"./TournamentIcon-CwxkGe8b.js";import{S as qe}from"./StepRankingWrapper-BIzCbu4V.js";import{R as Re}from"./RoundsLeftInstruction-DeUY61CK.js";import{T as Ae}from"./speech-Cp9Xfc_4.js";import{R as Oe}from"./TrophyOutlined-DVE6UTHn.js";import{G as Pe}from"./GameOverWrapper-DWJSczJq.js";import{A as ke}from"./Achievements-BDE9mGAF.js";import{a as Le}from"./achievements-BIDRAQUl.js";import{D as Z}from"./index-CF6HyVcS.js";import"./RulesModal-DlvNJmCj.js";import"./index-DUs5vw79.js";import"./PurePanel-X3sT-lIK.js";import"./Game-CVlRl6Hy.js";import"./useMutation-wq1QRmzX.js";import"./index-DOF-QZ8b.js";import"./index-D_nwPZqS.js";import"./GameBanner-DOJDsrYa.js";import"./useDevFeatures-D-omvCNO.js";import"./useTDBaseUrl-BF9foKiS.js";import"./index-CUqqnke8.js";import"./Loading-BVHjBG0o.js";import"./useBubbleLock-DEI8aExv.js";import"./AnimatedLoaderIcon-xELQUeCP.js";import"./InfoCircleOutlined-DfOnrgJ4.js";import"./SignIn-BWmFbDhv.js";import"./GoogleIcon-ChJ70cK9.js";import"./WaitingRoomIcon-95nbTb1P.js";import"./AnimatedClockIcon-QDuwGv8z.js";import"./LikeFilled-Cfd_TwJM.js";import"./StarIcon-DDIdXgNY.js";import"./MetricHighlight-CrbSbJEt.js";import"./StarFilled-DVQpdOSK.js";import"./HandOfCardsIcon-8MXLLDBN.js";import"./DivButton-CPNIsIXr.js";import"./ImageBlurButton-hsbM6Cxt.js";import"./Overflow-W-B2JFoP.js";import"./RankingBoard-aJKWIwYt.js";import"./CaretUpOutlined-uuiDu3jG.js";import"./TheEndIcon-Cu8ZcILR.js";import"./ArrowRightOutlined-CajsgOIz.js";import"./progress-DBTZE2Gk.js";import"./TitledContainer-ixR5Y0hl.js";import"./Medal-DtkesGkU.js";const j={CHALLENGE_SELECTION:"CHALLENGE_SELECTION",CONTENDER_SELECTION:"CONTENDER_SELECTION",BETS:"BETS",BATTLE:"BATTLE",RESULTS:"RESULTS"},M={SUBMIT_CHALLENGE:"SUBMIT_CHALLENGE",SUBMIT_CONTENDERS:"SUBMIT_CONTENDERS",SUBMIT_BETS:"SUBMIT_BETS",SUBMIT_VOTES:"SUBMIT_VOTES"},Fe={0:8,1:8,2:9,3:9,4:10,5:10,6:11,7:11,8:12,9:12,10:13,11:13,12:14,13:14},Me={quarter:4,semi:2,final:1,winner:0},ee={quarter:"",semi:"",final:""},R={0:"final",1:"semi",2:"quarter"};function ze(s){const{translate:n}=S(),t=L({actionName:"submit-challenge",onBeforeCall:()=>s(3),onError:()=>s(1),successMessage:n("Desafio enviado com sucesso!","Challenge send successfully!"),errorMessage:n("Vixi, o aplicativo encontrou um erro ao tentar enviar o desafio","Oops, the application failed to submit the challenge")});return r=>{t({action:M.SUBMIT_CHALLENGE,...r})}}function Ve(s){const{translate:n}=S(),t=L({actionName:"submit-contender",onBeforeCall:()=>s(2),onError:()=>s(1),successMessage:n("Competidor enviado com sucesso!","Contender send successfully!"),errorMessage:n("Vixi, o aplicativo encontrou um erro ao tentar enviar o competidor","Oops, the application failed to submit the contender")});return r=>{t({action:M.SUBMIT_CONTENDERS,...r})}}function Ue(s){const{translate:n}=S(),t=L({actionName:"submit-bets",onBeforeCall:()=>s(2),onError:()=>s(1),successMessage:n("Apostas enviadas com sucesso!","Bets send successfully!"),errorMessage:n("Vixi, o aplicativo encontrou um erro ao tentar enviar apostas","Oops, the application failed to submit bets")});return r=>{t({action:M.SUBMIT_BETS,...r})}}function We(s){const{translate:n}=S(),t=L({actionName:"submit-votes",onBeforeCall:()=>s(2),onError:()=>s(1),successMessage:n("Votos enviados com sucesso!","Votes send successfully!"),errorMessage:n("Vixi, o aplicativo encontrou um erro ao tentar enviar votos","Oops, the application failed to submit votes")});return r=>{t({action:M.SUBMIT_VOTES,...r})}}const ae=(s,n,t)=>({quarterCard:s.find(r=>r.id===n?.quarter),semiCard:s.find(r=>r.id===n?.semi),finalCard:s.find(r=>r.id===n?.final),selectedCard:s.find(r=>r.id===t)}),$e=s=>s.reduce((n,t)=>(n[t.tier]===void 0&&(n[t.tier]={}),n[t.tier][t.id]=!0,n),{}),De=(s,n,t,r)=>{const a=le.orderBy(s.filter(l=>l.tier==="quarter"),`name.${r}`);if(n==="semi"&&t.final){const l=a.find(c=>c.id===t.final);return l?a.filter(c=>l.position>3?c.position<=3:c.position>3):a}if(n==="quarter"&&t.final&&t.semi){const l=a.find(x=>x.id===t.final);if(!l)return a;const c=a.find(x=>x.id===t.semi);if(!c)return a;const o=l.position%2===0?l.position+1:l.position-1,u=c.position%2===0?c.position+1:c.position-1,w=[l.position,o,c.position,u];return a.filter(x=>!w.includes(x.position))}return a};function ie({contenders:s,onSelect:n}){const t=k(Math.max(s.length??8,5),{minWidth:100});return e.jsx(ne,{title:e.jsx(i,{pt:"Seus Competidores",en:"Your Contenders"}),children:e.jsx("ul",{className:"w-contenders-hand",children:s.map(r=>e.jsxs("li",{className:"w-contenders-hand__entry",children:[!!n&&e.jsx(P,{onClick:()=>n(r.id),shape:"round",ghost:!0,className:"w-contenders-hand__button",children:e.jsx(i,{pt:"Selecionar",en:"Select"})}),e.jsx(d,{character:r,overlayColor:"gray",size:t})]},r.id))})})}function Ge({onSubmitChallenge:s,challenges:n,userContenders:t,round:r,announcement:a}){return F(),e.jsxs(E,{fullWidth:!0,announcement:a,children:[e.jsx(T,{children:e.jsx(i,{pt:"Selecione o desafio da rodada",en:"Select the theme for the round"})}),e.jsxs(se,{type:"rule",children:[e.jsx(i,{pt:e.jsx(e.Fragment,{children:"Cada rodada é feita ao redor de um desafio."}),en:e.jsx(e.Fragment,{children:"Each round has a challenge for the contenders to battle on!"})}),t.length>1&&e.jsx(i,{pt:e.jsx(e.Fragment,{children:" Você tem competidores em mãos (na barra abaixo) e um deles irá participar desta rodada."}),en:e.jsx(e.Fragment,{children:" You have a hand of contenders and one of them will participate in this round."})}),t.length===0&&e.jsx(i,{pt:e.jsx(e.Fragment,{children:" Selecione um dos desafios."}),en:e.jsx(e.Fragment,{children:" Select one of the challenges."})}),t.length>1&&r.current<5?e.jsx(i,{pt:e.jsxs(e.Fragment,{children:[e.jsx("br",{}),"Selecione o desafio que você acha que um dos seus competidores tem mais change de vencer.",e.jsx("br",{}),"Você ganha ",e.jsx(C,{children:"2"})," pontos se ele(a) vencer."]}),en:e.jsxs(e.Fragment,{children:[e.jsx("br",{}),"Select a challenge you think one of your contenders have the best chance of winning.",e.jsx("br",{}),"You get ",e.jsx(C,{children:"2"})," points if they win."]})}):e.jsx(i,{pt:e.jsxs(e.Fragment,{children:[e.jsx("br",{}),"Este é uma rodada de semifinalistas, então somente competidores que chegaram na semi-final participam.",e.jsx("br",{}),"Você não selecionará um competidor dessa vez."]}),en:e.jsxs(e.Fragment,{children:[e.jsx("br",{}),"This is a semifinalist round, so only contenders that got to the semifinals will participate.",e.jsx("br",{}),"You won't select a contender this time."]})})]}),e.jsx(f,{children:n.map((l,c)=>e.jsx(G,{onClick:()=>s({challengeId:l.id}),children:e.jsx(Q,{header:ce[c],randomColor:!0,children:l.text})},l.id))}),r.current<5&&t.length>1&&e.jsx(ie,{contenders:t})]})}function He({state:s,players:n}){const{step:t,goToNextStep:r,setStep:a}=b(0),l=y(n,s),c=ze(a),o=e.jsx(B,{icon:e.jsx(Se,{}),title:e.jsx(i,{pt:"Desafio",en:"Challenge"}),currentRound:s?.round?.current,duration:5,type:"overlay",children:e.jsx(g,{children:e.jsx(i,{pt:"Qual o desafio da rodada?",en:"What's the round's challenge?"})})});return e.jsx(I,{phase:s?.phase,allowedPhase:j.CHALLENGE_SELECTION,children:e.jsxs(v,{step:t,players:n,children:[e.jsx(be,{round:s.round,onPressButton:r,time:4,children:e.jsx(g,{contained:!0,children:s.round.current===s.round.total?e.jsx(i,{pt:"Rodada final: Somente os finalistas!",en:"Final Round: Only finalists"}):e.jsx(i,{pt:"Quem vai ganhar a medalha de ouro?",en:"Who's gonna get the gold medal?"})})}),e.jsx(Ge,{onSubmitChallenge:c,challenges:s.challenges,userContenders:l.contenders,round:s.round,announcement:o})]})})}function z({challenge:s}){const{translate:n}=S();return e.jsx(f,{children:e.jsx(Q,{header:n("Desafio","Challenge"),color:"purple",children:s.text})})}function Qe({onSubmitContender:s,challenge:n,userContenders:t,announcement:r}){const a=k(Math.max(t.length??8,5),{minWidth:100});return F(),e.jsxs(E,{fullWidth:!0,announcement:r,children:[e.jsx(T,{children:e.jsx(i,{pt:"Quem pode ganhar esse desafio?",en:"Who can win this challenge?"})}),e.jsx(z,{challenge:n}),e.jsx(se,{type:"action",children:e.jsx(i,{pt:"Selecione um de seus competidores para entrar no campeonato",en:"Select one of your contenders to join the championship"})}),e.jsx("ul",{className:"w-contenders-hand",children:t.map(l=>e.jsxs("li",{className:"w-contenders-hand__entry",children:[e.jsx(H,{onClick:()=>s({contendersId:l.id}),shape:"round",type:"default",ghost:!0,className:"w-contenders-hand__button",children:e.jsx(i,{pt:"Selecionar",en:"Select"})}),e.jsx(d,{character:l,overlayColor:"gray",size:a})]},l.id))})]})}function Ye({state:s,players:n}){const{step:t,setStep:r}=b(0),a=y(n,s),l=Ve(r),c=e.jsx(B,{icon:e.jsx(ve,{}),title:e.jsx(i,{pt:"Competidores",en:"Contenders"}),type:"overlay",currentRound:s?.round?.current,duration:5,children:e.jsx(g,{children:e.jsx(i,{pt:"Quem tem chance de ganhar?",en:"Who has what it takes?"})})});return e.jsx(I,{phase:s?.phase,allowedPhase:j.CONTENDER_SELECTION,children:e.jsx(v,{step:t,players:n,waitingRoom:{content:e.jsx(ie,{contenders:a.contenders})},children:e.jsx(Qe,{onSubmitContender:l,challenge:s.challenge,userContenders:a.contenders,announcement:c})})})}function V({bets:s,brackets:n,selectedContenderId:t=""}){const r=k(5,{minWidth:100}),{quarterCard:a,semiCard:l,finalCard:c,selectedCard:o}=h.useMemo(()=>ae(n,s,t),[s?.final,s?.quarter,s?.semi]);return!a||!l||!c?null:e.jsx(ne,{title:e.jsx(i,{pt:"Suas Apostas",en:"Your Bets"}),icon:e.jsx(te,{}),children:e.jsx("div",{className:"w-bets-floating-hand",children:e.jsxs("ul",{className:"w-floating-bets",children:[e.jsxs("li",{className:"w-floating-bets__entry",children:[e.jsx("span",{className:"w-floating-bets__label",children:e.jsx(i,{pt:"Quartas de finais",en:"Quarterfinals"})}),e.jsx(d,{character:a,overlayColor:"gray",size:r})]}),e.jsxs("li",{className:"w-floating-bets__entry",children:[e.jsx("span",{className:"w-floating-bets__label",children:e.jsx(i,{pt:"Semifinais",en:"Semifinals"})}),e.jsx(d,{character:l,overlayColor:"gray",size:r})]}),e.jsxs("li",{className:"w-floating-bets__entry",children:[e.jsx("span",{className:"w-floating-bets__label",children:e.jsx(i,{pt:"Final",en:"Final"})}),e.jsx(d,{character:c,overlayColor:"gray",size:r})]}),!!o&&e.jsxs("li",{className:"w-floating-bets__entry w-floating-bets__entry--your-contender",children:[e.jsx("span",{className:"w-floating-bets__label",children:e.jsx(i,{pt:"Seu competidor",en:"Your contender"})}),e.jsx(Ne,{cardId:o.id,children:e.jsx(d,{character:o,overlayColor:"gray",size:r})})]})]})})})}function A({bracket:s,players:n}){return(s.votes??[]).length>0?e.jsx(de.Group,{className:"w-contender-votes",max:{count:3},size:"small",children:s.votes?.map(t=>e.jsx(Y,{size:"small",id:n[t].avatarId,alt:n[t].name},`${s.id}-${s.votes}`))}):null}const Xe=(s,n)=>n==="semi"?s%2===0?"orange":"green":s%2===0?"red":"blue";function X({brackets:s,activeTier:n,players:t}){const{quarter:r,semi:a,final:l,winner:c}=s.reduce((o,u)=>(o[u.tier].push(u),o),{quarter:[],semi:[],final:[],winner:[]});return e.jsxs("div",{className:"w-brackets-container",children:[e.jsxs("div",{className:"tournament-headers",children:[e.jsx("h3",{children:e.jsx(i,{pt:"Quartas",en:"Quarter-finals"})}),e.jsx("h3",{children:e.jsx(i,{pt:"Semifinais",en:"Semifinals"})}),e.jsx("h3",{children:e.jsx(i,{pt:"Final",en:"Final"})}),e.jsx("h3",{children:e.jsx(i,{pt:"Campeão",en:"Winner"})})]}),e.jsxs("div",{className:"w-tournament-brackets",children:[e.jsx("ul",{className:"w-bracket w-bracket--1",children:r.map((o,u)=>e.jsxs("li",{className:m("w-team-item",o.win&&"w-team-item--win"),children:[e.jsx(d,{size:100,overlayColor:n===o.tier?Xe(u,n):"gray",character:{id:o.id,name:o.name,description:o.description},className:"w-bracket-contender"}),e.jsx(A,{bracket:o,players:t})]},`${o.id}-${o.position}`))}),e.jsx("ul",{className:"w-bracket w-bracket--2",children:a.map(o=>e.jsxs("li",{className:m("w-team-item",o.win&&"w-team-item--win"),children:[e.jsx(d,{size:100,overlayColor:"gray",character:{id:o.id,name:o.name},className:"w-bracket-contender"}),e.jsx(A,{bracket:o,players:t})]},`${o.id}-${o.position}`))}),e.jsx("ul",{className:"w-bracket w-bracket--3",children:l.map(o=>e.jsxs("li",{className:m("w-team-item",o.win&&"w-team-item--win"),children:[e.jsx(d,{size:100,overlayColor:"gray",character:{id:o.id,name:o.name},className:"w-bracket-contender"}),e.jsx(A,{bracket:o,players:t})]},`${o.id}-${o.position}`))}),e.jsx("ul",{className:"w-bracket w-bracket--4",children:c.map(o=>e.jsxs("li",{className:m("w-team-item",o.name.pt!=="TBD"&&"w-team-item--win"),children:[e.jsx(d,{size:100,overlayColor:o.name.pt!=="TBD"?"yellow":"gray",character:{id:o.id,name:o.name},className:"w-bracket-contender"}),e.jsx(A,{bracket:o,players:t})]},`${o.id}-${o.position}`))})]})]})}function $({contenders:s,updateBet:n,language:t,betTier:r}){return e.jsxs(W,{className:"w-bet-form__select",defaultValue:"",onChange:a=>n({[r]:a}),children:[e.jsx(W.Option,{value:"",children:e.jsx(i,{pt:"Selecione",en:"Select"})}),s.map(a=>e.jsx(W.Option,{value:a.id,children:a.name[t]},`option-${r}-${a.id}`))]})}function D({onConfirm:s}){return e.jsx(Te,{title:e.jsx(i,{pt:"Tem certeza que quer reiniciar apostas?",en:"Are you sure you want to restart the bets?"}),onConfirm:s,okText:e.jsx(i,{pt:"Sim",en:"Yes"}),cancelText:e.jsx(i,{pt:"Não",en:"No"}),children:e.jsx(P,{children:e.jsx(i,{pt:"Reiniciar",en:"Reset"})})})}function Je({brackets:s,onSubmitBets:n}){const{language:t}=S(),[r,a]=h.useState(0),[l,c]=h.useState([]),[o,u]=h.useState(ee),w=()=>{a(0),u(ee)},x=N=>{u(q=>({...q,...N}))};h.useEffect(()=>{c(De(s,R[r],o,t))},[s,r,o,t]);const _=l.filter(N=>!Object.values(o).includes(N.id));return e.jsxs("div",{className:"w-bet-form",children:[r===0&&e.jsxs(g,{contained:!0,className:m("w-bet-form__container","w-bet-form__container--final",O("zoomIn")),children:[e.jsx(U,{icon:e.jsx(re,{}),size:"large"}),e.jsx("p",{className:"w-bet-form__instruction",children:e.jsx(i,{pt:e.jsxs(e.Fragment,{children:["Selecione o competidor que você acha que ",e.jsx("u",{children:"vai ganhar a final"}),".",e.jsx("br",{}),"Se ele ganhar, você recebe ",e.jsx(C,{children:"5"})," pontos."]}),en:e.jsxs(e.Fragment,{children:["Select the contender you think will ",e.jsx("u",{children:"win the final"}),".",e.jsx("br",{}),"If they win, you gain ",e.jsx(C,{children:"5"})," points."]})})}),e.jsx($,{contenders:_,updateBet:x,language:t,betTier:R[r]}),e.jsxs(f,{children:[e.jsx(D,{onConfirm:w}),e.jsx(P,{onClick:()=>a(r+1),disabled:!o.final,type:"primary",children:e.jsx(i,{pt:"Próximo",en:"Next"})})]})]}),r===1&&e.jsxs(g,{contained:!0,className:m("w-bet-form__container","w-bet-form__container--semi",O("zoomIn")),children:[e.jsx(U,{icon:e.jsx(_e,{}),size:"large"}),e.jsx("p",{className:"w-bet-form__instruction",children:e.jsx(i,{pt:e.jsxs(e.Fragment,{children:["Selecione o competidor que você acha que ganha uma ",e.jsx("u",{children:"semifinal"}),".",e.jsx("br",{}),"Se ele ganhar, você recebe ",e.jsx(C,{children:"3"})," pontos."]}),en:e.jsxs(e.Fragment,{children:["Select the contender you think will win at least a ",e.jsx("u",{children:"semifinal"}),".",e.jsx("br",{}),"If they win, you gain ",e.jsx(C,{children:"3"})," points."]})})}),e.jsx($,{contenders:_,updateBet:x,language:t,betTier:R[r]}),e.jsxs(f,{children:[e.jsx(D,{onConfirm:w}),e.jsx(P,{onClick:()=>a(r+1),disabled:!o.semi,type:"primary",children:e.jsx(i,{pt:"Próximo",en:"Next"})})]})]}),r===2&&e.jsxs(g,{contained:!0,className:m("w-bet-form__container","w-bet-form__container--quarter",O("zoomIn")),children:[e.jsx(U,{icon:e.jsx(Ee,{}),size:"large"}),e.jsx("p",{className:"w-bet-form__instruction",children:e.jsx(i,{pt:e.jsxs(e.Fragment,{children:["Selecione o competidor que você acha que ganha uma ",e.jsx("u",{children:"quarta de final"}),".",e.jsx("br",{}),"Se ele ganhar, você recebe ",e.jsx(C,{children:"1"})," pontos."]}),en:e.jsxs(e.Fragment,{children:["Select the contender you think will win at least a ",e.jsx("u",{children:"quarterfinal"}),".",e.jsx("br",{}),"If they win, you gain ",e.jsx(C,{children:"1"})," points."]})})}),e.jsx($,{contenders:_,updateBet:x,language:t,betTier:R[r]}),e.jsxs(f,{children:[e.jsx(D,{onConfirm:w}),e.jsx(H,{onClick:()=>n(o),disabled:!o.quarter,children:e.jsx(i,{pt:"Enviar Apostas",en:"Submit Bets"})})]})]})]})}function Ke({onSubmitBets:s,challenge:n,brackets:t,players:r,announcement:a}){return F(),e.jsxs(E,{fullWidth:!0,announcement:a,children:[e.jsx(T,{children:e.jsx(i,{pt:"Faça suas apostas!",en:"Make your bets!"})}),e.jsx(z,{challenge:n}),e.jsx(Je,{brackets:t,onSubmitBets:s}),e.jsx(X,{brackets:t,activeTier:"quarter",players:r})]})}function Ze({state:s,players:n}){const{step:t,setStep:r}=b(0),a=y(n,s),l=Ue(r),c=e.jsx(B,{icon:e.jsx(te,{}),title:e.jsx(i,{pt:"Apostas",en:"Bets"}),type:"overlay",currentRound:s?.round?.current,duration:5,children:e.jsx(g,{children:e.jsx(i,{pt:"Selecione quem você acha que ganha as quartas de final, semi final e final",en:"Place bet on who you think will win the quarter-finals, semifinals, and finals"})})});return e.jsx(I,{phase:s?.phase,allowedPhase:j.BETS,children:e.jsx(v,{step:t,players:n,waitingRoom:{content:!!a.bets?.final&&e.jsx(V,{bets:a.bets,brackets:s.brackets,selectedContenderId:a.selectedContenderId})},children:e.jsx(Ke,{onSubmitBets:l,challenge:s.challenge,brackets:s.brackets,players:n,announcement:c})})})}function es({tier:s}){return s==="quarter"?e.jsx(i,{pt:"Quartas de finais",en:"Quarterfinals"}):s==="semi"?e.jsx(i,{pt:"Semifinais",en:"Semifinals"}):e.jsx(i,{pt:"Final",en:"Final"})}function ss(s){const[n,t]=h.useState({});function r(l){t(c=>({...c,[Fe[l.position]]:l.position}))}function a(l){return Object.values(n).includes(l)}return{votes:n,updateVote:r,isComplete:Object.keys(n).length===Me[s],checkActiveVote:a}}function ns({contenders:s}){const n=s.flat(),t=k(n.length+2,{gap:16,minWidth:30,maxWidth:100});return e.jsx("ul",{className:"w-tier-contenders",children:n.map(r=>e.jsx("li",{className:"w-tier-contender",children:e.jsx(d,{character:r,overlayColor:"gray",size:t})},`w-tier-contender-${r.id}`))})}function ts({brackets:s,tier:n,onSubmitVotes:t,players:r,bets:a}){const{step:l,goToNextStep:c}=b(0),{seconds:o}=Be({duration:5,autoStart:!0,onExpire:c}),u=h.useMemo(()=>s.filter(p=>p.tier===n).map((p,J,oe)=>J%2===0?[p,oe[J+1]]:[]).filter(p=>p.length>0),[s,n]),{votes:w,updateVote:x,isComplete:_,checkActiveVote:N}=ss(n),q=as(n);return F(),e.jsxs(v,{step:l,players:r,children:[e.jsxs(g,{contained:!0,children:[e.jsx("p",{children:n==="quarter"?e.jsx(i,{pt:"Competidores:",en:"Contenders:"}):e.jsx(i,{pt:"Foram para a próxima fase:",en:"Moved to the next bracket:"})}),e.jsx(ns,{contenders:u}),e.jsx("p",{children:e.jsx(i,{pt:e.jsxs(e.Fragment,{children:["Votação começando em ",o]}),en:e.jsxs(e.Fragment,{children:["Voting starting in ",o]})})})]}),e.jsxs("div",{children:[e.jsx("ul",{className:"w-voting-group",children:u.map(p=>e.jsx(rs,{left:p[0],right:p[1],onClick:x,colorLeft:q.left,colorRight:q.right,checkActiveVote:N},`${p[0].id}-${p[1].id}`))}),e.jsx(f,{children:e.jsx(H,{size:"large",onClick:()=>t({votes:w}),disabled:!_,children:e.jsx(i,{pt:"Enviar votos",en:"Submit votes"})})})]})]})}function rs({left:s,right:n,colorLeft:t,colorRight:r,onClick:a,checkActiveVote:l}){return e.jsxs("li",{className:m("w-voting-options",O("flipInX")),children:[e.jsx(G,{onClick:()=>a(s),active:l(s.position),className:"w-vote",activeClass:"w-vote--active",children:e.jsx(d,{size:200,character:s,overlayColor:t})}),e.jsx("span",{className:"w-voting-options__vs",children:"VS"}),e.jsx(G,{onClick:()=>a(n),active:l(n.position),className:"w-vote",activeClass:"w-vote--active",children:e.jsx(d,{size:200,character:n,overlayColor:r})})]})}const as=s=>{switch(s){case"quarter":return{left:"red",right:"blue"};case"semi":return{left:"green",right:"orange"};default:return{left:"red",right:"blue"}}};function is({onSubmitVotes:s,challenge:n,brackets:t,tier:r,bets:a,selectedContenderId:l,players:c,announcement:o}){return e.jsxs(E,{fullWidth:!0,announcement:o,children:[e.jsx(T,{children:e.jsx(es,{tier:r})}),e.jsx(z,{challenge:n}),e.jsx(ts,{brackets:t,tier:r,onSubmitVotes:s,players:c,bets:a}),e.jsx(X,{brackets:t,activeTier:r,players:c}),e.jsx(pe,{players:c}),e.jsx(V,{bets:a,brackets:t,selectedContenderId:l})]})}function os({state:s,players:n}){const{step:t,setStep:r}=b(0),[a,l]=h.useState(""),c=y(n,s),o=We(r);h.useEffect(()=>{s.tier!==a&&(l(s.tier),r(0))},[s.tier,a,r]);const u=e.jsx(B,{icon:e.jsx(ye,{}),title:e.jsx(i,{pt:"Batalha!",en:"Battle!"}),type:"overlay",currentRound:s?.round?.current,duration:3,children:e.jsx(g,{children:e.jsx(i,{pt:"Vote em quem você acha que melhor se encaixa no desafio",en:"Vote on who you think best fit the challenge"})})});return e.jsx(I,{phase:s?.phase,allowedPhase:j.BATTLE,children:e.jsx(v,{step:t,players:n,children:e.jsx(is,{onSubmitVotes:o,challenge:s.challenge,brackets:s.brackets,tier:s.tier,bets:c.bets,selectedContenderId:c.selectedContenderId,players:n,announcement:u})})})}function ls({players:s,brackets:n}){const t=ue(s),r=$e(n);return e.jsxs("ul",{className:"w-players-bets",style:{gridTemplateColumns:`repeat(${t.length+1}, auto)`},children:[e.jsxs("li",{className:"w-players-bets__player w-players-bets__player--header",children:[e.jsx("div",{className:"w-players-bets__square",children:e.jsx(Y,{shape:"square",size:"large",className:"w-players-bets__avatar",id:"N"})}),e.jsx("div",{className:"w-players-bets__square",children:e.jsx(i,{pt:"Final",en:"Final"})}),e.jsx("div",{className:"w-players-bets__square",children:e.jsx(i,{pt:"Semi",en:"Semi"})}),e.jsx("div",{className:"w-players-bets__square",children:e.jsx(i,{pt:"Quartas",en:"Quarter"})}),e.jsx("div",{className:"w-players-bets__square",children:e.jsx(i,{pt:"Competidor",en:"Contender"})})]}),t.map(a=>e.jsx(cs,{brackets:n,player:a,contendersByTiers:r},`players-bets-${a.id}`))]})}function cs({player:s,brackets:n,contendersByTiers:t}){const{quarterCard:r,semiCard:a,finalCard:l,selectedCard:c}=h.useMemo(()=>ae(n,s.bets,s.selectedContenderId),[n,s.bets,s.selectedContenderId]);return!r||!a||!l?null:e.jsxs("li",{className:"w-players-bets__player",style:{backgroundColor:me(s.avatarId)},children:[e.jsx("div",{className:"w-players-bets__square",children:e.jsx(Y,{shape:"square",size:"large",className:"w-players-bets__avatar",id:s.avatarId})}),e.jsx("div",{className:m("w-players-bets__square",t.winner[l.id]&&"w-players-bets__square--win"),children:e.jsx(d,{size:50,overlayColor:t.winner[l.id]?"yellow":"gray",character:l,hideName:!0})}),e.jsx("div",{className:m("w-players-bets__square",t.final[a.id]&&"w-players-bets__square--win"),children:e.jsx(d,{size:50,overlayColor:t.final[a.id]?"yellow":"gray",character:a,hideName:!0})}),e.jsx("div",{className:m("w-players-bets__square",t.semi[r.id]&&"w-players-bets__square--win"),children:e.jsx(d,{size:50,overlayColor:t.semi[r.id]?"yellow":"gray",character:r,hideName:!0})}),c?e.jsx("div",{className:m("w-players-bets__square",t.winner[c.id]&&"w-players-bets__square--win"),children:e.jsx(d,{size:50,overlayColor:t.winner[c.id]?"yellow":"gray",character:c,hideName:!0})}):e.jsx("div",{className:m("w-players-bets__square","w-players-bets__square--none"),children:"-"})]},`players-bets-${s.id}`)}function ds({players:s,ranking:n,isGameOver:t,round:r,brackets:a,bets:l,selectedContenderId:c}){return e.jsxs(qe,{players:s,ranking:n,gainedPointsDescriptions:[e.jsx(i,{pt:"Apostou na final corretamente",en:"Correct final bet"},"1"),e.jsx(i,{pt:"Apostou nas semifinais corretamente",en:"Correct semifinal bet"},"2"),e.jsx(i,{pt:"Apostou nas quartas de finais corretamente",en:"Correct quarterfinal bet"},"3"),e.jsx(i,{pt:"Seu competidor ganhou",en:"Your competitor won"},"4")],children:[!t&&e.jsx(Re,{round:r}),e.jsx(ls,{players:s,brackets:a}),e.jsx(je,{round:r}),e.jsx(X,{brackets:a,activeTier:"winner",players:s}),e.jsx(V,{bets:l,brackets:a,selectedContenderId:c})]})}function us({challenge:s,brackets:n,bets:t,goToNextStep:r,selectedContenderId:a,announcement:l}){return fe(),e.jsxs(E,{fullWidth:!0,announcement:l,children:[e.jsx(T,{children:e.jsx(i,{pt:"Vencedor",en:"Winner"})}),e.jsx(z,{challenge:s}),e.jsx(f,{className:"margin",children:e.jsx(d,{size:200,overlayColor:"yellow",character:n[n.length-1]})}),e.jsx(f,{children:e.jsx(Ae,{duration:7,icon:e.jsx(Oe,{}),onExpire:r,onClick:r,children:e.jsx(i,{pt:"Ver Ranking",en:"See Ranking"})})}),e.jsx(V,{bets:t,brackets:n,selectedContenderId:a})]})}function ms({state:s,players:n}){const{step:t,goToNextStep:r,setStep:a}=b(0),[l,c]=h.useState(""),o=y(n,s);h.useEffect(()=>{s.tier!==l&&(c(s.tier),a(0))},[s.tier,l,a]);const u=e.jsx(B,{icon:e.jsx(Ie,{}),title:e.jsx(i,{pt:"Resultado!",en:"Results!"}),type:"overlay",currentRound:s?.round?.current,duration:3,children:e.jsx(g,{children:e.jsx(i,{pt:"Só pode haver um...",en:"There's only one..."})})});return e.jsx(I,{phase:s?.phase,allowedPhase:j.RESULTS,children:e.jsxs(v,{step:t,players:n,children:[e.jsx(us,{brackets:s.brackets,challenge:s.challenge,bets:o.bets,goToNextStep:r,selectedContenderId:o.selectedContenderId,announcement:u}),e.jsx(ds,{players:n,ranking:s.ranking,isGameOver:!1,round:s.round,brackets:s.brackets,bets:o.bets,selectedContenderId:o.selectedContenderId})]})})}function hs({state:s,players:n}){const t=s.pastBattles,{translate:r}=S();return e.jsxs(Pe,{state:s,players:n,announcementIcon:e.jsx(re,{}),children:[e.jsx(K,{size:"xx-small",className:"padding",children:e.jsx(i,{pt:"Campeão Ultimate",en:"Ultimate Champion"})}),e.jsx(f,{className:"margin",children:e.jsx(d,{size:200,overlayColor:"yellow",character:s.finalWinner})}),e.jsx(Z,{}),e.jsx(ke,{players:n,achievements:s.achievements,reference:Le}),e.jsx(Z,{}),e.jsx(K,{size:"xx-small",className:"padding",children:e.jsx(i,{pt:"Resumo das Batalhas",en:"Battles Summary"})}),e.jsx(f,{className:"margin",children:t.map(a=>e.jsxs(he,{direction:"vertical",align:"center",className:"final-gallery",children:[e.jsx(Q,{header:r("Desafio","Challenge"),color:"purple",className:"final-gallery__card",children:a.challenge.text}),a.contenders.map((l,c)=>e.jsx(d,{size:80,overlayColor:c===0?"yellow":"gray",character:l,className:"final-gallery__contender"},`${a.challenge.id}-${l.id}`))]},a.challenge.id))})]})}function xs(s){switch(s.phase){case j.CHALLENGE_SELECTION:return He;case j.CONTENDER_SELECTION:return Ye;case j.BETS:return Ze;case j.BATTLE:return os;case j.RESULTS:return ms;case we.DEFAULT.GAME_OVER:return hs;default:return Ce}}function Tn(){return e.jsx(ge,{gameCollection:xe.SUPER_CAMPEONATO,getActiveComponent:xs})}export{Tn as default};
