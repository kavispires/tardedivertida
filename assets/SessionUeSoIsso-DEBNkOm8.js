import{h as b,j as e,k as q,T as o,I as R,r as O,cj as Ne,aP as _,q as le,c8 as Pe,b8 as Z,e as L,cp as Ue,b5 as Ge,cZ as de,x as Y,J as ue,aM as pe,gp as Fe,ch as z,bJ as ee,bK as se,R as We,O as Ve,b6 as me,B as re,cd as Me,b0 as Be}from"./index-D-4we-Vq.js";import{u as U,S as y,n as xe,a as A,c as G,P as F,d as W,e as V,b as He,l as he,H as je,m as ke,k as ge,g as qe,h as ze,i as De}from"./StepSwitcher-I-lnjbRH.js";import{u as E}from"./useWhichPlayerIsThe-blCsyUWx.js";import{O as $e}from"./OpinionsIcon-DaNrYFzx.js";import{A as x}from"./AvatarName-COau_H3x.js";import{I}from"./useDevFeatures-BINfYcee.js";import{R as Le}from"./RoundAnnouncement-CJHl__Sh.js";import{V as P}from"./ViewOr-Bx1kDirb.js";import{B as ve}from"./BoxBlankIcon-Dj6V4k7I.js";import{B as fe}from"./BoxCheckMarkIcon-B-wKf5QR.js";import{B as Ye}from"./BoxQuestionMarkIcon-1mwxlOTs.js";import{B as J}from"./BoxXIcon-CtEQKxf9.js";import{P as j}from"./PointsHighlight-7NMF0QKF.js";import{T as Se}from"./TurnOrder-ByVXJv2-.js";import{P as Je}from"./progress-D7lJcItY.js";import{T as Ke}from"./speech-w3179Pm8.js";import{R as f}from"./RuleInstruction-D5hxARTv.js";import{R as Qe}from"./CloudUploadOutlined-BDRcG-hX.js";import{W as be}from"./WritingIcon-BqhGyCrX.js";import{S as C}from"./SuggestionEasel-CCtAjIV7.js";import{u as Xe}from"./useMock-CHSOqb56.js";import{D as Ze}from"./DevButton-BUWrpiul.js";import{C as es}from"./ControlledInputWriting-CSXGXw_u.js";import{C as ye}from"./Card-CxTTpSze.js";import{R as ss}from"./WarningOutlined-BQV0F8no.js";import{M as Ie}from"./MetricHighlight-CzEfni0H.js";import{V as rs}from"./VerifyListIcon-B6WzNz6R.js";import{m as we}from"./messageContent-DCtrsXO-.js";import{P as ns}from"./PopoverRule-D0H3ttdA.js";import{V as D}from"./ViewIf-qgMpzyEs.js";import{A as $}from"./Avatar-Cdr6gfU8.js";import{G as ts}from"./GuessIcon-CmLWX5fh.js";import{u as Te}from"./DebugOnly-DEmtF63I.js";import{T as Oe}from"./TimerBar-BzUUihHB.js";import{T}from"./TextHighlight-Ch8p-j9f.js";import{R as os}from"./MinusOutlined-D8XRqda1.js";import{S as as}from"./SpeechBubbleIcon-BE_AbZk8.js";import{F as is}from"./FlagIcon-W5PwEI1S.js";import"./GameBanner-BTD3AmyA.js";import{G as cs}from"./GameOverWrapper-DYC3VO5a.js";import{A as ls}from"./Achievements-CsQ5dsy6.js";import{T as ds}from"./TitledContainer-DiLhp-EO.js";import{a as us}from"./achievements-qAk8QZBN.js";import{A as ps}from"./AnimatedProcessingIcon-DbqC21N1.js";/* empty css                            */import"./RulesModal-YIYG5Cyn.js";import"./index-BGYUOUu6.js";import"./PurePanel-DVWVaPps.js";import"./Game-DmsOgdGH.js";import"./useMutation-BTway68E.js";import"./index-BxK7djCV.js";import"./index-DdMroFYC.js";import"./Overflow-gB0Zmj24.js";import"./index-D1snMmRr.js";import"./index-DlKJnXUl.js";import"./useTDBaseUrl-BF9foKiS.js";import"./index-DEP1g_jx.js";import"./Loading-jcAvboY8.js";import"./useBubbleLock-P0htYNxA.js";import"./AnimatedLoaderIcon-CGARUUcL.js";import"./InfoCircleOutlined-BuGLSfBY.js";import"./index-Duhzw4Ox.js";import"./SignIn-BJTte-r3.js";import"./GoogleIcon-WXbXrVoL.js";import"./WaitingRoomIcon-BvJHaJkn.js";import"./AnimatedClockIcon--8XBy9hb.js";import"./LikeFilled-C7x2n0L7.js";import"./StarIcon-EGRUrGxD.js";import"./StarFilled-De1NKtFX.js";import"./VideoGameControllerIcon-C7AqT082.js";import"./TheEndIcon-DGBf1g4r.js";import"./ArrowRightOutlined-BFxiNqYH.js";import"./Medal-CoGzG9uR.js";const g={WORD_SELECTION:"WORD_SELECTION",SUGGEST:"SUGGEST",COMPARE:"COMPARE",GUESS:"GUESS",VERIFY_GUESS:"VERIFY_GUESS",RESULT:"RESULT"},M={SUBMIT_VOTES:"SUBMIT_VOTES",SUBMIT_SUGGESTIONS:"SUBMIT_SUGGESTIONS",SUBMIT_OUTCOME:"SUBMIT_OUTCOME",VALIDATE_SUGGESTION:"VALIDATE_SUGGESTION",SEND_GUESS:"SEND_GUESS",SUBMIT_VALIDATION:"SUBMIT_VALIDATION"},k=120;function ms(s){const{translate:r}=b(),n=U({actionName:"submit-votes",onBeforeCall:()=>s(3),onError:()=>s(1),successMessage:r("Votos enviados com sucesso!","Votes send successfully!"),errorMessage:r("Vixi, o aplicativo encontrou um erro ao tentar enviar seus votos","Oops, the application failed to send your votes")});return t=>{n({action:M.SUBMIT_VOTES,...t})}}function xs(s){const{translate:r}=b(),n=U({actionName:"submit-suggestion",onBeforeCall:()=>s(2),onError:()=>s(1),successMessage:r("Dicas enviada com sucesso!","Suggestions sent successfully!"),errorMessage:r("Vixi, o aplicativo encontrou um erro ao tentar enviar suas dicas","Oops, the application failed to send your suggestions")});return t=>{n({action:M.SUBMIT_SUGGESTIONS,...t})}}function hs(s){const{translate:r}=b(),n=U({actionName:"submit-validations",onBeforeCall:()=>s(2),onError:()=>s(1),successMessage:r("Validação enviada com sucesso!","Validation sent successfully!"),errorMessage:r("Vixi, o aplicativo encontrou um erro ao tentar enviar a validação das sugestões","Oops, the application failed to send the validation")});return t=>{n({action:M.SUBMIT_VALIDATION,...t})}}function js(){const{translate:s}=b(),r=U({actionName:"validate-suggestion",successMessage:s("Atualizado!","Updated!"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar atualizar","Oops, the application failed to update")});return n=>{r({action:M.VALIDATE_SUGGESTION,...n})}}function Ee(s){const{translate:r}=b(),n=U({actionName:"submit-outcome",onBeforeCall:()=>s(3),onError:()=>s(0),successMessage:r("Resultado enviado com sucesso!","Outcome sent successfully!"),errorMessage:r("Vixi, o aplicativo encontrou um erro ao tentar enviar o resultado","Oops, the application failed to submit the outcome")});return t=>{n({action:M.SUBMIT_OUTCOME,...t})}}function gs(){const{translate:s}=b(),r=U({actionName:"send-guess",successMessage:s("Chute enviado!","Guess sent!"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar atualizar","Oops, the application failed to update")});return n=>{r({action:M.SEND_GUESS,...n})}}function Re({group:s}){const r=Array(10).fill(0).map((n,t)=>s.attempts?.[n+t]??"UNKNOWN");return e.jsxs("div",{className:"u-group-progress",children:[e.jsx(q,{size:"xx-small",level:5,className:"u-group-progress__title",children:e.jsx(o,{pt:"Progresso:",en:"Group Progress"})}),e.jsx("ol",{className:"u-group-progress__bar",children:r.map((n,t)=>{const i=`attempt-${t}`;return e.jsxs("li",{className:"u-group-progress__item",children:[e.jsx("div",{className:"u-group-progress__label",children:t+1}),e.jsxs("div",{className:"u-group-progress__result",children:[n==="CORRECT"&&e.jsx(R,{icon:e.jsx(fe,{})}),n==="WRONG"&&e.jsx(R,{icon:e.jsx(J,{})}),n==="PASS"&&e.jsx(R,{icon:e.jsx(ve,{})}),n==="UNKNOWN"&&e.jsx(R,{icon:e.jsx(Ye,{}),className:"u-group-progress__unknown"})]})]},i)})}),e.jsxs("span",{children:[e.jsx(o,{pt:"Pontuação:",en:"Score:"}),e.jsxs(j,{children:[s.score??0,"/",s.goal]})]})]})}function K({players:s,instructionSuffix:r,announcement:n,phase:t,turnOrder:i,guesser:c}){const{language:a,translate:l}=b(),u=O.useMemo(()=>t===g.WORD_SELECTION?0:t===g.SUGGEST?45:90,[t]),d=O.useMemo(()=>{if(t===g.COMPARE)return 0;const m=Object.keys(s).length;return 45*Object.values(s).reduce((v,S)=>v+(S.ready?1:0),0)/m},[s,t]),p=l("Aguarde enquanto os outros jogadores","Please wait while the other players");return e.jsx(y,{fullWidth:!0,announcement:n,children:e.jsxs(xe,{players:s,title:`${p} ${r[a]}.`,instruction:e.jsx(o,{pt:"Você é o(a) adivinhador(a)",en:"You're the guesser"}),children:[e.jsx(Se,{players:s,order:i,activePlayerId:c.id}),e.jsx(Je,{percent:u+d,status:"active",showInfo:!1})]})})}function vs({guesser:s,onSendSelectedWords:r,announcement:n,words:t=[],players:i,turnOrder:c}){const[a,l]=O.useState({}),u=Object.keys(a),d=u.length===0,p=()=>{const h=t[0].id;r({votes:[h]})},m=h=>{l(v=>{const S={...v};return S[h]?delete S[h]:S[h]=!0,S})};return e.jsxs(y,{fullWidth:!0,announcement:n,children:[e.jsx(A,{children:e.jsx(o,{pt:e.jsxs(e.Fragment,{children:["Selecione a Palavra Secreta para ",e.jsx(x,{player:s})]}),en:e.jsxs(e.Fragment,{children:["Select a Secret Word for ",e.jsx(x,{player:s})]})})}),e.jsx(f,{type:"rule",children:e.jsx(o,{pt:e.jsxs(e.Fragment,{children:["A palavra com mais votos será escolhida para essa rodada.",e.jsx("br",{}),e.jsx("strong",{children:"Você pode selecionar quantas quiser!"}),e.jsx("br",{}),"Se você não selecionar nenhuma, a primeira palavra será enviada como sua escolha."]}),en:e.jsxs(e.Fragment,{children:["The word with the most votes will be selected for the round.",e.jsx("br",{}),e.jsx("strong",{children:"You can choose as many as you wish!"}),e.jsx("br",{}),"If you fail to select any of them, the first one will be submitted as your choice."]})})}),e.jsx("ul",{className:"u-word-card",children:t.map(h=>e.jsx("li",{className:"u-word-card__word",children:e.jsxs("button",{type:"button",className:"u-word-card__button",onClick:()=>m(h.id),children:[e.jsx("span",{className:"u-word-card__text",children:h.text}),e.jsx("span",{className:"u-word-card__icon",children:!!a[h.id]&&e.jsx(Ne,{})})]})},h.id))}),e.jsx(Ke,{icon:e.jsx(Qe,{}),type:"primary",onClick:()=>r({votes:u}),disabled:d,onExpire:p,duration:20,hideTimer:!d,children:e.jsx(o,{pt:"Enviar votos",en:"Send votes"})}),e.jsx(Se,{players:i,order:c,activePlayerId:s.id,className:"u-margin"})]})}function fs({guesser:s,group:r}){return e.jsxs(I,{contained:!0,children:[e.jsx(o,{pt:e.jsxs(e.Fragment,{children:["Para essa rodada, ",e.jsx(x,{player:s,addressUser:!0})," será o(a) adivinhador(a)."]}),en:e.jsxs(e.Fragment,{children:["For this round, ",e.jsx(x,{player:s,addressUser:!0})," will be the guesser."]})}),e.jsx("br",{}),e.jsx(Re,{group:r})]})}function Ss({state:s,players:r}){const[n,t]=E("guesserId",s,r),{step:i,setStep:c,goToNextStep:a}=G(0),l=ms(c),u=e.jsx(F,{icon:e.jsx($e,{}),title:e.jsx(o,{pt:"Seleção da Palavra Secreta",en:"Secret Word Selection"}),currentRound:s?.round?.current,type:"overlay",children:t?e.jsx(I,{children:e.jsx(o,{pt:e.jsxs(e.Fragment,{children:["Os outros jogadores escolherão a palavra secreta.",e.jsx("br",{}),"Aguarde..."]}),en:e.jsxs(e.Fragment,{children:["The other players will now choose the secret word.",e.jsx("br",{}),"Just wait..."]})})}):e.jsx(I,{children:e.jsx(o,{pt:e.jsxs(e.Fragment,{children:["Selecione a palavra secreta para essa rodada.",e.jsx("br",{}),"Você pode selecionar quantas quiser.",e.jsx("br",{}),"A palavra mais votada será usada nessa rodada!"]}),en:e.jsxs(e.Fragment,{children:["Choose the secret word for this round.",e.jsx("br",{}),"You may select as many as you wish.",e.jsx("br",{}),"The most voted word would be used this round!"]})})})});return e.jsx(W,{phase:s?.phase,allowedPhase:g.WORD_SELECTION,children:e.jsxs(V,{step:i,players:r,children:[e.jsx(Le,{round:s.round,onPressButton:a,time:7,children:e.jsx(fs,{guesser:n,group:s.group})}),e.jsxs(P,{condition:t,children:[e.jsx(K,{players:r,instructionSuffix:{pt:"decidem a palavra secreta",en:"choose a secret word"},announcement:u,phase:s.phase,guesser:n,turnOrder:s.gameOrder}),e.jsx(vs,{words:s?.words,onSendSelectedWords:l,guesser:n,announcement:u,turnOrder:s.gameOrder,players:r})]})]})})}function bs({user:s}){return s.suggestions?e.jsx(_,{children:s.suggestions.map(r=>e.jsx(C,{value:r,id:r},r))}):null}const ys=["agua","bola","coco","dedo","egua","flauta","gatilho","hélio","jaguar"],ne=s=>({suggestions:le.sampleSize(ys,s)});function Is(){return e.jsx(f,{type:"action",children:e.jsx(o,{pt:e.jsxs(e.Fragment,{children:["Hora de escrever uma dica para a palavra secreta!",e.jsx("br",{}),"A dica tem que ser uma ",e.jsx("strong",{children:"palavra única"})," que ajude o adivinhador... adivinhar.",e.jsx("br",{}),"É proibido usar derivados, partes da palavra ou traduções em outras línguas.",e.jsx("br",{}),"E não seja tão óbvio, já que dicas similares são eliminadas!"]}),en:e.jsxs(e.Fragment,{children:["Time to write a clue for the secret word!",e.jsx("br",{}),"The clue MUST be a ",e.jsx("strong",{children:"single word or compound word"})," that helps the guesser... guess.",e.jsx("br",{}),"You can't use parts of the Secret word, translations, words in the same family (prince/princess), made-up words, or phonetically identical (weather/whether).",e.jsx("br",{}),"Don't be too obvious, identical words (and variants) will be eliminated!"]})})})}function ws(){return e.jsx(I,{children:e.jsx(o,{pt:e.jsxs(e.Fragment,{children:["Hora de comparar as dicas e eliminar as similares!",e.jsx("br",{}),"O aplicativo elimina automaticamente todas as palavras idênticas, mas os jogadores precisam eliminar as inválidas e similares."]}),en:e.jsxs(e.Fragment,{children:["Time to compare the clues and eliminate variants",e.jsx("br",{}),"The app has already eliminated any identical clues."]})})})}function Ts(){return e.jsx(I,{contained:!0,children:e.jsx(o,{pt:e.jsxs(e.Fragment,{children:["Já eliminamos todas as palavras idênticas, agora, elimine palavras inválidas ou similares.",e.jsx("br",{}),"Lembre-se que são consideradas dicas iguais palavras derivadas e conjugações:"," ",e.jsx("code",{children:"piloto = pilotar = pilotando"}),". Variações como pluralidade, gênero e erros ortográficos também devem ser eliminadas: ",e.jsx("code",{children:"príncipe = princesa = príncipes = pryncipi"}),"."]}),en:e.jsxs(e.Fragment,{children:["The app has already eliminated all identical clues, not it's time to eliminate all invalid clues.",e.jsx("br",{}),"Remember that the following clue types are considered invalid:",e.jsx("br",{}),"Variants: ",e.jsx("code",{children:"pilot = pilots = piloting"}),".",e.jsx("br",{}),"Words on the same family: ",e.jsx("code",{children:"prince = princess"}),e.jsx("br",{}),"Misspelled or made-up words."]})})})}function Os({controller:s}){return e.jsx(f,{type:"event",children:e.jsx(o,{pt:e.jsxs(e.Fragment,{children:["Para não virar bagunça, somente ",e.jsx(x,{player:s,addressUser:!0}),"pode clicar nas palavras para eliminá-las ou ativá-las, mas todos podem discutir.",e.jsx("br",{}),e.jsx("strong",{children:"Uma dica ser muito ruim não significa que ela seja inválida."}),e.jsx("br",{}),"Refiram às palavras por letra, o Adivinhador pode estar ouvindo!"]}),en:e.jsxs(e.Fragment,{children:[e.jsx(x,{player:s}),"is in charge of clicking on the clues to disable or enable them as valid but everybody (but the guesser) should discuss.",e.jsx("br",{}),e.jsx("strong",{children:"A terrible clue is still valid if it follow the rules."}),e.jsx("br",{}),"Refer to the clues by letter, the Guesser is listening!"]})})})}function B({word:s,header:r}){const{translate:n}=b();return e.jsx(ye,{color:"purple",header:n("A Palavra Secreta é","Secret Word",r),size:"large",children:s??e.jsx(ss,{})})}function te({children:s}){return e.jsx(Ie,{icon:e.jsx(be,{}),children:s})}function oe({children:s}){return e.jsx(Ie,{icon:e.jsx(J,{}),children:s})}function Es({guesser:s,onSendSuggestions:r,secretWord:n,suggestionsNumber:t=1,announcement:i,isUserTheGuesser:c}){return Xe(()=>{c||r(ne(t))},[]),e.jsxs(y,{fullWidth:!0,announcement:i,children:[e.jsx(A,{children:e.jsx(o,{pt:e.jsxs(e.Fragment,{children:["Escreva uma dica para ",e.jsx(x,{player:s})]}),en:e.jsxs(e.Fragment,{children:["Write a clue for ",e.jsx(x,{player:s})]})})}),e.jsx(Is,{}),e.jsx(B,{word:n.text}),t>1&&e.jsx(f,{type:"event",children:e.jsx(o,{pt:e.jsxs(e.Fragment,{children:["Já que esse jogo tem menos jogadores, você tem que escrever"," ",e.jsxs(te,{children:[t," sugestões"]})]}),en:e.jsxs(e.Fragment,{children:["Since we have fewer players you must write"," ",e.jsxs(te,{children:[t," clues"]})]})})}),e.jsx(es,{onSubmit:r,inputComponent:C,valueKey:"suggestions",inputQuantity:t,submitButtonLabel:e.jsxs(e.Fragment,{children:[e.jsx(o,{pt:"Enviar dica",en:"Send clue"}),t>1&&"s"]}),submitButtonProps:{icon:e.jsx(Pe,{}),size:"large"}}),e.jsx(Ze,{ghost:!0,onClick:()=>r(ne(t)),children:"Mock Suggestions"})]})}function Rs({state:s,players:r}){const n=He(r,s),{step:t,setStep:i}=G(0),[c,a]=E("guesserId",s,r),l=xs(i),u=e.jsx(F,{icon:e.jsx(be,{}),title:e.jsx(o,{pt:"Escreva uma dica!",en:"Write a Clue!"}),currentRound:s?.round?.current,type:"overlay",children:a?e.jsx(I,{children:e.jsx(o,{pt:"Já que você é o adivinhador, relaxe e aguarde...",en:"Since you're the guesser, just relax and wait..."})}):e.jsx(I,{children:e.jsx(o,{pt:"Hora de escrever uma dica para a palavra secreta!",en:"Time to write a clue for the secret word!"})})});return e.jsx(W,{phase:s?.phase,allowedPhase:g.SUGGEST,className:"word-selection-phase",children:e.jsx(V,{step:t,players:r,waitingRoom:{content:e.jsx(bs,{user:n})},children:e.jsxs(P,{condition:a,children:[e.jsx(K,{players:r,instructionSuffix:{pt:"escrevem dicas",en:"write clues"},phase:s.phase,guesser:c,turnOrder:s.gameOrder}),e.jsx(Es,{guesser:c,isUserTheGuesser:a,onSendSuggestions:l,secretWord:s.secretWord,suggestionsNumber:s.suggestionsNumber,announcement:u})]})})})}function ae({avatarId:s,playerName:r,index:n,invalid:t,suggestion:i}){return e.jsxs(ye,{size:"medium",color:Ue(n),className:L(t&&"u-suggestion-card__invalid"),header:r?`${Z[n]} (${r})`:Z[n],children:[t?e.jsx(Ge,{size:"small",className:"u-suggestion-card__suggestion-avatar",children:e.jsx(de,{})}):e.jsx($,{id:s,size:"small",className:"u-suggestion-card__suggestion-avatar"}),i]})}function ie({suggestions:s,players:r,onSetValidation:n,isLoading:t,myRecommendation:i,readOnly:c=!0}){return e.jsx(Y,{className:"u-word-compare-suggestions-step__suggestions",children:s.map((a,l)=>c?e.jsx("div",{children:e.jsx(ae,{suggestion:a.suggestion,invalid:a.invalid,playerName:r[a.playerId].name,avatarId:r[a.playerId].avatarId,index:l})},`${a.suggestion}-${l}`):e.jsx("button",{type:"button",className:"u-word-compare-suggestions-step__suggestion-button",onClick:()=>n(l,a),disabled:t,children:e.jsx(ae,{suggestion:a.suggestion,invalid:i?.[l]?.invalid,avatarId:r[a.playerId].avatarId,playerName:r[a.playerId].name,index:l})},`${a.suggestion}-${l}`))})}function _s({isUserTheController:s,controller:r,onValidateSuggestions:n,onUpdateSuggestions:t,players:i,secretWord:c,suggestions:a,announcement:l}){const{message:u}=ue.useApp(),{translate:d}=b(),{isLoading:p}=pe(),[m,h]=O.useState(Fe(a)),v=he(),[S,H]=O.useState(!1),Q=(w,Ce,Ae)=>{if(Ae)return;const N=[...m];N[w]?N[w].invalid=!N[w].invalid:N[w]={...Ce,invalid:!0},t({suggestions:N}),h(N)};O.useEffect(()=>{s&&!S&&!p&&(u.info(we(d("Você controla!","You control!"),d("Siga as instruções na página","Follow the instructions on the page"),r.id,3)),H(!0))},[s,r.id,d,S,p,u]);const X=Object.values(m);return e.jsxs(y,{fullWidth:!0,announcement:l,children:[e.jsx(A,{children:e.jsx(o,{pt:"Comparem as Dicas",en:"Compare Clues"})}),e.jsx(B,{word:c.text}),e.jsx(ns,{content:e.jsx(Ts,{})}),e.jsx(Os,{controller:r}),e.jsx(ie,{suggestions:a,readOnly:!s,players:i,onSetValidation:Q,isLoading:p,myRecommendation:m}),e.jsx(D,{condition:s,children:e.jsx(_,{children:e.jsx(z,{type:"primary",onClick:()=>n({validSuggestions:X.filter(w=>!w.invalid)}),children:e.jsx(o,{pt:"Confirmar dicas válidas",en:"Confirm valid clues"})})})}),e.jsx(D,{condition:!s,children:e.jsxs(je,{label:e.jsx(o,{pt:"Host Controls (use somente se o jogador controlador não controlar)",en:"Host Controls (only use if the assign player doesn't)"}),direction:"vertical",align:"center",children:[e.jsx(ie,{suggestions:a,readOnly:!v,players:i,onSetValidation:Q,isLoading:p,myRecommendation:m}),e.jsx(ke,{onClick:()=>n({validSuggestions:X.filter(w=>!w.invalid)}),children:e.jsx(o,{pt:"Confirmar dicas válidas como Admin",en:"Confirm valid clues as Admin"})})]})})]})}function Cs({state:s,players:r}){const{step:n,setStep:t}=G(0),[i,c]=E("guesserId",s,r),[a,l]=E("controllerId",s,r),u=hs(t),d=js(),p=e.jsxs(F,{icon:e.jsx(rs,{}),title:e.jsx(o,{pt:"Comparação de dicas!",en:"Clue Check!"}),currentRound:s?.round?.current,type:"overlay",children:[e.jsx(ws,{}),c&&e.jsx(I,{contained:!0,children:e.jsx(o,{pt:"Já que você é o adivinhador, relaxe e aguarde... novamente",en:"Since you're the guesser, just relax and wait... again"})})]});return e.jsx(W,{phase:s?.phase,allowedPhase:g.COMPARE,children:e.jsxs(V,{step:n,players:r,children:[e.jsxs(P,{condition:c,children:[e.jsx(K,{players:r,instructionSuffix:{pt:"validam dicas",en:"validate the clues"},phase:s.phase,guesser:i,turnOrder:s.gameOrder}),e.jsx(_s,{controller:a,isUserTheController:l,secretWord:s.secretWord,suggestions:s.suggestions,players:r,onValidateSuggestions:u,onUpdateSuggestions:d,announcement:p})]}),e.jsx(xe,{players:r,title:e.jsx(o,{pt:"Enviando a confirmação de dicas",en:"Sending confirmation"}),instruction:"..."})]})})}function _e({isTheGuesser:s,guesser:r,secretWord:n,hintsEnabled:t,showFirstHint:i,showSecondHint:c}){const a=t&&i?e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx(ee.span,{...se("fadeIn"),children:e.jsx(o,{pt:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Dica 1"}),": A palavra tem"," ",e.jsxs(T,{children:[n.text.length," letras"]})]}),en:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Hint 1"}),": The word has"," ",e.jsxs(T,{children:[n.text.length," letters"]})]})})})]}):null,l=t&&c?e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx(ee.span,{...se("fadeIn"),children:e.jsx(o,{pt:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Dica 2"}),": A palavra começa com"," ",e.jsx(T,{children:n.text[0]})]}),en:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Hint 2"}),": The word starts with"," ",e.jsx(T,{children:n.text[0]})]})})})]}):null;return s?e.jsxs(f,{type:"rule",children:[e.jsx(o,{pt:"Você tem uma única chance de adivinhar a palavra secreta!",en:"You have a single chance to guess the secret word!"}),a,l]}):e.jsxs(f,{type:i||c?"event":"wait",children:[e.jsx(o,{pt:e.jsxs(e.Fragment,{children:[r.name," está pensando..."]}),en:e.jsxs(e.Fragment,{children:[r.name," is thinking..."]})}),a,l]})}function As({guesser:s,onSendGuess:r,onSubmitOutcome:n,validSuggestions:t,announcement:i,secretWord:c,timerEnabled:a,hintsEnabled:l}){const{translate:u}=b(),[d,p]=O.useState(""),{timeLeft:m}=Te({duration:k,disabled:!a,onExpire:()=>r({guess:d})}),h=()=>{d&&d.length>0&&r({guess:d})};return e.jsxs(y,{fullWidth:!0,announcement:i,children:[e.jsxs(A,{children:[e.jsx(o,{pt:"Hora de brilhar",en:"Time to shine"}),", ",e.jsx(x,{player:s}),"!"]}),a&&e.jsx(Oe,{value:m,total:k,status:m<15?"exception":"active",size:"small"}),e.jsx(_e,{isTheGuesser:!0,guesser:s,secretWord:c,hintsEnabled:l,showFirstHint:m<60,showSecondHint:m<30}),e.jsx(B,{word:e.jsx(We,{})}),e.jsx(f,{type:"action",children:e.jsx(o,{pt:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Escreva"})," sua adivinhação abaixo.",e.jsx("br",{}),"Se você acertar, o grupo ganha ",e.jsx(j,{type:"positive",children:"2 pontos"})," mas se você errar, o grupo perde ",e.jsx(j,{type:"negative",children:"1 ponto"}),".",e.jsx("br",{}),"Você pode pular se não estiver se sentindo seguro."]}),en:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Write"})," your guess below.",e.jsx("br",{}),"If you get it right, the group wins ",e.jsx(j,{type:"positive",children:"2 points"})," ","but if you get it wrong, the group loses"," ",e.jsx(j,{type:"negative",children:"1 point"}),".",e.jsx("br",{}),"You can skip if you're not feeling confident."]})})}),e.jsxs(_,{children:[e.jsx(Ve,{placeholder:u("Digite aqui seu chute","Type your guess here"),onChange:v=>p(v.target.value),onPressEnter:h,size:"large"}),e.jsxs(z,{type:"primary",onClick:()=>r({guess:d}),disabled:d.length<3||m<=0,size:"large",children:[e.jsx(o,{pt:"Enviar",en:"Submit"}),m]}),e.jsx("span",{children:e.jsx(o,{pt:"OU",en:"OR"})}),e.jsx(z,{icon:e.jsx(os,{}),type:"default",onClick:()=>n({outcome:"PASS"}),disabled:m<=0,children:e.jsx(o,{pt:"Passar a vez...",en:"Skip turn"})})]}),e.jsxs(_,{wrap:!0,children:[t.map((v,S)=>{const H=`${v.suggestion}-${S}`;return e.jsx(C,{id:H,value:v.suggestion},H)}),t.length===0&&e.jsx(f,{type:"alert",children:e.jsx(o,{pt:"Seus companheiros eliminaram todas as dicas, super burros...",en:"All clues were eliminated! Good luck..."})})]})]})}function Ns({guesser:s,secretWord:r,validSuggestions:n,announcement:t,timerEnabled:i,hintsEnabled:c}){const{timeLeft:a}=Te({duration:k,disabled:!i,onExpire:()=>{}});return e.jsxs(y,{fullWidth:!0,announcement:t,children:[e.jsx(A,{children:e.jsx(o,{pt:e.jsxs(e.Fragment,{children:["Hora de ",e.jsx(x,{player:s})," brilhar!"]}),en:e.jsxs(e.Fragment,{children:["Time for ",e.jsx(x,{player:s})," to shine!"]})})}),i&&e.jsx(Oe,{value:a,total:k,status:a<15?"exception":"active",size:"small"}),e.jsx(f,{type:"wait",children:e.jsx(o,{pt:e.jsxs(e.Fragment,{children:[s.name," tem uma única chance de adivinhar a palavra secreta!",e.jsx("br",{}),"Se acertar, o grupo ganha ",e.jsx(j,{type:"positive",children:"2 pontos"})," mas se errar, o grupo perde ",e.jsx(j,{type:"negative",children:"1 pontos"}),".",e.jsx("br",{}),"Há a opção de pular a rodada, mas só faz o grupo perder tempo."]}),en:e.jsxs(e.Fragment,{children:[s.name," has a single chance to guess the secret word!",e.jsx("br",{}),"If they get it right, the group wins ",e.jsx(j,{type:"positive",children:"2 points"})," ","but if they get it wrong, the group loses"," ",e.jsx(j,{type:"negative",children:"1 points"}),".",e.jsx("br",{}),"There's the option to skip the round, but it only wastes time."]})})}),e.jsx(B,{word:r.text}),e.jsx(_e,{isTheGuesser:!1,guesser:s,secretWord:r,hintsEnabled:c,showFirstHint:a<60,showSecondHint:a<30}),e.jsx(Y,{className:"u-word-guess-phase__suggestions",children:n.map((l,u)=>{const d=`${l.suggestion}-${u}`;return e.jsx(C,{id:d,value:l.suggestion},d)})}),n.length===0&&e.jsx(f,{type:"alert",children:e.jsx(o,{pt:"Vocês eliminaram todas as dicas, super burros... coitado do(a) adivinhador(a)",en:"Y'all eliminated all the clues! Poor guesser..."})})]})}function Ps({state:s,players:r,meta:n}){const{step:t,setStep:i}=G(0),[c,a]=E("guesserId",s,r),l=Ee(i),u=gs(),d=e.jsx(F,{icon:e.jsx(ts,{}),title:e.jsx(o,{pt:"Adivinhação",en:"Guessing"}),currentRound:s?.round?.current,type:"overlay",children:e.jsx(o,{pt:"Hora de adivinhar a palavra secreta!",en:"Time to guess the secret word!"})});return e.jsx(W,{phase:s?.phase,allowedPhase:g.GUESS,children:e.jsx(V,{step:t,players:r,children:e.jsxs(P,{condition:a,children:[e.jsx(As,{guesser:c,secretWord:s.secretWord,onSubmitOutcome:l,onSendGuess:u,validSuggestions:s.validSuggestions,announcement:d,timerEnabled:!!n.options?.withTimer,hintsEnabled:!!n.options?.withHints}),e.jsx(Ns,{guesser:c,validSuggestions:s.validSuggestions,secretWord:s.secretWord,announcement:d,timerEnabled:!!n.options?.withTimer,hintsEnabled:!!n.options?.withHints})]})})})}function Us({guess:s,guesser:r,secretWord:n,validSuggestions:t,suggestions:i,group:c,announcement:a}){const l=c.attempts.at(-1)==="PASS";return e.jsxs(y,{fullWidth:!0,announcement:a,children:[e.jsx(A,{className:me("heartBeat"),children:l?e.jsx(o,{pt:e.jsxs(e.Fragment,{children:[e.jsx(x,{player:r,addressUser:!0,size:"large"})," passou..."]}),en:e.jsxs(e.Fragment,{children:[e.jsx(x,{player:r,addressUser:!0,size:"large"})," passed..."]})}):e.jsx(o,{pt:e.jsxs(e.Fragment,{children:[e.jsx(x,{player:r,addressUser:!0,size:"large"})," disse"," ",e.jsx(T,{children:s})]}),en:e.jsxs(e.Fragment,{children:[e.jsx(x,{player:r,addressUser:!0,size:"large"})," said"," ",e.jsx(T,{children:s})]})})}),e.jsx(B,{word:n.text}),e.jsx(Re,{group:c}),e.jsx(f,{type:"rule",children:e.jsx(o,{pt:e.jsxs(e.Fragment,{children:["Lembre-se que vocês o objetivo é conseguir ",e.jsx(j,{children:"7 pontos"})," em até 10 rodadas, mas vocês perdem imediatamente se tiverem",e.jsx(oe,{children:"3 erros"}),".",e.jsx("br",{}),"Vocês ganham ",e.jsx(j,{type:"positive",children:"2 pontos"})," para cada acerto e perdem",e.jsx(j,{type:"negative",children:"1 ponto"})," para cada erro."]}),en:e.jsxs(e.Fragment,{children:["Remember that the goal is to get ",e.jsx(j,{children:"7 points"})," within 10 rounds, but you immediately lose if you get",e.jsx(oe,{children:"3 errors"}),".",e.jsx("br",{}),"You gain ",e.jsx(j,{type:"positive",children:"2 points"})," for each correct guess and lose",e.jsx(j,{type:"negative",children:"1 point"})," for each mistake."]})})}),e.jsx(q,{size:"xx-small",className:"margin",children:e.jsx(o,{pt:"Dicas válidas",en:"Valid clues"})}),e.jsx(_,{wrap:!0,children:t.map((u,d)=>{const p=`${u.suggestion}-${d}`;return e.jsx(C,{id:p,value:u.suggestion},p)})}),t.length!==i.length&&e.jsxs("div",{className:"u-margin",children:[e.jsx(q,{size:"x-small",className:"margin",children:e.jsx(o,{pt:"Todas as dicas",en:"All clues"})}),e.jsx(_,{className:"u-all-suggestions",wrap:!0,children:i.map((u,d)=>{const p=`all-${u.suggestion}-${d}`;return e.jsx(C,{id:p,value:u.suggestion},p)})})]}),e.jsx(ge,{})]})}function Gs({state:s,players:r}){const{step:n}=G(0),[t]=E("guesserId",s,r),i=s.group.attempts.at(-1)==="PASS",c=e.jsx(F,{icon:e.jsx(as,{}),title:i?e.jsx(o,{pt:e.jsxs(e.Fragment,{children:["E ",e.jsx(x,{player:t,addressUser:!0,size:"large"})," passou..."]}),en:e.jsxs(e.Fragment,{children:["And ",e.jsx(x,{player:t,addressUser:!0,size:"large"})," passed..."]})}):e.jsx(o,{pt:e.jsxs(e.Fragment,{children:["E ",e.jsx(x,{player:t,addressUser:!0,size:"large"})," disse..."]}),en:e.jsxs(e.Fragment,{children:["And ",e.jsx(x,{player:t,addressUser:!0,size:"large"})," said..."]})}),currentRound:s?.round?.current,type:"overlay",duration:3,children:!i&&e.jsx(I,{className:"u-guess",contained:!0,children:e.jsxs(T,{children:['"',s.guess,'"']})})});return e.jsx(W,{phase:s?.phase,allowedPhase:g.RESULT,children:e.jsx(V,{step:n,players:r,children:e.jsx(Us,{guesser:t,guess:s.guess||"?",validSuggestions:s.validSuggestions,suggestions:s.suggestions,secretWord:s.secretWord,announcement:c,group:s.group})})})}function Fs({state:s,players:r}){return e.jsxs(cs,{state:s,players:r,announcementIcon:e.jsx(is,{}),children:[e.jsx(ls,{players:r,achievements:s.achievements,reference:us}),e.jsx(ds,{title:e.jsx(o,{pt:"Dicas do jogo",en:"Game's clues"}),children:s.gallery.map(n=>e.jsxs("div",{className:"u-gallery-entry",children:[e.jsx("div",{className:"u-gallery-entry__word",children:n.text}),le.orderBy(n.suggestions,"invalid").map(t=>e.jsxs("div",{className:L("u-gallery-entry__suggestion",t.invalid&&"u-gallery-entry__suggestion--invalid"),children:[e.jsx($,{id:r[t.playerId].avatarId,size:"small"})," ",t.suggestion]},t.playerId)),e.jsxs("div",{className:"u-gallery-entry__outcome",children:[e.jsx($,{id:r[n.guesserId].avatarId,size:"small"}),n.outcome==="CORRECT"&&e.jsx(R,{icon:e.jsx(fe,{})}),n.outcome==="WRONG"&&e.jsx(R,{icon:e.jsx(J,{})}),n.outcome==="PASS"&&e.jsx(R,{icon:e.jsx(ve,{})})]})]},n.id))})]})}function Ws({guess:s,guesser:r,isLoading:n,isUserTheController:t,controller:i,secretWord:c,onSubmitOutcome:a,validSuggestions:l,announcement:u}){const{message:d}=ue.useApp(),{translate:p}=b();return O.useEffect(()=>{t&&!n&&d.info(we(p("Você controla!","You control!"),p("Selecione se o adivinhador acertou ou não","Select if the guesser got it right or not"),i.id,3))},[t,i.id,p,n,d]),e.jsxs(y,{fullWidth:!0,announcement:u,children:[e.jsxs(A,{className:me("heartBeat"),children:[e.jsx(x,{player:r,addressUser:!0})," ",e.jsx(o,{pt:"disse",en:"said"})," ",e.jsx(T,{children:s})]}),e.jsx(B,{word:c.text}),e.jsx(f,{type:"alert",children:e.jsx(o,{pt:e.jsxs(e.Fragment,{children:["O sistema não pode verificar se a resposta está correta.",e.jsx("br",{}),"Por favor, confirme se ",e.jsx(x,{player:r})," acertou ou não."]}),en:e.jsxs(e.Fragment,{children:["The system wasn't able to verify the guess.",e.jsx("br",{}),"Please confirm if ",e.jsx(x,{player:r})," got it right or not."]})})}),e.jsx(_,{className:"u-word-guess-phase__suggestions",children:l.map((m,h)=>{const v=`${m.suggestion}-${h}`;return e.jsx(C,{id:v,value:m.suggestion},v)})}),e.jsxs(D,{condition:t,children:[e.jsxs(f,{type:"action",children:[e.jsx(o,{pt:"Aperte o botão correspondente",en:"Press the corresponding button"}),":"]}),e.jsx(ce,{onSubmitOutcome:a,isLoading:n})]}),!t&&e.jsx(je,{label:e.jsx(o,{pt:"Host Controls (use somente se o jogador controlador não controlar)",en:"Host Controls (only use if the assign player doesn't)"}),children:e.jsx(ce,{onSubmitOutcome:a,isLoading:n})})]})}function ce({onSubmitOutcome:s,isLoading:r}){return e.jsxs(Y,{className:L("u-word-guess-phase__guess-submit"),children:[e.jsx(re,{icon:e.jsx(Me,{}),type:"primary",style:{backgroundColor:"green"},onClick:()=>s({outcome:"CORRECT"}),disabled:r,children:e.jsx(o,{pt:"Acertou",en:"Correct"})}),e.jsx(re,{icon:e.jsx(de,{}),type:"primary",danger:!0,onClick:()=>s({outcome:"WRONG"}),disabled:r,children:e.jsx(o,{pt:"Errou",en:"Wrong"})})]})}function Vs({state:s,players:r}){const{isLoading:n}=pe(),{step:t,setStep:i}=G(0),c=he(),[a]=E("guesserId",s,r),[l,u]=E("controllerId",s,r),d=Ee(i),p=!["CONTINUE","WIN"].includes(s.group.outcome)&&(u||c),m=e.jsx(F,{icon:e.jsx(ps,{}),title:e.jsx(o,{pt:"Processando o palpite...",en:"Processing the guess..."}),currentRound:s?.round?.current,type:"overlay",unskippable:!p,duration:p?3:300});return e.jsx(W,{phase:s?.phase,allowedPhase:g.VERIFY_GUESS,children:e.jsx(V,{step:t,players:r,children:e.jsxs(P,{condition:["CONTINUE","WIN"].includes(s.group.outcome),children:[e.jsx(y,{announcement:m,children:e.jsx(ge,{autoTriggerTime:2})}),e.jsxs(P,{condition:p,children:[e.jsx(Ws,{guesser:a,guess:s.guess||"?",onSubmitOutcome:d,validSuggestions:s.validSuggestions,secretWord:s.secretWord,controller:l,isUserTheController:u,isLoading:n,announcement:m}),e.jsx(y,{announcement:m,children:e.jsx("div",{})})]})]})})})}function Ms(s){switch(s.phase){case g.WORD_SELECTION:return Ss;case g.SUGGEST:return Rs;case g.COMPARE:return Cs;case g.GUESS:return Ps;case g.VERIFY_GUESS:return Vs;case g.RESULT:return Gs;case De.DEFAULT.GAME_OVER:return Fs;default:return ze}}function on(){return e.jsx(qe,{gameCollection:Be.UE_SO_ISSO,getActiveComponent:Ms})}export{on as default};
