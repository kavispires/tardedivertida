import{r as o,cV as Te,p as me,dW as U,d as fe,a1 as We,cz as xe,a3 as de,e8 as Se,fI as Ae,u as Ee,b as Ne,c as H,eY as _e,e_ as we,S as Fe,g as Ke,m as Xe,a6 as Y,ea as je,fJ as Ye,a4 as Ue,fK as Ge,cA as Ve,ah as Ze,fL as qe,fn as Je,fM as Qe,ai as Ce,a7 as et}from"./index-C3qBJHkP.js";const ve=o.createContext(null),ke=o.createContext({});function pe(){return pe=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},pe.apply(this,arguments)}const tt=e=>{const{prefixCls:n,className:t,containerRef:r,...a}=e,{panel:i}=o.useContext(ke),s=Te(i,r);return o.createElement("div",pe({className:U(`${n}-section`,t),role:"dialog",ref:s},me(e,{aria:!0}),{"aria-modal":"true"},a))};function nt(e){const{prefixCls:n,direction:t,className:r,style:a,maxSize:i,containerRef:s,currentSize:g,onResize:S,onResizeEnd:v,onResizeStart:h}=e,[c,w]=o.useState(!1),[C,$]=o.useState(0),[z,E]=o.useState(0),y=t==="left"||t==="right",x=fe(u=>{u.preventDefault(),u.stopPropagation(),w(!0),$(y?u.clientX:u.clientY);let l;if(typeof g=="number")l=g;else if(s?.current){const f=s.current.getBoundingClientRect();l=y?f.width:f.height}E(l),h?.(l)}),b=fe(u=>{if(!c)return;let f=(y?u.clientX:u.clientY)-C;(t==="right"||t==="bottom")&&(f=-f);let p=z+f;p<0&&(p=0),i&&p>i&&(p=i),S?.(p)}),d=o.useCallback(()=>{if(c&&(w(!1),s?.current)){const u=s.current.getBoundingClientRect(),l=y?u.width:u.height;v?.(l)}},[c,s,v,y]);return o.useEffect(()=>{if(c)return document.addEventListener("mousemove",b),document.addEventListener("mouseup",d),()=>{document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",d)}},[c,b,d]),{dragElementProps:{className:U(`${n}-dragger`,`${n}-dragger-${t}`,{[`${n}-dragger-dragging`]:c,[`${n}-dragger-horizontal`]:y,[`${n}-dragger-vertical`]:!y},r),style:a,onMouseDown:x},isDragging:c}}function ue(e){if(typeof e=="string"){const n=Number(e.replace(/px$/i,""));if(parseFloat(e)===n&&We(!1,"Invalid value type of `width` or `height` which should be number type instead."),!Number.isNaN(n))return n}return e}function G(){return G=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},G.apply(this,arguments)}const $e={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"},ot=(e,n)=>{const{prefixCls:t,open:r,placement:a,inline:i,push:s,forceRender:g,autoFocus:S,keyboard:v,classNames:h,rootClassName:c,rootStyle:w,zIndex:C,className:$,id:z,style:E,motion:y,width:x,height:b,size:d,maxSize:D,children:u,mask:l,maskClosable:f,maskMotion:p,maskClassName:R,maskStyle:N,afterOpenChange:P,onClose:k,onMouseEnter:_,onMouseOver:L,onMouseLeave:V,onClick:Z,onKeyDown:oe,onKeyUp:I,styles:M,drawerRender:re,resizable:F,defaultSize:ae}=e,q=o.useRef(null),J=o.useRef(null),Q=o.useRef(null);o.useImperativeHandle(n,()=>q.current);const le=m=>{const{keyCode:A,shiftKey:j}=m;switch(A){case de.TAB:{A===de.TAB&&(!j&&document.activeElement===Q.current?J.current?.focus({preventScroll:!0}):j&&document.activeElement===J.current&&Q.current?.focus({preventScroll:!0}));break}case de.ESC:{k&&v&&(m.stopPropagation(),k(m));break}}};o.useEffect(()=>{r&&S&&q.current?.focus({preventScroll:!0})},[r]);const[ee,se]=o.useState(!1),K=o.useContext(ve);let te;typeof s=="boolean"?te=s?{}:{distance:0}:te=s||{};const O=te?.distance??K?.pushDistance??180,ne=o.useMemo(()=>({pushDistance:O,push:()=>{se(!0)},pull:()=>{se(!1)}}),[O]);o.useEffect(()=>{r?K?.push?.():K?.pull?.()},[r]),o.useEffect(()=>()=>{K?.pull?.()},[]);const ie=o.createElement(xe,G({key:"mask"},p,{visible:l&&r}),({className:m,style:A},j)=>o.createElement("div",{className:U(`${t}-mask`,m,h?.mask,R),style:{...A,...N,...M?.mask},onClick:f&&r?k:void 0,ref:j})),ce=typeof y=="function"?y(a):y,[B,T]=o.useState(),W=a==="left"||a==="right",X=o.useMemo(()=>ue(d??(W?x:b)??B??ae??(W?378:void 0)),[d,x,b,ae,W,B]),Me=o.useMemo(()=>{const m={};if(ee&&O)switch(a){case"top":m.transform=`translateY(${O}px)`;break;case"bottom":m.transform=`translateY(${-O}px)`;break;case"left":m.transform=`translateX(${O}px)`;break;default:m.transform=`translateX(${-O}px)`;break}return W?m.width=ue(X):m.height=ue(X),m},[ee,O,a,W,X]),ge=o.useRef(null),Oe=fe(m=>{T(m),F?.onResize?.(m)}),{dragElementProps:He,isDragging:he}=nt({prefixCls:`${t}-resizable`,direction:a,className:h?.dragger,style:M?.dragger,maxSize:D,containerRef:ge,currentSize:X,onResize:Oe,onResizeStart:F?.onResizeStart,onResizeEnd:F?.onResizeEnd}),Le={onMouseEnter:_,onMouseOver:L,onMouseLeave:V,onClick:Z,onKeyDown:oe,onKeyUp:I},Be=o.createElement(xe,G({key:"panel"},ce,{visible:r,forceRender:g,onVisibleChanged:m=>{P?.(m)},removeOnLeave:!1,leavedClassName:`${t}-content-wrapper-hidden`}),({className:m,style:A},j)=>{const be=o.createElement(tt,G({id:z,containerRef:j,prefixCls:t,className:U($,h?.section),style:{...E,...M?.section}},me(e,{aria:!0}),Le),u);return o.createElement("div",G({ref:ge,className:U(`${t}-content-wrapper`,he&&`${t}-content-wrapper-dragging`,h?.wrapper,!he&&m),style:{...A,...Me,...M?.wrapper}},me(e,{data:!0})),F&&o.createElement("div",He),re?re(be):be)}),ye={...w};return C&&(ye.zIndex=C),o.createElement(ve.Provider,{value:ne},o.createElement("div",{className:U(t,`${t}-${a}`,c,{[`${t}-open`]:r,[`${t}-inline`]:i}),style:ye,tabIndex:-1,ref:q,onKeyDown:le},ie,o.createElement("div",{tabIndex:0,ref:J,style:$e,"aria-hidden":"true","data-sentinel":"start"}),Be,o.createElement("div",{tabIndex:0,ref:Q,style:$e,"aria-hidden":"true","data-sentinel":"end"})))},rt=o.forwardRef(ot),at=e=>{const{open:n=!1,prefixCls:t="rc-drawer",placement:r="right",autoFocus:a=!0,keyboard:i=!0,width:s,height:g,size:S,maxSize:v,mask:h=!0,maskClosable:c=!0,getContainer:w,forceRender:C,afterOpenChange:$,destroyOnHidden:z,onMouseEnter:E,onMouseOver:y,onMouseLeave:x,onClick:b,onKeyDown:d,onKeyUp:D,resizable:u,defaultSize:l,panelRef:f}=e,[p,R]=o.useState(!1),[N,P]=o.useState(!1);Se(()=>{P(!0)},[]);const k=N?n:!1,_=o.useRef(null),L=o.useRef(null);Se(()=>{k&&(L.current=document.activeElement)},[k]);const V=M=>{R(M),$?.(M),!M&&L.current&&!_.current?.contains(L.current)&&L.current?.focus({preventScroll:!0})},Z=o.useMemo(()=>({panel:f}),[f]);if(!C&&!p&&!k&&z)return null;const I={...e,open:k,prefixCls:t,placement:r,autoFocus:a,keyboard:i,width:s,height:g,size:S,maxSize:v,defaultSize:l,mask:h,maskClosable:c,inline:w===!1,afterOpenChange:V,ref:_,resizable:u,...{onMouseEnter:E,onMouseOver:y,onMouseLeave:x,onClick:b,onKeyDown:d,onKeyUp:D}};return o.createElement(ke.Provider,{value:Z},o.createElement(Ae,{open:k||C||p,autoDestroy:!1,getContainer:w,autoLock:h&&(k||p)},o.createElement(rt,I)))},Re=e=>{const{prefixCls:n,ariaId:t,title:r,footer:a,extra:i,closable:s,loading:g,onClose:S,headerStyle:v,bodyStyle:h,footerStyle:c,children:w,classNames:C,styles:$}=e,z=Ee("drawer"),{classNames:E,styles:y}=z,[x,b]=Ne([E,C],[y,$],{props:e});let d;s===!1?d=void 0:s===void 0||s===!0?d="start":d=s?.placement==="end"?"end":"start";const D=o.useCallback(R=>o.createElement("button",{type:"button",onClick:S,className:H(`${n}-close`,{[`${n}-close-${d}`]:d==="end"})},R),[S,n,d]),[u,l]=_e(we(e),we(z),{closable:!0,closeIconRender:D}),f=()=>!r&&!u?null:o.createElement("div",{style:{...b.header,...v},className:H(`${n}-header`,x.header,{[`${n}-header-close-only`]:u&&!r&&!i})},o.createElement("div",{className:`${n}-header-title`},d==="start"&&l,r&&o.createElement("div",{className:H(`${n}-title`,x.title),style:b.title,id:t},r)),i&&o.createElement("div",{className:H(`${n}-extra`,x.extra),style:b.extra},i),d==="end"&&l),p=()=>a?o.createElement("div",{className:H(`${n}-footer`,x.footer),style:{...b.footer,...c}},a):null;return o.createElement(o.Fragment,null,f(),o.createElement("div",{className:H(`${n}-body`,x.body),style:{...b.body,...h}},g?o.createElement(Fe,{active:!0,title:!1,paragraph:{rows:5},className:`${n}-body-skeleton`}):w),p())},st=e=>{const n="100%";return{left:`translateX(-${n})`,right:`translateX(${n})`,top:`translateY(-${n})`,bottom:`translateY(${n})`}[e]},Pe=(e,n)=>({"&-enter, &-appear":{...e,"&-active":n},"&-leave":{...n,"&-active":e}}),Ie=(e,n)=>({"&-enter, &-appear, &-leave":{"&-start":{transition:"none"},"&-active":{transition:`all ${n}`}},...Pe({opacity:e},{opacity:1})}),lt=(e,n)=>[Ie(.7,n),Pe({transform:st(e)},{transform:"none"})],it=e=>{const{componentCls:n,motionDurationSlow:t}=e;return{[n]:{[`${n}-mask-motion`]:Ie(0,t),[`${n}-panel-motion`]:["left","right","top","bottom"].reduce((r,a)=>({...r,[`&-${a}`]:lt(a,t)}),{})}}},ct=e=>{const{borderRadiusSM:n,componentCls:t,zIndexPopup:r,colorBgMask:a,colorBgElevated:i,motionDurationSlow:s,motionDurationMid:g,paddingXS:S,padding:v,paddingLG:h,fontSizeLG:c,lineHeightLG:w,lineWidth:C,lineType:$,colorSplit:z,marginXS:E,colorIcon:y,colorIconHover:x,colorBgTextHover:b,colorBgTextActive:d,colorText:D,fontWeightStrong:u,footerPaddingBlock:l,footerPaddingInline:f,draggerSize:p,calc:R}=e,N=`${t}-content-wrapper`,P=`${t}-resizable-dragger`;return{[t]:{position:"fixed",inset:0,zIndex:r,pointerEvents:"none",color:D,"&-pure":{position:"relative",background:i,display:"flex",flexDirection:"column",[`&${t}-left`]:{boxShadow:e.boxShadowDrawerLeft},[`&${t}-right`]:{boxShadow:e.boxShadowDrawerRight},[`&${t}-top`]:{boxShadow:e.boxShadowDrawerUp},[`&${t}-bottom`]:{boxShadow:e.boxShadowDrawerDown}},"&-inline":{position:"absolute"},[`${t}-mask`]:{position:"absolute",inset:0,zIndex:r,background:a,pointerEvents:"auto",[`&${t}-mask-blur`]:{...Ye}},[N]:{position:"absolute",zIndex:r,maxWidth:"100vw",transition:`all ${s}`,"&-hidden":{display:"none"}},[`&-left > ${N}`]:{top:0,bottom:0,left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowDrawerLeft},[`&-right > ${N}`]:{top:0,right:{_skip_check_:!0,value:0},bottom:0,boxShadow:e.boxShadowDrawerRight},[`&-top > ${N}`]:{top:0,insetInline:0,boxShadow:e.boxShadowDrawerUp},[`&-bottom > ${N}`]:{bottom:0,insetInline:0,boxShadow:e.boxShadowDrawerDown},[`${t}-section`]:{display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"auto",background:i,pointerEvents:"auto"},[`${t}-header`]:{display:"flex",flex:0,alignItems:"center",padding:`${Y(v)} ${Y(h)}`,fontSize:c,lineHeight:w,borderBottom:`${Y(C)} ${$} ${z}`,"&-title":{display:"flex",flex:1,alignItems:"center",minWidth:0,minHeight:0}},[`${t}-extra`]:{flex:"none"},[`${t}-close`]:{display:"inline-flex",width:R(c).add(S).equal(),height:R(c).add(S).equal(),borderRadius:n,justifyContent:"center",alignItems:"center",color:y,fontWeight:u,fontSize:c,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textDecoration:"none",background:"transparent",border:0,cursor:"pointer",transition:`all ${g}`,textRendering:"auto",[`&${t}-close-end`]:{marginInlineStart:E},[`&:not(${t}-close-end)`]:{marginInlineEnd:E},"&:hover":{color:x,backgroundColor:b,textDecoration:"none"},"&:active":{backgroundColor:d},...je(e)},[`${t}-title`]:{flex:1,margin:0,fontWeight:e.fontWeightStrong,fontSize:c,lineHeight:w},[`${t}-body`]:{flex:1,minWidth:0,minHeight:0,padding:h,overflow:"auto",[`${t}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center"}},[`${t}-footer`]:{flexShrink:0,padding:`${Y(l)} ${Y(f)}`,borderTop:`${Y(C)} ${$} ${z}`},[P]:{position:"absolute",zIndex:1,backgroundColor:"transparent",userSelect:"none",pointerEvents:"auto","&:hover":{backgroundColor:e.colorPrimary,opacity:.2},"&-dragging":{backgroundColor:e.colorPrimary,opacity:.3}},[`${P}-left`]:{top:0,bottom:0,insetInlineEnd:0,width:p,cursor:"col-resize"},[`${P}-right`]:{top:0,bottom:0,insetInlineStart:0,width:p,cursor:"col-resize"},[`${P}-top`]:{insetInline:0,bottom:0,height:p,cursor:"row-resize"},[`${P}-bottom`]:{insetInline:0,top:0,height:p,cursor:"row-resize"},[`${N}-dragging`]:{userSelect:"none",transition:"none",willChange:"width, height",[`${t}-content`]:{pointerEvents:"none"},[`${t}-section`]:{pointerEvents:"none"}},"&-rtl":{direction:"rtl"}}}},dt=e=>({zIndexPopup:e.zIndexPopupBase,footerPaddingBlock:e.paddingXS,footerPaddingInline:e.padding,draggerSize:4}),De=Ke("Drawer",e=>{const n=Xe(e,{});return[ct(n),it(n)]},dt),ut={distance:180},ze=378,mt=e=>{const{rootClassName:n,size:t,defaultSize:r=ze,height:a,width:i,mask:s,push:g=ut,open:S,afterOpenChange:v,onClose:h,prefixCls:c,getContainer:w,panelRef:C=null,style:$,className:z,resizable:E,"aria-labelledby":y,maskStyle:x,drawerStyle:b,contentWrapperStyle:d,destroyOnClose:D,destroyOnHidden:u,...l}=e,{placement:f}=l,p=Ue(),R=l.title?p:void 0,{getPopupContainer:N,getPrefixCls:P,direction:k,className:_,style:L,classNames:V,styles:Z,mask:oe}=Ee("drawer"),I=P("drawer",c),[M,re]=De(I),F=w===void 0&&N?()=>N(document.body):w,ae=o.useMemo(()=>typeof t=="number"?t:t==="large"?736:t==="default"?ze:!f||f==="left"||f==="right"?i:a,[t,f,i,a]),q={motionName:Ce(I,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},J=X=>({motionName:Ce(I,`panel-motion-${X}`),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500}),Q=Ge(),le=Ve(C,Q),[ee,se]=Ze("Drawer",l.zIndex),{classNames:K,styles:te,rootStyle:O}=l,[ne,ie]=qe(s,oe,I),ce={...e,zIndex:ee,panelRef:C,mask:ne,defaultSize:r,push:g},[B,T]=Ne([V,K],[Z,te],{props:ce}),W=H({"no-mask":!ne,[`${I}-rtl`]:k==="rtl"},n,M,re,B.root);return o.createElement(Je,{form:!0,space:!0},o.createElement(Qe.Provider,{value:se},o.createElement(at,{prefixCls:I,onClose:h,maskMotion:q,motion:J,...l,classNames:{mask:H(B.mask,ie.mask),section:B.section,wrapper:B.wrapper,dragger:B.dragger},styles:{mask:{...T.mask,...x},section:{...T.section,...b},wrapper:{...T.wrapper,...d},dragger:T.dragger},open:S,mask:ne,push:g,size:ae,defaultSize:r,style:{...L,...$},rootStyle:{...O,...T.root},className:H(_,z),rootClassName:W,getContainer:F,afterOpenChange:v,panelRef:le,zIndex:ee,...E?{resizable:E}:{},"aria-labelledby":y??R,destroyOnHidden:u??D},o.createElement(Re,{prefixCls:I,size:t,...l,ariaId:R,onClose:h}))))},ft=e=>{const{prefixCls:n,style:t,className:r,placement:a="right",...i}=e,{getPrefixCls:s}=o.useContext(et),g=s("drawer",n),[S,v]=De(g),h=H(g,`${g}-pure`,`${g}-${a}`,S,v,r);return o.createElement("div",{className:h,style:t},o.createElement(Re,{prefixCls:g,...i}))};mt._InternalPanelDoNotUseOrYouWillBeFired=ft;var pt=function(e,n){return typeof n=="boolean"?n:!e},ht=function(e){return o.useReducer(pt,e)};export{mt as D,ht as u};
