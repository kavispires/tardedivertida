import{r as m,bT as E}from"./index-COXNih-K.js";import{u as T}from"./useSetState-S6mCaPkB.js";function x(){var t=m.useRef(!1),o=m.useCallback(function(){return t.current},[]);return m.useEffect(function(){return t.current=!0,function(){t.current=!1}},[]),o}var v,C;function S(){return C||(C=1,v=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var o=document.activeElement,l=[],c=0;c<t.rangeCount;c++)l.push(t.getRangeAt(c));switch(o.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":o.blur();break;default:o=null;break}return t.removeAllRanges(),function(){t.type==="Caret"&&t.removeAllRanges(),t.rangeCount||l.forEach(function(f){t.addRange(f)}),o&&o.focus()}}),v}var b,w;function R(){if(w)return b;w=1;var t=S(),o={"text/plain":"Text","text/html":"Url",default:"Text"},l="Copy to clipboard: #{key}, Enter";function c(a){var e=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C";return a.replace(/#{\s*key\s*}/g,e)}function f(a,e){var n,u,d,p,s,r,y=!1;e||(e={}),n=e.debug||!1;try{d=t(),p=document.createRange(),s=document.getSelection(),r=document.createElement("span"),r.textContent=a,r.ariaHidden="true",r.style.all="unset",r.style.position="fixed",r.style.top=0,r.style.clip="rect(0, 0, 0, 0)",r.style.whiteSpace="pre",r.style.webkitUserSelect="text",r.style.MozUserSelect="text",r.style.msUserSelect="text",r.style.userSelect="text",r.addEventListener("copy",function(i){if(i.stopPropagation(),e.format)if(i.preventDefault(),typeof i.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var g=o[e.format]||o.default;window.clipboardData.setData(g,a)}else i.clipboardData.clearData(),i.clipboardData.setData(e.format,a);e.onCopy&&(i.preventDefault(),e.onCopy(i.clipboardData))}),document.body.appendChild(r),p.selectNodeContents(r),s.addRange(p);var D=document.execCommand("copy");if(!D)throw new Error("copy command was unsuccessful");y=!0}catch(i){n&&console.error("unable to copy using execCommand: ",i),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",a),e.onCopy&&e.onCopy(window.clipboardData),y=!0}catch(g){n&&console.error("unable to copy using clipboardData: ",g),n&&console.error("falling back to prompt"),u=c("message"in e?e.message:l),window.prompt(u,a)}}finally{s&&(typeof s.removeRange=="function"?s.removeRange(p):s.removeAllRanges()),r&&document.body.removeChild(r),d()}return y}return b=f,b}var h=R();const U=E(h);var A=function(){var t=x(),o=T({value:void 0,error:void 0,noUserInteraction:!0}),l=o[0],c=o[1],f=m.useCallback(function(a){if(t()){var e,n;try{if(typeof a!="string"&&typeof a!="number"){var u=new Error("Cannot copy typeof "+typeof a+" to clipboard, must be a string");c({value:a,error:u,noUserInteraction:!0});return}else if(a===""){var u=new Error("Cannot copy empty string to clipboard.");c({value:a,error:u,noUserInteraction:!0});return}n=a.toString(),e=U(n),c({value:n,error:void 0,noUserInteraction:e})}catch(d){c({value:n,error:d,noUserInteraction:e})}}},[]);return[l,f]};export{A as u};
