import{f as L,n as O,aG as je,bj as R,j as e,T as i,q as _,l as C,aL as v,bG as M,e as se,I,aM as le,P as _e,r as U,bD as N,bL as Re,B as ge,D as Ee,bH as Ne,aY as Ie,aW as qe,aX as we}from"./index-BJbMcewC.js";import{u as oe,a as ne,S as B,b as D,c as ae,d as H,P as $,e as z,f as V,m as Pe,n as Ae,h as Te,i as F,j as Ge,k as Fe,l as ke}from"./StepSwitcher-rx0wj8we.js";import{F as Ue}from"./FilterIcon-DErOfMOU.js";import{I as Y}from"./Instruction-C0w5eOUK.js";import{u as re}from"./useBooleanDictionary-BZqvEURb.js";import{C as Q}from"./CharacterCard-DBwttoJD.js";import{C as de}from"./CardHighlight-DGoZsSlw.js";import{R as W}from"./RuleInstruction-CoIfWJsi.js";import{B as Me}from"./index-Bym3idcJ.js";import{P as We}from"./PlayerIconsIcon-BtUShjMx.js";import{R as Le}from"./RoundAnnouncement-DIgJoSz-.js";import{P as te,p as Oe,g as Be,a as De,b as He}from"./PlayerGlyphs-CEnjV1yQ.js";import{N as K}from"./NoIcon-G565opqA.js";import{Y as J,M as $e}from"./YesIcon-Bc0U8J9G.js";import{G as q}from"./GlyphCard-CRRY06In.js";/* empty css                             */import{I as ze}from"./ImageBlurButtonContainer-CxZEW-sx.js";import{I as ye}from"./ImageCard-kglIlsEw.js";import{M as Se}from"./MetricHighlight-BRvXcdP6.js";import{E as Ve}from"./WritingIcon-BYhKh5xx.js";import{P as k}from"./PointsHighlight-YAwiUuNF.js";import{u as Ye,R as Qe}from"./useVotingMatch-BvCl_Yyy.js";import{R as Ke}from"./RibbonGroup-CGg-gTQt.js";import{R as Je}from"./ThunderboltOutlined-Chdcj7rZ.js";import{u as Xe}from"./SlideShowControls-GLTpbsWt.js";import{A as Ze}from"./AvatarName-Cz5onaCF.js";import{P as ve}from"./PopoverRule-Cwu9sBWO.js";import{S as es}from"./SlideShow-dkjRe_pe.js";import{S as he}from"./StarPoints-DIswd1uw.js";import{S as me,a as ss,b as ee,c as rs}from"./SlideShowComposableComponents-Dhlb7ENd.js";import{S as os}from"./StepRankingWrapper-jiP_TzH8.js";import{R as ns}from"./RoundsLeftInstruction-CPfbuJKh.js";import{T as as}from"./TrophyIcon-DF_r8nSP.js";import"./GameOver-edqyBA3o.js";import{G as ts}from"./GameOverWrapper-sYrxIe9Q.js";import{A as is}from"./Achievements-DOx6r87k.js";import{a as cs}from"./achievements-BW6l1tk2.js";import{A as ls}from"./AvatarStrip-DiNU4rcb.js";import"./useBlurCards-h4CqcxLY.js";import"./speech-BzF0Tbsg.js";import"./useDevFeatures-Cu-9UbBe.js";import"./RulesModal-5YFYEaWp.js";import"./DoubleRightOutlined-Bh1gtdGl.js";import"./PurePanel-BhaI8rGP.js";import"./useMutation-Degx59lO.js";import"./Game-Du3sO8nj.js";import"./WaitingRoomIcon-B4cmtU0l.js";import"./AnimatedClockIcon-DCJB2xRd.js";import"./index-Dtng7KWC.js";import"./useBubbleLock-DydJhBtG.js";import"./index-CvKgvH-N.js";import"./Overflow-BrCXp-wl.js";import"./useEvent-C_peVPrM.js";import"./index-DdgCAG4x.js";import"./Avatar-BoSa6615.js";import"./GameBanner-CO2fVTis.js";import"./useTDBaseUrl-BF9foKiS.js";import"./index-CCy9qnwE.js";import"./InfoCircleOutlined-CzPaz6Qn.js";import"./index-BQsQBMGT.js";import"./SignIn-B0U51EtO.js";import"./GoogleIcon-B9ZULqYD.js";import"./Loading-Bx6gW_1G.js";import"./AnimatedLoaderIcon-BJTCPZJu.js";import"./LikeFilled-BXKKEWW3.js";import"./StarFilled-C9qTiDP8.js";import"./StarFilled-CNctUIhy.js";import"./BoxCheckMarkIcon-CqZ18teu.js";import"./Sprite-9st0laaD.js";import"./WarningOutlined-Dl61a8DW.js";import"./ImageBlurButton-CXc5bpN3.js";import"./StarIcon-Dff18UZm.js";import"./Ribbon-CBMP56TR.js";import"./StepBackwardOutlined-w9Tngu6S.js";import"./TrophyOutlined-BEsAiHcI.js";import"./GarbageIcon-CRKRRRKb.js";import"./RankingBoard-CxNq7e77.js";import"./CaretUpOutlined-CTN4lzvm.js";import"./ArrowRightOutlined-LTWIRFe9.js";import"./useMergedState-B44fkkTu.js";import"./progress-BlJc8CRk.js";import"./TheEndIcon-C5WkjHGK.js";import"./Container-CyIEhv9e.js";import"./Medal-BkIhhV7M.js";import"./QuestionCircleOutlined-F-nhknhb.js";const b={CHARACTER_FILTERING:"CHARACTER_FILTERING",CHARACTER_DESCRIPTION:"CHARACTER_DESCRIPTION",GUESSING:"GUESSING",RESULTS:"RESULTS"},ie={SUBMIT_CHARACTERS:"SUBMIT_CHARACTERS",SUBMIT_GLYPHS:"SUBMIT_GLYPHS",SUBMIT_GUESSES:"SUBMIT_GUESSES"},ds=10;function hs(r){const{translate:s}=L(),o=oe({actionName:"submit-characters",onSuccess:()=>r(2),onError:()=>r(0),successMessage:s("Ação submetida com sucesso","Action submitted successfully"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return n=>{o({action:ie.SUBMIT_CHARACTERS,...n})}}function ms(r){const{translate:s}=L(),o=oe({actionName:"submit-glyphs",onSuccess:()=>r(2),onError:()=>r(0),successMessage:s("Ação submetida com sucesso","Action submitted successfully"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return n=>{o({action:ie.SUBMIT_GLYPHS,...n})}}function ps(r){const{translate:s}=L(),o=oe({actionName:"submit-guesses",onSuccess:()=>r(2),onError:()=>r(0),successMessage:s("Ação submetida com sucesso","Action submitted successfully"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar enviar sua ação","Oops, the application found an error while trying to submit your action")});return n=>{o({action:ie.SUBMIT_GUESSES,...n})}}const us=r=>O.sampleSize(r,6).map(s=>s.id);function xs({user:r,announcement:s,onSelectCharacters:o}){const{isLoading:n}=je(),t=R(12,{gap:16,minWidth:100,maxWidth:200}),{dict:a,updateDict:c,length:l,keys:d}=re({}),m=r.availableCharacters??[];return ne(),e.jsxs(B,{fullWidth:!0,announcement:s,children:[e.jsx(D,{children:e.jsx(i,{pt:e.jsxs(e.Fragment,{children:["Selecione ",e.jsx(de,{children:"6"})," cartas"]}),en:e.jsxs(e.Fragment,{children:["Select ",e.jsx(de,{children:"6"})," cards"]})})}),e.jsx(W,{type:"action",children:e.jsx(i,{pt:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Selecione"})," 6 personagens/celebridades abaixo, dessas 5 serão usadas no jogo.",e.jsx("br",{}),"Essa etapa é necessária para que você não receba um personagem que não conheça."]}),en:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Select"})," 6 characters/celebrities below, 5 of them will be used in the game.",e.jsx("br",{}),"This step is necessary so that you don't receive a character you don't know."]})})}),e.jsx(_,{className:"grid-container grid-template-6 gap-4",wrap:!0,children:m.map(h=>e.jsx(C,{disabled:r.ready||n,onClick:()=>c(h.id),active:a[h.id],activeClass:"q-character-player",children:e.jsx(Q,{size:t,character:h})},h.id))}),e.jsxs(v,{children:[e.jsx(M,{size:"large",type:"dashed",onClick:()=>o({characters:us(m)}),loading:n,disabled:n||r.ready,children:e.jsx(i,{pt:e.jsx(e.Fragment,{children:"Escolha pra mim"}),en:e.jsx(e.Fragment,{children:"Choose for me"})})}),e.jsx(Me,{count:l,children:e.jsx(M,{size:"large",onClick:()=>o({characters:d}),loading:n,disabled:r.ready||l!==6,children:e.jsx(i,{pt:"Enviar cartas",en:"Submit cards"})})})]})]})}function js({players:r,state:s}){var l;const o=ae(r,s),{step:n,setStep:t}=H(),a=hs(t),c=e.jsx($,{icon:e.jsx(Ue,{}),title:e.jsx(i,{pt:"Quem você conhece?",en:"Who do you know?"}),currentRound:(l=s==null?void 0:s.round)==null?void 0:l.current,type:"overlay",children:e.jsx(Y,{children:e.jsx(i,{pt:e.jsx(e.Fragment,{children:"Selecione personagens/pessoas que você conhece"}),en:e.jsx(e.Fragment,{children:"Select characters/people you know"})})})});return e.jsx(z,{phase:s==null?void 0:s.phase,allowedPhase:b.CHARACTER_FILTERING,children:e.jsx(V,{step:n,players:r,children:e.jsx(xs,{user:o,onSelectCharacters:a,announcement:c})})})}function gs({user:r}){return r.selectedGlyphs?e.jsxs(_,{wrap:!0,children:[e.jsx(Q,{size:100,character:r.character}),e.jsx(te,{player:r,glyphWidth:60})]}):e.jsx(e.Fragment,{})}function w({character:r,width:s,imageCardMode:o,className:n}){return o?e.jsx(ze,{cardId:r.id,children:e.jsx(ye,{id:r.id,cardWidth:s,className:n,preview:!1})}):e.jsx(Q,{character:r,size:s,className:n})}function ys({characters:r,playerCharacterId:s,tableOrder:o,showAll:n=!0,imageCardMode:t=!1}){const a=R(8,{gap:16,minWidth:150,maxWidth:200}),c=o.slice(0,Math.floor(o.length/2)),l=o.slice(Math.floor(o.length/2));return n?e.jsxs(v,{className:"q-table",wrap:!0,children:[e.jsx(v,{wrap:!0,children:c.map(d=>e.jsx(w,{character:r[d],width:a,imageCardMode:t,className:se(d===s&&"q-character-player")},d))}),e.jsx(v,{wrap:!0,children:l.map(d=>e.jsx(w,{character:r[d],width:a,imageCardMode:t,className:se(d===s&&"q-character-player")},d))})]}):e.jsx(v,{className:"q-table",children:e.jsx(Q,{character:r[s],size:a,className:"q-character-player"})})}function pe({children:r,type:s,iconSize:o,className:n}){return e.jsx(Se,{icon:e.jsx(J,{}),type:s,iconSize:o,className:n,children:r})}function ue({children:r,type:s,iconSize:o,className:n}){return e.jsx(Se,{icon:e.jsx(K,{}),type:s,iconSize:o,className:n,children:r})}const xe=[0,1,2];function Ss({user:r,announcement:s,onSelectGlyphs:o,characters:n,tableOrder:t,roundType:a,imageCardMode:c}){var T;const{translate:l}=L(),d=R(20,{gap:16,minWidth:50,maxWidth:75}),m=d+15,{dict:h,updateDict:p,keys:x}=re({}),{dict:f,updateDict:A,keys:E}=re({}),X=r.glyphs??[];return ne(),e.jsxs(B,{fullWidth:!0,announcement:s,children:[e.jsx(D,{children:e.jsx(i,{pt:e.jsx(e.Fragment,{children:"Descreva seu personagem com ícones"}),en:e.jsx(e.Fragment,{children:"Describe your character with glyphs"})})}),e.jsxs(W,{type:"rule",children:[e.jsx(i,{pt:e.jsxs(e.Fragment,{children:["Dos ícones abaixo, você pode selecionar até ",e.jsx(pe,{children:"3"})," positivos e até ",e.jsx(ue,{children:"3"})," negativos.",e.jsx("br",{})," Quando você clica em ícone, você determina se ele é relacionado ao seu personagem ou não.",e.jsx("br",{}),e.jsx("strong",{children:"A sua carta é a que tem a borda de bolinhas amarelas!"})]}),en:e.jsxs(e.Fragment,{children:["From the glyphs below, you may select up to ",e.jsx(pe,{children:"3"})," positive and ",e.jsx(ue,{children:"3"})," negative glyphs.",e.jsx("br",{}),"When you click on a glyph, you will determine if it's related or not to your character.",e.jsx("br",{}),e.jsx("strong",{children:"Your card is highlighted with the dotted yellow border!"})]})}),a==="SHOW"&&e.jsx(i,{pt:e.jsxs(e.Fragment,{children:[e.jsx("br",{}),"Você também pode ver todos os personagens abaixo caso queira evitar conflito com outros jogadores."]}),en:e.jsxs(e.Fragment,{children:[e.jsx("br",{}),"You can also take a look at all the characters for this round so you don't give clues that match others."]})})]}),a!=="SHOW"&&e.jsx(W,{type:"event",children:e.jsx(i,{pt:e.jsx(e.Fragment,{children:"De agora em diante, você vê apenas o seu personagem."}),en:e.jsx(e.Fragment,{children:"From now on, you only see your own character."})})}),e.jsx(ys,{characters:n,playerCharacterId:(T=r.character)==null?void 0:T.id,tableOrder:t,showAll:a==="SHOW",imageCardMode:c}),e.jsxs(v,{className:"q-selections",children:[e.jsx("div",{className:"q-selections__section q-selections__section--positive",children:xe.map(j=>{const g=x[j];return e.jsx("div",{className:"q-selections__positive",children:e.jsxs("div",{className:"q-selections__entry",children:[e.jsx(I,{icon:e.jsx(J,{})}),g!==void 0?e.jsx(C,{onClick:()=>p(g),title:l("Remover","Remove"),children:e.jsx(le,{title:e.jsx(i,{pt:"Remover",en:"Remove"}),children:e.jsx(q,{width:m,id:g})})}):e.jsx("div",{className:"q-selections__no-glyph",style:{width:`${m}px`,height:`${m}px`}})]})},`pos-${j}-${g}`)})}),e.jsx("div",{className:"q-selections__section q-selections__section--negative",children:xe.map(j=>{const g=E[j];return e.jsx("div",{className:"q-selections__positive",children:e.jsxs("div",{className:"q-selections__entry",children:[e.jsx(I,{icon:e.jsx(K,{})}),g!==void 0?e.jsx(C,{onClick:()=>A(g),children:e.jsx(le,{title:e.jsx(i,{pt:"Remover",en:"Remove"}),trigger:"hover",children:e.jsx(q,{width:m,id:g})})}):e.jsx("div",{className:"q-selections__no-glyph",style:{width:`${m}px`,height:`${m}px`}})]})},`neg-${j}-${g}`)})})]}),e.jsx(_,{className:"glyphs",wrap:!0,children:X.map(j=>e.jsx(_e,{content:e.jsx(vs,{id:j,updatePositive:p,updateNegative:A,disablePositive:x.length===3,disableNegative:E.length===3}),title:e.jsx(i,{pt:"Positivo ou Negativo?",en:"Positive or Negative"}),trigger:"click",children:e.jsx(C,{children:e.jsx(q,{width:d,id:j})})},j))}),e.jsx(v,{children:e.jsx(M,{size:"large",onClick:()=>o({glyphs:Oe(h,f)}),disabled:r.ready||x.length<1&&E.length<1,children:e.jsx(i,{pt:e.jsx(e.Fragment,{children:"Enviar ícones"}),en:e.jsx(e.Fragment,{children:"Submit glyphs"})})})})]})}function vs({id:r,updatePositive:s,updateNegative:o,disablePositive:n,disableNegative:t}){return e.jsxs(_,{children:[e.jsx(C,{onClick:()=>s(r),disabled:n,children:e.jsx(I,{icon:e.jsx(J,{}),size:"large"})}),e.jsx(C,{onClick:()=>o(r),disabled:t,children:e.jsx(I,{icon:e.jsx(K,{}),size:"large"})})]})}function fs({players:r,state:s}){var d;const o=ae(r,s),{step:n,goToNextStep:t,setStep:a}=H(),c=ms(a),l=e.jsx($,{icon:e.jsx(We,{}),title:e.jsx(i,{pt:"Descreva seu personagem com ícones",en:"Describe your character with glyphs"}),currentRound:(d=s==null?void 0:s.round)==null?void 0:d.current,type:"overlay",children:e.jsx(Y,{children:e.jsx(i,{pt:e.jsx(e.Fragment,{children:"Selecione até 6 ícones que ajudem os outros jogadores a adivinhar o seu personagem"}),en:e.jsx(e.Fragment,{children:"Select up to 6 glyphs that would help other players to guess who your character is"})})})});return e.jsx(z,{phase:s==null?void 0:s.phase,allowedPhase:b.CHARACTER_DESCRIPTION,children:e.jsxs(V,{step:n,players:r,waitingRoom:{content:e.jsx(gs,{user:o})},children:[e.jsx(Le,{round:s==null?void 0:s.round,onPressButton:t,buttonText:" ",time:5}),e.jsx(Ss,{user:o,onSelectGlyphs:c,characters:s.characters,tableOrder:s.tableOrder,announcement:l,roundType:s.roundType,imageCardMode:s.mode==="imageCards"})]})})}function P({currentRound:r}){return e.jsx(i,{pt:e.jsxs(e.Fragment,{children:["Você ganha ",e.jsx(k,{children:r}),"ponto para cada par que acertar e também"," ",e.jsx(k,{children:r}),"ponto para cada jogador que acertar o seu."]}),en:e.jsxs(e.Fragment,{children:["You get ",e.jsx(k,{children:r}),"point for each pair you get correctly and also ",e.jsx(k,{children:r}),"point for each player who gets your character correctly"]})})}function bs({user:r,announcement:s,onSubmitGuesses:o,players:n,characters:t,tableOrder:a,round:c,imageCardMode:l}){var ce;const{isLoading:d}=je(),m=R(20,{gap:16,minWidth:45,maxWidth:60}),h=R(8,{gap:16,minWidth:120,maxWidth:200}),{votes:p,setVotes:x,activateItem:f,isVotingComplete:A,isItemActive:E}=Ye("player",!0,Object.keys(n).length,{}),[X,T]=U.useState(!1),j=()=>{T(!0);const u=Object.keys(p),y=Object.values(p),Z=Object.keys(n).map(S=>N(["player",S])).filter(S=>!u.includes(S)),be=O.shuffle(Object.keys(t).map(S=>N(["char",S])).filter(S=>!y.includes(S))),G={...p};return Z.forEach((S,Ce)=>{G[S]||(G[S]=be[Ce])}),x(G),G},g=U.useCallback(()=>{if(r.character)return{[N(["player",r.id])]:N(["char",r.character.id])}},[r]);ne(),U.useEffect(()=>{const u=g();u&&x(y=>({...y,...u}))},[(ce=r==null?void 0:r.character)==null?void 0:ce.id]);const fe=Be(n,p);return e.jsxs(B,{fullWidth:!0,announcement:s,children:[e.jsx(D,{children:e.jsx(i,{pt:e.jsx(e.Fragment,{children:"Pareie os cada personagem com um jogador"}),en:e.jsx(e.Fragment,{children:"Pair player and characters"})})}),e.jsxs(W,{type:"rule",children:[e.jsx(i,{pt:e.jsxs(e.Fragment,{children:["De acordo com a seleção de ícones de cada jogador, tente adivinhar todos os pares.",e.jsx("br",{}),e.jsx("strong",{children:"Clique"})," em uma das barras de ícones então no personagem correspondente.",e.jsx("br",{}),"Para desfazer, basta selecionar normalmente que sua escolha era sobreposta."]}),en:e.jsxs(e.Fragment,{children:["Based on each player's glyphs selection, try to guess the pairs.",e.jsx("br",{}),e.jsx("strong",{children:"Click"})," on one of the glyph bars and then on the corresponding character.",e.jsx("br",{}),"To undo, just select normally that your choice was overridden."]})}),e.jsx("br",{}),e.jsx(P,{currentRound:c.current})]}),e.jsxs("div",{className:"q-voting-container",children:[e.jsx("div",{className:"q-voting-characters",children:a.map(u=>{const y=N(["char",u]),Z=fe[u]??[];return e.jsxs(C,{onClick:()=>f(y),active:E(y),className:"q-voting-characters__button",children:[e.jsx(Ke,{labels:Z}),e.jsx(w,{character:t[u],width:h,className:se(u==="a"&&"q-character-player"),imageCardMode:l})]},u)})}),e.jsx("div",{className:"q-players-glyphs",children:Re(n).map(u=>{const y=N(["player",u.id]);return e.jsx(C,{onClick:()=>f(y),active:E(y),children:e.jsx(te,{player:u,glyphWidth:m,done:!!p[y]})},`glyphs-for-${u.id}`)})})]}),e.jsxs(v,{children:[e.jsx(M,{size:"large",onClick:()=>o({guesses:De(p),choseRandomly:X}),disabled:r.ready||!A,children:e.jsx(i,{pt:e.jsx(e.Fragment,{children:"Enviar pares"}),en:e.jsx(e.Fragment,{children:"Submit guesses"})})}),e.jsx(ge,{size:"large",type:"dashed",onClick:()=>j(),disabled:d||r.ready,icon:e.jsx(Je,{}),children:e.jsx(i,{pt:e.jsx(e.Fragment,{children:"Desistir"}),en:e.jsx(e.Fragment,{children:"Guess for me"})})})]})]})}function Cs({players:r,state:s}){var l;const o=ae(r,s),{step:n,setStep:t}=H(),a=ps(t),c=e.jsx($,{icon:e.jsx(Ve,{}),title:e.jsx(i,{pt:"Pareie os personagens e símbolos",en:"Pair characters with the players' glyphs"}),currentRound:(l=s==null?void 0:s.round)==null?void 0:l.current,type:"overlay",children:e.jsx(Y,{children:e.jsx(P,{currentRound:s.round.current})})});return e.jsx(z,{phase:s==null?void 0:s.phase,allowedPhase:b.GUESSING,children:e.jsx(V,{step:n,players:r,children:e.jsx(bs,{user:o,onSubmitGuesses:a,characters:s.characters,tableOrder:s.tableOrder,players:r,announcement:c,round:s.round,imageCardMode:s.mode==="imageCards"})})})}function _s({players:r,playersSay:s,playersPoints:o,characters:n,currentColor:t,currentPlayer:a,round:c,imageCardMode:l}){const d=O.orderBy(Object.entries(s).map(([h,p])=>({cardId:h,character:n[h],playersIds:p,count:p.length,isCorrect:a.character.id===h})),["isCorrect","count","card.text"],["desc","desc","asc"]),m=s[a.character.id];return e.jsxs(_,{className:"q-gallery__info-container",direction:"vertical",children:[e.jsxs(_,{className:"q-gallery__votes",direction:"vertical",children:[e.jsx(me,{children:e.jsx(i,{pt:"Jogadores votaram",en:"Players voted"})}),d.map((h,p)=>e.jsxs("div",{className:"q-gallery__guess",children:[e.jsx(ss,{winner:h.isCorrect,backgroundColor:t,children:l?e.jsx(ye,{id:h.character.id,cardWidth:35,className:"inline"}):e.jsx(Ee,{children:h.character.name})}),e.jsx(ee,{playersIds:h.playersIds,players:r})]},`guess-${h.cardId}-${p}`))]}),e.jsxs(_,{className:"q-gallery__votes",direction:"vertical",children:[e.jsx(me,{children:e.jsx(i,{pt:"Pontos",en:"Points"})}),m.length?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"q-gallery__players",children:e.jsx(ee,{playersIds:m,players:r,children:e.jsx(he,{quantity:c.current,keyPrefix:`guessers-points-${a.id}`})})}),e.jsx("div",{className:"q-gallery__player-points",children:e.jsx(ee,{playersIds:[a.id],players:r,children:e.jsx(he,{quantity:o==null?void 0:o[a.id],keyPrefix:`artist-points-${a.id}`})})})]}):e.jsx(rs,{children:e.jsx(i,{pt:"Esses ícones devem ter sido uma bosta, heim.",en:"It must have been a very crappy glyphs. What a shame..."})})]})]})}function Rs({players:r,gallery:s,characters:o,slideShowConfig:n,round:t,imageCardMode:a}){Pe();const c=R(20,{gap:16,minWidth:45,maxWidth:60}),l=R(8,{gap:16,minWidth:120,maxWidth:200}),{playerId:d,characterId:m,playersPoints:h,playersSay:p}=s[n.slideIndex],x=r[d],f=Ne(x.avatarId);return e.jsxs(B,{className:"l-step-album",children:[e.jsx(D,{children:e.jsx(i,{pt:"Galeria",en:"Gallery"})}),e.jsx(ve,{content:e.jsx(P,{currentRound:t.current})}),e.jsxs(es,{config:n,barColor:f,leftClassName:"q-gallery__result",rightClassName:"q-gallery__info",children:[e.jsxs("div",{className:"q-gallery__result-container",children:[e.jsx("div",{className:"q-gallery__player",style:{backgroundColor:f},children:e.jsx(Ze,{player:x,size:"large"})}),e.jsxs(v,{vertical:!0,children:[e.jsx(w,{character:o[m],width:l,imageCardMode:a}),e.jsx(te,{player:x,glyphWidth:c})]})]}),e.jsx(_s,{players:r,playersSay:p,playersPoints:h,characters:o,currentColor:f,currentPlayer:x,round:t,imageCardMode:a})]})]})}function Es({players:r,ranking:s,round:o,onGoBack:n}){return e.jsxs(os,{players:r,ranking:s,gainedPointsDescriptions:[e.jsx(i,{pt:"Votos corretos",en:"Correct guesses"},"1"),e.jsx(i,{pt:"Votos corretos em seu personagem por outros jogadores",en:"Correct guesses on your character by other players"},"2")],children:[e.jsx(ve,{content:e.jsx(P,{currentRound:o.current})}),e.jsx(ns,{round:o}),e.jsx(ge,{size:"large",onClick:n,icon:e.jsx(Qe,{}),children:e.jsx(i,{pt:"Ver Galeria Novamente",en:"See Gallery Again"})}),e.jsx(Ae,{round:o})]})}function Ns({players:r,state:s}){var l;const{step:o,goToPreviousStep:n,goToNextStep:t}=H(),a=Xe({length:s.gallery.length,slideDuration:ds,onExpire:t}),c=()=>{a.reset(),n()};return e.jsx(z,{phase:s==null?void 0:s.phase,allowedPhase:b.RESULTS,children:e.jsxs(V,{step:o,players:r,children:[e.jsx($,{icon:e.jsx($e,{}),title:e.jsx(i,{pt:"Resultado",en:"Results"}),onClose:t,currentRound:(l=s==null?void 0:s.round)==null?void 0:l.current,unskippable:!0,type:"block",children:e.jsx(Y,{children:e.jsx(P,{currentRound:s.round.current})})}),e.jsx(Rs,{players:r,gallery:s.gallery,characters:s.characters,slideShowConfig:a,round:s.round,imageCardMode:s.mode==="imageCards"}),e.jsx(Es,{players:r,ranking:s.ranking,round:s.round,onGoBack:c})]})})}function Is({players:r,character:s,glyphWidth:o,imageCardsMode:n}){const[t,a]=U.useMemo(()=>He(s.glyphs??{}),[s.glyphs]);return e.jsxs("div",{className:"q-player-glyphs q-final-character",children:[e.jsx(ls,{player:r[s.playerId],withName:!0,className:"q-player-glyphs__strip"}),e.jsx(w,{width:100,character:s,imageCardMode:n}),t.map((c,l)=>e.jsxs("div",{className:"q-player-glyphs__entry q-player-glyphs__entry--positive",children:[e.jsx(I,{icon:e.jsx(J,{}),size:"small"}),c?e.jsx(q,{width:o,id:c}):e.jsx("div",{className:"q-selections__no-glyph",style:{width:`${o}px`,height:`${o}px`}})]},`pos-${s.id}-${c}-${l}`)),a.map((c,l)=>e.jsxs("div",{className:"q-player-glyphs__entry q-player-glyphs__entry--negative",children:[e.jsx(I,{icon:e.jsx(K,{}),size:"small"}),c?e.jsx(q,{width:o,id:c}):e.jsx("div",{className:"q-selections__no-glyph",style:{width:`${o}px`,height:`${o}px`}})]},`neg-${s.id}-${c}-${l}`))]})}function qs({state:r,players:s,meta:o}){return e.jsxs(ts,{state:r,players:s,announcementIcon:e.jsx(as,{}),children:[e.jsx(is,{players:s,achievements:r.achievements,reference:cs}),e.jsx(v,{wrap:!0,children:O.orderBy(r.gallery,`name.${o.language}`).map(n=>{var t;return e.jsx(Is,{players:s,character:n,glyphWidth:30,imageCardsMode:!!((t=o.options)!=null&&t.imageCardsMode)},n.id)})})]})}function ws(r){if(r&&!r.phase)return qe;switch(r.phase){case F.DEFAULT.LOBBY:return ke;case F.DEFAULT.RULES:return Fe;case F.DEFAULT.SETUP:return Ge;case b.CHARACTER_FILTERING:return js;case b.CHARACTER_DESCRIPTION:return fs;case b.GUESSING:return Cs;case b.RESULTS:return Ns;case F.DEFAULT.GAME_OVER:return qs;default:return we}}function co(){return e.jsx(Te,{gameCollection:Ie.QUEM_SOU_EU,getActiveComponent:ws})}export{co as default};
