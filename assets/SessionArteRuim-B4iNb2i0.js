import{f as N,j as e,T as o,c as I,bv as q,D as de,r as j,J as H,I as ue,ay as U,bW as b,bX as me,aK as P,ar as pe,q as J,bY as he,y as xe,au as je,B as E,bZ as ge,v as ve,b_ as fe,av as we,bs as ye,aF as be}from"./index-fRiT8rzz.js";import{u as K,a as G,P as k,S as Q,f as Ae,c as Se,d as Ie,e as Re}from"./Session-DTbD9-x6.js";import{P as Ce}from"./PaintingIcon-C2N5STWS.js";import{S as O,P as W,a as L,u as Ne}from"./StepSwitcher-Bqve8t_v.js";import{I as f,u as X}from"./useDevFeatures-qTQB-SuX.js";import{R as _e}from"./RoundAnnouncement-L2ewg5Xi.js";import{P as g}from"./PointsHighlight-D82_mJT4.js";import{T as z}from"./TimeHighlight-BCgrCv-z.js";import{m as Te,R as Pe}from"./drawing-DGsxRRzR.js";import{u as Ee}from"./speech--z4m8DRt.js";import{u as Z}from"./useMock-CQoPq-py.js";import{P as De}from"./PanicIcon-Rk9fg3vk.js";import{A as Ge}from"./ArteRuimTimerSound-CexKy7vC.js";import{D as ke}from"./DrawingCanvas-fA7_N6VA.js";import{C as ee}from"./Card-D0TKMf5i.js";import{D as Oe}from"./DevButton-DjYf6-S6.js";import{E as We}from"./WritingIcon-DWMjVfrQ.js";import{V as Le}from"./ViewIf-qgMpzyEs.js";import{A as Me}from"./AnimatedLoaderIcon-BqJQF767.js";import{P as se}from"./PlayerAvatarName-i_35TsSg.js";import{C as _}from"./CanvasSVG-DhDwUpvU.js";import{u as Fe}from"./useVotingMatch-C4BKG0wD.js";import{C as Ve}from"./CanvasResizer-70CLPQj9.js";import{R as Be}from"./RuleInstruction-7zO5vUMY.js";import{P as M}from"./PopoverRule-DMvK6Kut.js";import{R as $e}from"./Ribbon-CGEx3wrx.js";import{R as qe}from"./WarningOutlined-FuphVr7V.js";import{R as Ue}from"./ThunderboltOutlined-Ubaq3qxK.js";import{u as ze}from"./SlideShowControls-CH0nNQbm.js";import{P as Ye}from"./PictureIcon-Bo1hJl2e.js";import{S as He}from"./SlideShow-BLeWjXlh.js";import{P as Je}from"./PlayerAvatarEntry-d31gdtDw.js";import{S as F,a as ae,b as D,c as Ke}from"./SlideShowComposableComponents-CeMAR5xS.js";import{S as Y}from"./StarPoints-DMI326bE.js";import{S as Qe}from"./StepRankingWrapper-D_Aqw5Dq.js";import{R as Xe}from"./RoundsLeftInstruction-Cxgxyy2Q.js";import{R as Ze}from"./PictureOutlined-BvhQoLnE.js";import{T as es}from"./TrophyIcon-BM70xywC.js";import"./RulesModal-B9kLoEFa.js";import{G as ss}from"./GameOverWrapper-Bjjx8FCJ.js";import{A as as}from"./Achievements-QCbpj0SY.js";import{a as rs}from"./achievements-C6tz5Jf8.js";import{T as ts}from"./TitledContainer-DVn5FGZS.js";import"./Game-BDRHXVIa.js";import"./useMutation-DYLDKnZF.js";import"./FixedMenuButton-CrLskarn.js";import"./Popconfirm-6b4lYfNV.js";import"./PurePanel-CzRXmRlX.js";import"./index-BY-wBaNH.js";import"./index-D9CQLybo.js";import"./extends-CF3RwP-h.js";import"./useToggle-Bdk_zF0U.js";import"./useId-VVBAxEyL.js";import"./PlayerAvatar-C-JTrpV5.js";import"./useTDBaseUrl-BF9foKiS.js";import"./index-C-eJu0Jd.js";import"./index-CuGTbAeq.js";import"./index-CveRTBFQ.js";import"./SignIn-DOkqc9Bj.js";import"./GoogleIcon-Dd5fPpm6.js";import"./AnimatedGearIcon-CrqPIMNX.js";import"./AnimatedClockIcon-Z-VoNimU.js";import"./TimedButton-Dna57YTQ.js";import"./Loading-CRd6Nydv.js";import"./WaitingRoomIcon-Ek-O8N9M.js";import"./LikeFilled-DF0INjIf.js";import"./StarIcon-X5fMDJ6d.js";import"./MetricHighlight-BHRl99lr.js";import"./ClockIcon-CXwxHGCA.js";import"./useAudio-BXvy9RtV.js";import"./useSetState-CyPxG8L7.js";import"./UndoOutlined-BDZWud9d.js";import"./DeleteOutlined-D1s8v6kb.js";import"./index-BfIL47uc.js";import"./StarFilled-_qS1gkal.js";import"./StepBackwardOutlined-R7kLxxkW.js";import"./TrophyOutlined-BkvDYbvu.js";import"./GarbageIcon-D3sv_nC6.js";import"./RankingBoard-BF2dVHCo.js";import"./CaretUpOutlined-B8QWsiW9.js";import"./TheEndIcon-DxgJvD_x.js";import"./index-CFKjejnp.js";import"./progress-DdkebC0P.js";import"./Medal-Cr33sqde.js";const A={DRAW:"DRAW",EVALUATION:"EVALUATION",GALLERY:"GALLERY"},re={SUBMIT_DRAWING:"SUBMIT_DRAWING",SUBMIT_VOTING:"SUBMIT_VOTING"},ns=10;function os(s){const{translate:a}=N(),r=K({actionName:"submit-drawing",onBeforeCall:()=>s(2),onError:()=>s(1),successMessage:a("Acabou o tempo! Aguarde enquanto os outros participantes desenham","Time's up! Wait for the other players to finish their art"),errorMessage:a("Vixi, o aplicativo encontrou um erro ao tentar enviar o desenho","Oops, the application failed to send your art")});return t=>{r({action:re.SUBMIT_DRAWING,...t})}}function is(s){const{translate:a}=N(),r=K({actionName:"submit-voting",onSuccess:()=>s(2),onError:()=>s(0),successMessage:a("Avaliação enviada! Agora aguarde os outros jogadores","Evaluation sent successfully! Wait for the other players"),errorMessage:a("Vixi, o aplicativo encontrou um erro ao tentar enviar sua avaliação","Oops, the application failed to send your evaluation")});return t=>{r({action:re.SUBMIT_VOTING,...t})}}const cs=()=>e.jsx(f,{children:e.jsx(o,{pt:e.jsxs(e.Fragment,{children:["Você terá ",e.jsx(z,{children:"10"})," segundos para ler a sua carta e desenhá-la.",e.jsx("br",{}),"Aperte o botão quando estiver pronto!",e.jsx("br",{}),e.jsx("span",{className:I(q("tada")),children:e.jsx("strong",{children:"Não vale usar números e letras."})}),e.jsx("br",{}),"Fique esperto porque o tempo começa assim que você apertar."]}),en:e.jsxs(e.Fragment,{children:["You'll have ",e.jsx(z,{children:"10"})," seconds to read and draw your card.",e.jsx("br",{}),"Press the button when you're ready!",e.jsx("br",{}),e.jsx("span",{className:I(q("tada")),children:e.jsx("strong",{children:"You can NOT use numbers or letters."})}),e.jsx("br",{}),"Be aware of the timer! It starts as soon as you press the button."]})})}),te=()=>e.jsx(f,{children:e.jsx(o,{pt:e.jsxs(e.Fragment,{children:["Encontre os pares de desenho e carta clicando em uma carta ou desenho e em seguida clicando em seu par.",e.jsx("br",{}),"Uma bandeirinha aparecerá no topo de cada desenho com a cor e letra da carta que você selecionou.",e.jsx("br",{}),"Quando encontrar todos os pares, envie sua avaliação!"]}),en:e.jsxs(e.Fragment,{children:["Find the pairs of artwork and card by clicking on a card or artwork then on its match.",e.jsx("br",{}),"A ribbon will show up on the artwork with the color and letter of the matching card.",e.jsx("br",{}),"When you're done, click the button to send your evaluation!"]})})}),ls=()=>e.jsx(f,{children:e.jsx(o,{pt:e.jsxs(e.Fragment,{children:["Agora, mostraremos cada arte, o que os jogadores votaram e a resposta final.",e.jsx("br",{}),"Se você votou na expressão correta, você ganha ",e.jsx(g,{type:"positive",children:"2"})," ","pontos.",e.jsx("br",{}),"Quando for a sua arte, você ganha ",e.jsx(g,{type:"positive",children:"1"})," ponto para cada pessoa que votou corretamente."]}),en:e.jsxs(e.Fragment,{children:["Now we show each art, what players voted, and the final answer.",e.jsx("br",{}),"You get ",e.jsx(g,{type:"positive",children:"2"})," points if you paired the correct card and art.",e.jsx("br",{}),"When players selected the correct card for your artwork, you get"," ",e.jsx(g,{type:"positive",children:"1"})," point for each match!"]})})}),ne=()=>e.jsx(f,{children:e.jsx(o,{pt:e.jsxs(e.Fragment,{children:["Você ganha ",e.jsx(g,{type:"positive",children:"2"})," pontos para cada ligação correta entre arte e expressão.",e.jsx("br",{}),"Para cada ligação correta que sua arte ganha, você recebe"," ",e.jsx(g,{type:"positive",children:"1"})," ponto."]}),en:e.jsxs(e.Fragment,{children:["You get ",e.jsx(g,{type:"positive",children:"2"})," points if you matched the right card with artwork.",e.jsx("br",{}),"For you own artwork, you get ",e.jsx(g,{type:"positive",children:"1"})," point for each correct match the other players done."]})})});function ds({level:s,levelType:a}){return s<4?null:s===4?e.jsx(f,{contained:!0,children:e.jsx(o,{pt:"No nível 4, as cartas tem um ou dois temas comuns, então preste atenção nos detalhes",en:"On level 4, the cards have one or two common themes, so pay attention to details"})}):a==="pairs"?e.jsx(f,{contained:!0,children:e.jsx(o,{pt:"No nível 5, só existem duas cartas para todos",en:"On level 5, players draw one of two things only"})}):e.jsx(f,{contained:!0,children:e.jsx(o,{pt:e.jsxs(e.Fragment,{children:["Rodada Especial:"," ",e.jsx(de,{children:us[a]??{pt:"Surpresa",en:"Surprise"}})]}),en:e.jsx(e.Fragment,{children:"Special Round: "})})})}const us={contenders:{pt:"Personagens e Personalidades",en:"Characters and Celebrities"},movies:{pt:"Filmes",en:"Movies"},adjectives:{pt:"Adjetivos",en:"Adjectives"}};function ms({secretCard:s,onSubmitDrawing:a,startDrawingTimer:r,announcement:t}){const{translate:d}=N(),{isDebugEnabled:l}=X(),[n,i]=j.useState([]),[c,u]=j.useState(!1),{seconds:m,start:p,isRunning:h}=Ee({duration:12,autoStart:!1,onExpire:()=>{u(!0),a({drawing:JSON.stringify(n),cardId:s.id})}});j.useEffect(()=>{!h&&r&&p()},[r,h,p]);const R=()=>a({drawing:JSON.stringify(Te()),cardId:s.id});return Z(),e.jsxs(O,{announcement:t,children:[e.jsx(ee,{size:"large",header:d("Desenhe","Draw",l?s?.id:void 0),footer:Array(s?.level).fill("•").join(""),className:"a-draw-step__card",color:"yellow",children:h&&e.jsxs(e.Fragment,{children:[s?.text,e.jsx("span",{className:"a-draw-step__timer",children:m>1?m-2:0})]})}),h&&e.jsx(Ge,{}),e.jsx(Oe,{onClick:R,children:"Mock Drawing"}),c?e.jsx(De,{style:{background:"white",width:"500px",padding:"2em"}}):e.jsx(ke,{lines:n,setLines:i})]})}function ps({players:s,state:a,user:r}){const{step:t,goToNextStep:d,setStep:l}=G(0),[n,i]=j.useState(!1),c=os(l),u=e.jsx(W,{icon:e.jsx(Ce,{}),title:e.jsx(o,{pt:"Desenhe!",en:"Draw!"}),buttonText:e.jsx(o,{pt:"Um dó, lá, si... vamos e... já!",en:"Ready! Set! Go!"}),onClose:()=>i(!0),currentRound:a?.round?.current,withoutTimer:!0,type:"overlay",children:e.jsx(cs,{})});return e.jsx(k,{phase:a?.phase,allowedPhase:A.DRAW,children:e.jsxs(L,{step:t,players:s,waitingRoom:{instruction:e.jsx(o,{pt:"Vamos aguardar enquanto os outros jogadores terminam seus desenhos!",en:"Please wait while other players finish their artwork!"})},children:[e.jsx(_e,{round:a?.round,onPressButton:d,buttonText:" ",time:5,unskippable:!0,children:e.jsxs(f,{contained:!0,children:[e.jsx(o,{pt:`Essa rodada usará cartas de nível ${a?.level||"?"}`,en:`This round uses cards of level ${a?.level||"?"}`}),e.jsx(ds,{level:a.level,levelType:a.levelType})]})}),e.jsx(ms,{secretCard:r.currentCard??{},onSubmitDrawing:c,announcement:u,startDrawingTimer:n})]})})}function hs({votes:s,cards:a,drawings:r,players:t}){const[d]=H("canvasSize"),l=j.useMemo(()=>a.reduce((c,u)=>(c[u.id]=u,c),{}),[a]),n=j.useMemo(()=>r.reduce((c,u)=>(c[u.id]=u,c),{}),[r]);if(!s)return e.jsx("div",{className:"a-evaluated-drawings",children:e.jsx(ue,{icon:e.jsx(Me,{})})});const i=Math.min(d*.6,2e3);return e.jsx("ul",{className:"a-evaluated-drawings",children:Object.keys(s).sort().map(c=>{const u=n[c],m=l[s[c]];return e.jsxs("li",{className:"a-evaluated-drawings__item",children:[e.jsx("div",{className:"a-evaluated-drawings__card",style:{maxWidth:`${i}px`},children:e.jsx(se,{player:t[u.playerId],size:"small"})}),e.jsx(_,{drawing:u.drawing,width:i,className:"a-evaluation-all-drawings__drawing"}),e.jsx("div",{className:"a-evaluated-drawings__card",style:{maxWidth:`${i}px`},children:m.text})]},`${u.id}-${m.id}-${m.playerId}`)})})}function xs(s){return Object.entries(s).reduce((a,[r,t])=>{const[,d]=r.split(U),[,l]=t.split(U);return a[d]=l,a},{})}function js({drawings:s,activeItem:a,onActivateItem:r,votes:t,canvasSize:d,players:l}){const n="a-evaluation-all-drawings__li-drawing-button";return e.jsx("ul",{className:"a-evaluation-all-drawings",children:s?.map(i=>{const c=b(["drawing",i.id]),u=a===c,m=t[c];return e.jsxs("li",{className:I(n,u&&`${n}--active`),onClick:()=>r(c),children:[t?.[c]&&e.jsx($e,{label:m.charAt(m.length-1)}),e.jsx(_,{drawing:i.drawing,className:"a-evaluation-all-drawings__drawing",width:d}),e.jsx("span",{className:"a-evaluation-all-drawings__artist",children:e.jsx(se,{player:l[i.playerId]})})]},`${c}-${i.playerId}`)})})}const gs=({text:s,level:a,header:r="X"})=>e.jsx(ee,{color:me(r),header:r,size:"medium",footer:Array(a).fill("•").join(""),children:s??e.jsx(qe,{})});function vs({cards:s,activeItem:a,onActivateItem:r,votes:t,levelType:d}){const{isDebugEnabled:l}=X(),n="a-evaluation-all-cards__li-card-button";return e.jsx("ul",{className:"a-evaluation-all-cards",children:s.map((i,c)=>{const u=P[c],m=b(["card",i.id,u]),p=a===m,h=Object.values(t).includes(m);return e.jsx("li",{role:"button",className:I(n,p&&`${n}--active`,h&&d!=="pairs"&&`${n}--used`),onClick:()=>r(m),children:e.jsx(gs,{text:i.text,level:i.level,header:l?i.id:u})},m)})})}function fs({drawings:s,cards:a,players:r,onSubmitVoting:t,levelType:d,announcement:l,user:n}){const{isLoading:i}=pe(),c=J(5,{gap:16,minWidth:150,maxWidth:500}),[u,m]=H("canvasSize"),{votes:p,setVotes:h,activeItem:R,activateItem:V,resetVoting:oe,isVotingComplete:ie}=Fe("drawing",!0,s.length||2),[ce,le]=j.useState(!1),B=j.useCallback(()=>{le(!0);const v=Object.keys(p),y=Object.values(p),S=s.map(x=>b(["drawing",x.id])).filter(x=>!v.includes(x));let w=he(a.map((x,T)=>b(["card",x.id,P[T]])).filter(x=>!y.includes(x)));w=w.length<S.length?Array(Math.ceil(S.length/w.length)).fill(w).flat():w;const C={...p};S.forEach((x,T)=>{C[x]||(C[x]=w[T])}),h(C)},[a,s,p,h]);j.useEffect(()=>{u||m(Math.floor(c/50)*50)},[u,c]);const $=j.useCallback(()=>{const v=(s??[]).find(y=>y.playerId===n.id);if(v&&v.level!==5){const y=b(["drawing",v.id]),S=(a??[]).findIndex(x=>x.playerId===n.id),w=b(["card",v.id,P[S]]);return{[y]:w}}return{}},[n,s,a]);return j.useEffect(()=>{const v=$();v&&h(y=>({...y,...v}))},[n?.id]),Z(()=>{B()},[]),e.jsxs(O,{announcement:l,fullWidth:!0,children:[e.jsx(M,{content:e.jsx(te,{})}),e.jsx(Ve,{}),e.jsx(Q,{children:e.jsx(o,{pt:"Adivinhação",en:"Match the Pairs"})}),e.jsx(Be,{type:"action",children:e.jsx(o,{pt:e.jsxs(e.Fragment,{children:["Faça pares com as cartas e os desenhos.",e.jsx("br",{}),"Basta clicar em um desenho e depois em sua carta correspondente, ou vice-versa.",e.jsx("br",{}),"Para refazer, basta reselecionar o desenho ou carta normalmente.",e.jsx("br",{}),"Quando estiver pronto, clique em ",e.jsx("b",{children:"Enviar sua avaliação"}),"."]}),en:e.jsxs(e.Fragment,{children:["Match the cards and drawings.",e.jsx("br",{}),"Just click on a drawing and then on its corresponding card, or vice versa.",e.jsx("br",{}),"To redo, just reselect the drawing or card normally.",e.jsx("br",{}),"When you're ready, click ",e.jsx("b",{children:"Send evaluation"}),"."]})})}),e.jsxs(xe,{orientation:"vertical",children:[e.jsxs(je,{wrap:!0,children:[e.jsx(E,{type:"default",icon:e.jsx(Pe,{}),onClick:()=>oe($()),disabled:i,children:e.jsx(o,{pt:"Limpar seleções",en:"Clear selections"})}),e.jsx(E,{type:"default",icon:e.jsx(Ue,{}),onClick:B,disabled:i||Object.values(p).length===s.length,children:e.jsx(o,{pt:"Chutar restantes",en:"Guess for me"})}),e.jsx(ge,{onClick:()=>t({votes:xs(p),choseRandomly:ce}),disabled:!ie,children:e.jsx(o,{pt:"Enviar sua avaliação",en:"Send evaluation"})})]}),e.jsx(js,{drawings:s??[],activeItem:R,onActivateItem:V,votes:p,canvasSize:u,players:r}),e.jsx(vs,{cards:a??[],activeItem:R,onActivateItem:V,votes:p,levelType:d})]})]})}function ws({players:s,state:a,user:r}){const{step:t,setStep:d}=G(0),l=is(d),n=e.jsx(W,{icon:e.jsx(We,{}),title:e.jsx(o,{pt:"Adivinhação",en:"Match the Pairs"}),currentRound:a?.round?.current,type:"overlay",children:e.jsx(te,{})});return e.jsx(k,{phase:a?.phase,allowedPhase:A.EVALUATION,children:e.jsx(L,{step:t,players:s,waitingRoom:{instruction:e.jsx(o,{pt:"Vamos aguardar enquanto os outros jogadores terminam de avaliar!",en:"Please wait while other players finish their evaluations!"}),content:e.jsx(hs,{cards:a.cards,drawings:a.drawings,votes:r?.votes,players:s})},children:e.jsx(Le,{condition:a.drawings&&r.id,children:e.jsx(fs,{drawings:a.drawings,cards:a.cards,players:s,onSubmitVoting:l,levelType:a.levelType,announcement:n,user:r})})})})}function ys({artist:s}){return e.jsxs("div",{className:"a-gallery__credits",children:[e.jsx(F,{children:e.jsx(o,{pt:"Artista",en:"Artist"})}),e.jsx("span",{className:"uppercase",children:e.jsx(Je,{player:s})})]})}function bs({playersSay:s,players:a,cards:r,windowCardId:t,artistColor:d}){const l=ve.orderBy(Object.entries(s).map(([n,i])=>({cardId:n,card:r.find(c=>c.id===n),playersIds:i,count:i.length,isCorrect:t===n})),["isCorrect","count","card.text"],["desc","desc","asc"]);return e.jsxs("div",{className:"a-gallery__guesses",children:[e.jsx(F,{children:e.jsx(o,{pt:"Participantes votaram",en:"Players voted"})}),l.map((n,i)=>e.jsxs("div",{className:"a-gallery__guess",children:[e.jsx(ae,{winner:n.isCorrect,backgroundColor:d,children:n.card?.text}),e.jsx(D,{players:a,playersIds:n.playersIds})]},`guess-${n.cardId}-${i}`))]})}function As({playerArtist:s,correctAnswerId:a,correctAnswerText:r,playersPoints:t,playersSay:d,players:l}){const n=Object.values(d?.[a]??{});return e.jsxs("div",{className:"a-gallery__result",children:[e.jsx(F,{children:e.jsx(o,{pt:"E o título correto da obra é",en:"And the masterpiece title is"})}),e.jsx(ae,{winner:!0,children:r}),n.length?e.jsxs(e.Fragment,{children:[e.jsx(D,{players:l,playersIds:n,children:e.jsx(Y,{quantity:2,keyPrefix:`guessers-points-${s.id}`})}),e.jsx(D,{players:l,playersIds:[s.id],children:e.jsx(Y,{quantity:t?.[s.id],keyPrefix:`artist-points-${s.id}`})})]}):e.jsx(Ke,{children:e.jsx(o,{pt:"Esse desenho deve ter sido muito ruim.",en:"It must have been a very crappy drawing. Shame..."})})]})}function Ss({gallery:s,players:a,cards:r,slideShowConfig:t}){Ne();const d=J(2,{gap:16,minWidth:200,maxWidth:500}),{drawing:l,artistId:n,id:i,text:c,playersPoints:u,playersSay:m}=s[t.slideIndex],p=a[n],h=fe(p.avatarId);return e.jsxs(O,{fullWidth:!0,children:[e.jsx(Q,{size:"small",children:e.jsx(o,{pt:"Galeria de Arte",en:"Art Gallery"})}),e.jsx(M,{content:e.jsx(ne,{})}),e.jsxs(He,{config:t,barColor:h,leftClassName:"a-gallery__canvas",rightClassName:"a-gallery__info",children:[e.jsx(_,{drawing:l,width:d,className:"a-gallery__drawing"}),e.jsxs(e.Fragment,{children:[e.jsx(ys,{artist:p}),e.jsx(bs,{players:a,playersSay:m,cards:r,windowCardId:i,artistColor:h}),e.jsx(As,{playerArtist:p,correctAnswerId:i,correctAnswerText:c,playersPoints:u,playersSay:m,players:a})]})]})]})}function Is({players:s,ranking:a,isGameOver:r,round:t,onGoBack:d,threshold:l}){return e.jsxs(Qe,{players:s,ranking:a,gainedPointsDescriptions:[e.jsx(o,{pt:"Votos corretos",en:"Correct guesses"},"1"),e.jsx(o,{pt:"Votos corretos em seu desenho por outros jogadores",en:"Correct guesses on your drawing by other players"},"2")],children:[e.jsx(M,{content:e.jsx(ne,{})}),l>0&&e.jsx(f,{contained:!0,children:e.jsx(o,{pt:e.jsxs(e.Fragment,{children:["O jogo termina quando alguém passa os ",e.jsxs(g,{children:[l," pontos"]})," ou"," ",t.total," rodadas."]}),en:e.jsxs(e.Fragment,{children:["The game ends when someones passes ",e.jsxs(g,{children:[l," points"]})," or"," ",t.total," rounds."]})})}),!r&&e.jsx(Xe,{round:t}),e.jsx(E,{size:"large",onClick:d,icon:e.jsx(Ze,{}),children:e.jsx(o,{pt:"Ver Galeria Novamente",en:"See Gallery Again"})}),e.jsx(Ae,{round:t})]})}function Rs({state:s,players:a,meta:r}){const{step:t,goToNextStep:d,goToPreviousStep:l}=G(0),n=ze({length:s.gallery.length,slideDuration:ns,onExpire:d}),i=()=>{n.reset(),l()},c=r.options?.shortGame?s.round.current===5:Object.values(a).some(u=>u.score>50);return e.jsx(k,{phase:s?.phase,allowedPhase:A.GALLERY,className:"a-gallery-phase",children:e.jsxs(L,{step:t,players:a,children:[e.jsx(W,{icon:e.jsx(Ye,{}),title:e.jsx(o,{pt:"Galeria de Arte",en:"Art Gallery"}),onClose:d,currentRound:s?.round?.current,unskippable:!0,type:"block",children:e.jsx(ls,{})}),e.jsx(Ss,{gallery:s.gallery,players:a,cards:s.cards,slideShowConfig:n}),e.jsx(Is,{players:a,ranking:s.ranking,isGameOver:c,round:s.round,onGoBack:i,threshold:s.threshold})]})})}const Cs=["F","D","D+","C-","C","C+","B-","B","B+","A-","A","A+"],Ns=({value:s})=>{const{translate:a}=N(),r=Cs[Math.floor(s/.084)],t="a-drawing-grade";return e.jsx(we,{title:a(`Nota baseada em quantos acertos o desenho teve: ${s*100}%`,`Grade based on the number of correct guesses the artwork got: ${s*100}%`),children:e.jsx(ye,{className:I(t,`${t}--${r[0]}`),children:r})})};function _s({drawings:s,players:a}){return e.jsx(ts,{title:e.jsx(o,{pt:"Galeria",en:"Galeria"}),children:e.jsx("ul",{className:"a-game-over__gallery",children:s.map(r=>{const t=r.successRate??0;return e.jsxs("li",{className:"a-game-over__gallery-item",style:{width:"200px"},children:[e.jsx(_,{drawing:r.drawing,width:200,className:"a-game-over__gallery-canvas"}),e.jsxs("span",{className:"a-game-over__credits",children:['"',r.text,'"'," ",e.jsx(o,{pt:"por",en:"by"})," ",a[r.playerId].name]}),e.jsx(Ns,{value:t>1?t/100:t})]},r.drawing)})})})}function Ts({state:s,players:a}){return e.jsxs(ss,{state:s,players:a,announcementIcon:e.jsx(es,{}),rateWidgetCustomText:e.jsx(o,{pt:"Alguma sugestão de carta?",en:"Any card suggestions?"}),children:[e.jsx(as,{players:a,achievements:s.achievements,reference:rs}),e.jsx(_s,{players:a,drawings:s.drawings})]})}function Ps(s){switch(s.phase){case A.DRAW:return ps;case A.EVALUATION:return ws;case A.GALLERY:return Rs;case Re.DEFAULT.GAME_OVER:return Ts;default:return Ie}}function cr(){return e.jsx(Se,{gameCollection:be.ARTE_RUIM,getActiveComponent:Ps})}export{cr as default};
