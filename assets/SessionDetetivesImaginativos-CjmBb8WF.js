import{f as S,aG as O,r as I,j as e,T as i,aL as A,J as he,B as X,bj as Z,e as w,I as y,b0 as B,b5 as ee,z as se,i as ue,n as me,aY as pe,aW as xe,aX as je}from"./index-CSgiS5-z.js";import{u as U,S as b,b as E,d as C,c as W,P as T,e as _,f as N,m as F,o as ge,n as fe,h as ve,i as R,j as Se,k as Ee,l as Ie}from"./StepSwitcher-59vdKKK-.js";import{u as v}from"./useWhichPlayerIsThe-Cz3w53Ee.js";import{S as be}from"./SecretIcon-BVqy2Zmp.js";import{A as j}from"./AvatarName-DyNp7TjJ.js";/* empty css                             */import{I as ye}from"./ImageCardPreloadHand-SSgqzmpj.js";import{I as m}from"./Instruction-BhKtxEBL.js";import{R as Ae}from"./RoundAnnouncement-CfdSHv8f.js";import{V as M}from"./ViewOr-B_seEcHY.js";import{I as D}from"./ImageCardHand-CDYuNQOD.js";import{C as q}from"./CardHighlight-DiJ8WJkv.js";import{T as g}from"./TextHighlight-f2dfHlnP.js";import{F as k}from"./FloatingHand-4I4jxLYQ.js";import{T as V}from"./TurnOrder-BLXN6M1N.js";import{H as Ce,D as Te}from"./HangingPhotographIcon-C44bsoBq.js";import{I as J,V as _e}from"./WritingIcon-DR_9camd.js";import{m as oe}from"./messageContent-DER9B_or.js";import{T as Ne}from"./TimedTimerClock-Da2-5am2.js";import{A as ne}from"./AnimatedLoaderIcon-B_Lvi6Be.js";import{A as G}from"./Avatar-DzdHn8Tj.js";import{I as re}from"./ImageBlurButtonContainer-DUmIYUqD.js";import{I as te}from"./ImageCard-BMxElfuA.js";import{R as ae}from"./QuestionCircleFilled-Csp-zixb.js";import{A as Fe}from"./AnimatedClockIcon-Dmwhf0hD.js";import{T as De}from"./speech-C960orx4.js";import{P as L}from"./PlayersHighlight-Dhy7CItx.js";import{V as z}from"./ViewIf-CGb8XZYd.js";import{R as Ve}from"./RankIcon-1vUXhX_b.js";import{P as p}from"./PointsHighlight-MCJ1aDqV.js";import{S as Pe}from"./StepRankingWrapper-DSxjhBdR.js";import{R as Re}from"./RoundsLeftInstruction-Cj6GbOyw.js";import{T as we}from"./TrophyIcon-pxdYiToa.js";import"./GameOver-Dbwr_4gQ.js";import{G as qe}from"./GameOverWrapper-Bl2DAoDl.js";import"./useBlurCards-EiuZxAto.js";import"./RulesModal-Dd_NRrG7.js";import"./DoubleRightOutlined-B9IjKK52.js";import"./PurePanel-BijFlcE0.js";import"./useMutation-CyJ5AjJq.js";import"./Game-JSNPG8tM.js";import"./WaitingRoomIcon-C-etbZ6W.js";import"./index-Bcafee-5.js";import"./useBubbleLock-CmIdkOok.js";import"./index-prz0JiuA.js";import"./Overflow-zdB_x8D-.js";import"./useEvent-DrrrUF8p.js";import"./index-BZvTW1ET.js";import"./index-CsZVA3I7.js";import"./GameBanner-BSnwC2DJ.js";import"./useDevFeatures-B5yHgo7p.js";import"./useTDBaseUrl-BF9foKiS.js";import"./index-bTsgShmN.js";import"./InfoCircleOutlined-BWzemnN4.js";import"./index-CLdBgnQQ.js";import"./SignIn-CLmmdOJj.js";import"./GoogleIcon-D9IbkC6M.js";import"./Loading-4Chd3RcK.js";import"./LikeFilled-eqZdsvMt.js";import"./UpCircleOutlined-HfC0BTMx.js";import"./MetricHighlight-DndJutgZ.js";import"./HandOfCardsIcon-DAAlCeG4.js";import"./VideoGameControllerIcon-B3loPCUs.js";import"./ImageBlurButton-CJK06nrJ.js";import"./PlayersIcon-CzuL2l3g.js";import"./StarIcon-Cd2uRObQ.js";import"./RankingBoard-Dhn_n5jc.js";import"./CaretUpOutlined-CTN4lzvm.js";import"./RuleInstruction-CE5oePlz.js";import"./StarFilled-DbPTqDk7.js";import"./StarFilled-CNctUIhy.js";import"./ArrowRightOutlined-BbLQvkf5.js";import"./useMergedState-zgb0OmaB.js";import"./progress-DptaQlvm.js";import"./TheEndIcon-D_PBhSN8.js";const x={SECRET_CLUE:"SECRET_CLUE",CARD_PLAY:"CARD_PLAY",DEFENSE:"DEFENSE",VOTING:"VOTING",REVEAL:"REVEAL"},Y={SUBMIT_CLUE:"SUBMIT_CLUE",PLAY_CARD:"PLAY_CARD",DEFEND:"DEFEND",SUBMIT_VOTE:"SUBMIT_VOTE"};function Le(s){const{translate:o}=S(),r=U({actionName:"submit-secret-clue",onBeforeCall:()=>s(3),onError:()=>s(0),successMessage:o("Pista Secreta submetida com sucesso","Secret clue submitted successfully"),errorMessage:o("Vixi, o aplicativo encontrou um erro ao tentar enviar sua pista secreta","Oops, the application found an error while trying to submit your secret clue")});return n=>{r({action:Y.SUBMIT_CLUE,...n})}}function Oe(){const{translate:s}=S(),o=U({actionName:"play-card",successMessage:s("Carta enviada com sucesso","Card submitted successfully"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar enviar sua carta","Oops, the application found an error while trying to submit your card")});return r=>{o({action:Y.PLAY_CARD,...r})}}function Be(){const{translate:s}=S(),o=U({actionName:"finish-defense",successMessage:s("Defesa concluída com sucesso","Defense concluded successfully"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar concluir sua defesa","Oops, the application found an error while trying to conclude your defense")});return()=>{o({action:Y.DEFEND})}}function Ue(){const{translate:s}=S(),o=U({actionName:"submit-vote",successMessage:s("Voto enviado com sucesso","Vote submitted successfully"),errorMessage:s("Vixi, o aplicativo encontrou um erro ao tentar enviar seu voto","Oops, the application found an error while trying to submit your vote")});return r=>{o({action:Y.SUBMIT_VOTE,...r})}}function We({user:s,onSubmitClue:o,announcement:r}){var h;const{translate:n}=S(),{isLoading:a}=O(),[t,d]=I.useState(""),c=()=>{o({clue:t})},l=u=>{u.key==="Enter"&&c()};return e.jsxs(b,{fullWidth:!0,announcement:r,children:[e.jsx(E,{children:e.jsx(i,{pt:"Escreva a Pista!",en:"Write a Clue!"})}),e.jsx(m,{contained:!0,children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(i,{pt:e.jsxs(e.Fragment,{children:["Escreva uma pista que relacione com ",e.jsx(q,{children:"2"})," cartas suas."]}),en:e.jsxs(e.Fragment,{children:["Write a clue that relates to ",e.jsx(q,{children:"2"})," of your cards."]})})}),e.jsx("li",{children:e.jsx(i,{pt:"A pista pode ser qualquer coisa que você quiser. Não há restrições!",en:"The clue can be anything you want. There are no restrictions!"})}),e.jsx("li",{children:e.jsx(i,{pt:e.jsxs(e.Fragment,{children:["Você ganha pontos somente se o ",e.jsx(g,{children:"Impostor NÃO for encontrado"}),", então escolha algo fácil e generalizado."]}),en:e.jsxs(e.Fragment,{children:["You only get points if ",e.jsx(g,{children:"the Impostor is NOT found"})," by the others, so choose something easy and general."]})})})]})}),e.jsxs(A,{align:"center",children:[e.jsx(he,{className:"uppercase-input",placeholder:n("Escreva sua pista aqui","Write your clue here"),onChange:u=>d(u.target.value),onKeyPress:l}),e.jsx(X,{type:"primary",disabled:a||t.length<1,onClick:c,children:e.jsx(i,{pt:"Enviar pista secreta",en:"Send secret clue"})})]}),e.jsx(D,{hand:s.hand,sizeRatio:(h=s.hand)==null?void 0:h.length})]})}function Me({leader:s,user:o,players:r,turnOrder:n,announcement:a}){var t;return e.jsxs(b,{fullWidth:!0,announcement:a,children:[e.jsx(E,{wait:!0,children:e.jsx(i,{pt:"Aguarde...",en:"Please wait..."})}),e.jsxs(m,{contained:!0,children:[e.jsx(j,{player:s,addressUser:!0})," ",e.jsx(i,{pt:"está escrevendo a pista secreta.",en:"is writing the secret clue."}),e.jsx("br",{}),e.jsx(i,{pt:"Enquanto isso, examine suas cartas! Você as usará durante esta rodada.",en:"In the meantime, examine your cards. You're gonna use them this turn."})]}),e.jsx(V,{players:r,activePlayerId:s.id,order:n,reorderByUser:s.id}),e.jsx(k,{children:e.jsx(D,{hand:o.hand,sizeRatio:(t=o.hand)==null?void 0:t.length})})]})}function ke({state:s,players:o}){var u;const{step:r,goToNextStep:n,setStep:a}=C(0),t=W(o,s),[d,c]=v("leaderId",s,o),l=Le(a),h=e.jsxs(T,{icon:e.jsx(be,{}),title:e.jsx(i,{pt:"Pista Secreta",en:"Secret Clue"}),currentRound:(u=s==null?void 0:s.round)==null?void 0:u.current,type:"overlay",children:[e.jsx(m,{children:e.jsx(i,{pt:e.jsxs(e.Fragment,{children:["Para essa rodada, ",e.jsx(j,{player:d,addressUser:!0})," será o(a) Detetive Líder."]}),en:e.jsxs(e.Fragment,{children:["For this round, ",e.jsx(j,{player:d,addressUser:!0})," will be the Lead Detective."]})})}),e.jsx(ye,{hand:t==null?void 0:t.hand})]});return e.jsx(_,{phase:s==null?void 0:s.phase,allowedPhase:x.SECRET_CLUE,className:"d-secret-clue-phase",children:e.jsxs(N,{step:r,players:o,children:[e.jsx(Ae,{round:s.round,buttonText:" ",onPressButton:n,time:5}),e.jsxs(M,{condition:c,children:[e.jsx(We,{user:t,onSubmitClue:l,announcement:h}),e.jsx(Me,{user:t,leader:d,players:o,turnOrder:s.turnOrder,announcement:h})]})]})})}function Ye(s,o,r){for(let n=0;n<Math.max(s.length,r.length);n++){if(!s[n])return!0;if(!s[n]||s[n].cards[0]==="")return s[n].playerId===o}for(let n=0;n<s.length;n++)if(s[n].cards[1]==="")return s[n].playerId===o;return!1}function H({table:s,players:o}){const r=Z(12,{gap:16}),n="d-table";return!s||!(s!=null&&s.length)?e.jsx("div",{className:w(n,`${n}--center`),children:e.jsx(y,{icon:e.jsx(ne,{})})}):e.jsx("div",{className:n,children:s.map(a=>{const{playerId:t,cards:d}=a,c=`table-${t}`;return e.jsxs("div",{className:"d-table__player-entry",children:[e.jsx("div",{className:"d-table__cards",children:d.map(l=>l?e.jsx(re,{cardId:l,className:w("d-table__card",B("flipInY")),children:e.jsx(te,{id:l,cardWidth:r})},`${c}${l}`):e.jsx("div",{className:"d-table__card d-table__card-placeholder",style:{width:"1px"}},`${c}-placeholder`))}),e.jsxs("div",{className:"d-table__player-info",children:[e.jsx(G,{id:o[t].avatarId,className:"d-table__player-avatar",size:"default"}),e.jsx("span",{className:"d-table__player-bar",style:{backgroundColor:ee[o[t].avatarId].color}}),e.jsx("span",{className:"d-table__player-name",children:o[t].name})]})]},c)})})}function ze({isUserTheImpostor:s,clue:o,currentPlayer:r,table:n,players:a,user:t,onPlayCard:d,isLoading:c,turnOrder:l,leaderId:h}){var K;const{message:u}=se.useApp();F();const{translate:f}=S(),P=le=>d({cardId:le}),[Q,de]=I.useState(!1);return I.useEffect(()=>{!Q&&!c&&Ye(n,t.id,l)&&(u.info(oe(f("Escolha uma carta!","Choose a card to play"),f("Aperte o botão Selecionar acima da carta escolhida","Press the select button above each card"),r.id,3)),de(!0))},[Q,r.id,f,c,t.updatedAt,n,t.id,l,u]),e.jsxs(e.Fragment,{children:[e.jsx(E,{children:s?e.jsxs(e.Fragment,{children:[e.jsx(i,{pt:"A pista secreta é",en:"The secret clue is"})," ",e.jsx(g,{children:e.jsx(ae,{})})," ",e.jsx(i,{pt:"Você é o impostor!",en:"You are the impostor!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(i,{pt:"A pista secreta é",en:"The secret clue is"})," ",e.jsx(g,{children:o})]})}),e.jsxs(m,{children:[e.jsxs(M,{condition:s,children:[e.jsxs(e.Fragment,{children:[e.jsx(y,{icon:e.jsx(J,{}),size:"large",shape:"square"})," ",e.jsx(i,{pt:`Selecione uma carta que mais combine com as cartas que os outros
                jogadores estão usando.`,en:"Select a card that best fits with what others are playing."})]}),e.jsxs(e.Fragment,{children:[e.jsx(y,{icon:e.jsx(J,{}),size:"large",shape:"square"})," ",e.jsx(i,{pt:"Selecione uma carta que mais combine com a pista secreta.",en:"Select a card that best fits the secret clue."})]})]}),e.jsx(Ne,{duration:75,onExpire:()=>P("back-default")})]}),e.jsx(H,{table:n,players:a}),e.jsx(V,{players:a,activePlayerId:r.id,order:l,reorderByUser:h}),e.jsx(k,{children:e.jsx(D,{hand:t.hand,onSelectCard:P,disabledSelectButton:c,sizeRatio:(K=t.hand)==null?void 0:K.length})})]})}function Ge({isUserTheImpostor:s,clue:o,currentPlayer:r,table:n,players:a,user:t,isLoading:d,turnOrder:c,leaderId:l}){var h;return F(),e.jsxs(e.Fragment,{children:[e.jsx(E,{children:s?e.jsxs(e.Fragment,{children:[e.jsx(i,{pt:"A pista secreta é",en:"The secret clue is"})," ",e.jsx(g,{children:e.jsx(ae,{})})," ",e.jsx(i,{pt:"Você é o impostor!",en:"You are the impostor!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(i,{pt:"A pista secreta é",en:"The secret clue is"})," ",e.jsx(g,{children:o})]})}),e.jsx(m,{children:e.jsxs(e.Fragment,{children:[e.jsx(y,{icon:e.jsx(Fe,{}),size:"large"})," ",e.jsx(i,{pt:e.jsxs(e.Fragment,{children:["Aguarde enquanto ",e.jsx(j,{player:r,addressUser:!0})," escolhe uma carta."]}),en:e.jsxs(e.Fragment,{children:["Wait while ",e.jsx(j,{player:r})," picks a card."]})})]})}),e.jsx(H,{table:n,players:a}),e.jsx(V,{players:a,activePlayerId:r.id,order:c,reorderByUser:l}),e.jsx(k,{children:e.jsx(D,{hand:t.hand,disabledSelectButton:d,sizeRatio:(h=t.hand)==null?void 0:h.length})})]})}function He({isUserTheImpostor:s,clue:o,currentPlayer:r,table:n,players:a,user:t,onPlayCard:d,isLoading:c,turnOrder:l,leaderId:h,announcement:u,isUserTheCurrentPlayer:f}){return F(),e.jsx(b,{announcement:u,children:e.jsxs(M,{condition:f,children:[e.jsx(ze,{clue:o,currentPlayer:r,isLoading:c,isUserTheImpostor:s,onPlayCard:d,players:a,table:n,user:t,turnOrder:l,leaderId:h}),e.jsx(Ge,{clue:o,currentPlayer:r,isLoading:c,isUserTheImpostor:s,players:a,table:n,user:t,turnOrder:l,leaderId:h})]})})}function $e({state:s,players:o}){var u;const{isLoading:r}=O(),{step:n}=C(0),a=W(o,s),[t,d]=v("currentPlayerId",s,o),[,c]=v("impostorId",s,o),l=Oe(),h=e.jsx(T,{icon:e.jsx(Ce,{}),title:e.jsx(i,{pt:"Apresentação das Evidências",en:"Evidence"}),currentRound:(u=s==null?void 0:s.round)==null?void 0:u.current,type:"overlay",children:e.jsx(m,{children:e.jsx(i,{pt:e.jsxs(e.Fragment,{children:["Agora, jogadores selecionarão ",e.jsx(q,{children:"2"})," cartas, uma de cada vez, como evidência que eles não são o impostor. Enquanto isso, o impostor está prestando bastante atenção nas cartas selecionadas e escolhendo algo que o(a) ajude a passar despercebido."]}),en:e.jsxs(e.Fragment,{children:["Now players will play ",e.jsx(q,{children:"2"})," cards, one at a time, as evidence that they are not the impostor while the impostor is looking closely to what others are playing and trying to go unnoticed."]})})})});return e.jsx(_,{phase:s==null?void 0:s.phase,allowedPhase:x.CARD_PLAY,className:"d-phase d-play-card-phase",children:e.jsx(N,{step:n,players:o,children:e.jsx(He,{clue:s.clue,currentPlayer:t,isLoading:r,isUserTheImpostor:c,onPlayCard:l,isUserTheCurrentPlayer:d,players:o,table:s.table,user:a,turnOrder:s.turnOrder,announcement:h,leaderId:s.leaderId})})})}function Qe({onFinishDefenseClick:s,isLoading:o}){return e.jsx(A,{align:"center",children:e.jsx(De,{duration:40,type:"primary",onClick:s,onExpire:s,disabled:o,size:"large",loading:o,children:e.jsx(i,{pt:"Concluir Defesa",en:"End Defense"})})})}function $({table:s,currentPlayer:o}){const r=Z(6,{minWidth:250}),n=s.find(t=>t.playerId===o.id),a="d-table";return!o||!(n!=null&&n.cards)?e.jsx("div",{className:w(a,`${a}--center`),children:e.jsx(y,{icon:e.jsx(ne,{})})}):e.jsx("div",{className:w(a,`${a}--center`,B("slideInRight")),children:e.jsxs("div",{className:"d-table__player-entry",children:[e.jsx("div",{className:"d-table__cards",children:n==null?void 0:n.cards.map(t=>e.jsx(re,{cardId:t,className:"d-table__card",children:e.jsx(te,{id:t,cardWidth:r},`table-focus-${t}`)},`table-focus-${t}`))}),e.jsxs("div",{className:"d-table__player-info",children:[e.jsx(G,{id:o.avatarId,className:"d-table__player-avatar",size:"default"}),e.jsx("span",{className:"d-table__player-bar",style:{backgroundColor:ee[o.avatarId].color}}),e.jsx("span",{className:"d-table__player-name",children:o.name})]})]})})}function ie({table:s,user:o}){var n;const r=(n=s.find(a=>a.playerId===o.id))==null?void 0:n.cards;return e.jsx(k,{title:e.jsx(i,{pt:"Suas cartas selecionadas",en:"Your selected cards"}),children:e.jsx(D,{hand:r??[],sizeRatio:6})})}function Ke({clue:s,currentPlayer:o,table:r,onFinishDefenseClick:n,isLoading:a,isUserTheImpostor:t,user:d,players:c,turnOrder:l}){const{message:h}=se.useApp(),{translate:u}=S(),[f,P]=I.useState(!1);return I.useEffect(()=>{!f&&!a&&Date.now()-d.updatedAt>3e6&&(h.info(oe(u("Sua vez de defender suas escolhas!","It's your turn to defend your choices"),u("Aperte o botão Concluir Defesa quando terminar","Press the button End Defense when you're done"),o==null?void 0:o.id,4)),P(!0))},[f,h,o==null?void 0:o.id,u,a,d.updatedAt]),e.jsxs(e.Fragment,{children:[e.jsxs(E,{children:[e.jsx(i,{pt:"Pista Secreta era: ",en:"The Secret Clue was: "}),e.jsx(g,{children:s})]}),e.jsxs(m,{contained:!0,children:[e.jsx(j,{player:o,className:B("tada")},o.id),","," ",e.jsx(i,{pt:"explique porque você escolheu as cartas.",en:"explain why you chose your cards."}),e.jsx(i,{pt:" Quando terminar sua defesa, aperte concluir.",en:" When you're done, press 'End Defense'."}),t&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx(i,{pt:" Suas cartas estão no fim da página pra você começar a já pensar numa desculpa esfarrapada.",en:" Your cards are displayed in the bottom of the page so you can think of your B.S.'"})]})]}),e.jsx(Qe,{onFinishDefenseClick:n,isLoading:a}),e.jsx(A,{align:"center",wrap:!0,children:e.jsx($,{table:r,currentPlayer:o})}),e.jsx(V,{players:c,activePlayerId:o.id,order:l}),e.jsx(ie,{table:r,user:d})]})}function Je({clue:s,currentPlayer:o,table:r,isUserTheImpostor:n,user:a,players:t,turnOrder:d}){return e.jsxs(e.Fragment,{children:[e.jsxs(E,{children:[e.jsx(i,{pt:"Pista Secreta era: ",en:"The Secret Clue was: "}),e.jsx(g,{children:s})]}),e.jsxs(m,{contained:!0,children:[e.jsx(j,{player:o,className:B("tada")},o.id),","," ",e.jsx(i,{pt:"explique porque você escolheu as cartas.",en:"explain why you chose your cards."}),n&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx(i,{pt:" Suas cartas estão no fim da página pra você começar a já pensar numa desculpa esfarrapada.",en:" Your cards are displayed in the bottom of the page so you can think of your B.S.'"})]})]}),e.jsx(A,{align:"center",wrap:!0,children:e.jsx($,{table:r,currentPlayer:o})}),e.jsx(V,{players:t,activePlayerId:o.id,order:d}),e.jsx(ie,{table:r,user:a})]})}function Xe({clue:s,currentPlayer:o,isUserTheCurrentPlayer:r,table:n,onFinishDefenseClick:a,isLoading:t,isUserTheImpostor:d,user:c,players:l,turnOrder:h,announcement:u}){return F(),e.jsx(b,{announcement:u,children:e.jsxs(M,{condition:r,children:[e.jsx(Ke,{clue:s,currentPlayer:o,table:n,onFinishDefenseClick:a,isLoading:t,isUserTheImpostor:d,user:c,players:l,turnOrder:h}),e.jsx(Je,{clue:s,currentPlayer:o,table:n,isUserTheImpostor:d,user:c,players:l,turnOrder:h})]})})}function Ze({state:s,players:o}){var u;const{isLoading:r}=O(),{step:n}=C(0),[a,t]=v("currentPlayerId",s,o),[,d]=v("impostorId",s,o),c=W(o,s),l=Be(),h=e.jsxs(T,{icon:e.jsx(Te,{}),title:e.jsx(i,{pt:"Defensa",en:"Defense"}),currentRound:(u=s==null?void 0:s.round)==null?void 0:u.current,duration:5,type:"overlay",children:[e.jsxs(ue,{children:[e.jsx(i,{pt:"Pista Secreta era: ",en:"The Secret Clue was: "}),e.jsx(g,{children:s.clue})]}),e.jsx(m,{children:e.jsx(i,{pt:"Agora, cada jogador em ordem deve defender porque escolheu as castas que escolheu.",en:"Now, in turn-order, each player must present the reason they chose their cards."})})]});return e.jsx(_,{phase:s==null?void 0:s.phase,allowedPhase:x.DEFENSE,className:"d-defense-phase",children:e.jsx(N,{step:n,players:o,children:e.jsx(Xe,{clue:s.clue,currentPlayer:a,isUserTheCurrentPlayer:t,table:s.table,onFinishDefenseClick:l,isLoading:r,isUserTheImpostor:d,user:c,players:o,turnOrder:s.turnOrder,announcement:h})})})}function ce({players:s,leaderId:o,user:r,onVote:n,isLoading:a=!1,isAllDisabled:t=!1}){const d=I.useMemo(()=>me.orderBy(Object.values(s).filter(c=>c.id!==o),["name"],["asc"]),[s,o]);return e.jsx(A,{className:"d-voting-options",children:d==null?void 0:d.map(c=>{const l=Object.values(s).filter(h=>(h==null?void 0:h.vote)===c.id);return e.jsxs("div",{className:"d-voting-options__container",children:[e.jsx(X,{onClick:()=>n({vote:c.id}),ghost:!0,size:"large",disabled:t||(r==null?void 0:r.vote)||a||(r==null?void 0:r.name)===c.name,children:e.jsx(j,{player:c,uppercase:!0})}),e.jsxs("div",{className:"d-voting-options__vote-container",children:[e.jsx(i,{pt:"Votos",en:"Votes"}),": ",l.length,e.jsx("ul",{className:"d-voting-options__votes",children:l.map(h=>e.jsx(G,{id:h.avatarId,size:"small",alt:h.name},`voted-for-player-${h.id}`))})]})]},`voting-button-${c.name}`)})})}function es({isLoading:s,isUserTheLeader:o,user:r,leaderId:n,players:a,onVote:t,table:d,announcement:c}){return e.jsxs(b,{announcement:c,children:[e.jsx(E,{wait:s,children:!s&&e.jsx(i,{pt:"Quem é o impostor?",en:"Who is the impostor?"})}),e.jsxs(m,{contained:!0,children:[e.jsx(z,{condition:o,children:e.jsx(i,{pt:e.jsxs(e.Fragment,{children:["Aguarde enquanto os outros jogadores votam em quem eles acham ser o impostor."," ",e.jsx("strong",{children:"Como Líder, você não vota."})]}),en:e.jsxs(e.Fragment,{children:["Wait while the other detectives vote. ",e.jsx("strong",{children:"As Lead Detective, you don't vote."})]})})}),e.jsx(z,{condition:!o&&!r.vote,children:e.jsx(i,{pt:e.jsxs(e.Fragment,{children:["Vote para quem você acha que pode ser o impostor! Lembre-se, o impostor só perde se"," ",e.jsx(L,{children:"2+"})," detetives votarem nele."]}),en:e.jsxs(e.Fragment,{children:["Vote for who you think is the impostor! Remember, the impostor only goes down if they get"," ",e.jsx(L,{children:"2+"})," votes."]})})}),e.jsx(z,{condition:!o&&r.vote,children:e.jsx(i,{pt:"Aguarde enquanto os outros jogadores votam...",en:"Wait while other detectives finish voting..."})})]}),e.jsx(ce,{players:a,leaderId:n,user:r,onVote:t,isLoading:s,isAllDisabled:o}),e.jsx(H,{table:d,players:a}),e.jsx(ge,{players:a})]})}function ss({state:s,players:o}){var l;const{isLoading:r}=O(),{step:n}=C(0),a=W(o,s),[,t]=v("leaderId",s,o),d=Ue(),c=e.jsx(T,{icon:e.jsx(_e,{}),title:e.jsx(i,{pt:"Votação",en:"Vote"}),currentRound:(l=s==null?void 0:s.round)==null?void 0:l.current,type:"overlay",children:e.jsx(m,{children:e.jsx(i,{pt:e.jsxs(e.Fragment,{children:["Agora você vota! Escolha o jogador que você acredita ser o impostor. Você pode discutir com os outros antes de votar, porque uma vez votado, você não pode mudar. O impostor só pede se",e.jsx(L,{children:"2+"})," pessoas votarem nele."]}),en:e.jsxs(e.Fragment,{children:["Now it's time to vote! Vote for the player you think is the impostor. You can discuss before you vote because you can't change your vote. The impostor only loses if at least"," ",e.jsx(L,{children:"2+"})," people voted for them."]})})})});return e.jsx(_,{phase:s==null?void 0:s.phase,allowedPhase:x.VOTING,className:"d-voting-phase",children:e.jsx(N,{step:n,players:o,children:e.jsx(es,{players:o,leaderId:s.leaderId,user:a,onVote:d,isLoading:r,isUserTheLeader:t,table:s.table,announcement:c})})})}function os({impostor:s,impostorVotes:o,players:r,leaderId:n,round:a,ranking:t,table:d,announcement:c}){return F(),e.jsx(b,{announcement:c,children:e.jsxs(Pe,{players:r,ranking:t,gainedPointsDescriptions:[e.jsx(i,{pt:"Pontos ganhos por achar o impostor",en:"Points gained for finding the impostor"},"1"),e.jsx(i,{pt:"Pontos ganhos pelo impostor se safar",en:"Points gained for the Impostor getting away"},"2")],title:e.jsxs(e.Fragment,{children:[e.jsx(i,{pt:"O impostor era ",en:"The impostor was "}),e.jsx(j,{player:s})]}),subtitle:e.jsxs(e.Fragment,{children:[e.jsx(m,{contained:!0,children:o>1?e.jsx(i,{pt:e.jsxs(e.Fragment,{children:["Ele(a) recebeu mais de dois votos! Quem votou nele(a) ganha"," ",e.jsx(p,{children:"3"})," pontos!"]}),en:e.jsxs(e.Fragment,{children:["They received more than 2 votes! Who voted for them gets"," ",e.jsx(p,{children:"3"})," points!"]})}):e.jsx(i,{pt:e.jsxs(e.Fragment,{children:["Ele(a) não recebeu mais de 2 votos: ",e.jsx("b",{children:"Impostor"})," ganha"," ",e.jsx(p,{children:"5"})," pontos e ",e.jsx("b",{children:"Líder"})," ganha"," ",e.jsx(p,{children:"4"}),"pontos!"]}),en:e.jsxs(e.Fragment,{children:["They did not get enough votes: the ",e.jsx("b",{children:"Impostor"})," gets"," ",e.jsx(p,{children:"5"})," points and the ",e.jsx("b",{children:"Lead Detective"})," gets"," ",e.jsx(p,{children:"4"})," points!"]})})}),e.jsx(ce,{players:r,isAllDisabled:!0,leaderId:n,onVote:(...l)=>{}})]}),children:[e.jsx(Re,{round:a}),e.jsx($,{table:d,currentPlayer:s}),e.jsx(fe,{round:a})]})})}function ns({state:s,players:o}){var t;const{step:r}=C(0),[n]=v("impostorId",s,o),a=e.jsx(T,{icon:e.jsx(Ve,{}),title:e.jsx(i,{pt:"Revelação",en:"Reveal"}),currentRound:(t=s==null?void 0:s.round)==null?void 0:t.current,type:"overlay",children:e.jsx(m,{children:e.jsx(i,{pt:e.jsxs(e.Fragment,{children:["Se o impostor recebeu 2 ou mais votos ele(a) é desmascarado. Quem votou nele ganha"," ",e.jsx(p,{children:"3"})," pontos.",e.jsx("br",{}),"Se o impostor recebeu menos de 2 votos, ele ganha ",e.jsx(p,{children:"5"})," pontos e o detetive líder ganha ",e.jsx(p,{children:"4"}),"pontos."]}),en:e.jsxs(e.Fragment,{children:["If the impostor gets 2 or more votes, they are exposed. Whoever voted for him get"," ",e.jsx(p,{children:"3"})," points.",e.jsx("br",{}),"If the impostor gets fewer than 2 votes, he gets ",e.jsx(p,{children:"5"})," points and the Lead detective gets ",e.jsx(p,{children:"4"}),"points."]})})})});return e.jsx(_,{phase:s==null?void 0:s.phase,allowedPhase:x.REVEAL,className:"d-voting-phase",children:e.jsx(N,{step:r,players:o,children:e.jsx(os,{impostor:n,impostorVotes:s.impostorVotes,players:o,leaderId:s.leaderId,round:s.round,ranking:s.ranking,table:s.table,announcement:a})})})}function rs({state:s,players:o}){return e.jsx(qe,{state:s,players:o,announcementIcon:e.jsx(we,{})})}function ts(s){if(s&&!s.phase)return xe;switch(s.phase){case R.DEFAULT.LOBBY:return Ie;case R.DEFAULT.RULES:return Ee;case R.DEFAULT.SETUP:return Se;case x.SECRET_CLUE:return ke;case x.CARD_PLAY:return $e;case x.DEFENSE:return Ze;case x.VOTING:return ss;case x.REVEAL:return ns;case R.DEFAULT.GAME_OVER:return rs;default:return je}}function _o(){return e.jsx(ve,{gameCollection:pe.DETETIVES_IMAGINATIVOS,getActiveComponent:ts})}export{_o as default};
