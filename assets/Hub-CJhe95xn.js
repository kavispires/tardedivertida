import{r as s,W as nt,X as we,_ as zt,Y as Re,Z as J,$ as se,a0 as xr,a1 as Xt,a2 as E,a3 as ot,a4 as Et,a5 as wr,a6 as Er,a7 as Je,a8 as Nr,a9 as en,aa as kr,ab as Dr,ac as Pa,ad as Ra,ae as Kr,af as Ir,ag as Or,ah as Tr,ai as ce,aj as Pr,g as Rr,m as Ma,ak as Xn,al as Mr,am as _r,an as Lr,ao as Jn,ap as jr,c as Qn,aq as Ar,ar as _a,as as $r,at as Vr,au as Fr,av as Hr,aw as Zn,ax as Wr,ay as La,z as ja,x as Br,az as zr,aA as Gr,aB as Aa,aC as $a,j as b,H as Ft,T as at,e as En,v as Ur,B as Nn,aD as qr,aE as Yr,f as mn,aF as Xr,aG as Qt,y as Jr,aH as Va,aI as un,s as Fa,aJ as ln,i as Qr,aK as Zr,n as tn,h as Ha,q as kn,aL as eo,t as ea,aM as to,aN as ta,aO as Wa,w as no,G as Ba,aP as ao,o as ro,L as oo,aQ as io,R as lo,C as so}from"./index-CQUMMVDG.js";import{D as uo}from"./DevHeader-DcJH-8IX.js";import{R as co,L as fo}from"./LogoutButton-ri94WiX2.js";import{T as vo,R as mo,G as go}from"./RulesModal-CyiumakY.js";import{u as ho}from"./useMutation-CNFCaVbz.js";import{L as po}from"./Loading-BcJgtUMy.js";import{I as yn}from"./Instruction-BcmUACq2.js";import{R as na}from"./index-De6wMb-w.js";import{g as yo,C as bo,T as aa}from"./index-D9a1HKEb.js";import{u as Co}from"./useCopyToClipboard-DXZr1YJr.js";import{M as So}from"./DoubleRightOutlined-_thKMvXL.js";import{D as cn}from"./index-CnGqfOjc.js";import{C as Vt}from"./index-B0-isamr.js";import{B as xo}from"./index-igwYyNuM.js";import{u as wo}from"./useDevFeatures-NUd8DDqp.js";import{L as za,u as Eo,a as No,b as ko,D as Do,m as Ko,S as sn}from"./index-SVYsEjXI.js";import{u as Dn}from"./useMergedState-D5RTwnQi.js";import{F as Io}from"./Overflow-3IsHxuZJ.js";import{o as Ga}from"./index-DUD9hP6c.js";import{g as Oo}from"./PurePanel-DkMXBX4K.js";import{i as To,g as Po,S as Ro}from"./iconUtil-CJfzjpEk.js";import"./WritingIcon-D_CabSBO.js";import"./AnimatedLoaderIcon-T0eGRTHJ.js";import"./useBubbleLock-Dck5kWPv.js";import"./useId-0-OfsZou.js";import"./useSetState-C5l14-TI.js";import"./index-D6MEyQS4.js";import"./EllipsisOutlined-B6_2mSqc.js";import"./PlusOutlined-ByZyTB3m.js";import"./useEvent-DBQOYUIG.js";var ra={};function Mo(e,t){}function _o(e,t,a){!t&&!ra[a]&&(ra[a]=!0)}function Ot(e,t){_o(Mo,e,t)}const Lo=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e==null?void 0:e.substr(0,4))};var gn=function(t){var a=t.className,n=t.customizeIcon,r=t.customizeIconProps,u=t.children,c=t.onMouseDown,o=t.onClick,l=typeof n=="function"?n(r):n;return s.createElement("span",{className:a,onMouseDown:function(d){d.preventDefault(),c==null||c(d)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:o,"aria-hidden":!0},l!==void 0?l:s.createElement("span",{className:nt(a.split(/\s+/).map(function(i){return"".concat(i,"-icon")}))},u))},jo=function(t,a,n,r,u){var c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,o=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,i=we.useMemo(function(){if(zt(r)==="object")return r.clearIcon;if(u)return u},[r,u]),d=we.useMemo(function(){return!!(!c&&r&&(n.length||o)&&!(l==="combobox"&&o===""))},[r,c,n.length,o,l]);return{allowClear:d,clearIcon:we.createElement(gn,{className:"".concat(t,"-clear"),onMouseDown:a,customizeIcon:i},"×")}},Ua=s.createContext(null);function qa(){return s.useContext(Ua)}function Ao(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,t=s.useState(!1),a=Re(t,2),n=a[0],r=a[1],u=s.useRef(null),c=function(){window.clearTimeout(u.current)};s.useEffect(function(){return c},[]);var o=function(i,d){c(),u.current=window.setTimeout(function(){r(i),d&&d()},e)};return[n,o,c]}function Ya(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,t=s.useRef(null),a=s.useRef(null);s.useEffect(function(){return function(){window.clearTimeout(a.current)}},[]);function n(r){(r||t.current===null)&&(t.current=r),window.clearTimeout(a.current),a.current=window.setTimeout(function(){t.current=null},e)}return[function(){return t.current},n]}function $o(e,t,a,n){var r=s.useRef(null);r.current={open:t,triggerOpen:a,customizedTrigger:n},s.useEffect(function(){function u(c){var o;if(!((o=r.current)!==null&&o!==void 0&&o.customizedTrigger)){var l=c.target;l.shadowRoot&&c.composed&&(l=c.composedPath()[0]||l),r.current.open&&e().filter(function(i){return i}).every(function(i){return!i.contains(l)&&i!==l})&&r.current.triggerOpen(!1)}}return window.addEventListener("mousedown",u),function(){return window.removeEventListener("mousedown",u)}},[])}function Vo(e){return![J.ESC,J.SHIFT,J.BACKSPACE,J.TAB,J.WIN_KEY,J.ALT,J.META,J.WIN_KEY_RIGHT,J.CTRL,J.SEMICOLON,J.EQUALS,J.CAPS_LOCK,J.CONTEXT_MENU,J.F1,J.F2,J.F3,J.F4,J.F5,J.F6,J.F7,J.F8,J.F9,J.F10,J.F11,J.F12].includes(e)}var Fo=function(t,a){var n,r=t.prefixCls,u=t.id,c=t.inputElement,o=t.disabled,l=t.tabIndex,i=t.autoFocus,d=t.autoComplete,f=t.editable,h=t.activeDescendantId,v=t.value,p=t.maxLength,y=t.onKeyDown,m=t.onMouseDown,C=t.onChange,N=t.onPaste,S=t.onCompositionStart,x=t.onCompositionEnd,w=t.open,k=t.attrs,K=c||s.createElement("input",null),g=K,D=g.ref,R=g.props,P=R.onKeyDown,L=R.onChange,$=R.onMouseDown,I=R.onCompositionStart,M=R.onCompositionEnd,H=R.style;return"maxLength"in K.props,K=s.cloneElement(K,se(se(se({type:"search"},R),{},{id:u,ref:xr(a,D),disabled:o,tabIndex:l,autoComplete:d||"off",autoFocus:i,className:nt("".concat(r,"-selection-search-input"),(n=K)===null||n===void 0||(n=n.props)===null||n===void 0?void 0:n.className),role:"combobox","aria-expanded":w||!1,"aria-haspopup":"listbox","aria-owns":"".concat(u,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(u,"_list"),"aria-activedescendant":w?h:void 0},k),{},{value:f?v:"",maxLength:p,readOnly:!f,unselectable:f?null:"on",style:se(se({},H),{},{opacity:f?null:0}),onKeyDown:function(F){y(F),P&&P(F)},onMouseDown:function(F){m(F),$&&$(F)},onChange:function(F){C(F),L&&L(F)},onCompositionStart:function(F){S(F),I&&I(F)},onCompositionEnd:function(F){x(F),M&&M(F)},onPaste:N})),K},Xa=s.forwardRef(Fo);function Ja(e){return Array.isArray(e)?e:e!==void 0?[e]:[]}var Ho=typeof window<"u"&&window.document&&window.document.documentElement,Wo=Ho;function Bo(e){return e!=null}function zo(e){return!e&&e!==0}function oa(e){return["string","number"].includes(zt(e))}function Qa(e){var t=void 0;return e&&(oa(e.title)?t=e.title.toString():oa(e.label)&&(t=e.label.toString())),t}function Go(e,t){Wo?s.useLayoutEffect(e,t):s.useEffect(e,t)}function Uo(e){var t;return(t=e.key)!==null&&t!==void 0?t:e.value}var ia=function(t){t.preventDefault(),t.stopPropagation()},qo=function(t){var a=t.id,n=t.prefixCls,r=t.values,u=t.open,c=t.searchValue,o=t.autoClearSearchValue,l=t.inputRef,i=t.placeholder,d=t.disabled,f=t.mode,h=t.showSearch,v=t.autoFocus,p=t.autoComplete,y=t.activeDescendantId,m=t.tabIndex,C=t.removeIcon,N=t.maxTagCount,S=t.maxTagTextLength,x=t.maxTagPlaceholder,w=x===void 0?function(V){return"+ ".concat(V.length," ...")}:x,k=t.tagRender,K=t.onToggleOpen,g=t.onRemove,D=t.onInputChange,R=t.onInputPaste,P=t.onInputKeyDown,L=t.onInputMouseDown,$=t.onInputCompositionStart,I=t.onInputCompositionEnd,M=s.useRef(null),H=s.useState(0),U=Re(H,2),F=U[0],Q=U[1],Y=s.useState(!1),ve=Re(Y,2),Ie=ve[0],xe=ve[1],me="".concat(n,"-selection"),ge=u||f==="multiple"&&o===!1||f==="tags"?c:"",Ue=f==="tags"||f==="multiple"&&o===!1||h&&(u||Ie);Go(function(){Q(M.current.scrollWidth)},[ge]);var ae=function(W,_,G,le,ue){return s.createElement("span",{title:Qa(W),className:nt("".concat(me,"-item"),E({},"".concat(me,"-item-disabled"),G))},s.createElement("span",{className:"".concat(me,"-item-content")},_),le&&s.createElement(gn,{className:"".concat(me,"-item-remove"),onMouseDown:ia,onClick:ue,customizeIcon:C},"×"))},Te=function(W,_,G,le,ue,re){var Ee=function(Pe){ia(Pe),K(!u)};return s.createElement("span",{onMouseDown:Ee},k({label:_,value:W,disabled:G,closable:le,onClose:ue,isMaxTag:!!re}))},Fe=function(W){var _=W.disabled,G=W.label,le=W.value,ue=!d&&!_,re=G;if(typeof S=="number"&&(typeof G=="string"||typeof G=="number")){var Ee=String(re);Ee.length>S&&(re="".concat(Ee.slice(0,S),"..."))}var ee=function(he){he&&he.stopPropagation(),g(W)};return typeof k=="function"?Te(le,re,_,ue,ee):ae(W,re,_,ue,ee)},ne=function(W){var _=typeof w=="function"?w(W):w;return typeof k=="function"?Te(void 0,_,!1,!1,void 0,!0):ae({title:_},_,!1)},j=s.createElement("div",{className:"".concat(me,"-search"),style:{width:F},onFocus:function(){xe(!0)},onBlur:function(){xe(!1)}},s.createElement(Xa,{ref:l,open:u,prefixCls:n,id:a,inputElement:null,disabled:d,autoFocus:v,autoComplete:p,editable:Ue,activeDescendantId:y,value:ge,onKeyDown:P,onMouseDown:L,onChange:D,onPaste:R,onCompositionStart:$,onCompositionEnd:I,tabIndex:m,attrs:Xt(t,!0)}),s.createElement("span",{ref:M,className:"".concat(me,"-search-mirror"),"aria-hidden":!0},ge," ")),T=s.createElement(Io,{prefixCls:"".concat(me,"-overflow"),data:r,renderItem:Fe,renderRest:ne,suffix:j,itemKey:Uo,maxCount:N});return s.createElement("span",{className:"".concat(me,"-wrap")},T,!r.length&&!ge&&s.createElement("span",{className:"".concat(me,"-placeholder")},i))},Yo=function(t){var a=t.inputElement,n=t.prefixCls,r=t.id,u=t.inputRef,c=t.disabled,o=t.autoFocus,l=t.autoComplete,i=t.activeDescendantId,d=t.mode,f=t.open,h=t.values,v=t.placeholder,p=t.tabIndex,y=t.showSearch,m=t.searchValue,C=t.activeValue,N=t.maxLength,S=t.onInputKeyDown,x=t.onInputMouseDown,w=t.onInputChange,k=t.onInputPaste,K=t.onInputCompositionStart,g=t.onInputCompositionEnd,D=t.title,R=s.useState(!1),P=Re(R,2),L=P[0],$=P[1],I=d==="combobox",M=I||y,H=h[0],U=m||"";I&&C&&!L&&(U=C),s.useEffect(function(){I&&$(!1)},[I,C]);var F=d!=="combobox"&&!f&&!y?!1:!!U,Q=D===void 0?Qa(H):D,Y=s.useMemo(function(){return H?null:s.createElement("span",{className:"".concat(n,"-selection-placeholder"),style:F?{visibility:"hidden"}:void 0},v)},[H,F,v,n]);return s.createElement("span",{className:"".concat(n,"-selection-wrap")},s.createElement("span",{className:"".concat(n,"-selection-search")},s.createElement(Xa,{ref:u,prefixCls:n,id:r,open:f,inputElement:a,disabled:c,autoFocus:o,autoComplete:l,editable:M,activeDescendantId:i,value:U,onKeyDown:S,onMouseDown:x,onChange:function(Ie){$(!0),w(Ie)},onPaste:k,onCompositionStart:K,onCompositionEnd:g,tabIndex:p,attrs:Xt(t,!0),maxLength:I?N:void 0})),!I&&H?s.createElement("span",{className:"".concat(n,"-selection-item"),title:Q,style:F?{visibility:"hidden"}:void 0},H.label):null,Y)},Xo=function(t,a){var n=s.useRef(null),r=s.useRef(!1),u=t.prefixCls,c=t.open,o=t.mode,l=t.showSearch,i=t.tokenWithEnter,d=t.disabled,f=t.prefix,h=t.autoClearSearchValue,v=t.onSearch,p=t.onSearchSubmit,y=t.onToggleOpen,m=t.onInputKeyDown,C=t.domRef;s.useImperativeHandle(a,function(){return{focus:function(Q){n.current.focus(Q)},blur:function(){n.current.blur()}}});var N=Ya(0),S=Re(N,2),x=S[0],w=S[1],k=function(Q){var Y=Q.which,ve=n.current instanceof HTMLTextAreaElement;!ve&&c&&(Y===J.UP||Y===J.DOWN)&&Q.preventDefault(),m&&m(Q),Y===J.ENTER&&o==="tags"&&!r.current&&!c&&(p==null||p(Q.target.value)),!(ve&&!c&&~[J.UP,J.DOWN,J.LEFT,J.RIGHT].indexOf(Y))&&Vo(Y)&&y(!0)},K=function(){w(!0)},g=s.useRef(null),D=function(Q){v(Q,!0,r.current)!==!1&&y(!0)},R=function(){r.current=!0},P=function(Q){r.current=!1,o!=="combobox"&&D(Q.target.value)},L=function(Q){var Y=Q.target.value;if(i&&g.current&&/[\r\n]/.test(g.current)){var ve=g.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");Y=Y.replace(ve,g.current)}g.current=null,D(Y)},$=function(Q){var Y=Q.clipboardData,ve=Y==null?void 0:Y.getData("text");g.current=ve||""},I=function(Q){var Y=Q.target;if(Y!==n.current){var ve=document.body.style.msTouchAction!==void 0;ve?setTimeout(function(){n.current.focus()}):n.current.focus()}},M=function(Q){var Y=x();Q.target!==n.current&&!Y&&!(o==="combobox"&&d)&&Q.preventDefault(),(o!=="combobox"&&(!l||!Y)||!c)&&(c&&h!==!1&&v("",!0,!1),y())},H={inputRef:n,onInputKeyDown:k,onInputMouseDown:K,onInputChange:L,onInputPaste:$,onInputCompositionStart:R,onInputCompositionEnd:P},U=o==="multiple"||o==="tags"?s.createElement(qo,ot({},t,H)):s.createElement(Yo,ot({},t,H));return s.createElement("div",{ref:C,className:"".concat(u,"-selector"),onClick:I,onMouseDown:M},f&&s.createElement("div",{className:"".concat(u,"-prefix")},f),U)},Jo=s.forwardRef(Xo),Qo=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],Zo=function(t){var a=t===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:a,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:a,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:a,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:a,adjustY:1},htmlRegion:"scroll"}}},ei=function(t,a){var n=t.prefixCls;t.disabled;var r=t.visible,u=t.children,c=t.popupElement,o=t.animation,l=t.transitionName,i=t.dropdownStyle,d=t.dropdownClassName,f=t.direction,h=f===void 0?"ltr":f,v=t.placement,p=t.builtinPlacements,y=t.dropdownMatchSelectWidth,m=t.dropdownRender,C=t.dropdownAlign,N=t.getPopupContainer,S=t.empty,x=t.getTriggerDOMNode,w=t.onPopupVisibleChange,k=t.onPopupMouseEnter,K=Et(t,Qo),g="".concat(n,"-dropdown"),D=c;m&&(D=m(c));var R=s.useMemo(function(){return p||Zo(y)},[p,y]),P=o?"".concat(g,"-").concat(o):l,L=typeof y=="number",$=s.useMemo(function(){return L?null:y===!1?"minWidth":"width"},[y,L]),I=i;L&&(I=se(se({},I),{},{width:y}));var M=s.useRef(null);return s.useImperativeHandle(a,function(){return{getPopupElement:function(){var U;return(U=M.current)===null||U===void 0?void 0:U.popupElement}}}),s.createElement(wr,ot({},K,{showAction:w?["click"]:[],hideAction:w?["click"]:[],popupPlacement:v||(h==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:R,prefixCls:g,popupTransitionName:P,popup:s.createElement("div",{onMouseEnter:k},D),ref:M,stretch:$,popupAlign:C,popupVisible:r,getPopupContainer:N,popupClassName:nt(d,E({},"".concat(g,"-empty"),S)),popupStyle:I,getTriggerDOMNode:x,onPopupVisibleChange:w}),u)},ti=s.forwardRef(ei);function la(e,t){var a=e.key,n;return"value"in e&&(n=e.value),a??(n!==void 0?n:"rc-index-key-".concat(t))}function Kn(e){return typeof e<"u"&&!Number.isNaN(e)}function Za(e,t){var a=e||{},n=a.label,r=a.value,u=a.options,c=a.groupLabel,o=n||(t?"children":"label");return{label:o,value:r||"value",options:u||"options",groupLabel:c||o}}function ni(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=t.fieldNames,n=t.childrenAsData,r=[],u=Za(a,!1),c=u.label,o=u.value,l=u.options,i=u.groupLabel;function d(f,h){Array.isArray(f)&&f.forEach(function(v){if(h||!(l in v)){var p=v[o];r.push({key:la(v,r.length),groupOption:h,data:v,label:v[c],value:p})}else{var y=v[i];y===void 0&&n&&(y=v.label),r.push({key:la(v,r.length),group:!0,data:v,label:y}),d(v[l],!0)}})}return d(e,!1),r}function In(e){var t=se({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return Ot(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),t}}),t}var ai=function(t,a,n){if(!a||!a.length)return null;var r=!1,u=function o(l,i){var d=Er(i),f=d[0],h=d.slice(1);if(!f)return[l];var v=l.split(f);return r=r||v.length>1,v.reduce(function(p,y){return[].concat(Je(p),Je(o(y,h)))},[]).filter(Boolean)},c=u(t,a);return r?typeof n<"u"?c.slice(0,n):c:null},Fn=s.createContext(null);function ri(e){var t=e.visible,a=e.values;if(!t)return null;var n=50;return s.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(a.slice(0,n).map(function(r){var u=r.label,c=r.value;return["number","string"].includes(zt(u))?u:c}).join(", ")),a.length>n?", ...":null)}var oi=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","prefix","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],ii=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],On=function(t){return t==="tags"||t==="multiple"},er=s.forwardRef(function(e,t){var a,n=e.id,r=e.prefixCls,u=e.className,c=e.showSearch,o=e.tagRender,l=e.direction,i=e.omitDomProps,d=e.displayValues,f=e.onDisplayValuesChange,h=e.emptyOptions,v=e.notFoundContent,p=v===void 0?"Not Found":v,y=e.onClear,m=e.mode,C=e.disabled,N=e.loading,S=e.getInputElement,x=e.getRawInputElement,w=e.open,k=e.defaultOpen,K=e.onDropdownVisibleChange,g=e.activeValue,D=e.onActiveValueChange,R=e.activeDescendantId,P=e.searchValue,L=e.autoClearSearchValue,$=e.onSearch,I=e.onSearchSplit,M=e.tokenSeparators,H=e.allowClear,U=e.prefix,F=e.suffixIcon,Q=e.clearIcon,Y=e.OptionList,ve=e.animation,Ie=e.transitionName,xe=e.dropdownStyle,me=e.dropdownClassName,ge=e.dropdownMatchSelectWidth,Ue=e.dropdownRender,ae=e.dropdownAlign,Te=e.placement,Fe=e.builtinPlacements,ne=e.getPopupContainer,j=e.showAction,T=j===void 0?[]:j,V=e.onFocus,W=e.onBlur,_=e.onKeyUp,G=e.onKeyDown,le=e.onMouseDown,ue=Et(e,oi),re=On(m),Ee=(c!==void 0?c:re)||m==="combobox",ee=se({},ue);ii.forEach(function(Se){delete ee[Se]}),i==null||i.forEach(function(Se){delete ee[Se]});var Pe=s.useState(!1),he=Re(Pe,2),ye=he[0],Be=he[1];s.useEffect(function(){Be(Lo())},[]);var _e=s.useRef(null),ke=s.useRef(null),pe=s.useRef(null),te=s.useRef(null),B=s.useRef(null),O=s.useRef(!1),He=Ao(),We=Re(He,3),ze=We[0],Ne=We[1],Ct=We[2];s.useImperativeHandle(t,function(){var Se,ie;return{focus:(Se=te.current)===null||Se===void 0?void 0:Se.focus,blur:(ie=te.current)===null||ie===void 0?void 0:ie.blur,scrollTo:function(dt){var et;return(et=B.current)===null||et===void 0?void 0:et.scrollTo(dt)},nativeElement:_e.current||ke.current}});var De=s.useMemo(function(){var Se;if(m!=="combobox")return P;var ie=(Se=d[0])===null||Se===void 0?void 0:Se.value;return typeof ie=="string"||typeof ie=="number"?String(ie):""},[P,m,d]),qe=m==="combobox"&&typeof S=="function"&&S()||null,Z=typeof x=="function"&&x(),de=Nr(ke,Z==null||(a=Z.props)===null||a===void 0?void 0:a.ref),$e=s.useState(!1),Ke=Re($e,2),Ve=Ke[0],Qe=Ke[1];en(function(){Qe(!0)},[]);var Ye=Dn(!1,{defaultValue:k,value:w}),st=Re(Ye,2),tt=st[0],ut=st[1],Ge=Ve?tt:!1,Gt=!p&&h;(C||Gt&&Ge&&m==="combobox")&&(Ge=!1);var Nt=Gt?!1:Ge,A=s.useCallback(function(Se){var ie=Se!==void 0?Se:!Ge;C||(ut(ie),Ge!==ie&&(K==null||K(ie)))},[C,Ge,ut,K]),X=s.useMemo(function(){return(M||[]).some(function(Se){return[`
`,`\r
`].includes(Se)})},[M]),z=s.useContext(Fn)||{},q=z.maxCount,be=z.rawValues,Oe=function(ie,ct,dt){if(!(re&&Kn(q)&&(be==null?void 0:be.size)>=q)){var et=!0,rt=ie;D==null||D(null);var Kt=ai(ie,M,Kn(q)?q-be.size:void 0),wt=dt?null:Kt;return m!=="combobox"&&wt&&(rt="",I==null||I(wt),A(!1),et=!1),$&&De!==rt&&$(rt,{source:ct?"typing":"effect"}),et}},gt=function(ie){!ie||!ie.trim()||$(ie,{source:"submit"})};s.useEffect(function(){!Ge&&!re&&m!=="combobox"&&Oe("",!1,!1)},[Ge]),s.useEffect(function(){tt&&C&&ut(!1),C&&!O.current&&Ne(!1)},[C]);var it=Ya(),ht=Re(it,2),Ze=ht[0],St=ht[1],_t=s.useRef(!1),Jt=function(ie){var ct=Ze(),dt=ie.key,et=dt==="Enter";if(et&&(m!=="combobox"&&ie.preventDefault(),Ge||A(!0)),St(!!De),dt==="Backspace"&&!ct&&re&&!De&&d.length){for(var rt=Je(d),Kt=null,wt=rt.length-1;wt>=0;wt-=1){var At=rt[wt];if(!At.disabled){rt.splice(wt,1),Kt=At;break}}Kt&&f(rt,{type:"remove",values:[Kt]})}for(var Ut=arguments.length,$t=new Array(Ut>1?Ut-1:0),rn=1;rn<Ut;rn++)$t[rn-1]=arguments[rn];if(Ge&&(!et||!_t.current)){var on;(on=B.current)===null||on===void 0||on.onKeyDown.apply(on,[ie].concat($t))}et&&(_t.current=!0),G==null||G.apply(void 0,[ie].concat($t))},Ce=function(ie){for(var ct=arguments.length,dt=new Array(ct>1?ct-1:0),et=1;et<ct;et++)dt[et-1]=arguments[et];if(Ge){var rt;(rt=B.current)===null||rt===void 0||rt.onKeyUp.apply(rt,[ie].concat(dt))}ie.key==="Enter"&&(_t.current=!1),_==null||_.apply(void 0,[ie].concat(dt))},fe=function(ie){var ct=d.filter(function(dt){return dt!==ie});f(ct,{type:"remove",values:[ie]})},oe=s.useRef(!1),Me=function(){Ne(!0),C||(V&&!oe.current&&V.apply(void 0,arguments),T.includes("focus")&&A(!0)),oe.current=!0},vt=function(){O.current=!0,Ne(!1,function(){oe.current=!1,O.current=!1,A(!1)}),!C&&(De&&(m==="tags"?$(De,{source:"submit"}):m==="multiple"&&$("",{source:"blur"})),W&&W.apply(void 0,arguments))},Le=[];s.useEffect(function(){return function(){Le.forEach(function(Se){return clearTimeout(Se)}),Le.splice(0,Le.length)}},[]);var je=function(ie){var ct,dt=ie.target,et=(ct=pe.current)===null||ct===void 0?void 0:ct.getPopupElement();if(et&&et.contains(dt)){var rt=setTimeout(function(){var Ut=Le.indexOf(rt);if(Ut!==-1&&Le.splice(Ut,1),Ct(),!ye&&!et.contains(document.activeElement)){var $t;($t=te.current)===null||$t===void 0||$t.focus()}});Le.push(rt)}for(var Kt=arguments.length,wt=new Array(Kt>1?Kt-1:0),At=1;At<Kt;At++)wt[At-1]=arguments[At];le==null||le.apply(void 0,[ie].concat(wt))},Ae=s.useState({}),lt=Re(Ae,2),xt=lt[1];function Lt(){xt({})}var Tt;Z&&(Tt=function(ie){A(ie)}),$o(function(){var Se;return[_e.current,(Se=pe.current)===null||Se===void 0?void 0:Se.getPopupElement()]},Nt,A,!!Z);var kt=s.useMemo(function(){return se(se({},e),{},{notFoundContent:p,open:Ge,triggerOpen:Nt,id:n,showSearch:Ee,multiple:re,toggleOpen:A})},[e,p,Nt,Ge,n,Ee,re,A]),Dt=!!F||N,jt;Dt&&(jt=s.createElement(gn,{className:nt("".concat(r,"-arrow"),E({},"".concat(r,"-arrow-loading"),N)),customizeIcon:F,customizeIconProps:{loading:N,searchValue:De,open:Ge,focused:ze,showSearch:Ee}}));var pt=function(){var ie;y==null||y(),(ie=te.current)===null||ie===void 0||ie.focus(),f([],{type:"clear",values:d}),Oe("",!1,!1)},yt=jo(r,pt,d,H,Q,C,De,m),yr=yt.allowClear,br=yt.clearIcon,Cr=s.createElement(Y,{ref:B}),Sr=nt(r,u,E(E(E(E(E(E(E(E(E(E({},"".concat(r,"-focused"),ze),"".concat(r,"-multiple"),re),"".concat(r,"-single"),!re),"".concat(r,"-allow-clear"),H),"".concat(r,"-show-arrow"),Dt),"".concat(r,"-disabled"),C),"".concat(r,"-loading"),N),"".concat(r,"-open"),Ge),"".concat(r,"-customize-input"),qe),"".concat(r,"-show-search"),Ee)),Yn=s.createElement(ti,{ref:pe,disabled:C,prefixCls:r,visible:Nt,popupElement:Cr,animation:ve,transitionName:Ie,dropdownStyle:xe,dropdownClassName:me,direction:l,dropdownMatchSelectWidth:ge,dropdownRender:Ue,dropdownAlign:ae,placement:Te,builtinPlacements:Fe,getPopupContainer:ne,empty:h,getTriggerDOMNode:function(ie){return ke.current||ie},onPopupVisibleChange:Tt,onPopupMouseEnter:Lt},Z?s.cloneElement(Z,{ref:de}):s.createElement(Jo,ot({},e,{domRef:ke,prefixCls:r,inputElement:qe,ref:te,id:n,prefix:U,showSearch:Ee,autoClearSearchValue:L,mode:m,activeDescendantId:R,tagRender:o,values:d,open:Ge,onToggleOpen:A,activeValue:g,searchValue:De,onSearch:Oe,onSearchSubmit:gt,onRemove:fe,tokenWithEnter:X}))),pn;return Z?pn=Yn:pn=s.createElement("div",ot({className:Sr},ee,{ref:_e,onMouseDown:je,onKeyDown:Jt,onKeyUp:Ce,onFocus:Me,onBlur:vt}),s.createElement(ri,{visible:ze&&!Ge,values:d}),Yn,jt,yr&&br),s.createElement(Ua.Provider,{value:kt},pn)}),tr=function(){return null};tr.isSelectOptGroup=!0;var nr=function(){return null};nr.isSelectOption=!0;function li(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var si=["disabled","title","children","style","className"];function sa(e){return typeof e=="string"||typeof e=="number"}var ui=function(t,a){var n=qa(),r=n.prefixCls,u=n.id,c=n.open,o=n.multiple,l=n.mode,i=n.searchValue,d=n.toggleOpen,f=n.notFoundContent,h=n.onPopupScroll,v=s.useContext(Fn),p=v.maxCount,y=v.flattenOptions,m=v.onActiveValue,C=v.defaultActiveFirstOption,N=v.onSelect,S=v.menuItemSelectedIcon,x=v.rawValues,w=v.fieldNames,k=v.virtual,K=v.direction,g=v.listHeight,D=v.listItemHeight,R=v.optionRender,P="".concat(r,"-item"),L=kr(function(){return y},[c,y],function(j,T){return T[0]&&j[1]!==T[1]}),$=s.useRef(null),I=s.useMemo(function(){return o&&Kn(p)&&(x==null?void 0:x.size)>=p},[o,p,x==null?void 0:x.size]),M=function(T){T.preventDefault()},H=function(T){var V;(V=$.current)===null||V===void 0||V.scrollTo(typeof T=="number"?{index:T}:T)},U=function(T){for(var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,W=L.length,_=0;_<W;_+=1){var G=(T+_*V+W)%W,le=L[G]||{},ue=le.group,re=le.data;if(!ue&&!(re!=null&&re.disabled)&&!I)return G}return-1},F=s.useState(function(){return U(0)}),Q=Re(F,2),Y=Q[0],ve=Q[1],Ie=function(T){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;ve(T);var W={source:V?"keyboard":"mouse"},_=L[T];if(!_){m(null,-1,W);return}m(_.value,T,W)};s.useEffect(function(){Ie(C!==!1?U(0):-1)},[L.length,i]);var xe=s.useCallback(function(j){return l==="combobox"?!1:x.has(j)},[l,Je(x).toString(),x.size]),me=s.useCallback(function(j){return l==="combobox"?String(j).toLowerCase()===i.toLowerCase():x.has(j)},[l,i,Je(x).toString(),x.size]);s.useEffect(function(){var j=setTimeout(function(){if(!o&&c&&x.size===1){var V=Array.from(x)[0],W=L.findIndex(function(_){var G=_.data;return G.value===V});W!==-1&&(Ie(W),H(W))}});if(c){var T;(T=$.current)===null||T===void 0||T.scrollTo(void 0)}return function(){return clearTimeout(j)}},[c,i]);var ge=function(T){T!==void 0&&N(T,{selected:!x.has(T)}),o||d(!1)};if(s.useImperativeHandle(a,function(){return{onKeyDown:function(T){var V=T.which,W=T.ctrlKey;switch(V){case J.N:case J.P:case J.UP:case J.DOWN:{var _=0;if(V===J.UP?_=-1:V===J.DOWN?_=1:li()&&W&&(V===J.N?_=1:V===J.P&&(_=-1)),_!==0){var G=U(Y+_,_);H(G),Ie(G,!0)}break}case J.TAB:case J.ENTER:{var le,ue=L[Y];ue&&!(ue!=null&&(le=ue.data)!==null&&le!==void 0&&le.disabled)&&!I?ge(ue.value):ge(void 0),c&&T.preventDefault();break}case J.ESC:d(!1),c&&T.stopPropagation()}},onKeyUp:function(){},scrollTo:function(T){H(T)}}}),L.length===0)return s.createElement("div",{role:"listbox",id:"".concat(u,"_list"),className:"".concat(P,"-empty"),onMouseDown:M},f);var Ue=Object.keys(w).map(function(j){return w[j]}),ae=function(T){return T.label};function Te(j,T){var V=j.group;return{role:V?"presentation":"option",id:"".concat(u,"_list_").concat(T)}}var Fe=function(T){var V=L[T];if(!V)return null;var W=V.data||{},_=W.value,G=V.group,le=Xt(W,!0),ue=ae(V);return V?s.createElement("div",ot({"aria-label":typeof ue=="string"&&!G?ue:null},le,{key:T},Te(V,T),{"aria-selected":me(_)}),_):null},ne={role:"listbox",id:"".concat(u,"_list")};return s.createElement(s.Fragment,null,k&&s.createElement("div",ot({},ne,{style:{height:0,width:0,overflow:"hidden"}}),Fe(Y-1),Fe(Y),Fe(Y+1)),s.createElement(za,{itemKey:"key",ref:$,data:L,height:g,itemHeight:D,fullHeight:!1,onMouseDown:M,onScroll:h,virtual:k,direction:K,innerProps:k?null:ne},function(j,T){var V=j.group,W=j.groupOption,_=j.data,G=j.label,le=j.value,ue=_.key;if(V){var re,Ee=(re=_.title)!==null&&re!==void 0?re:sa(G)?G.toString():void 0;return s.createElement("div",{className:nt(P,"".concat(P,"-group"),_.className),title:Ee},G!==void 0?G:ue)}var ee=_.disabled,Pe=_.title;_.children;var he=_.style,ye=_.className,Be=Et(_,si),_e=Ga(Be,Ue),ke=xe(le),pe=ee||!ke&&I,te="".concat(P,"-option"),B=nt(P,te,ye,E(E(E(E({},"".concat(te,"-grouped"),W),"".concat(te,"-active"),Y===T&&!pe),"".concat(te,"-disabled"),pe),"".concat(te,"-selected"),ke)),O=ae(j),He=!S||typeof S=="function"||ke,We=typeof O=="number"?O:O||le,ze=sa(We)?We.toString():void 0;return Pe!==void 0&&(ze=Pe),s.createElement("div",ot({},Xt(_e),k?{}:Te(j,T),{"aria-selected":me(le),className:B,title:ze,onMouseMove:function(){Y===T||pe||Ie(T)},onClick:function(){pe||ge(le)},style:he}),s.createElement("div",{className:"".concat(te,"-content")},typeof R=="function"?R(j,{index:T}):We),s.isValidElement(S)||ke,He&&s.createElement(gn,{className:"".concat(P,"-option-state"),customizeIcon:S,customizeIconProps:{value:le,disabled:pe,isSelected:ke}},ke?"✓":null))}))},ci=s.forwardRef(ui);const di=function(e,t){var a=s.useRef({values:new Map,options:new Map}),n=s.useMemo(function(){var u=a.current,c=u.values,o=u.options,l=e.map(function(f){if(f.label===void 0){var h;return se(se({},f),{},{label:(h=c.get(f.value))===null||h===void 0?void 0:h.label})}return f}),i=new Map,d=new Map;return l.forEach(function(f){i.set(f.value,f),d.set(f.value,t.get(f.value)||o.get(f.value))}),a.current.values=i,a.current.options=d,l},[e,t]),r=s.useCallback(function(u){return t.get(u)||a.current.options.get(u)},[t]);return[n,r]};function bn(e,t){return Ja(e).join("").toUpperCase().includes(t)}const fi=function(e,t,a,n,r){return s.useMemo(function(){if(!a||n===!1)return e;var u=t.options,c=t.label,o=t.value,l=[],i=typeof n=="function",d=a.toUpperCase(),f=i?n:function(v,p){return r?bn(p[r],d):p[u]?bn(p[c!=="children"?c:"label"],d):bn(p[o],d)},h=i?function(v){return In(v)}:function(v){return v};return e.forEach(function(v){if(v[u]){var p=f(a,h(v));if(p)l.push(v);else{var y=v[u].filter(function(m){return f(a,h(m))});y.length&&l.push(se(se({},v),{},E({},u,y)))}return}f(a,h(v))&&l.push(v)}),l},[e,n,r,a,t])};var ua=0,vi=Dr();function mi(){var e;return vi?(e=ua,ua+=1):e="TEST_OR_SSR",e}function ar(e){var t=s.useState(),a=Re(t,2),n=a[0],r=a[1];return s.useEffect(function(){r("rc_select_".concat(mi()))},[]),e||n}var gi=["children","value"],hi=["children"];function pi(e){var t=e,a=t.key,n=t.props,r=n.children,u=n.value,c=Et(n,gi);return se({key:a,value:u!==void 0?u:a,children:r},c)}function rr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Pa(e).map(function(a,n){if(!s.isValidElement(a)||!a.type)return null;var r=a,u=r.type.isSelectOptGroup,c=r.key,o=r.props,l=o.children,i=Et(o,hi);return t||!u?pi(a):se(se({key:"__RC_SELECT_GRP__".concat(c===null?n:c,"__"),label:c},i),{},{options:rr(l)})}).filter(function(a){return a})}var yi=function(t,a,n,r,u){return s.useMemo(function(){var c=t,o=!t;o&&(c=rr(a));var l=new Map,i=new Map,d=function(v,p,y){y&&typeof y=="string"&&v.set(p[y],p)},f=function h(v){for(var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=0;y<v.length;y+=1){var m=v[y];!m[n.options]||p?(l.set(m[n.value],m),d(i,m,n.label),d(i,m,r),d(i,m,u)):h(m[n.options],!0)}};return f(c),{options:c,valueOptions:l,labelOptions:i}},[t,a,n,r,u])};function ca(e){var t=s.useRef();t.current=e;var a=s.useCallback(function(){return t.current.apply(t,arguments)},[]);return a}var bi=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],Ci=["inputValue"];function Si(e){return!e||zt(e)!=="object"}var xi=s.forwardRef(function(e,t){var a=e.id,n=e.mode,r=e.prefixCls,u=r===void 0?"rc-select":r,c=e.backfill,o=e.fieldNames,l=e.inputValue,i=e.searchValue,d=e.onSearch,f=e.autoClearSearchValue,h=f===void 0?!0:f,v=e.onSelect,p=e.onDeselect,y=e.dropdownMatchSelectWidth,m=y===void 0?!0:y,C=e.filterOption,N=e.filterSort,S=e.optionFilterProp,x=e.optionLabelProp,w=e.options,k=e.optionRender,K=e.children,g=e.defaultActiveFirstOption,D=e.menuItemSelectedIcon,R=e.virtual,P=e.direction,L=e.listHeight,$=L===void 0?200:L,I=e.listItemHeight,M=I===void 0?20:I,H=e.labelRender,U=e.value,F=e.defaultValue,Q=e.labelInValue,Y=e.onChange,ve=e.maxCount,Ie=Et(e,bi),xe=ar(a),me=On(n),ge=!!(!w&&K),Ue=s.useMemo(function(){return C===void 0&&n==="combobox"?!1:C},[C,n]),ae=s.useMemo(function(){return Za(o,ge)},[JSON.stringify(o),ge]),Te=Dn("",{value:i!==void 0?i:l,postState:function(X){return X||""}}),Fe=Re(Te,2),ne=Fe[0],j=Fe[1],T=yi(w,K,ae,S,x),V=T.valueOptions,W=T.labelOptions,_=T.options,G=s.useCallback(function(A){var X=Ja(A);return X.map(function(z){var q,be,Oe,gt,it;if(Si(z))q=z;else{var ht;Oe=z.key,be=z.label,q=(ht=z.value)!==null&&ht!==void 0?ht:Oe}var Ze=V.get(q);if(Ze){var St;be===void 0&&(be=Ze==null?void 0:Ze[x||ae.label]),Oe===void 0&&(Oe=(St=Ze==null?void 0:Ze.key)!==null&&St!==void 0?St:q),gt=Ze==null?void 0:Ze.disabled,it=Ze==null?void 0:Ze.title}return{label:be,value:q,key:Oe,disabled:gt,title:it}})},[ae,x,V]),le=Dn(F,{value:U}),ue=Re(le,2),re=ue[0],Ee=ue[1],ee=s.useMemo(function(){var A,X=me&&re===null?[]:re,z=G(X);return n==="combobox"&&zo((A=z[0])===null||A===void 0?void 0:A.value)?[]:z},[re,G,n,me]),Pe=di(ee,V),he=Re(Pe,2),ye=he[0],Be=he[1],_e=s.useMemo(function(){if(!n&&ye.length===1){var A=ye[0];if(A.value===null&&(A.label===null||A.label===void 0))return[]}return ye.map(function(X){var z;return se(se({},X),{},{label:(z=typeof H=="function"?H(X):X.label)!==null&&z!==void 0?z:X.value})})},[n,ye,H]),ke=s.useMemo(function(){return new Set(ye.map(function(A){return A.value}))},[ye]);s.useEffect(function(){if(n==="combobox"){var A,X=(A=ye[0])===null||A===void 0?void 0:A.value;j(Bo(X)?String(X):"")}},[ye]);var pe=ca(function(A,X){var z=X??A;return E(E({},ae.value,A),ae.label,z)}),te=s.useMemo(function(){if(n!=="tags")return _;var A=Je(_),X=function(q){return V.has(q)};return Je(ye).sort(function(z,q){return z.value<q.value?-1:1}).forEach(function(z){var q=z.value;X(q)||A.push(pe(q,z.label))}),A},[pe,_,V,ye,n]),B=fi(te,ae,ne,Ue,S),O=s.useMemo(function(){return n!=="tags"||!ne||B.some(function(A){return A[S||"value"]===ne})||B.some(function(A){return A[ae.value]===ne})?B:[pe(ne)].concat(Je(B))},[pe,S,n,B,ne,ae]),He=function A(X){var z=Je(X).sort(function(q,be){return N(q,be,{searchValue:ne})});return z.map(function(q){return Array.isArray(q.options)?se(se({},q),{},{options:q.options.length>0?A(q.options):q.options}):q})},We=s.useMemo(function(){return N?He(O):O},[O,N,ne]),ze=s.useMemo(function(){return ni(We,{fieldNames:ae,childrenAsData:ge})},[We,ae,ge]),Ne=function(X){var z=G(X);if(Ee(z),Y&&(z.length!==ye.length||z.some(function(Oe,gt){var it;return((it=ye[gt])===null||it===void 0?void 0:it.value)!==(Oe==null?void 0:Oe.value)}))){var q=Q?z:z.map(function(Oe){return Oe.value}),be=z.map(function(Oe){return In(Be(Oe.value))});Y(me?q:q[0],me?be:be[0])}},Ct=s.useState(null),De=Re(Ct,2),qe=De[0],Z=De[1],de=s.useState(0),$e=Re(de,2),Ke=$e[0],Ve=$e[1],Qe=g!==void 0?g:n!=="combobox",Ye=s.useCallback(function(A,X){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},q=z.source,be=q===void 0?"keyboard":q;Ve(X),c&&n==="combobox"&&A!==null&&be==="keyboard"&&Z(String(A))},[c,n]),st=function(X,z,q){var be=function(){var fe,oe=Be(X);return[Q?{label:oe==null?void 0:oe[ae.label],value:X,key:(fe=oe==null?void 0:oe.key)!==null&&fe!==void 0?fe:X}:X,In(oe)]};if(z&&v){var Oe=be(),gt=Re(Oe,2),it=gt[0],ht=gt[1];v(it,ht)}else if(!z&&p&&q!=="clear"){var Ze=be(),St=Re(Ze,2),_t=St[0],Jt=St[1];p(_t,Jt)}},tt=ca(function(A,X){var z,q=me?X.selected:!0;q?z=me?[].concat(Je(ye),[A]):[A]:z=ye.filter(function(be){return be.value!==A}),Ne(z),st(A,q),n==="combobox"?Z(""):(!On||h)&&(j(""),Z(""))}),ut=function(X,z){Ne(X);var q=z.type,be=z.values;(q==="remove"||q==="clear")&&be.forEach(function(Oe){st(Oe.value,!1,q)})},Ge=function(X,z){if(j(X),Z(null),z.source==="submit"){var q=(X||"").trim();if(q){var be=Array.from(new Set([].concat(Je(ke),[q])));Ne(be),st(q,!0),j("")}return}z.source!=="blur"&&(n==="combobox"&&Ne(X),d==null||d(X))},Gt=function(X){var z=X;n!=="tags"&&(z=X.map(function(be){var Oe=W.get(be);return Oe==null?void 0:Oe.value}).filter(function(be){return be!==void 0}));var q=Array.from(new Set([].concat(Je(ke),Je(z))));Ne(q),q.forEach(function(be){st(be,!0)})},Nt=s.useMemo(function(){var A=R!==!1&&m!==!1;return se(se({},T),{},{flattenOptions:ze,onActiveValue:Ye,defaultActiveFirstOption:Qe,onSelect:tt,menuItemSelectedIcon:D,rawValues:ke,fieldNames:ae,virtual:A,direction:P,listHeight:$,listItemHeight:M,childrenAsData:ge,maxCount:ve,optionRender:k})},[ve,T,ze,Ye,Qe,tt,D,ke,ae,R,m,P,$,M,ge,k]);return s.createElement(Fn.Provider,{value:Nt},s.createElement(er,ot({},Ie,{id:xe,prefixCls:u,ref:t,omitDomProps:Ci,mode:n,displayValues:_e,onDisplayValuesChange:ut,direction:P,searchValue:ne,onSearch:Ge,autoClearSearchValue:h,onSearchSplit:Gt,dropdownMatchSelectWidth:m,OptionList:ci,emptyOptions:!ze.length,activeValue:qe,activeDescendantId:"".concat(xe,"_list_").concat(Ke)})))}),or=xi;or.Option=nr;or.OptGroup=tr;function ft(e,t){return e[t]}var wi=["children"];function ir(e,t){return"".concat(e,"-").concat(t)}function Ei(e){return e&&e.type&&e.type.isTreeNode}function nn(e,t){return e??t}function dn(e){var t=e||{},a=t.title,n=t._title,r=t.key,u=t.children,c=a||"title";return{title:c,_title:n||[c],key:r||"key",children:u||"children"}}function Ni(e){function t(a){var n=Pa(a);return n.map(function(r){if(!Ei(r))return Ot(!r,"Tree/TreeNode can only accept TreeNode as children."),null;var u=r.key,c=r.props,o=c.children,l=Et(c,wi),i=se({key:u},l),d=t(o);return d.length&&(i.children=d),i}).filter(function(r){return r})}return t(e)}function Cn(e,t,a){var n=dn(a),r=n._title,u=n.key,c=n.children,o=new Set(t===!0?[]:t),l=[];function i(d){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return d.map(function(h,v){for(var p=ir(f?f.pos:"0",v),y=nn(h[u],p),m,C=0;C<r.length;C+=1){var N=r[C];if(h[N]!==void 0){m=h[N];break}}var S=Object.assign(Ga(h,[].concat(Je(r),[u,c])),{title:m,key:y,parent:f,pos:p,children:null,data:h,isStart:[].concat(Je(f?f.isStart:[]),[v===0]),isEnd:[].concat(Je(f?f.isEnd:[]),[v===d.length-1])});return l.push(S),t===!0||o.has(y)?S.children=i(h[c]||[],S):S.children=[],S})}return i(e),l}function ki(e,t,a){var n={};zt(a)==="object"?n=a:n={externalGetKey:a},n=n||{};var r=n,u=r.childrenPropName,c=r.externalGetKey,o=r.fieldNames,l=dn(o),i=l.key,d=l.children,f=u||d,h;c?typeof c=="string"?h=function(y){return y[c]}:typeof c=="function"&&(h=function(y){return c(y)}):h=function(y,m){return nn(y[i],m)};function v(p,y,m,C){var N=p?p[f]:e,S=p?ir(m.pos,y):"0",x=p?[].concat(Je(C),[p]):[];if(p){var w=h(p,S),k={node:p,index:y,pos:S,key:w,parentPos:m.node?m.pos:null,level:m.level+1,nodes:x};t(k)}N&&N.forEach(function(K,g){v(K,g,{node:p,pos:S,level:m?m.level+1:-1},x)})}v(null)}function lr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=t.initWrapper,n=t.processEntity,r=t.onProcessFinished,u=t.externalGetKey,c=t.childrenPropName,o=t.fieldNames,l=arguments.length>2?arguments[2]:void 0,i=u||l,d={},f={},h={posEntities:d,keyEntities:f};return a&&(h=a(h)||h),ki(e,function(v){var p=v.node,y=v.index,m=v.pos,C=v.key,N=v.parentPos,S=v.level,x=v.nodes,w={node:p,nodes:x,index:y,key:C,pos:m,level:S},k=nn(C,m);d[m]=w,f[k]=w,w.parent=d[N],w.parent&&(w.parent.children=w.parent.children||[],w.parent.children.push(w)),n&&n(w,h)},{externalGetKey:i,childrenPropName:c,fieldNames:o}),r&&r(h),h}function Zt(e,t){var a=t.expandedKeys,n=t.selectedKeys,r=t.loadedKeys,u=t.loadingKeys,c=t.checkedKeys,o=t.halfCheckedKeys,l=t.dragOverNodeKey,i=t.dropPosition,d=t.keyEntities,f=ft(d,e),h={eventKey:e,expanded:a.indexOf(e)!==-1,selected:n.indexOf(e)!==-1,loaded:r.indexOf(e)!==-1,loading:u.indexOf(e)!==-1,checked:c.indexOf(e)!==-1,halfChecked:o.indexOf(e)!==-1,pos:String(f?f.pos:""),dragOver:l===e&&i===0,dragOverGapTop:l===e&&i===-1,dragOverGapBottom:l===e&&i===1};return h}function Xe(e){var t=e.data,a=e.expanded,n=e.selected,r=e.checked,u=e.loaded,c=e.loading,o=e.halfChecked,l=e.dragOver,i=e.dragOverGapTop,d=e.dragOverGapBottom,f=e.pos,h=e.active,v=e.eventKey,p=se(se({},t),{},{expanded:a,selected:n,checked:r,loaded:u,loading:c,halfChecked:o,dragOver:l,dragOverGapTop:i,dragOverGapBottom:d,pos:f,active:h,key:v});return"props"in p||Object.defineProperty(p,"props",{get:function(){return Ot(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),e}}),p}function sr(e,t){var a=new Set;return e.forEach(function(n){t.has(n)||a.add(n)}),a}function Di(e){var t=e||{},a=t.disabled,n=t.disableCheckbox,r=t.checkable;return!!(a||n)||r===!1}function Ki(e,t,a,n){for(var r=new Set(e),u=new Set,c=0;c<=a;c+=1){var o=t.get(c)||new Set;o.forEach(function(f){var h=f.key,v=f.node,p=f.children,y=p===void 0?[]:p;r.has(h)&&!n(v)&&y.filter(function(m){return!n(m.node)}).forEach(function(m){r.add(m.key)})})}for(var l=new Set,i=a;i>=0;i-=1){var d=t.get(i)||new Set;d.forEach(function(f){var h=f.parent,v=f.node;if(!(n(v)||!f.parent||l.has(f.parent.key))){if(n(f.parent.node)){l.add(h.key);return}var p=!0,y=!1;(h.children||[]).filter(function(m){return!n(m.node)}).forEach(function(m){var C=m.key,N=r.has(C);p&&!N&&(p=!1),!y&&(N||u.has(C))&&(y=!0)}),p&&r.add(h.key),y&&u.add(h.key),l.add(h.key)}})}return{checkedKeys:Array.from(r),halfCheckedKeys:Array.from(sr(u,r))}}function Ii(e,t,a,n,r){for(var u=new Set(e),c=new Set(t),o=0;o<=n;o+=1){var l=a.get(o)||new Set;l.forEach(function(h){var v=h.key,p=h.node,y=h.children,m=y===void 0?[]:y;!u.has(v)&&!c.has(v)&&!r(p)&&m.filter(function(C){return!r(C.node)}).forEach(function(C){u.delete(C.key)})})}c=new Set;for(var i=new Set,d=n;d>=0;d-=1){var f=a.get(d)||new Set;f.forEach(function(h){var v=h.parent,p=h.node;if(!(r(p)||!h.parent||i.has(h.parent.key))){if(r(h.parent.node)){i.add(v.key);return}var y=!0,m=!1;(v.children||[]).filter(function(C){return!r(C.node)}).forEach(function(C){var N=C.key,S=u.has(N);y&&!S&&(y=!1),!m&&(S||c.has(N))&&(m=!0)}),y||u.delete(v.key),m&&c.add(v.key),i.add(v.key)}})}return{checkedKeys:Array.from(u),halfCheckedKeys:Array.from(sr(c,u))}}function Yt(e,t,a,n){var r=[],u;u=Di;var c=new Set(e.filter(function(d){var f=!!ft(a,d);return f||r.push(d),f})),o=new Map,l=0;Object.keys(a).forEach(function(d){var f=a[d],h=f.level,v=o.get(h);v||(v=new Set,o.set(h,v)),v.add(f),l=Math.max(l,h)}),Ot(!r.length,"Tree missing follow keys: ".concat(r.slice(0,100).map(function(d){return"'".concat(d,"'")}).join(", ")));var i;return t===!0?i=Ki(c,o,l,u):i=Ii(c,t.halfCheckedKeys,o,l,u),i}var Oi={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v224h704V96c0-17.7-14.3-32-32-32zM288 232c-22.1 0-40-17.9-40-40s17.9-40 40-40 40 17.9 40 40-17.9 40-40 40zM160 928c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V704H160v224zm128-136c22.1 0 40 17.9 40 40s-17.9 40-40 40-40-17.9-40-40 17.9-40 40-40zM160 640h704V384H160v256zm128-168c22.1 0 40 17.9 40 40s-17.9 40-40 40-40-17.9-40-40 17.9-40 40-40z"}}]},name:"database",theme:"filled"},Ti={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880.1 154H143.9c-24.5 0-39.8 26.7-27.5 48L349 597.4V838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V597.4L907.7 202c12.2-21.3-3.1-48-27.6-48zM603.4 798H420.6V642h182.9v156zm9.6-236.6l-9.5 16.6h-183l-9.5-16.6L212.7 226h598.6L613 561.4z"}}]},name:"filter",theme:"outlined"};function fn(){return fn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},fn.apply(null,arguments)}function Tn(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}function Pi(e){if(Array.isArray(e))return Tn(e)}function Ri(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Hn(e,t){if(e){if(typeof e=="string")return Tn(e,t);var a={}.toString.call(e).slice(8,-1);return a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set"?Array.from(e):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Tn(e,t):void 0}}function Mi(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rt(e){return Pi(e)||Ri(e)||Hn(e)||Mi()}function Ht(e){"@babel/helpers - typeof";return Ht=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ht(e)}function _i(e,t){if(Ht(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(Ht(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Li(e){var t=_i(e,"string");return Ht(t)=="symbol"?t:t+""}function ur(e,t,a){return(t=Li(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function da(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),a.push.apply(a,n)}return a}function mt(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?da(Object(a),!0).forEach(function(n){ur(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):da(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function ji(e){if(Array.isArray(e))return e}function Ai(e,t){var a=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(a!=null){var n,r,u,c,o=[],l=!0,i=!1;try{if(u=(a=a.call(e)).next,t===0){if(Object(a)!==a)return;l=!1}else for(;!(l=(n=u.call(a)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){i=!0,r=d}finally{try{if(!l&&a.return!=null&&(c=a.return(),Object(c)!==c))return}finally{if(i)throw r}}return o}}function $i(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bt(e,t){return ji(e)||Ai(e,t)||Hn(e,t)||$i()}function Vi(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;a[n]=e[n]}return a}function cr(e,t){if(e==null)return{};var a,n,r=Vi(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(n=0;n<u.length;n++)a=u[n],t.includes(a)||{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Fi(e){if(Array.isArray(e))return e}function Hi(e,t){var a=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(a!=null){var n,r,u,c,o=[],l=!0,i=!1;try{if(u=(a=a.call(e)).next,t!==0)for(;!(l=(n=u.call(a)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){i=!0,r=d}finally{try{if(!l&&a.return!=null&&(c=a.return(),Object(c)!==c))return}finally{if(i)throw r}}return o}}function fa(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function Wi(e,t){if(e){if(typeof e=="string")return fa(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return fa(e,t)}}function Bi(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pn(e,t){return Fi(e)||Hi(e,t)||Wi(e,t)||Bi()}function Rn(e){var t=s.useRef();t.current=e;var a=s.useCallback(function(){for(var n,r=arguments.length,u=new Array(r),c=0;c<r;c++)u[c]=arguments[c];return(n=t.current)===null||n===void 0?void 0:n.call.apply(n,[t].concat(u))},[]);return a}function zi(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var va=zi()?s.useLayoutEffect:s.useEffect,Gi=function(t,a){var n=s.useRef(!0);va(function(){return t(n.current)},a),va(function(){return n.current=!1,function(){n.current=!0}},[])},ma=function(t,a){Gi(function(n){if(!n)return t()},a)};function ga(e){var t=s.useRef(!1),a=s.useState(e),n=Pn(a,2),r=n[0],u=n[1];s.useEffect(function(){return t.current=!1,function(){t.current=!0}},[]);function c(o,l){l&&t.current||u(o)}return[r,c]}function Sn(e){return e!==void 0}function ha(e,t){var a=t||{},n=a.defaultValue,r=a.value,u=a.onChange,c=a.postState,o=ga(function(){return Sn(r)?r:Sn(n)?typeof n=="function"?n():n:typeof e=="function"?e():e}),l=Pn(o,2),i=l[0],d=l[1],f=r!==void 0?r:i,h=c?c(f):f,v=Rn(u),p=ga([f]),y=Pn(p,2),m=y[0],C=y[1];ma(function(){var S=m[0];i!==S&&v(i,S)},[m]),ma(function(){Sn(r)||d(r)},[r]);var N=Rn(function(S,x){d(S,x),C([f],x)});return[h,N]}var Mn={},Ui=function(t){};function qi(e,t){}function Yi(e,t){}function Xi(){Mn={}}function dr(e,t,a){!t&&!Mn[a]&&(e(!1,a),Mn[a]=!0)}function Wt(e,t){dr(qi,e,t)}function Ji(e,t){dr(Yi,e,t)}Wt.preMessage=Ui;Wt.resetWarned=Xi;Wt.noteOnce=Ji;const Qi=function(e){var t=s.useRef({valueLabels:new Map});return s.useMemo(function(){var a=t.current.valueLabels,n=new Map,r=e.map(function(u){var c=u.value,o=u.label,l=o??a.get(c);return n.set(c,l),mt(mt({},u),{},{label:l})});return t.current.valueLabels=n,[r]},[e])};var Zi=function(t,a,n,r){return s.useMemo(function(){var u=function(v){return v.map(function(p){var y=p.value;return y})},c=u(t),o=u(a),l=c.filter(function(h){return!r[h]}),i=c,d=o;if(n){var f=Yt(c,!0,r);i=f.checkedKeys,d=f.halfCheckedKeys}return[Array.from(new Set([].concat(Rt(l),Rt(i)))),d]},[t,a,n,r])},el=function(t){return Array.isArray(t)?t:t!==void 0?[t]:[]},tl=function(t){var a=t||{},n=a.label,r=a.value,u=a.children;return{_title:n?[n]:["title","label"],value:r||"value",key:r||"value",children:u||"children"}},_n=function(t){return!t||t.disabled||t.disableCheckbox||t.checkable===!1},nl=function(t,a){var n=[],r=function u(c){c.forEach(function(o){var l=o[a.children];l&&(n.push(o[a.value]),u(l))})};return r(t),n},pa=function(t){return t==null};const al=function(e,t){return s.useMemo(function(){var a=lr(e,{fieldNames:t,initWrapper:function(r){return mt(mt({},r),{},{valueEntities:new Map})},processEntity:function(r,u){var c=r.node[t.value];u.valueEntities.set(c,r)}});return a},[e,t])};function Ln(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=[];return we.Children.forEach(e,function(n){n==null&&!t.keepEmpty||(Array.isArray(n)?a=a.concat(Ln(n)):Ra.isFragment(n)&&n.props?a=a.concat(Ln(n.props.children,t)):a.push(n))}),a}var Wn=function(){return null},rl=["children","value"];function fr(e){return Ln(e).map(function(t){if(!s.isValidElement(t)||!t.type)return null;var a=t,n=a.key,r=a.props,u=r.children,c=r.value,o=cr(r,rl),l=mt({key:n,value:c},o),i=fr(u);return i.length&&(l.children=i),l}).filter(function(t){return t})}function jn(e){if(!e)return e;var t=mt({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return Wt(!1,"New `rc-tree-select` not support return node instance as argument anymore. Please consider to remove `props` access."),t}}),t}function ol(e,t,a,n,r,u){var c=null,o=null;function l(){function i(d){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"0",h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return d.map(function(v,p){var y="".concat(f,"-").concat(p),m=v[u.value],C=a.includes(m),N=i(v[u.children]||[],y,C),S=s.createElement(Wn,v,N.map(function(w){return w.node}));if(t===m&&(c=S),C){var x={pos:y,node:S,children:N};return h||o.push(x),x}return null}).filter(function(v){return v})}o||(o=[],i(n),o.sort(function(d,f){var h=d.node.props.value,v=f.node.props.value,p=a.indexOf(h),y=a.indexOf(v);return p-y}))}Object.defineProperty(e,"triggerNode",{get:function(){return Wt(!1,"`triggerNode` is deprecated. Please consider decoupling data with node."),l(),c}}),Object.defineProperty(e,"allCheckedNodes",{get:function(){return Wt(!1,"`allCheckedNodes` is deprecated. Please consider decoupling data with node."),l(),r?o:o.map(function(d){var f=d.node;return f})}})}var il=function(t,a,n){var r=n.fieldNames,u=n.treeNodeFilterProp,c=n.filterTreeNode,o=r.children;return s.useMemo(function(){if(!a||c===!1)return t;var l=typeof c=="function"?c:function(d,f){return String(f[u]).toUpperCase().includes(a.toUpperCase())},i=function d(f){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return f.reduce(function(v,p){var y=p[o],m=h||l(a,jn(p)),C=d(y||[],m);return(m||C.length)&&v.push(mt(mt({},p),{},ur({isLeaf:void 0},o,C))),v},[])};return i(t)},[t,a,o,u,c])};function ya(e){var t=s.useRef();t.current=e;var a=s.useCallback(function(){return t.current.apply(t,arguments)},[]);return a}function ll(e,t){var a=t.id,n=t.pId,r=t.rootPId,u=new Map,c=[];return e.forEach(function(o){var l=o[a],i=mt(mt({},o),{},{key:o.key||l});u.set(l,i)}),u.forEach(function(o){var l=o[n],i=u.get(l);i?(i.children=i.children||[],i.children.push(o)):(l===r||r===null)&&c.push(o)}),c}function sl(e,t,a){return s.useMemo(function(){if(e){if(a){var n=mt({id:"id",pId:"pId",rootPId:null},Ht(a)==="object"?a:{});return ll(e,n)}return e}return fr(t)},[t,a,e])}var vr=s.createContext(null);function ul(e,t){var a=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=Hn(e))||t){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(i){throw i},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,c=!0,o=!1;return{s:function(){a=a.call(e)},n:function(){var i=a.next();return c=i.done,i},e:function(i){o=!0,u=i},f:function(){try{c||a.return==null||a.return()}finally{if(o)throw u}}}}var Bn=s.createContext(null),mr=s.createContext({}),cl=function(t){var a=t.dropPosition,n=t.dropLevelOffset,r=t.indent,u={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(a){case-1:u.top=0,u.left=-n*r;break;case 1:u.bottom=0,u.left=-n*r;break;case 0:u.bottom=0,u.left=r;break}return we.createElement("div",{style:u})};function gr(e){if(e==null)throw new TypeError("Cannot destructure "+e)}var dl=function(t){for(var a=t.prefixCls,n=t.level,r=t.isStart,u=t.isEnd,c="".concat(a,"-indent-unit"),o=[],l=0;l<n;l+=1)o.push(s.createElement("span",{key:l,className:nt(c,E(E({},"".concat(c,"-start"),r[l]),"".concat(c,"-end"),u[l]))}));return s.createElement("span",{"aria-hidden":"true",className:"".concat(a,"-indent")},o)};const fl=s.memo(dl);var vl=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],ba="open",Ca="close",ml="---",vn=function(t){var a,n,r=t.eventKey,u=t.className,c=t.style,o=t.dragOver,l=t.dragOverGapTop,i=t.dragOverGapBottom,d=t.isLeaf,f=t.isStart,h=t.isEnd,v=t.expanded,p=t.selected,y=t.checked,m=t.halfChecked,C=t.loading,N=t.domRef,S=t.active,x=t.data,w=t.onMouseMove,k=t.selectable,K=Et(t,vl),g=we.useContext(Bn),D=we.useContext(mr),R=we.useRef(null),P=we.useState(!1),L=Re(P,2),$=L[0],I=L[1],M=we.useMemo(function(){var B;return!!(g.disabled||t.disabled||(B=D.nodeDisabled)!==null&&B!==void 0&&B.call(D,x))},[g.disabled,t.disabled,D.nodeDisabled,x]),H=we.useMemo(function(){return!g.checkable||t.checkable===!1?!1:g.checkable},[g.checkable,t.checkable]),U=function(O){M||g.onNodeSelect(O,Xe(t))},F=function(O){M||!H||t.disableCheckbox||g.onNodeCheck(O,Xe(t),!y)},Q=we.useMemo(function(){return typeof k=="boolean"?k:g.selectable},[k,g.selectable]),Y=function(O){g.onNodeClick(O,Xe(t)),Q?U(O):F(O)},ve=function(O){g.onNodeDoubleClick(O,Xe(t))},Ie=function(O){g.onNodeMouseEnter(O,Xe(t))},xe=function(O){g.onNodeMouseLeave(O,Xe(t))},me=function(O){g.onNodeContextMenu(O,Xe(t))},ge=we.useMemo(function(){return!!(g.draggable&&(!g.draggable.nodeDraggable||g.draggable.nodeDraggable(x)))},[g.draggable,x]),Ue=function(O){O.stopPropagation(),I(!0),g.onNodeDragStart(O,t);try{O.dataTransfer.setData("text/plain","")}catch{}},ae=function(O){O.preventDefault(),O.stopPropagation(),g.onNodeDragEnter(O,t)},Te=function(O){O.preventDefault(),O.stopPropagation(),g.onNodeDragOver(O,t)},Fe=function(O){O.stopPropagation(),g.onNodeDragLeave(O,t)},ne=function(O){O.stopPropagation(),I(!1),g.onNodeDragEnd(O,t)},j=function(O){O.preventDefault(),O.stopPropagation(),I(!1),g.onNodeDrop(O,t)},T=function(O){C||g.onNodeExpand(O,Xe(t))},V=we.useMemo(function(){var B=ft(g.keyEntities,r)||{},O=B.children;return!!(O||[]).length},[g.keyEntities,r]),W=we.useMemo(function(){return d===!1?!1:d||!g.loadData&&!V||g.loadData&&t.loaded&&!V},[d,g.loadData,V,t.loaded]);we.useEffect(function(){C||typeof g.loadData=="function"&&v&&!W&&!t.loaded&&g.onNodeLoad(Xe(t))},[C,g.loadData,g.onNodeLoad,v,W,t]);var _=we.useMemo(function(){var B;return(B=g.draggable)!==null&&B!==void 0&&B.icon?we.createElement("span",{className:"".concat(g.prefixCls,"-draggable-icon")},g.draggable.icon):null},[g.draggable]),G=function(O){var He=t.switcherIcon||g.switcherIcon;return typeof He=="function"?He(se(se({},t),{},{isLeaf:O})):He},le=function(){if(W){var O=G(!0);return O!==!1?we.createElement("span",{className:nt("".concat(g.prefixCls,"-switcher"),"".concat(g.prefixCls,"-switcher-noop"))},O):null}var He=G(!1);return He!==!1?we.createElement("span",{onClick:T,className:nt("".concat(g.prefixCls,"-switcher"),"".concat(g.prefixCls,"-switcher_").concat(v?ba:Ca))},He):null},ue=we.useMemo(function(){if(!H)return null;var B=typeof H!="boolean"?H:null;return we.createElement("span",{className:nt("".concat(g.prefixCls,"-checkbox"),E(E(E({},"".concat(g.prefixCls,"-checkbox-checked"),y),"".concat(g.prefixCls,"-checkbox-indeterminate"),!y&&m),"".concat(g.prefixCls,"-checkbox-disabled"),M||t.disableCheckbox)),onClick:F,role:"checkbox","aria-checked":m?"mixed":y,"aria-disabled":M||t.disableCheckbox,"aria-label":"Select ".concat(typeof t.title=="string"?t.title:"tree node")},B)},[H,y,m,M,t.disableCheckbox,t.title]),re=we.useMemo(function(){return W?null:v?ba:Ca},[W,v]),Ee=we.useMemo(function(){return we.createElement("span",{className:nt("".concat(g.prefixCls,"-iconEle"),"".concat(g.prefixCls,"-icon__").concat(re||"docu"),E({},"".concat(g.prefixCls,"-icon_loading"),C))})},[g.prefixCls,re,C]),ee=we.useMemo(function(){var B=!!g.draggable,O=!t.disabled&&B&&g.dragOverNodeKey===r;return O?g.dropIndicatorRender({dropPosition:g.dropPosition,dropLevelOffset:g.dropLevelOffset,indent:g.indent,prefixCls:g.prefixCls,direction:g.direction}):null},[g.dropPosition,g.dropLevelOffset,g.indent,g.prefixCls,g.direction,g.draggable,g.dragOverNodeKey,g.dropIndicatorRender]),Pe=we.useMemo(function(){var B=t.title,O=B===void 0?ml:B,He="".concat(g.prefixCls,"-node-content-wrapper"),We;if(g.showIcon){var ze=t.icon||g.icon;We=ze?we.createElement("span",{className:nt("".concat(g.prefixCls,"-iconEle"),"".concat(g.prefixCls,"-icon__customize"))},typeof ze=="function"?ze(t):ze):Ee}else g.loadData&&C&&(We=Ee);var Ne;return typeof O=="function"?Ne=O(x):g.titleRender?Ne=g.titleRender(x):Ne=O,we.createElement("span",{ref:R,title:typeof O=="string"?O:"",className:nt(He,"".concat(He,"-").concat(re||"normal"),E({},"".concat(g.prefixCls,"-node-selected"),!M&&(p||$))),onMouseEnter:Ie,onMouseLeave:xe,onContextMenu:me,onClick:Y,onDoubleClick:ve},We,we.createElement("span",{className:"".concat(g.prefixCls,"-title")},Ne),ee)},[g.prefixCls,g.showIcon,t,g.icon,Ee,g.titleRender,x,re,Ie,xe,me,Y,ve]),he=Xt(K,{aria:!0,data:!0}),ye=ft(g.keyEntities,r)||{},Be=ye.level,_e=h[h.length-1],ke=!M&&ge,pe=g.draggingNodeKey===r,te=k!==void 0?{"aria-selected":!!k}:void 0;return we.createElement("div",ot({ref:N,role:"treeitem","aria-expanded":d?void 0:v,className:nt(u,"".concat(g.prefixCls,"-treenode"),(n={},E(E(E(E(E(E(E(E(E(E(n,"".concat(g.prefixCls,"-treenode-disabled"),M),"".concat(g.prefixCls,"-treenode-switcher-").concat(v?"open":"close"),!d),"".concat(g.prefixCls,"-treenode-checkbox-checked"),y),"".concat(g.prefixCls,"-treenode-checkbox-indeterminate"),m),"".concat(g.prefixCls,"-treenode-selected"),p),"".concat(g.prefixCls,"-treenode-loading"),C),"".concat(g.prefixCls,"-treenode-active"),S),"".concat(g.prefixCls,"-treenode-leaf-last"),_e),"".concat(g.prefixCls,"-treenode-draggable"),ge),"dragging",pe),E(E(E(E(E(E(E(n,"drop-target",g.dropTargetKey===r),"drop-container",g.dropContainerKey===r),"drag-over",!M&&o),"drag-over-gap-top",!M&&l),"drag-over-gap-bottom",!M&&i),"filter-node",(a=g.filterTreeNode)===null||a===void 0?void 0:a.call(g,Xe(t))),"".concat(g.prefixCls,"-treenode-leaf"),W))),style:c,draggable:ke,onDragStart:ke?Ue:void 0,onDragEnter:ge?ae:void 0,onDragOver:ge?Te:void 0,onDragLeave:ge?Fe:void 0,onDrop:ge?j:void 0,onDragEnd:ge?ne:void 0,onMouseMove:w},te,he),we.createElement(fl,{prefixCls:g.prefixCls,level:Be,isStart:f,isEnd:h}),_,le(),ue,Pe)};vn.isTreeNode=1;function gl(e,t){var a=s.useState(!1),n=Re(a,2),r=n[0],u=n[1];en(function(){if(r)return e(),function(){t()}},[r]),en(function(){return u(!0),function(){u(!1)}},[])}var hl=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],pl=s.forwardRef(function(e,t){var a=e.className,n=e.style,r=e.motion,u=e.motionNodes,c=e.motionType,o=e.onMotionStart,l=e.onMotionEnd,i=e.active,d=e.treeNodeRequiredProps,f=Et(e,hl),h=s.useState(!0),v=Re(h,2),p=v[0],y=v[1],m=s.useContext(Bn),C=m.prefixCls,N=u&&c!=="hide";en(function(){u&&N!==p&&y(N)},[u]);var S=function(){u&&o()},x=s.useRef(!1),w=function(){u&&!x.current&&(x.current=!0,l())};gl(S,w);var k=function(g){N===g&&w()};return u?s.createElement(Kr,ot({ref:t,visible:p},r,{motionAppear:c==="show",onVisibleChanged:k}),function(K,g){var D=K.className,R=K.style;return s.createElement("div",{ref:g,className:nt("".concat(C,"-treenode-motion"),D),style:R},u.map(function(P){var L=Object.assign({},(gr(P.data),P.data)),$=P.title,I=P.key,M=P.isStart,H=P.isEnd;delete L.children;var U=Zt(I,d);return s.createElement(vn,ot({},L,U,{title:$,active:i,data:P.data,key:I,isStart:M,isEnd:H}))}))}):s.createElement(vn,ot({domRef:t,className:a,style:n},f,{active:i}))});function yl(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=e.length,n=t.length;if(Math.abs(a-n)!==1)return{add:!1,key:null};function r(u,c){var o=new Map;u.forEach(function(i){o.set(i,!0)});var l=c.filter(function(i){return!o.has(i)});return l.length===1?l[0]:null}return a<n?{add:!0,key:r(e,t)}:{add:!1,key:r(t,e)}}function Sa(e,t,a){var n=e.findIndex(function(o){return o.key===a}),r=e[n+1],u=t.findIndex(function(o){return o.key===a});if(r){var c=t.findIndex(function(o){return o.key===r.key});return t.slice(u+1,c)}return t.slice(u+1)}var bl=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","scrollWidth","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],xa={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Cl=function(){},Bt="RC_TREE_MOTION_".concat(Math.random()),An={key:Bt},hr={key:Bt,level:0,index:0,pos:"0",node:An,nodes:[An]},wa={parent:null,children:[],pos:hr.pos,data:An,title:null,key:Bt,isStart:[],isEnd:[]};function Ea(e,t,a,n){return t===!1||!a?e:e.slice(0,Math.ceil(a/n)+1)}function Na(e){var t=e.key,a=e.pos;return nn(t,a)}function Sl(e){for(var t=String(e.data.key),a=e;a.parent;)a=a.parent,t="".concat(a.data.key," > ").concat(t);return t}var xl=s.forwardRef(function(e,t){var a=e.prefixCls,n=e.data;e.selectable,e.checkable;var r=e.expandedKeys,u=e.selectedKeys,c=e.checkedKeys,o=e.loadedKeys,l=e.loadingKeys,i=e.halfCheckedKeys,d=e.keyEntities,f=e.disabled,h=e.dragging,v=e.dragOverNodeKey,p=e.dropPosition,y=e.motion,m=e.height,C=e.itemHeight,N=e.virtual,S=e.scrollWidth,x=e.focusable,w=e.activeItem,k=e.focused,K=e.tabIndex,g=e.onKeyDown,D=e.onFocus,R=e.onBlur,P=e.onActiveChange,L=e.onListChangeStart,$=e.onListChangeEnd,I=Et(e,bl),M=s.useRef(null),H=s.useRef(null);s.useImperativeHandle(t,function(){return{scrollTo:function(Pe){M.current.scrollTo(Pe)},getIndentWidth:function(){return H.current.offsetWidth}}});var U=s.useState(r),F=Re(U,2),Q=F[0],Y=F[1],ve=s.useState(n),Ie=Re(ve,2),xe=Ie[0],me=Ie[1],ge=s.useState(n),Ue=Re(ge,2),ae=Ue[0],Te=Ue[1],Fe=s.useState([]),ne=Re(Fe,2),j=ne[0],T=ne[1],V=s.useState(null),W=Re(V,2),_=W[0],G=W[1],le=s.useRef(n);le.current=n;function ue(){var ee=le.current;me(ee),Te(ee),T([]),G(null),$()}en(function(){Y(r);var ee=yl(Q,r);if(ee.key!==null)if(ee.add){var Pe=xe.findIndex(function(pe){var te=pe.key;return te===ee.key}),he=Ea(Sa(xe,n,ee.key),N,m,C),ye=xe.slice();ye.splice(Pe+1,0,wa),Te(ye),T(he),G("show")}else{var Be=n.findIndex(function(pe){var te=pe.key;return te===ee.key}),_e=Ea(Sa(n,xe,ee.key),N,m,C),ke=n.slice();ke.splice(Be+1,0,wa),Te(ke),T(_e),G("hide")}else xe!==n&&(me(n),Te(n))},[r,n]),s.useEffect(function(){h||ue()},[h]);var re=y?ae:n,Ee={expandedKeys:r,selectedKeys:u,loadedKeys:o,loadingKeys:l,checkedKeys:c,halfCheckedKeys:i,dragOverNodeKey:v,dropPosition:p,keyEntities:d};return s.createElement(s.Fragment,null,k&&w&&s.createElement("span",{style:xa,"aria-live":"assertive"},Sl(w)),s.createElement("div",null,s.createElement("input",{style:xa,disabled:x===!1||f,tabIndex:x!==!1?K:null,onKeyDown:g,onFocus:D,onBlur:R,value:"",onChange:Cl,"aria-label":"for screen reader"})),s.createElement("div",{className:"".concat(a,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},s.createElement("div",{className:"".concat(a,"-indent")},s.createElement("div",{ref:H,className:"".concat(a,"-indent-unit")}))),s.createElement(za,ot({},I,{data:re,itemKey:Na,height:m,fullHeight:!1,virtual:N,itemHeight:C,scrollWidth:S,prefixCls:"".concat(a,"-list"),ref:M,role:"tree",onVisibleChange:function(Pe){Pe.every(function(he){return Na(he)!==Bt})&&ue()}}),function(ee){var Pe=ee.pos,he=Object.assign({},(gr(ee.data),ee.data)),ye=ee.title,Be=ee.key,_e=ee.isStart,ke=ee.isEnd,pe=nn(Be,Pe);delete he.key,delete he.children;var te=Zt(pe,Ee);return s.createElement(pl,ot({},he,te,{title:ye,active:!!w&&Be===w.key,pos:Pe,data:ee.data,isStart:_e,isEnd:ke,motion:y,motionNodes:Be===Bt?j:null,motionType:_,onMotionStart:L,onMotionEnd:ue,treeNodeRequiredProps:Ee,onMouseMove:function(){P(null)}}))}))});function It(e,t){if(!e)return[];var a=e.slice(),n=a.indexOf(t);return n>=0&&a.splice(n,1),a}function Pt(e,t){var a=(e||[]).slice();return a.indexOf(t)===-1&&a.push(t),a}function zn(e){return e.split("-")}function wl(e,t){var a=[],n=ft(t,e);function r(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];u.forEach(function(c){var o=c.key,l=c.children;a.push(o),r(l)})}return r(n.children),a}function El(e){if(e.parent){var t=zn(e.pos);return Number(t[t.length-1])===e.parent.children.length-1}return!1}function Nl(e){var t=zn(e.pos);return Number(t[t.length-1])===0}function ka(e,t,a,n,r,u,c,o,l,i){var d,f=e.clientX,h=e.clientY,v=e.target.getBoundingClientRect(),p=v.top,y=v.height,m=(i==="rtl"?-1:1)*(((r==null?void 0:r.x)||0)-f),C=(m-12)/n,N=l.filter(function(H){var U;return(U=o[H])===null||U===void 0||(U=U.children)===null||U===void 0?void 0:U.length}),S=ft(o,a.eventKey);if(h<p+y/2){var x=c.findIndex(function(H){return H.key===S.key}),w=x<=0?0:x-1,k=c[w].key;S=ft(o,k)}var K=S.key,g=S,D=S.key,R=0,P=0;if(!N.includes(K))for(var L=0;L<C&&El(S);L+=1)S=S.parent,P+=1;var $=t.data,I=S.node,M=!0;return Nl(S)&&S.level===0&&h<p+y/2&&u({dragNode:$,dropNode:I,dropPosition:-1})&&S.key===a.eventKey?R=-1:(g.children||[]).length&&N.includes(D)?u({dragNode:$,dropNode:I,dropPosition:0})?R=0:M=!1:P===0?C>-1.5?u({dragNode:$,dropNode:I,dropPosition:1})?R=1:M=!1:u({dragNode:$,dropNode:I,dropPosition:0})?R=0:u({dragNode:$,dropNode:I,dropPosition:1})?R=1:M=!1:u({dragNode:$,dropNode:I,dropPosition:1})?R=1:M=!1,{dropPosition:R,dropLevelOffset:P,dropTargetKey:S.key,dropTargetPos:S.pos,dragOverNodeKey:D,dropContainerKey:R===0?null:((d=S.parent)===null||d===void 0?void 0:d.key)||null,dropAllowed:M}}function Da(e,t){if(e){var a=t.multiple;return a?e.slice():e.length?[e[0]]:e}}function xn(e){if(!e)return null;var t;if(Array.isArray(e))t={checkedKeys:e,halfCheckedKeys:void 0};else if(zt(e)==="object")t={checkedKeys:e.checked||void 0,halfCheckedKeys:e.halfChecked||void 0};else return Ot(!1,"`checkedKeys` is not an array or an object"),null;return t}function Ka(e,t){var a=new Set;function n(r){if(!a.has(r)){var u=ft(t,r);if(u){a.add(r);var c=u.parent,o=u.node;o.disabled||c&&n(c.key)}}}return(e||[]).forEach(function(r){n(r)}),Je(a)}var kl=10,Gn=function(e){Ir(a,e);var t=Or(a);function a(){var n;Tr(this,a);for(var r=arguments.length,u=new Array(r),c=0;c<r;c++)u[c]=arguments[c];return n=t.call.apply(t,[this].concat(u)),E(ce(n),"destroyed",!1),E(ce(n),"delayedDragEnterLogic",void 0),E(ce(n),"loadingRetryTimes",{}),E(ce(n),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:dn()}),E(ce(n),"dragStartMousePosition",null),E(ce(n),"dragNodeProps",null),E(ce(n),"currentMouseOverDroppableNodeKey",null),E(ce(n),"listRef",s.createRef()),E(ce(n),"onNodeDragStart",function(o,l){var i=n.state,d=i.expandedKeys,f=i.keyEntities,h=n.props.onDragStart,v=l.eventKey;n.dragNodeProps=l,n.dragStartMousePosition={x:o.clientX,y:o.clientY};var p=It(d,v);n.setState({draggingNodeKey:v,dragChildrenKeys:wl(v,f),indent:n.listRef.current.getIndentWidth()}),n.setExpandedKeys(p),window.addEventListener("dragend",n.onWindowDragEnd),h==null||h({event:o,node:Xe(l)})}),E(ce(n),"onNodeDragEnter",function(o,l){var i=n.state,d=i.expandedKeys,f=i.keyEntities,h=i.dragChildrenKeys,v=i.flattenNodes,p=i.indent,y=n.props,m=y.onDragEnter,C=y.onExpand,N=y.allowDrop,S=y.direction,x=l.pos,w=l.eventKey;if(n.currentMouseOverDroppableNodeKey!==w&&(n.currentMouseOverDroppableNodeKey=w),!n.dragNodeProps){n.resetDragState();return}var k=ka(o,n.dragNodeProps,l,p,n.dragStartMousePosition,N,v,f,d,S),K=k.dropPosition,g=k.dropLevelOffset,D=k.dropTargetKey,R=k.dropContainerKey,P=k.dropTargetPos,L=k.dropAllowed,$=k.dragOverNodeKey;if(h.includes(D)||!L){n.resetDragState();return}if(n.delayedDragEnterLogic||(n.delayedDragEnterLogic={}),Object.keys(n.delayedDragEnterLogic).forEach(function(I){clearTimeout(n.delayedDragEnterLogic[I])}),n.dragNodeProps.eventKey!==l.eventKey&&(o.persist(),n.delayedDragEnterLogic[x]=window.setTimeout(function(){if(n.state.draggingNodeKey!==null){var I=Je(d),M=ft(f,l.eventKey);M&&(M.children||[]).length&&(I=Pt(d,l.eventKey)),n.props.hasOwnProperty("expandedKeys")||n.setExpandedKeys(I),C==null||C(I,{node:Xe(l),expanded:!0,nativeEvent:o.nativeEvent})}},800)),n.dragNodeProps.eventKey===D&&g===0){n.resetDragState();return}n.setState({dragOverNodeKey:$,dropPosition:K,dropLevelOffset:g,dropTargetKey:D,dropContainerKey:R,dropTargetPos:P,dropAllowed:L}),m==null||m({event:o,node:Xe(l),expandedKeys:d})}),E(ce(n),"onNodeDragOver",function(o,l){var i=n.state,d=i.dragChildrenKeys,f=i.flattenNodes,h=i.keyEntities,v=i.expandedKeys,p=i.indent,y=n.props,m=y.onDragOver,C=y.allowDrop,N=y.direction;if(n.dragNodeProps){var S=ka(o,n.dragNodeProps,l,p,n.dragStartMousePosition,C,f,h,v,N),x=S.dropPosition,w=S.dropLevelOffset,k=S.dropTargetKey,K=S.dropContainerKey,g=S.dropTargetPos,D=S.dropAllowed,R=S.dragOverNodeKey;d.includes(k)||!D||(n.dragNodeProps.eventKey===k&&w===0?n.state.dropPosition===null&&n.state.dropLevelOffset===null&&n.state.dropTargetKey===null&&n.state.dropContainerKey===null&&n.state.dropTargetPos===null&&n.state.dropAllowed===!1&&n.state.dragOverNodeKey===null||n.resetDragState():x===n.state.dropPosition&&w===n.state.dropLevelOffset&&k===n.state.dropTargetKey&&K===n.state.dropContainerKey&&g===n.state.dropTargetPos&&D===n.state.dropAllowed&&R===n.state.dragOverNodeKey||n.setState({dropPosition:x,dropLevelOffset:w,dropTargetKey:k,dropContainerKey:K,dropTargetPos:g,dropAllowed:D,dragOverNodeKey:R}),m==null||m({event:o,node:Xe(l)}))}}),E(ce(n),"onNodeDragLeave",function(o,l){n.currentMouseOverDroppableNodeKey===l.eventKey&&!o.currentTarget.contains(o.relatedTarget)&&(n.resetDragState(),n.currentMouseOverDroppableNodeKey=null);var i=n.props.onDragLeave;i==null||i({event:o,node:Xe(l)})}),E(ce(n),"onWindowDragEnd",function(o){n.onNodeDragEnd(o,null,!0),window.removeEventListener("dragend",n.onWindowDragEnd)}),E(ce(n),"onNodeDragEnd",function(o,l){var i=n.props.onDragEnd;n.setState({dragOverNodeKey:null}),n.cleanDragState(),i==null||i({event:o,node:Xe(l)}),n.dragNodeProps=null,window.removeEventListener("dragend",n.onWindowDragEnd)}),E(ce(n),"onNodeDrop",function(o,l){var i,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,f=n.state,h=f.dragChildrenKeys,v=f.dropPosition,p=f.dropTargetKey,y=f.dropTargetPos,m=f.dropAllowed;if(m){var C=n.props.onDrop;if(n.setState({dragOverNodeKey:null}),n.cleanDragState(),p!==null){var N=se(se({},Zt(p,n.getTreeNodeRequiredProps())),{},{active:((i=n.getActiveItem())===null||i===void 0?void 0:i.key)===p,data:ft(n.state.keyEntities,p).node}),S=h.includes(p);Ot(!S,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var x=zn(y),w={event:o,node:Xe(N),dragNode:n.dragNodeProps?Xe(n.dragNodeProps):null,dragNodesKeys:[n.dragNodeProps.eventKey].concat(h),dropToGap:v!==0,dropPosition:v+Number(x[x.length-1])};d||C==null||C(w),n.dragNodeProps=null}}}),E(ce(n),"cleanDragState",function(){var o=n.state.draggingNodeKey;o!==null&&n.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),n.dragStartMousePosition=null,n.currentMouseOverDroppableNodeKey=null}),E(ce(n),"triggerExpandActionExpand",function(o,l){var i=n.state,d=i.expandedKeys,f=i.flattenNodes,h=l.expanded,v=l.key,p=l.isLeaf;if(!(p||o.shiftKey||o.metaKey||o.ctrlKey)){var y=f.filter(function(C){return C.key===v})[0],m=Xe(se(se({},Zt(v,n.getTreeNodeRequiredProps())),{},{data:y.data}));n.setExpandedKeys(h?It(d,v):Pt(d,v)),n.onNodeExpand(o,m)}}),E(ce(n),"onNodeClick",function(o,l){var i=n.props,d=i.onClick,f=i.expandAction;f==="click"&&n.triggerExpandActionExpand(o,l),d==null||d(o,l)}),E(ce(n),"onNodeDoubleClick",function(o,l){var i=n.props,d=i.onDoubleClick,f=i.expandAction;f==="doubleClick"&&n.triggerExpandActionExpand(o,l),d==null||d(o,l)}),E(ce(n),"onNodeSelect",function(o,l){var i=n.state.selectedKeys,d=n.state,f=d.keyEntities,h=d.fieldNames,v=n.props,p=v.onSelect,y=v.multiple,m=l.selected,C=l[h.key],N=!m;N?y?i=Pt(i,C):i=[C]:i=It(i,C);var S=i.map(function(x){var w=ft(f,x);return w?w.node:null}).filter(Boolean);n.setUncontrolledState({selectedKeys:i}),p==null||p(i,{event:"select",selected:N,node:l,selectedNodes:S,nativeEvent:o.nativeEvent})}),E(ce(n),"onNodeCheck",function(o,l,i){var d=n.state,f=d.keyEntities,h=d.checkedKeys,v=d.halfCheckedKeys,p=n.props,y=p.checkStrictly,m=p.onCheck,C=l.key,N,S={event:"check",node:l,checked:i,nativeEvent:o.nativeEvent};if(y){var x=i?Pt(h,C):It(h,C),w=It(v,C);N={checked:x,halfChecked:w},S.checkedNodes=x.map(function(P){return ft(f,P)}).filter(Boolean).map(function(P){return P.node}),n.setUncontrolledState({checkedKeys:x})}else{var k=Yt([].concat(Je(h),[C]),!0,f),K=k.checkedKeys,g=k.halfCheckedKeys;if(!i){var D=new Set(K);D.delete(C);var R=Yt(Array.from(D),{halfCheckedKeys:g},f);K=R.checkedKeys,g=R.halfCheckedKeys}N=K,S.checkedNodes=[],S.checkedNodesPositions=[],S.halfCheckedKeys=g,K.forEach(function(P){var L=ft(f,P);if(L){var $=L.node,I=L.pos;S.checkedNodes.push($),S.checkedNodesPositions.push({node:$,pos:I})}}),n.setUncontrolledState({checkedKeys:K},!1,{halfCheckedKeys:g})}m==null||m(N,S)}),E(ce(n),"onNodeLoad",function(o){var l,i=o.key,d=n.state.keyEntities,f=ft(d,i);if(!(f!=null&&(l=f.children)!==null&&l!==void 0&&l.length)){var h=new Promise(function(v,p){n.setState(function(y){var m=y.loadedKeys,C=m===void 0?[]:m,N=y.loadingKeys,S=N===void 0?[]:N,x=n.props,w=x.loadData,k=x.onLoad;if(!w||C.includes(i)||S.includes(i))return null;var K=w(o);return K.then(function(){var g=n.state.loadedKeys,D=Pt(g,i);k==null||k(D,{event:"load",node:o}),n.setUncontrolledState({loadedKeys:D}),n.setState(function(R){return{loadingKeys:It(R.loadingKeys,i)}}),v()}).catch(function(g){if(n.setState(function(R){return{loadingKeys:It(R.loadingKeys,i)}}),n.loadingRetryTimes[i]=(n.loadingRetryTimes[i]||0)+1,n.loadingRetryTimes[i]>=kl){var D=n.state.loadedKeys;Ot(!1,"Retry for `loadData` many times but still failed. No more retry."),n.setUncontrolledState({loadedKeys:Pt(D,i)}),v()}p(g)}),{loadingKeys:Pt(S,i)}})});return h.catch(function(){}),h}}),E(ce(n),"onNodeMouseEnter",function(o,l){var i=n.props.onMouseEnter;i==null||i({event:o,node:l})}),E(ce(n),"onNodeMouseLeave",function(o,l){var i=n.props.onMouseLeave;i==null||i({event:o,node:l})}),E(ce(n),"onNodeContextMenu",function(o,l){var i=n.props.onRightClick;i&&(o.preventDefault(),i({event:o,node:l}))}),E(ce(n),"onFocus",function(){var o=n.props.onFocus;n.setState({focused:!0});for(var l=arguments.length,i=new Array(l),d=0;d<l;d++)i[d]=arguments[d];o==null||o.apply(void 0,i)}),E(ce(n),"onBlur",function(){var o=n.props.onBlur;n.setState({focused:!1}),n.onActiveChange(null);for(var l=arguments.length,i=new Array(l),d=0;d<l;d++)i[d]=arguments[d];o==null||o.apply(void 0,i)}),E(ce(n),"getTreeNodeRequiredProps",function(){var o=n.state,l=o.expandedKeys,i=o.selectedKeys,d=o.loadedKeys,f=o.loadingKeys,h=o.checkedKeys,v=o.halfCheckedKeys,p=o.dragOverNodeKey,y=o.dropPosition,m=o.keyEntities;return{expandedKeys:l||[],selectedKeys:i||[],loadedKeys:d||[],loadingKeys:f||[],checkedKeys:h||[],halfCheckedKeys:v||[],dragOverNodeKey:p,dropPosition:y,keyEntities:m}}),E(ce(n),"setExpandedKeys",function(o){var l=n.state,i=l.treeData,d=l.fieldNames,f=Cn(i,o,d);n.setUncontrolledState({expandedKeys:o,flattenNodes:f},!0)}),E(ce(n),"onNodeExpand",function(o,l){var i=n.state.expandedKeys,d=n.state,f=d.listChanging,h=d.fieldNames,v=n.props,p=v.onExpand,y=v.loadData,m=l.expanded,C=l[h.key];if(!f){var N=i.includes(C),S=!m;if(Ot(m&&N||!m&&!N,"Expand state not sync with index check"),i=S?Pt(i,C):It(i,C),n.setExpandedKeys(i),p==null||p(i,{node:l,expanded:S,nativeEvent:o.nativeEvent}),S&&y){var x=n.onNodeLoad(l);x&&x.then(function(){var w=Cn(n.state.treeData,i,h);n.setUncontrolledState({flattenNodes:w})}).catch(function(){var w=n.state.expandedKeys,k=It(w,C);n.setExpandedKeys(k)})}}}),E(ce(n),"onListChangeStart",function(){n.setUncontrolledState({listChanging:!0})}),E(ce(n),"onListChangeEnd",function(){setTimeout(function(){n.setUncontrolledState({listChanging:!1})})}),E(ce(n),"onActiveChange",function(o){var l=n.state.activeKey,i=n.props,d=i.onActiveChange,f=i.itemScrollOffset,h=f===void 0?0:f;l!==o&&(n.setState({activeKey:o}),o!==null&&n.scrollTo({key:o,offset:h}),d==null||d(o))}),E(ce(n),"getActiveItem",function(){var o=n.state,l=o.activeKey,i=o.flattenNodes;return l===null?null:i.find(function(d){var f=d.key;return f===l})||null}),E(ce(n),"offsetActiveKey",function(o){var l=n.state,i=l.flattenNodes,d=l.activeKey,f=i.findIndex(function(p){var y=p.key;return y===d});f===-1&&o<0&&(f=i.length),f=(f+o+i.length)%i.length;var h=i[f];if(h){var v=h.key;n.onActiveChange(v)}else n.onActiveChange(null)}),E(ce(n),"onKeyDown",function(o){var l=n.state,i=l.activeKey,d=l.expandedKeys,f=l.checkedKeys,h=l.fieldNames,v=n.props,p=v.onKeyDown,y=v.checkable,m=v.selectable;switch(o.which){case J.UP:{n.offsetActiveKey(-1),o.preventDefault();break}case J.DOWN:{n.offsetActiveKey(1),o.preventDefault();break}}var C=n.getActiveItem();if(C&&C.data){var N=n.getTreeNodeRequiredProps(),S=C.data.isLeaf===!1||!!(C.data[h.children]||[]).length,x=Xe(se(se({},Zt(i,N)),{},{data:C.data,active:!0}));switch(o.which){case J.LEFT:{S&&d.includes(i)?n.onNodeExpand({},x):C.parent&&n.onActiveChange(C.parent.key),o.preventDefault();break}case J.RIGHT:{S&&!d.includes(i)?n.onNodeExpand({},x):C.children&&C.children.length&&n.onActiveChange(C.children[0].key),o.preventDefault();break}case J.ENTER:case J.SPACE:{y&&!x.disabled&&x.checkable!==!1&&!x.disableCheckbox?n.onNodeCheck({},x,!f.includes(i)):!y&&m&&!x.disabled&&x.selectable!==!1&&n.onNodeSelect({},x);break}}}p==null||p(o)}),E(ce(n),"setUncontrolledState",function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!n.destroyed){var d=!1,f=!0,h={};Object.keys(o).forEach(function(v){if(n.props.hasOwnProperty(v)){f=!1;return}d=!0,h[v]=o[v]}),d&&(!l||f)&&n.setState(se(se({},h),i))}}),E(ce(n),"scrollTo",function(o){n.listRef.current.scrollTo(o)}),n}return Pr(a,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var r=this.props,u=r.activeKey,c=r.itemScrollOffset,o=c===void 0?0:c;u!==void 0&&u!==this.state.activeKey&&(this.setState({activeKey:u}),u!==null&&this.scrollTo({key:u,offset:o}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var r=this.state,u=r.focused,c=r.flattenNodes,o=r.keyEntities,l=r.draggingNodeKey,i=r.activeKey,d=r.dropLevelOffset,f=r.dropContainerKey,h=r.dropTargetKey,v=r.dropPosition,p=r.dragOverNodeKey,y=r.indent,m=this.props,C=m.prefixCls,N=m.className,S=m.style,x=m.showLine,w=m.focusable,k=m.tabIndex,K=k===void 0?0:k,g=m.selectable,D=m.showIcon,R=m.icon,P=m.switcherIcon,L=m.draggable,$=m.checkable,I=m.checkStrictly,M=m.disabled,H=m.motion,U=m.loadData,F=m.filterTreeNode,Q=m.height,Y=m.itemHeight,ve=m.scrollWidth,Ie=m.virtual,xe=m.titleRender,me=m.dropIndicatorRender,ge=m.onContextMenu,Ue=m.onScroll,ae=m.direction,Te=m.rootClassName,Fe=m.rootStyle,ne=Xt(this.props,{aria:!0,data:!0}),j;L&&(zt(L)==="object"?j=L:typeof L=="function"?j={nodeDraggable:L}:j={});var T={prefixCls:C,selectable:g,showIcon:D,icon:R,switcherIcon:P,draggable:j,draggingNodeKey:l,checkable:$,checkStrictly:I,disabled:M,keyEntities:o,dropLevelOffset:d,dropContainerKey:f,dropTargetKey:h,dropPosition:v,dragOverNodeKey:p,indent:y,direction:ae,dropIndicatorRender:me,loadData:U,filterTreeNode:F,titleRender:xe,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop};return s.createElement(Bn.Provider,{value:T},s.createElement("div",{className:nt(C,N,Te,E(E(E({},"".concat(C,"-show-line"),x),"".concat(C,"-focused"),u),"".concat(C,"-active-focused"),i!==null)),style:Fe},s.createElement(xl,ot({ref:this.listRef,prefixCls:C,style:S,data:c,disabled:M,selectable:g,checkable:!!$,motion:H,dragging:l!==null,height:Q,itemHeight:Y,virtual:Ie,focusable:w,focused:u,tabIndex:K,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:ge,onScroll:Ue,scrollWidth:ve},this.getTreeNodeRequiredProps(),ne))))}}],[{key:"getDerivedStateFromProps",value:function(r,u){var c=u.prevProps,o={prevProps:r};function l(K){return!c&&r.hasOwnProperty(K)||c&&c[K]!==r[K]}var i,d=u.fieldNames;if(l("fieldNames")&&(d=dn(r.fieldNames),o.fieldNames=d),l("treeData")?i=r.treeData:l("children")&&(Ot(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),i=Ni(r.children)),i){o.treeData=i;var f=lr(i,{fieldNames:d});o.keyEntities=se(E({},Bt,hr),f.keyEntities)}var h=o.keyEntities||u.keyEntities;if(l("expandedKeys")||c&&l("autoExpandParent"))o.expandedKeys=r.autoExpandParent||!c&&r.defaultExpandParent?Ka(r.expandedKeys,h):r.expandedKeys;else if(!c&&r.defaultExpandAll){var v=se({},h);delete v[Bt];var p=[];Object.keys(v).forEach(function(K){var g=v[K];g.children&&g.children.length&&p.push(g.key)}),o.expandedKeys=p}else!c&&r.defaultExpandedKeys&&(o.expandedKeys=r.autoExpandParent||r.defaultExpandParent?Ka(r.defaultExpandedKeys,h):r.defaultExpandedKeys);if(o.expandedKeys||delete o.expandedKeys,i||o.expandedKeys){var y=Cn(i||u.treeData,o.expandedKeys||u.expandedKeys,d);o.flattenNodes=y}if(r.selectable&&(l("selectedKeys")?o.selectedKeys=Da(r.selectedKeys,r):!c&&r.defaultSelectedKeys&&(o.selectedKeys=Da(r.defaultSelectedKeys,r))),r.checkable){var m;if(l("checkedKeys")?m=xn(r.checkedKeys)||{}:!c&&r.defaultCheckedKeys?m=xn(r.defaultCheckedKeys)||{}:i&&(m=xn(r.checkedKeys)||{checkedKeys:u.checkedKeys,halfCheckedKeys:u.halfCheckedKeys}),m){var C=m,N=C.checkedKeys,S=N===void 0?[]:N,x=C.halfCheckedKeys,w=x===void 0?[]:x;if(!r.checkStrictly){var k=Yt(S,!0,h);S=k.checkedKeys,w=k.halfCheckedKeys}o.checkedKeys=S,o.halfCheckedKeys=w}}return l("loadedKeys")&&(o.loadedKeys=r.loadedKeys),o}}]),a}(s.Component);E(Gn,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:cl,allowDrop:function(){return!0},expandAction:!1});E(Gn,"TreeNode",vn);var qt={ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40};function Ia(e,t,a){var n=s.useRef({});return(!("value"in n.current)||a(n.current.condition,t))&&(n.current.value=e(),n.current.condition=t),n.current.value}var pr=s.createContext(null);function Oa(e){return s.isValidElement(e)&&!Ra.isFragment(e)}Number(s.version.split(".")[0])>=19;var Dl={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Kl=function(t,a){var n=qa(),r=n.prefixCls,u=n.multiple,c=n.searchValue,o=n.toggleOpen,l=n.open,i=n.notFoundContent,d=s.useContext(pr),f=d.virtual,h=d.listHeight,v=d.listItemHeight,p=d.listItemScrollOffset,y=d.treeData,m=d.fieldNames,C=d.onSelect,N=d.dropdownMatchSelectWidth,S=d.treeExpandAction,x=d.treeTitleRender,w=d.onPopupScroll,k=d.leftMaxCount,K=d.leafCountOnly,g=d.valueEntities,D=s.useContext(vr),R=D.checkable,P=D.checkedKeys,L=D.halfCheckedKeys,$=D.treeExpandedKeys,I=D.treeDefaultExpandAll,M=D.treeDefaultExpandedKeys,H=D.onTreeExpand,U=D.treeIcon,F=D.showTreeIcon,Q=D.switcherIcon,Y=D.treeLine,ve=D.treeNodeFilterProp,Ie=D.loadData,xe=D.treeLoadedKeys,me=D.treeMotion,ge=D.onTreeLoad,Ue=D.keyEntities,ae=s.useRef(),Te=Ia(function(){return y},[l,y],function(Z,de){return de[0]&&Z[1]!==de[1]}),Fe=s.useMemo(function(){return R?{checked:P,halfChecked:L}:null},[R,P,L]);s.useEffect(function(){if(l&&!u&&P.length){var Z;(Z=ae.current)===null||Z===void 0||Z.scrollTo({key:P[0]})}},[l]);var ne=function(de){de.preventDefault()},j=function(de,$e){var Ke=$e.node;R&&_n(Ke)||(C(Ke.key,{selected:!P.includes(Ke.key)}),u||o(!1))},T=s.useState(M),V=bt(T,2),W=V[0],_=V[1],G=s.useState(null),le=bt(G,2),ue=le[0],re=le[1],Ee=s.useMemo(function(){return $?Rt($):c?ue:W},[W,ue,$,c]),ee=function(de){_(de),re(de),H&&H(de)},Pe=String(c).toLowerCase(),he=function(de){return Pe?String(de[ve]).toLowerCase().includes(Pe):!1};s.useEffect(function(){c&&re(nl(y,m))},[c]);var ye=s.useState(function(){return new Map}),Be=bt(ye,2),_e=Be[0],ke=Be[1];s.useEffect(function(){k&&ke(new Map)},[k]);function pe(Z){var de=Z[m.value];if(!_e.has(de)){var $e=g.get(de),Ke=($e.children||[]).length===0;if(Ke)_e.set(de,!1);else{var Ve=$e.children.filter(function(Ye){return!Ye.node.disabled&&!Ye.node.disableCheckbox&&!P.includes(Ye.node[m.value])}),Qe=Ve.length;_e.set(de,Qe>k)}}return _e.get(de)}var te=Rn(function(Z){var de=Z[m.value];return P.includes(de)||k===null?!1:k<=0?!0:K&&k?pe(Z):!1}),B=function Z(de){var $e=ul(de),Ke;try{for($e.s();!(Ke=$e.n()).done;){var Ve=Ke.value;if(!(Ve.disabled||Ve.selectable===!1)){if(c){if(he(Ve))return Ve}else return Ve;if(Ve[m.children]){var Qe=Z(Ve[m.children]);if(Qe)return Qe}}}}catch(Ye){$e.e(Ye)}finally{$e.f()}return null},O=s.useState(null),He=bt(O,2),We=He[0],ze=He[1],Ne=Ue[We];s.useEffect(function(){if(l){var Z=null,de=function(){var Ke=B(Te);return Ke?Ke[m.value]:null};!u&&P.length&&!c?Z=P[0]:Z=de(),ze(Z)}},[l,c]),s.useImperativeHandle(a,function(){var Z;return{scrollTo:(Z=ae.current)===null||Z===void 0?void 0:Z.scrollTo,onKeyDown:function($e){var Ke,Ve=$e.which;switch(Ve){case qt.UP:case qt.DOWN:case qt.LEFT:case qt.RIGHT:(Ke=ae.current)===null||Ke===void 0||Ke.onKeyDown($e);break;case qt.ENTER:{if(Ne){var Qe=te(Ne.node),Ye=(Ne==null?void 0:Ne.node)||{},st=Ye.selectable,tt=Ye.value,ut=Ye.disabled;st!==!1&&!ut&&!Qe&&j(null,{node:{key:We},selected:!P.includes(tt)})}break}case qt.ESC:o(!1)}},onKeyUp:function(){}}});var Ct=Ia(function(){return!c},[c,$||W],function(Z,de){var $e=bt(Z,1),Ke=$e[0],Ve=bt(de,2),Qe=Ve[0],Ye=Ve[1];return Ke!==Qe&&!!(Qe||Ye)}),De=Ct?Ie:null;if(Te.length===0)return s.createElement("div",{role:"listbox",className:"".concat(r,"-empty"),onMouseDown:ne},i);var qe={fieldNames:m};return xe&&(qe.loadedKeys=xe),Ee&&(qe.expandedKeys=Ee),s.createElement("div",{onMouseDown:ne},Ne&&l&&s.createElement("span",{style:Dl,"aria-live":"assertive"},Ne.node.value),s.createElement(mr.Provider,{value:{nodeDisabled:te}},s.createElement(Gn,fn({ref:ae,focusable:!1,prefixCls:"".concat(r,"-tree"),treeData:Te,height:h,itemHeight:v,itemScrollOffset:p,virtual:f!==!1&&N!==!1,multiple:u,icon:U,showIcon:F,switcherIcon:Q,showLine:Y,loadData:De,motion:me,activeKey:We,checkable:R,checkStrictly:!0,checkedKeys:Fe,selectedKeys:R?[]:P,defaultExpandAll:I,titleRender:x},qe,{onActiveChange:ze,onSelect:j,onCheck:j,onExpand:ee,onLoad:ge,filterTreeNode:he,expandAction:S,onScroll:w}))))},Il=s.forwardRef(Kl),Un="SHOW_ALL",qn="SHOW_PARENT",hn="SHOW_CHILD";function Ta(e,t,a,n){var r=new Set(e);return t===hn?e.filter(function(u){var c=a[u];return!c||!c.children||!c.children.some(function(o){var l=o.node;return r.has(l[n.value])})||!c.children.every(function(o){var l=o.node;return _n(l)||r.has(l[n.value])})}):t===qn?e.filter(function(u){var c=a[u],o=c?c.parent:null;return!o||_n(o.node)||!r.has(o.key)}):e}var Ol=["id","prefixCls","value","defaultValue","onChange","onSelect","onDeselect","searchValue","inputValue","onSearch","autoClearSearchValue","filterTreeNode","treeNodeFilterProp","showCheckedStrategy","treeNodeLabelProp","multiple","treeCheckable","treeCheckStrictly","labelInValue","maxCount","fieldNames","treeDataSimpleMode","treeData","children","loadData","treeLoadedKeys","onTreeLoad","treeDefaultExpandAll","treeExpandedKeys","treeDefaultExpandedKeys","onTreeExpand","treeExpandAction","virtual","listHeight","listItemHeight","listItemScrollOffset","onDropdownVisibleChange","dropdownMatchSelectWidth","treeLine","treeIcon","showTreeIcon","switcherIcon","treeMotion","treeTitleRender","onPopupScroll"];function Tl(e){return!e||Ht(e)!=="object"}var Pl=s.forwardRef(function(e,t){var a=e.id,n=e.prefixCls,r=n===void 0?"rc-tree-select":n,u=e.value,c=e.defaultValue,o=e.onChange,l=e.onSelect,i=e.onDeselect,d=e.searchValue,f=e.inputValue,h=e.onSearch,v=e.autoClearSearchValue,p=v===void 0?!0:v,y=e.filterTreeNode,m=e.treeNodeFilterProp,C=m===void 0?"value":m,N=e.showCheckedStrategy,S=e.treeNodeLabelProp,x=e.multiple,w=e.treeCheckable,k=e.treeCheckStrictly,K=e.labelInValue,g=e.maxCount,D=e.fieldNames,R=e.treeDataSimpleMode,P=e.treeData,L=e.children,$=e.loadData,I=e.treeLoadedKeys,M=e.onTreeLoad,H=e.treeDefaultExpandAll,U=e.treeExpandedKeys,F=e.treeDefaultExpandedKeys,Q=e.onTreeExpand,Y=e.treeExpandAction,ve=e.virtual,Ie=e.listHeight,xe=Ie===void 0?200:Ie,me=e.listItemHeight,ge=me===void 0?20:me,Ue=e.listItemScrollOffset,ae=Ue===void 0?0:Ue,Te=e.onDropdownVisibleChange,Fe=e.dropdownMatchSelectWidth,ne=Fe===void 0?!0:Fe,j=e.treeLine,T=e.treeIcon,V=e.showTreeIcon,W=e.switcherIcon,_=e.treeMotion,G=e.treeTitleRender,le=e.onPopupScroll,ue=cr(e,Ol),re=ar(a),Ee=w&&!k,ee=w||k,Pe=k||K,he=ee||x,ye=ha(c,{value:u}),Be=bt(ye,2),_e=Be[0],ke=Be[1],pe=s.useMemo(function(){return w?N||hn:Un},[N,w]),te=s.useMemo(function(){return tl(D)},[JSON.stringify(D)]),B=ha("",{value:d!==void 0?d:f,postState:function(fe){return fe||""}}),O=bt(B,2),He=O[0],We=O[1],ze=function(fe){We(fe),h==null||h(fe)},Ne=sl(P,L,R),Ct=al(Ne,te),De=Ct.keyEntities,qe=Ct.valueEntities,Z=s.useCallback(function(Ce){var fe=[],oe=[];return Ce.forEach(function(Me){qe.has(Me)?oe.push(Me):fe.push(Me)}),{missingRawValues:fe,existRawValues:oe}},[qe]),de=il(Ne,He,{fieldNames:te,treeNodeFilterProp:C,filterTreeNode:y}),$e=s.useCallback(function(Ce){if(Ce){if(S)return Ce[S];for(var fe=te._title,oe=0;oe<fe.length;oe+=1){var Me=Ce[fe[oe]];if(Me!==void 0)return Me}}},[te,S]),Ke=s.useCallback(function(Ce){var fe=el(Ce);return fe.map(function(oe){return Tl(oe)?{value:oe}:oe})},[]),Ve=s.useCallback(function(Ce){var fe=Ke(Ce);return fe.map(function(oe){var Me=oe.label,vt=oe.value,Le=oe.halfChecked,je,Ae=qe.get(vt);if(Ae){var lt;Me=G?G(Ae.node):(lt=Me)!==null&&lt!==void 0?lt:$e(Ae.node),je=Ae.node.disabled}else if(Me===void 0){var xt=Ke(_e).find(function(Lt){return Lt.value===vt});Me=xt.label}return{label:Me,value:vt,halfChecked:Le,disabled:je}})},[qe,$e,Ke,_e]),Qe=s.useMemo(function(){return Ke(_e===null?[]:_e)},[Ke,_e]),Ye=s.useMemo(function(){var Ce=[],fe=[];return Qe.forEach(function(oe){oe.halfChecked?fe.push(oe):Ce.push(oe)}),[Ce,fe]},[Qe]),st=bt(Ye,2),tt=st[0],ut=st[1],Ge=s.useMemo(function(){return tt.map(function(Ce){return Ce.value})},[tt]),Gt=Zi(tt,ut,Ee,De),Nt=bt(Gt,2),A=Nt[0],X=Nt[1],z=s.useMemo(function(){var Ce=Ta(A,pe,De,te),fe=Ce.map(function(Le){var je,Ae;return(je=(Ae=De[Le])===null||Ae===void 0||(Ae=Ae.node)===null||Ae===void 0?void 0:Ae[te.value])!==null&&je!==void 0?je:Le}),oe=fe.map(function(Le){var je=tt.find(function(lt){return lt.value===Le}),Ae=K?je==null?void 0:je.label:G==null?void 0:G(je);return{value:Le,label:Ae}}),Me=Ve(oe),vt=Me[0];return!he&&vt&&pa(vt.value)&&pa(vt.label)?[]:Me.map(function(Le){var je;return mt(mt({},Le),{},{label:(je=Le.label)!==null&&je!==void 0?je:Le.value})})},[te,he,A,tt,Ve,pe,De]),q=Qi(z),be=bt(q,1),Oe=be[0],gt=s.useMemo(function(){return he&&(pe==="SHOW_CHILD"||k||!w)?g:null},[g,he,k,pe,w]),it=ya(function(Ce,fe,oe){var Me=Ta(Ce,pe,De,te);if(!(gt&&Me.length>gt)){var vt=Ve(Ce);if(ke(vt),p&&We(""),o){var Le=Ce;Ee&&(Le=Me.map(function(pt){var yt=qe.get(pt);return yt?yt.node[te.value]:pt}));var je=fe||{triggerValue:void 0,selected:void 0},Ae=je.triggerValue,lt=je.selected,xt=Le;if(k){var Lt=ut.filter(function(pt){return!Le.includes(pt.value)});xt=[].concat(Rt(xt),Rt(Lt))}var Tt=Ve(xt),kt={preValue:tt,triggerValue:Ae},Dt=!0;(k||oe==="selection"&&!lt)&&(Dt=!1),ol(kt,Ae,Ce,Ne,Dt,te),ee?kt.checked=lt:kt.selected=lt;var jt=Pe?Tt:Tt.map(function(pt){return pt.value});o(he?jt:jt[0],Pe?null:Tt.map(function(pt){return pt.label}),kt)}}}),ht=s.useCallback(function(Ce,fe){var oe,Me=fe.selected,vt=fe.source,Le=De[Ce],je=Le==null?void 0:Le.node,Ae=(oe=je==null?void 0:je[te.value])!==null&&oe!==void 0?oe:Ce;if(!he)it([Ae],{selected:!0,triggerValue:Ae},"option");else{var lt=Me?[].concat(Rt(Ge),[Ae]):A.filter(function(yt){return yt!==Ae});if(Ee){var xt=Z(lt),Lt=xt.missingRawValues,Tt=xt.existRawValues,kt=Tt.map(function(yt){return qe.get(yt).key}),Dt;if(Me){var jt=Yt(kt,!0,De);Dt=jt.checkedKeys}else{var pt=Yt(kt,{halfCheckedKeys:X},De);Dt=pt.checkedKeys}lt=[].concat(Rt(Lt),Rt(Dt.map(function(yt){return De[yt].node[te.value]})))}it(lt,{selected:Me,triggerValue:Ae},vt||"option")}Me||!he?l==null||l(Ae,jn(je)):i==null||i(Ae,jn(je))},[Z,qe,De,te,he,Ge,it,Ee,l,i,A,X,g]),Ze=s.useCallback(function(Ce){if(Te){var fe={};Object.defineProperty(fe,"documentClickClose",{get:function(){return Wt(!1,"Second param of `onDropdownVisibleChange` has been removed."),!1}}),Te(Ce,fe)}},[Te]),St=ya(function(Ce,fe){var oe=Ce.map(function(Me){return Me.value});if(fe.type==="clear"){it(oe,{},"selection");return}fe.values.length&&ht(fe.values[0].value,{selected:!1,source:"selection"})}),_t=s.useMemo(function(){return{virtual:ve,dropdownMatchSelectWidth:ne,listHeight:xe,listItemHeight:ge,listItemScrollOffset:ae,treeData:de,fieldNames:te,onSelect:ht,treeExpandAction:Y,treeTitleRender:G,onPopupScroll:le,leftMaxCount:g===void 0?null:g-Oe.length,leafCountOnly:pe==="SHOW_CHILD"&&!k&&!!w,valueEntities:qe}},[ve,ne,xe,ge,ae,de,te,ht,Y,G,le,g,Oe.length,pe,k,w,qe]),Jt=s.useMemo(function(){return{checkable:ee,loadData:$,treeLoadedKeys:I,onTreeLoad:M,checkedKeys:A,halfCheckedKeys:X,treeDefaultExpandAll:H,treeExpandedKeys:U,treeDefaultExpandedKeys:F,onTreeExpand:Q,treeIcon:T,treeMotion:_,showTreeIcon:V,switcherIcon:W,treeLine:j,treeNodeFilterProp:C,keyEntities:De}},[ee,$,I,M,A,X,H,U,F,Q,T,_,V,W,j,C,De]);return s.createElement(pr.Provider,{value:_t},s.createElement(vr.Provider,{value:Jt},s.createElement(er,fn({ref:t},ue,{id:re,prefixCls:r,mode:he?"multiple":void 0,displayValues:Oe,onDisplayValuesChange:St,searchValue:He,onSearch:ze,OptionList:Il,emptyOptions:!Ne.length,onDropdownVisibleChange:Ze,dropdownMatchSelectWidth:ne}))))}),an=Pl;an.TreeNode=Wn;an.SHOW_ALL=Un;an.SHOW_PARENT=qn;an.SHOW_CHILD=hn;const Rl=e=>{const{componentCls:t,treePrefixCls:a,colorBgElevated:n}=e,r=`.${a}`;return[{[`${t}-dropdown`]:[{padding:`${Xn(e.paddingXS)} ${Xn(e.calc(e.paddingXS).div(2).equal())}`},Po(a,Ma(e,{colorBgContainer:n})),{[r]:{borderRadius:0,[`${r}-list-holder-inner`]:{alignItems:"stretch",[`${r}-treenode`]:{[`${r}-node-content-wrapper`]:{flex:"auto"}}}}},yo(`${a}-checkbox`,e),{"&-rtl":{direction:"rtl",[`${r}-switcher${r}-switcher_close`]:{[`${r}-switcher-icon svg`]:{transform:"rotate(90deg)"}}}}]}]};function Ml(e,t,a){return Rr("TreeSelect",n=>{const r=Ma(n,{treePrefixCls:t});return[Rl(r)]},To)(e,a)}var _l=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]]);return a};const Ll=(e,t)=>{var a;const{prefixCls:n,size:r,disabled:u,bordered:c=!0,className:o,rootClassName:l,treeCheckable:i,multiple:d,listHeight:f=256,listItemHeight:h,placement:v,notFoundContent:p,switcherIcon:y,treeLine:m,getPopupContainer:C,popupClassName:N,dropdownClassName:S,treeIcon:x=!1,transitionName:w,choiceTransitionName:k="",status:K,treeExpandAction:g,builtinPlacements:D,dropdownMatchSelectWidth:R,popupMatchSelectWidth:P,allowClear:L,variant:$,dropdownStyle:I,tagRender:M,maxCount:H,showCheckedStrategy:U,treeCheckStrictly:F}=e,Q=_l(e,["prefixCls","size","disabled","bordered","className","rootClassName","treeCheckable","multiple","listHeight","listItemHeight","placement","notFoundContent","switcherIcon","treeLine","getPopupContainer","popupClassName","dropdownClassName","treeIcon","transitionName","choiceTransitionName","status","treeExpandAction","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","allowClear","variant","dropdownStyle","tagRender","maxCount","showCheckedStrategy","treeCheckStrictly"]),{getPopupContainer:Y,getPrefixCls:ve,renderEmpty:Ie,direction:xe,virtual:me,popupMatchSelectWidth:ge,popupOverflow:Ue}=s.useContext(Mr),[,ae]=_r(),Te=h??(ae==null?void 0:ae.controlHeightSM)+(ae==null?void 0:ae.paddingXXS),Fe=ve(),ne=ve("select",n),j=ve("select-tree",n),T=ve("tree-select",n),{compactSize:V,compactItemClassnames:W}=Lr(ne,xe),_=Jn(ne),G=Jn(T),[le,ue,re]=Eo(ne,_),[Ee]=Ml(T,j,G),[ee,Pe]=jr("treeSelect",$,c),he=Qn(N||S,`${T}-dropdown`,{[`${T}-dropdown-rtl`]:xe==="rtl"},l,re,_,G,ue),ye=!!(i||d),Be=s.useMemo(()=>{if(!(H&&(U==="SHOW_ALL"&&!F||U==="SHOW_PARENT")))return H},[H,U,F]),_e=No(e.suffixIcon,e.showArrow),ke=(a=P??R)!==null&&a!==void 0?a:ge,{status:pe,hasFeedback:te,isFormItemInput:B,feedbackIcon:O}=s.useContext(Ar),He=Wr(pe,K),{suffixIcon:We,removeIcon:ze,clearIcon:Ne}=ko(Object.assign(Object.assign({},Q),{multiple:ye,showSuffixIcon:_e,hasFeedback:te,feedbackIcon:O,prefixCls:ne,componentName:"TreeSelect"})),Ct=L===!0?{clearIcon:Ne}:L;let De;p!==void 0?De=p:De=(Ie==null?void 0:Ie("Select"))||s.createElement(Do,{componentName:"Select"});const qe=_a(Q,["suffixIcon","removeIcon","clearIcon","itemIcon","switcherIcon"]),Z=s.useMemo(()=>v!==void 0?v:xe==="rtl"?"bottomRight":"bottomLeft",[v,xe]),de=$r(tt=>{var ut;return(ut=r??V)!==null&&ut!==void 0?ut:tt}),$e=s.useContext(Vr),Ke=u??$e,Ve=Qn(!n&&T,{[`${ne}-lg`]:de==="large",[`${ne}-sm`]:de==="small",[`${ne}-rtl`]:xe==="rtl",[`${ne}-${ee}`]:Pe,[`${ne}-in-form-item`]:B},Fr(ne,He,te),W,o,l,re,_,G,ue),Qe=tt=>s.createElement(Ro,{prefixCls:j,switcherIcon:y,treeNodeProps:tt,showLine:m}),[Ye]=Hr("SelectLike",I==null?void 0:I.zIndex),st=s.createElement(an,Object.assign({virtual:me,disabled:Ke},qe,{dropdownMatchSelectWidth:ke,builtinPlacements:Ko(D,Ue),ref:t,prefixCls:ne,className:Ve,listHeight:f,listItemHeight:Te,treeCheckable:i&&s.createElement("span",{className:`${ne}-tree-checkbox-inner`}),treeLine:!!m,suffixIcon:We,multiple:ye,placement:Z,removeIcon:ze,allowClear:Ct,switcherIcon:Qe,showTreeIcon:x,notFoundContent:De,getPopupContainer:C||Y,treeMotion:null,dropdownClassName:he,dropdownStyle:Object.assign(Object.assign({},I),{zIndex:Ye}),choiceTransitionName:Zn(Fe,"",k),transitionName:Zn(Fe,"slide-up",w),treeExpandAction:g,tagRender:ye?M:void 0,maxCount:Be,showCheckedStrategy:U,treeCheckStrictly:F}));return le(Ee(st))},jl=s.forwardRef(Ll),Mt=jl,Al=Oo(Mt,"dropdownAlign",e=>_a(e,["visible"]));Mt.TreeNode=Wn;Mt.SHOW_ALL=Un;Mt.SHOW_PARENT=qn;Mt.SHOW_CHILD=hn;Mt._InternalPanelDoNotUseOrYouWillBeFired=Al;function $n(){return $n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},$n.apply(this,arguments)}const $l=(e,t)=>s.createElement(La,$n({},e,{ref:t,icon:Oi})),Vl=s.forwardRef($l);function Vn(){return Vn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Vn.apply(this,arguments)}const Fl=(e,t)=>s.createElement(La,Vn({},e,{ref:t,icon:Ti})),Hl=s.forwardRef(Fl);function Wl(){const{notification:e}=ja.useApp(),{currentUser:t}=Br(),[a,n]=s.useState(!1),[r,u]=s.useState({gameId:"",gameName:""}),c=ho({mutationKey:["oldState",r.gameId],mutationFn:async({prevGameId:l,payload:i})=>{const f=(await zr.run({action:Gr.LOAD_GAME,gameId:l})).data;return await Aa.run({gameId:l,gameName:(f==null?void 0:f.gameName)??"",playerId:t.id,action:$a.FORCE_STATE_PROPERTY,state:i})},onSuccess:async()=>{e.success({message:"Redirect successfully triggered"})},onError:l=>{console.error(l),e.error({message:"Failed to load previous game to continue the redirect",description:JSON.stringify(l.message)})}}),o=async(l,i,d)=>{if(a){e.error({message:"Redirect has failed to trigger"});return}u({gameId:i,gameName:d}),await c.mutateAsync({prevGameId:l,gameName:d,payload:{redirect:{redirectAt:Date.now(),gameId:i,gameName:d}}}),n(!0)};return{isSettingRedirect:c.isPending,startRedirect:o,wasRedirectSuccessful:c.isSuccess}}function Bl({options:e=[],disabled:t,onChangeOptions:a,selectedOptions:n}){return!e||e.length===0?b.jsx("div",{className:"create-game-modal-options create-game-modal-options__no-options",children:b.jsx(Ft.Text,{children:b.jsx(at,{pt:"Este jogo não possui customizações",en:"This game does not support customizations"})})}):b.jsxs("div",{className:"create-game-modal-options",children:[b.jsx(Ft.Title,{level:5,className:"create-game-modal-options__title",children:b.jsx(at,{pt:"Opções:",en:"Options:"})}),b.jsx("div",{className:"create-game-modal-options__list",children:(e??[]).map(r=>b.jsxs(Ft.Paragraph,{className:En("create-game-modal-options__option",r.disabled&&"create-game-modal-options__option--disabled"),children:[b.jsxs("div",{className:"create-game-modal-options__label",children:[b.jsx("span",{children:r.label}),r.kind!=="switch"&&!!r.description&&b.jsx("div",{className:"create-game-modal-options__option-description",children:r.description})]}),r.kind==="switch"&&b.jsx(zl,{option:r,disabled:t,onChangeOptions:a,selectedOptions:n}),r.kind==="radio"&&b.jsx(Gl,{option:r,disabled:t,onChangeOptions:a,selectedOptions:n}),r.kind==="checkbox"&&b.jsx(Ul,{option:r,disabled:t,onChangeOptions:a,selectedOptions:n}),r.kind==="switch"&&!!r.description&&b.jsx("span",{className:"create-game-modal-options__option-description",children:r.description})]},`option-${r.label}`))})]})}function zl({option:e,disabled:t,onChangeOptions:a,selectedOptions:n}){return b.jsxs(b.Fragment,{children:[b.jsx("span",{className:En("create-game-modal-options__off",!n[e.key]&&"create-game-modal-options--selected"),children:(e==null?void 0:e.values[0].label)??""}),b.jsx(Ur,{disabled:t||e.disabled,onChange:r=>a(e.key,r)}),b.jsx("span",{className:En("create-game-modal-options__on",n[e.key]&&"create-game-modal-options--selected"),children:(e==null?void 0:e.values[1].label)??""})]})}function Gl({option:e,disabled:t,onChangeOptions:a}){return b.jsx(na.Group,{disabled:t||e.disabled,onChange:n=>a(e.key,n.target.value),defaultValue:e.values[0].value,className:"create-game-modal-options__selections",children:e.values.map(n=>b.jsx(na,{value:n.value,children:n.label},String(n.value)))})}function Ul({option:e,disabled:t,onChangeOptions:a}){return b.jsx(bo.Group,{disabled:t||e.disabled,onChange:n=>a(e.key,n),className:"create-game-modal-options__selections",options:e.values})}const ql=(e,t)=>{const a=Date.now(),n=a-1e3*60*60*24;return{...Object.entries(e??{}).reduce((u,[c,o])=>(o>n&&(u[c]=o),u),{}),[t]:a}},Yl=e=>{const t=Object.entries(e).map(([u,c])=>({gameId:u,createdAt:c}));if(t.length<2)return null;const a=tn.orderBy(t,"createdAt","desc"),n=2*60*60*1e3,r=Date.now();return a[1].createdAt-r>n?null:a[1].gameId},Xl=e=>(e==null?void 0:e.reduce((t,a)=>(a.kind==="switch"&&(t[a.key]=!1),a.kind==="radio"&&(t[a.key]=a.values[0].value),a.kind==="checkbox"&&(t[a.key]=[]),t),{}))??{};function Jl({gameInfo:e}){const[t,a]=s.useState(!1);return b.jsxs(b.Fragment,{children:[b.jsx(Nn,{type:"primary",onClick:()=>a(!0),block:!0,disabled:!e.available,children:b.jsx(at,{pt:"Criar",en:"Create"})}),t&&b.jsx(Ql,{gameInfo:e,open:t,setOpen:a})]})}function Ql({gameInfo:e,open:t,setOpen:a}){const{message:n,notification:r}=ja.useApp(),u=qr(),{pathname:c}=Yr(),[o,l]=Co(),{language:i,translate:d}=mn(),{setLoader:f}=Xr(),[h,v]=s.useState(!1),[p,y]=s.useState(null),[,m]=Qt("userId"),[,C]=Qt("username"),[,N]=Qt("userAvatarId"),[S,x]=s.useState(Xl(e.options)),[w,k]=Jr("latestGameIds"),K=Yl(w),{startRedirect:g,isSettingRedirect:D,wasRedirectSuccessful:R}=Wl();s.useEffect(()=>{o.value&&p&&n.info(`Copied to clipboard: ${o.value}`)},[o,p,n]);const P=(I,M)=>{x(H=>({...H,[I]:M}))},L=async()=>{try{f("create",!0),v(!0);const I=await Aa.run({action:$a.CREATE_GAME,gameName:e.gameName,language:i,options:S,version:e.version});if(I.data.gameId){y(I.data.gameId),m(null),C(""),N(""),k(ql(w,I.data.gameId));const M=window.location.href.split(c)[0];l(`${M}/${I.data.gameId}`)}}catch(I){r.error({message:d("Aplicativo encontrou um erro ao tentar criar o jogo","The application found an error while trying to create a game",i),description:JSON.stringify(I.message),placement:"bottomLeft"}),console.error(I),a(!1)}finally{v(!1),f("create",!1)}},$=async()=>{p?u(`/${p}`):n.info(d("Péra! O jogo ainda não foi inicializado.","Wait! The game has not been created"))};return b.jsx(So,{title:`${d("Criando novo jogo","Creating new game")}: ${e.title[i]}`,open:t,onCancel:()=>a(!1),onOk:$,okButtonProps:{disabled:!p||D},maskClosable:!1,children:b.jsxs(b.Fragment,{children:[b.jsx(Va,{alt:e.title[i],src:`${un.BANNERS}${e.gameName}-${i}.jpg`,fallback:`${un.BANNERS}/em-breve-${i}.jpg`,className:"round-corners"}),!p&&b.jsxs(yn,{children:[b.jsx(at,{pt:"Você está criando um jogo em:",en:"You are creating a game in:"})," ",b.jsx(Fa,{})]}),b.jsx(Bl,{options:e.options,disabled:h||!!p,onChangeOptions:P,selectedOptions:S}),b.jsx(cn,{}),h&&b.jsxs(b.Fragment,{children:[b.jsx(yn,{children:b.jsx(at,{pt:"O jogo está sendo criado...",en:"The game session is being created"})}),b.jsx(po,{message:d("Gerando...","Generating..."),margin:!0})]}),e.version.startsWith("alpha")&&b.jsx(ln,{type:"warning",showIcon:!0,message:b.jsx(at,{pt:"Este jogo está em alpha, não o jogue",en:"This game is still in alpha and shouldn't be played"})}),e.version.startsWith("beta")&&b.jsx(ln,{type:"warning",showIcon:!0,message:b.jsx(at,{pt:"Este jogo está em beta, prossiga com cuidado",en:"This game is in beta and bugs might be everywhere"})}),p?b.jsxs("div",{children:[b.jsxs(Qr,{className:"center",children:[b.jsx(at,{pt:"Jogo inicializado",en:"Game Initialized"}),": ",p]}),b.jsxs(yn,{children:[K&&!R&&b.jsx(ln,{type:"info",showIcon:!0,message:b.jsxs(b.Fragment,{children:[b.jsx(at,{pt:b.jsxs(b.Fragment,{children:["Você quer redirecionar jogadores em ",K," para essa nova partida?"]}),en:b.jsxs(b.Fragment,{children:["Redirect players in ",K," to this new play?"]})}),b.jsx(Nn,{size:"large",onClick:()=>{g(K??"",p??"",e.gameName)},disabled:!p||!K,loading:D,children:b.jsx(at,{pt:"Redirecione-os",en:"Redirect them"})})]})}),R&&b.jsx(ln,{type:"info",showIcon:!0,message:b.jsx(at,{pt:b.jsxs(b.Fragment,{children:["Jogadores em ",K," foram convidados para o jogo ",p]}),en:b.jsxs(b.Fragment,{children:["Players in ",K," have been invited to ",p]})})})]})]}):b.jsx(Zr,{align:"center",children:b.jsx(Nn,{type:"primary",size:"large",disabled:h,onClick:L,children:b.jsx(at,{pt:"Criar Jogo",en:"Create Game"})})})]})})}const Zl=e=>{if(e.includes("dev"))return"#6cb3f6";if(e.includes("alpha"))return"#F97659";if(e.includes("beta"))return"#F9D859";const t=Number(e.split(".")[0]);return Number.isNaN(t)?"#96A0A3":t===0?"#F9D859":t===1?"#72D984":t===2||t>=3?"#7CBD51":"#96A0A3"};function es({game:e,isAdmin:t=!0}){var u,c;const{language:a,translate:n}=mn(),r=Ha(e);return b.jsxs(Vt,{className:"game-card",cover:b.jsx(xo.Ribbon,{text:e.version,color:Zl(e.version),children:b.jsx(Va,{alt:e.title[a],src:`${un.BANNERS}${e.gameName}-${a}.jpg`,fallback:`${un.BANNERS}/em-breve-${a}.jpg`})}),children:[b.jsx("div",{className:"game-card__contents",children:b.jsxs(kn,{direction:"vertical",className:"full-width",children:[b.jsx(Vt.Meta,{title:b.jsxs("span",{className:"game-card__title",title:e.title[a],children:[e.title[a]," ",b.jsx("span",{children:b.jsx(eo,{title:n("Código do jogo começará com","The game id will start with"),children:b.jsx(vo,{children:e.gameCode})})})]}),description:`${n("Baseado em","Based on")} ${e.basedOn.split("").reverse().join("")}`}),b.jsx(Vt.Meta,{className:"game-card__description",description:e.summary[a]}),((c=(u=e.rules)==null?void 0:u[a])==null?void 0:c.length)>1&&b.jsx(mo,{gameInfo:e,buttonProps:{size:"small",className:"game-card__margin-bottom"}}),b.jsx(go,{wrap:!0,size:[1,6],style:{display:"flex"},gameCode:e.gameCode,tags:e.tags})]})}),b.jsxs("div",{className:"game-card__actions",children:[e.duration&&b.jsx(Vt.Meta,{description:b.jsxs(b.Fragment,{children:[b.jsx(co,{})," ",r.min," min - ",r.max," min (Avg: ",r.ideal," min)"]})}),b.jsx(cn,{className:"game-card__divider"}),b.jsxs(kn,{direction:"vertical",children:[b.jsx(Vt.Meta,{description:n(`Para ${e.playerCount.min}-${e.playerCount.max} jogadores`,`For ${e.playerCount.min}-${e.playerCount.max} players`)}),b.jsx(Vt.Meta,{className:"game-card__player-count",description:n(`Melhor com ${e.playerCount.best||"?"} jogadores`,`Best wih ${e.playerCount.best||"?"} players`)}),b.jsx(Vt.Meta,{className:"game-card__player-count game-card__margin-bottom",description:n(`Recomendado jogar com ${ea(e.playerCount.recommended)}`,`Recommended with ${ea(e.playerCount.recommended)}`)})]}),t&&b.jsx("div",{style:{marginTop:"1rem"},children:["dev","beta","stable"].includes(e.release)&&b.jsx(Jl,{gameInfo:e})})]})]},e.gameName)}function ts(){wo();const[e,t]=s.useState(!1);return Qt("usingFirestoreEmulator"),Qt("usingFunctionsEmulator"),to(()=>{}),b.jsx(b.Fragment,{})}const{SHOW_PARENT:ns}=Mt;function as({availabilityCount:e,setTagFilters:t,setNumberFilters:a}){const n=(u,c)=>{a(o=>({...o,[u]:c}))},r=u=>{n("recommendedWith",+(u==="recommended")),n("bestWith",+(u==="best"))};return b.jsxs(kn,{className:"hub-filters",wrap:!0,size:"middle",children:[b.jsxs("span",{children:[b.jsx(Hl,{})," (",e,")"]}),b.jsxs(sn,{defaultValue:"",style:{minWidth:"20ch"},size:"small",onChange:r,children:[b.jsx(sn.Option,{value:"",children:"Playing with"}),b.jsx(sn.Option,{value:"recommended",children:"Recommended with"}),b.jsx(sn.Option,{value:"best",children:"Best with"})]}),b.jsxs("div",{className:"hub-filters__entry",children:[b.jsx("label",{htmlFor:"players-input",children:"Players"}),b.jsx(aa,{id:"players-input",min:2,max:12,size:"small",className:"hub-filters__input-number",onChange:u=>n("players",u??0)})]}),b.jsxs("div",{className:"hub-filters__entry",children:[b.jsx("label",{htmlFor:"duration",children:"Duration"}),b.jsx(aa,{id:"duration",min:15,step:15,size:"small",className:"hub-filters__input-number",onChange:u=>n("duration",u??0)})]}),b.jsxs("div",{className:"hub-filters__entry",children:[b.jsx("label",{htmlFor:"tags",children:"Tags"}),b.jsx(rs,{value:void 0,onTreeSelectChange:t})]})]})}function rs({value:e,onTreeSelectChange:t}){const{dualTranslate:a}=mn(),n=u=>{t(u)},r=s.useMemo(()=>Object.values(Object.keys(ta).reduce((u,c)=>{const o=ta[c];return u[o.group]===void 0&&(u[o.group]={title:tn.capitalize(o.group),value:o.group,children:[]}),u[o.group].children.push({title:tn.capitalize(a(o.label)),value:`${o.group}${Wa}${c}`}),u},{})),[a]);return b.jsx(Mt,{treeData:r,value:e,onChange:n,treeCheckable:!0,showCheckedStrategy:ns,placeholder:"Select Game Tags",size:"small",style:{width:"100%",minWidth:"400px"}})}tn.orderBy(Object.entries(Object.values(Ba).reduce((e,t)=>(e[t.gameCode]===void 0&&(e[t.gameCode]=0),e[t.gameCode]++,e),{})).map(([e,t])=>`${e}: ${t}`));function _s(){no("Hub - Tarde Divertida");const{language:e}=mn(),[t,a]=s.useState([]),[n,r]=s.useState({}),u=s.useMemo(()=>Object.values(Ba).filter(i=>{const d=[];if(n.players&&(d.push(i.playerCount.min<=n.players&&i.playerCount.max>=n.players),n.bestWith&&d.push(n.players===i.playerCount.best),n.recommendedWith&&d.push(i.playerCount.recommended.includes(n.players))),t.forEach(f=>{var p;const[h,v]=f.split(Wa);(h&&v&&((p=ao)==null?void 0:p[h])==="exclusive"||v)&&d.push(i.tags.includes(v))}),n.duration){const f=Ha(i,n.players??0);n.players?d.push(n.duration>=f.customTime-10&&n.duration<=f.customTime+10):d.push(n.duration>=f.min&&n.duration<=f.max)}return d.every(Boolean)}),[t,n]),{availableGames:c,comingSoonGames:o,devGames:l}=s.useMemo(()=>tn.orderBy(u,[`title.[${e}]`],["asc"]).reduce((d,f)=>(["stable"].includes(f.release)?d.availableGames.push(f):["dev","beta"].includes(f.release)?d.devGames.push(f):d.comingSoonGames.push(f),d),{availableGames:[],devGames:[],comingSoonGames:[]}),[u,e]);return b.jsxs(ro,{className:"dev-layout",children:[b.jsx(uo,{title:b.jsxs(b.Fragment,{children:[b.jsx(Vl,{})," Hub"]}),subTitle:b.jsx(at,{pt:"Selecione um jogo para começar",en:"Select a game to start"}),extra:[b.jsx(Fa,{},"language-switch"),b.jsx(fo,{danger:!0,ghost:!0,size:"small"},"logout-button")]}),b.jsx(ts,{}),b.jsx(as,{setTagFilters:a,setNumberFilters:r,availabilityCount:c.length}),b.jsxs(oo.Content,{className:"container",id:"main-container",children:[io,b.jsx(Ft.Title,{level:2,children:b.jsx(at,{pt:"Disponíveis",en:"Available"})}),b.jsx(wn,{games:c}),b.jsx(cn,{}),b.jsxs(b.Fragment,{children:[b.jsx(Ft.Title,{level:2,children:b.jsx(at,{pt:"Em Desenvolvimento",en:"Under Development"})}),b.jsx(wn,{games:l}),b.jsx(cn,{})]}),b.jsx(Ft.Title,{level:2,children:b.jsx(at,{pt:"Em Breve",en:"Coming Soon"})}),b.jsx(wn,{games:o})]})]})}function wn({games:e}){return e.length===0?b.jsx(Ft.Text,{type:"secondary",children:b.jsx(at,{pt:"Nenhum jogo encontrado nessa categoria",en:"No games found in this category"})}):b.jsx(lo,{gutter:[8,16],children:e.map(t=>b.jsx(so,{xs:24,sm:12,md:8,lg:8,xl:6,xxl:4,children:b.jsx(es,{game:t,isAdmin:["dev","beta","stable"].includes(t.release)})},t.gameName))})}export{_s as default};
